/*! jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function (a, b) {
  'object' == typeof module && 'object' == typeof module.exports ? module.exports = a.document ? b(a, !0) : function (a) {
    if (!a.document)
      throw new Error('jQuery requires a window with a document');
    return b(a);
  } : b(a);
}('undefined' != typeof window ? window : this, function (a, b) {
  var c = [], d = c.slice, e = c.concat, f = c.push, g = c.indexOf, h = {}, i = h.toString, j = h.hasOwnProperty, k = {}, l = '1.11.1', m = function (a, b) {
      return new m.fn.init(a, b);
    }, n = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, o = /^-ms-/, p = /-([\da-z])/gi, q = function (a, b) {
      return b.toUpperCase();
    };
  m.fn = m.prototype = {
    jquery: l,
    constructor: m,
    selector: '',
    length: 0,
    toArray: function () {
      return d.call(this);
    },
    get: function (a) {
      return null != a ? 0 > a ? this[a + this.length] : this[a] : d.call(this);
    },
    pushStack: function (a) {
      var b = m.merge(this.constructor(), a);
      return b.prevObject = this, b.context = this.context, b;
    },
    each: function (a, b) {
      return m.each(this, a, b);
    },
    map: function (a) {
      return this.pushStack(m.map(this, function (b, c) {
        return a.call(b, c, b);
      }));
    },
    slice: function () {
      return this.pushStack(d.apply(this, arguments));
    },
    first: function () {
      return this.eq(0);
    },
    last: function () {
      return this.eq(-1);
    },
    eq: function (a) {
      var b = this.length, c = +a + (0 > a ? b : 0);
      return this.pushStack(c >= 0 && b > c ? [this[c]] : []);
    },
    end: function () {
      return this.prevObject || this.constructor(null);
    },
    push: f,
    sort: c.sort,
    splice: c.splice
  }, m.extend = m.fn.extend = function () {
    var a, b, c, d, e, f, g = arguments[0] || {}, h = 1, i = arguments.length, j = !1;
    for ('boolean' == typeof g && (j = g, g = arguments[h] || {}, h++), 'object' == typeof g || m.isFunction(g) || (g = {}), h === i && (g = this, h--); i > h; h++)
      if (null != (e = arguments[h]))
        for (d in e)
          a = g[d], c = e[d], g !== c && (j && c && (m.isPlainObject(c) || (b = m.isArray(c))) ? (b ? (b = !1, f = a && m.isArray(a) ? a : []) : f = a && m.isPlainObject(a) ? a : {}, g[d] = m.extend(j, f, c)) : void 0 !== c && (g[d] = c));
    return g;
  }, m.extend({
    expando: 'jQuery' + (l + Math.random()).replace(/\D/g, ''),
    isReady: !0,
    error: function (a) {
      throw new Error(a);
    },
    noop: function () {
    },
    isFunction: function (a) {
      return 'function' === m.type(a);
    },
    isArray: Array.isArray || function (a) {
      return 'array' === m.type(a);
    },
    isWindow: function (a) {
      return null != a && a == a.window;
    },
    isNumeric: function (a) {
      return !m.isArray(a) && a - parseFloat(a) >= 0;
    },
    isEmptyObject: function (a) {
      var b;
      for (b in a)
        return !1;
      return !0;
    },
    isPlainObject: function (a) {
      var b;
      if (!a || 'object' !== m.type(a) || a.nodeType || m.isWindow(a))
        return !1;
      try {
        if (a.constructor && !j.call(a, 'constructor') && !j.call(a.constructor.prototype, 'isPrototypeOf'))
          return !1;
      } catch (c) {
        return !1;
      }
      if (k.ownLast)
        for (b in a)
          return j.call(a, b);
      for (b in a);
      return void 0 === b || j.call(a, b);
    },
    type: function (a) {
      return null == a ? a + '' : 'object' == typeof a || 'function' == typeof a ? h[i.call(a)] || 'object' : typeof a;
    },
    globalEval: function (b) {
      b && m.trim(b) && (a.execScript || function (b) {
        a.eval.call(a, b);
      })(b);
    },
    camelCase: function (a) {
      return a.replace(o, 'ms-').replace(p, q);
    },
    nodeName: function (a, b) {
      return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase();
    },
    each: function (a, b, c) {
      var d, e = 0, f = a.length, g = r(a);
      if (c) {
        if (g) {
          for (; f > e; e++)
            if (d = b.apply(a[e], c), d === !1)
              break;
        } else
          for (e in a)
            if (d = b.apply(a[e], c), d === !1)
              break;
      } else if (g) {
        for (; f > e; e++)
          if (d = b.call(a[e], e, a[e]), d === !1)
            break;
      } else
        for (e in a)
          if (d = b.call(a[e], e, a[e]), d === !1)
            break;
      return a;
    },
    trim: function (a) {
      return null == a ? '' : (a + '').replace(n, '');
    },
    makeArray: function (a, b) {
      var c = b || [];
      return null != a && (r(Object(a)) ? m.merge(c, 'string' == typeof a ? [a] : a) : f.call(c, a)), c;
    },
    inArray: function (a, b, c) {
      var d;
      if (b) {
        if (g)
          return g.call(b, a, c);
        for (d = b.length, c = c ? 0 > c ? Math.max(0, d + c) : c : 0; d > c; c++)
          if (c in b && b[c] === a)
            return c;
      }
      return -1;
    },
    merge: function (a, b) {
      var c = +b.length, d = 0, e = a.length;
      while (c > d)
        a[e++] = b[d++];
      if (c !== c)
        while (void 0 !== b[d])
          a[e++] = b[d++];
      return a.length = e, a;
    },
    grep: function (a, b, c) {
      for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++)
        d = !b(a[f], f), d !== h && e.push(a[f]);
      return e;
    },
    map: function (a, b, c) {
      var d, f = 0, g = a.length, h = r(a), i = [];
      if (h)
        for (; g > f; f++)
          d = b(a[f], f, c), null != d && i.push(d);
      else
        for (f in a)
          d = b(a[f], f, c), null != d && i.push(d);
      return e.apply([], i);
    },
    guid: 1,
    proxy: function (a, b) {
      var c, e, f;
      return 'string' == typeof b && (f = a[b], b = a, a = f), m.isFunction(a) ? (c = d.call(arguments, 2), e = function () {
        return a.apply(b || this, c.concat(d.call(arguments)));
      }, e.guid = a.guid = a.guid || m.guid++, e) : void 0;
    },
    now: function () {
      return +new Date();
    },
    support: k
  }), m.each('Boolean Number String Function Array Date RegExp Object Error'.split(' '), function (a, b) {
    h['[object ' + b + ']'] = b.toLowerCase();
  });
  function r(a) {
    var b = a.length, c = m.type(a);
    return 'function' === c || m.isWindow(a) ? !1 : 1 === a.nodeType && b ? !0 : 'array' === c || 0 === b || 'number' == typeof b && b > 0 && b - 1 in a;
  }
  var s = function (a) {
      var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u = 'sizzle' + -new Date(), v = a.document, w = 0, x = 0, y = gb(), z = gb(), A = gb(), B = function (a, b) {
          return a === b && (l = !0), 0;
        }, C = 'undefined', D = 1 << 31, E = {}.hasOwnProperty, F = [], G = F.pop, H = F.push, I = F.push, J = F.slice, K = F.indexOf || function (a) {
          for (var b = 0, c = this.length; c > b; b++)
            if (this[b] === a)
              return b;
          return -1;
        }, L = 'checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped', M = '[\\x20\\t\\r\\n\\f]', N = '(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+', O = N.replace('w', 'w#'), P = '\\[' + M + '*(' + N + ')(?:' + M + '*([*^$|!~]?=)' + M + '*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|(' + O + '))|)' + M + '*\\]', Q = ':(' + N + ')(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|' + P + ')*)|.*)\\)|)', R = new RegExp('^' + M + '+|((?:^|[^\\\\])(?:\\\\.)*)' + M + '+$', 'g'), S = new RegExp('^' + M + '*,' + M + '*'), T = new RegExp('^' + M + '*([>+~]|' + M + ')' + M + '*'), U = new RegExp('=' + M + '*([^\\]\'"]*?)' + M + '*\\]', 'g'), V = new RegExp(Q), W = new RegExp('^' + O + '$'), X = {
          ID: new RegExp('^#(' + N + ')'),
          CLASS: new RegExp('^\\.(' + N + ')'),
          TAG: new RegExp('^(' + N.replace('w', 'w*') + ')'),
          ATTR: new RegExp('^' + P),
          PSEUDO: new RegExp('^' + Q),
          CHILD: new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(' + M + '*(even|odd|(([+-]|)(\\d*)n|)' + M + '*(?:([+-]|)' + M + '*(\\d+)|))' + M + '*\\)|)', 'i'),
          bool: new RegExp('^(?:' + L + ')$', 'i'),
          needsContext: new RegExp('^' + M + '*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(' + M + '*((?:-\\d)?\\d*)' + M + '*\\)|)(?=[^-]|$)', 'i')
        }, Y = /^(?:input|select|textarea|button)$/i, Z = /^h\d$/i, $ = /^[^{]+\{\s*\[native \w/, _ = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, ab = /[+~]/, bb = /'|\\/g, cb = new RegExp('\\\\([\\da-f]{1,6}' + M + '?|(' + M + ')|.)', 'ig'), db = function (a, b, c) {
          var d = '0x' + b - 65536;
          return d !== d || c ? b : 0 > d ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320);
        };
      try {
        I.apply(F = J.call(v.childNodes), v.childNodes), F[v.childNodes.length].nodeType;
      } catch (eb) {
        I = {
          apply: F.length ? function (a, b) {
            H.apply(a, J.call(b));
          } : function (a, b) {
            var c = a.length, d = 0;
            while (a[c++] = b[d++]);
            a.length = c - 1;
          }
        };
      }
      function fb(a, b, d, e) {
        var f, h, j, k, l, o, r, s, w, x;
        if ((b ? b.ownerDocument || b : v) !== n && m(b), b = b || n, d = d || [], !a || 'string' != typeof a)
          return d;
        if (1 !== (k = b.nodeType) && 9 !== k)
          return [];
        if (p && !e) {
          if (f = _.exec(a))
            if (j = f[1]) {
              if (9 === k) {
                if (h = b.getElementById(j), !h || !h.parentNode)
                  return d;
                if (h.id === j)
                  return d.push(h), d;
              } else if (b.ownerDocument && (h = b.ownerDocument.getElementById(j)) && t(b, h) && h.id === j)
                return d.push(h), d;
            } else {
              if (f[2])
                return I.apply(d, b.getElementsByTagName(a)), d;
              if ((j = f[3]) && c.getElementsByClassName && b.getElementsByClassName)
                return I.apply(d, b.getElementsByClassName(j)), d;
            }
          if (c.qsa && (!q || !q.test(a))) {
            if (s = r = u, w = b, x = 9 === k && a, 1 === k && 'object' !== b.nodeName.toLowerCase()) {
              o = g(a), (r = b.getAttribute('id')) ? s = r.replace(bb, '\\$&') : b.setAttribute('id', s), s = '[id=\'' + s + '\'] ', l = o.length;
              while (l--)
                o[l] = s + qb(o[l]);
              w = ab.test(a) && ob(b.parentNode) || b, x = o.join(',');
            }
            if (x)
              try {
                return I.apply(d, w.querySelectorAll(x)), d;
              } catch (y) {
              } finally {
                r || b.removeAttribute('id');
              }
          }
        }
        return i(a.replace(R, '$1'), b, d, e);
      }
      function gb() {
        var a = [];
        function b(c, e) {
          return a.push(c + ' ') > d.cacheLength && delete b[a.shift()], b[c + ' '] = e;
        }
        return b;
      }
      function hb(a) {
        return a[u] = !0, a;
      }
      function ib(a) {
        var b = n.createElement('div');
        try {
          return !!a(b);
        } catch (c) {
          return !1;
        } finally {
          b.parentNode && b.parentNode.removeChild(b), b = null;
        }
      }
      function jb(a, b) {
        var c = a.split('|'), e = a.length;
        while (e--)
          d.attrHandle[c[e]] = b;
      }
      function kb(a, b) {
        var c = b && a, d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || D) - (~a.sourceIndex || D);
        if (d)
          return d;
        if (c)
          while (c = c.nextSibling)
            if (c === b)
              return -1;
        return a ? 1 : -1;
      }
      function lb(a) {
        return function (b) {
          var c = b.nodeName.toLowerCase();
          return 'input' === c && b.type === a;
        };
      }
      function mb(a) {
        return function (b) {
          var c = b.nodeName.toLowerCase();
          return ('input' === c || 'button' === c) && b.type === a;
        };
      }
      function nb(a) {
        return hb(function (b) {
          return b = +b, hb(function (c, d) {
            var e, f = a([], c.length, b), g = f.length;
            while (g--)
              c[e = f[g]] && (c[e] = !(d[e] = c[e]));
          });
        });
      }
      function ob(a) {
        return a && typeof a.getElementsByTagName !== C && a;
      }
      c = fb.support = {}, f = fb.isXML = function (a) {
        var b = a && (a.ownerDocument || a).documentElement;
        return b ? 'HTML' !== b.nodeName : !1;
      }, m = fb.setDocument = function (a) {
        var b, e = a ? a.ownerDocument || a : v, g = e.defaultView;
        return e !== n && 9 === e.nodeType && e.documentElement ? (n = e, o = e.documentElement, p = !f(e), g && g !== g.top && (g.addEventListener ? g.addEventListener('unload', function () {
          m();
        }, !1) : g.attachEvent && g.attachEvent('onunload', function () {
          m();
        })), c.attributes = ib(function (a) {
          return a.className = 'i', !a.getAttribute('className');
        }), c.getElementsByTagName = ib(function (a) {
          return a.appendChild(e.createComment('')), !a.getElementsByTagName('*').length;
        }), c.getElementsByClassName = $.test(e.getElementsByClassName) && ib(function (a) {
          return a.innerHTML = '<div class=\'a\'></div><div class=\'a i\'></div>', a.firstChild.className = 'i', 2 === a.getElementsByClassName('i').length;
        }), c.getById = ib(function (a) {
          return o.appendChild(a).id = u, !e.getElementsByName || !e.getElementsByName(u).length;
        }), c.getById ? (d.find.ID = function (a, b) {
          if (typeof b.getElementById !== C && p) {
            var c = b.getElementById(a);
            return c && c.parentNode ? [c] : [];
          }
        }, d.filter.ID = function (a) {
          var b = a.replace(cb, db);
          return function (a) {
            return a.getAttribute('id') === b;
          };
        }) : (delete d.find.ID, d.filter.ID = function (a) {
          var b = a.replace(cb, db);
          return function (a) {
            var c = typeof a.getAttributeNode !== C && a.getAttributeNode('id');
            return c && c.value === b;
          };
        }), d.find.TAG = c.getElementsByTagName ? function (a, b) {
          return typeof b.getElementsByTagName !== C ? b.getElementsByTagName(a) : void 0;
        } : function (a, b) {
          var c, d = [], e = 0, f = b.getElementsByTagName(a);
          if ('*' === a) {
            while (c = f[e++])
              1 === c.nodeType && d.push(c);
            return d;
          }
          return f;
        }, d.find.CLASS = c.getElementsByClassName && function (a, b) {
          return typeof b.getElementsByClassName !== C && p ? b.getElementsByClassName(a) : void 0;
        }, r = [], q = [], (c.qsa = $.test(e.querySelectorAll)) && (ib(function (a) {
          a.innerHTML = '<select msallowclip=\'\'><option selected=\'\'></option></select>', a.querySelectorAll('[msallowclip^=\'\']').length && q.push('[*^$]=' + M + '*(?:\'\'|"")'), a.querySelectorAll('[selected]').length || q.push('\\[' + M + '*(?:value|' + L + ')'), a.querySelectorAll(':checked').length || q.push(':checked');
        }), ib(function (a) {
          var b = e.createElement('input');
          b.setAttribute('type', 'hidden'), a.appendChild(b).setAttribute('name', 'D'), a.querySelectorAll('[name=d]').length && q.push('name' + M + '*[*^$|!~]?='), a.querySelectorAll(':enabled').length || q.push(':enabled', ':disabled'), a.querySelectorAll('*,:x'), q.push(',.*:');
        })), (c.matchesSelector = $.test(s = o.matches || o.webkitMatchesSelector || o.mozMatchesSelector || o.oMatchesSelector || o.msMatchesSelector)) && ib(function (a) {
          c.disconnectedMatch = s.call(a, 'div'), s.call(a, '[s!=\'\']:x'), r.push('!=', Q);
        }), q = q.length && new RegExp(q.join('|')), r = r.length && new RegExp(r.join('|')), b = $.test(o.compareDocumentPosition), t = b || $.test(o.contains) ? function (a, b) {
          var c = 9 === a.nodeType ? a.documentElement : a, d = b && b.parentNode;
          return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)));
        } : function (a, b) {
          if (b)
            while (b = b.parentNode)
              if (b === a)
                return !0;
          return !1;
        }, B = b ? function (a, b) {
          if (a === b)
            return l = !0, 0;
          var d = !a.compareDocumentPosition - !b.compareDocumentPosition;
          return d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1, 1 & d || !c.sortDetached && b.compareDocumentPosition(a) === d ? a === e || a.ownerDocument === v && t(v, a) ? -1 : b === e || b.ownerDocument === v && t(v, b) ? 1 : k ? K.call(k, a) - K.call(k, b) : 0 : 4 & d ? -1 : 1);
        } : function (a, b) {
          if (a === b)
            return l = !0, 0;
          var c, d = 0, f = a.parentNode, g = b.parentNode, h = [a], i = [b];
          if (!f || !g)
            return a === e ? -1 : b === e ? 1 : f ? -1 : g ? 1 : k ? K.call(k, a) - K.call(k, b) : 0;
          if (f === g)
            return kb(a, b);
          c = a;
          while (c = c.parentNode)
            h.unshift(c);
          c = b;
          while (c = c.parentNode)
            i.unshift(c);
          while (h[d] === i[d])
            d++;
          return d ? kb(h[d], i[d]) : h[d] === v ? -1 : i[d] === v ? 1 : 0;
        }, e) : n;
      }, fb.matches = function (a, b) {
        return fb(a, null, null, b);
      }, fb.matchesSelector = function (a, b) {
        if ((a.ownerDocument || a) !== n && m(a), b = b.replace(U, '=\'$1\']'), !(!c.matchesSelector || !p || r && r.test(b) || q && q.test(b)))
          try {
            var d = s.call(a, b);
            if (d || c.disconnectedMatch || a.document && 11 !== a.document.nodeType)
              return d;
          } catch (e) {
          }
        return fb(b, n, null, [a]).length > 0;
      }, fb.contains = function (a, b) {
        return (a.ownerDocument || a) !== n && m(a), t(a, b);
      }, fb.attr = function (a, b) {
        (a.ownerDocument || a) !== n && m(a);
        var e = d.attrHandle[b.toLowerCase()], f = e && E.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !p) : void 0;
        return void 0 !== f ? f : c.attributes || !p ? a.getAttribute(b) : (f = a.getAttributeNode(b)) && f.specified ? f.value : null;
      }, fb.error = function (a) {
        throw new Error('Syntax error, unrecognized expression: ' + a);
      }, fb.uniqueSort = function (a) {
        var b, d = [], e = 0, f = 0;
        if (l = !c.detectDuplicates, k = !c.sortStable && a.slice(0), a.sort(B), l) {
          while (b = a[f++])
            b === a[f] && (e = d.push(f));
          while (e--)
            a.splice(d[e], 1);
        }
        return k = null, a;
      }, e = fb.getText = function (a) {
        var b, c = '', d = 0, f = a.nodeType;
        if (f) {
          if (1 === f || 9 === f || 11 === f) {
            if ('string' == typeof a.textContent)
              return a.textContent;
            for (a = a.firstChild; a; a = a.nextSibling)
              c += e(a);
          } else if (3 === f || 4 === f)
            return a.nodeValue;
        } else
          while (b = a[d++])
            c += e(b);
        return c;
      }, d = fb.selectors = {
        cacheLength: 50,
        createPseudo: hb,
        match: X,
        attrHandle: {},
        find: {},
        relative: {
          '>': {
            dir: 'parentNode',
            first: !0
          },
          ' ': { dir: 'parentNode' },
          '+': {
            dir: 'previousSibling',
            first: !0
          },
          '~': { dir: 'previousSibling' }
        },
        preFilter: {
          ATTR: function (a) {
            return a[1] = a[1].replace(cb, db), a[3] = (a[3] || a[4] || a[5] || '').replace(cb, db), '~=' === a[2] && (a[3] = ' ' + a[3] + ' '), a.slice(0, 4);
          },
          CHILD: function (a) {
            return a[1] = a[1].toLowerCase(), 'nth' === a[1].slice(0, 3) ? (a[3] || fb.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ('even' === a[3] || 'odd' === a[3])), a[5] = +(a[7] + a[8] || 'odd' === a[3])) : a[3] && fb.error(a[0]), a;
          },
          PSEUDO: function (a) {
            var b, c = !a[6] && a[2];
            return X.CHILD.test(a[0]) ? null : (a[3] ? a[2] = a[4] || a[5] || '' : c && V.test(c) && (b = g(c, !0)) && (b = c.indexOf(')', c.length - b) - c.length) && (a[0] = a[0].slice(0, b), a[2] = c.slice(0, b)), a.slice(0, 3));
          }
        },
        filter: {
          TAG: function (a) {
            var b = a.replace(cb, db).toLowerCase();
            return '*' === a ? function () {
              return !0;
            } : function (a) {
              return a.nodeName && a.nodeName.toLowerCase() === b;
            };
          },
          CLASS: function (a) {
            var b = y[a + ' '];
            return b || (b = new RegExp('(^|' + M + ')' + a + '(' + M + '|$)')) && y(a, function (a) {
              return b.test('string' == typeof a.className && a.className || typeof a.getAttribute !== C && a.getAttribute('class') || '');
            });
          },
          ATTR: function (a, b, c) {
            return function (d) {
              var e = fb.attr(d, a);
              return null == e ? '!=' === b : b ? (e += '', '=' === b ? e === c : '!=' === b ? e !== c : '^=' === b ? c && 0 === e.indexOf(c) : '*=' === b ? c && e.indexOf(c) > -1 : '$=' === b ? c && e.slice(-c.length) === c : '~=' === b ? (' ' + e + ' ').indexOf(c) > -1 : '|=' === b ? e === c || e.slice(0, c.length + 1) === c + '-' : !1) : !0;
            };
          },
          CHILD: function (a, b, c, d, e) {
            var f = 'nth' !== a.slice(0, 3), g = 'last' !== a.slice(-4), h = 'of-type' === b;
            return 1 === d && 0 === e ? function (a) {
              return !!a.parentNode;
            } : function (b, c, i) {
              var j, k, l, m, n, o, p = f !== g ? 'nextSibling' : 'previousSibling', q = b.parentNode, r = h && b.nodeName.toLowerCase(), s = !i && !h;
              if (q) {
                if (f) {
                  while (p) {
                    l = b;
                    while (l = l[p])
                      if (h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType)
                        return !1;
                    o = p = 'only' === a && !o && 'nextSibling';
                  }
                  return !0;
                }
                if (o = [g ? q.firstChild : q.lastChild], g && s) {
                  k = q[u] || (q[u] = {}), j = k[a] || [], n = j[0] === w && j[1], m = j[0] === w && j[2], l = n && q.childNodes[n];
                  while (l = ++n && l && l[p] || (m = n = 0) || o.pop())
                    if (1 === l.nodeType && ++m && l === b) {
                      k[a] = [
                        w,
                        n,
                        m
                      ];
                      break;
                    }
                } else if (s && (j = (b[u] || (b[u] = {}))[a]) && j[0] === w)
                  m = j[1];
                else
                  while (l = ++n && l && l[p] || (m = n = 0) || o.pop())
                    if ((h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType) && ++m && (s && ((l[u] || (l[u] = {}))[a] = [
                        w,
                        m
                      ]), l === b))
                      break;
                return m -= e, m === d || m % d === 0 && m / d >= 0;
              }
            };
          },
          PSEUDO: function (a, b) {
            var c, e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || fb.error('unsupported pseudo: ' + a);
            return e[u] ? e(b) : e.length > 1 ? (c = [
              a,
              a,
              '',
              b
            ], d.setFilters.hasOwnProperty(a.toLowerCase()) ? hb(function (a, c) {
              var d, f = e(a, b), g = f.length;
              while (g--)
                d = K.call(a, f[g]), a[d] = !(c[d] = f[g]);
            }) : function (a) {
              return e(a, 0, c);
            }) : e;
          }
        },
        pseudos: {
          not: hb(function (a) {
            var b = [], c = [], d = h(a.replace(R, '$1'));
            return d[u] ? hb(function (a, b, c, e) {
              var f, g = d(a, null, e, []), h = a.length;
              while (h--)
                (f = g[h]) && (a[h] = !(b[h] = f));
            }) : function (a, e, f) {
              return b[0] = a, d(b, null, f, c), !c.pop();
            };
          }),
          has: hb(function (a) {
            return function (b) {
              return fb(a, b).length > 0;
            };
          }),
          contains: hb(function (a) {
            return function (b) {
              return (b.textContent || b.innerText || e(b)).indexOf(a) > -1;
            };
          }),
          lang: hb(function (a) {
            return W.test(a || '') || fb.error('unsupported lang: ' + a), a = a.replace(cb, db).toLowerCase(), function (b) {
              var c;
              do
                if (c = p ? b.lang : b.getAttribute('xml:lang') || b.getAttribute('lang'))
                  return c = c.toLowerCase(), c === a || 0 === c.indexOf(a + '-');
              while ((b = b.parentNode) && 1 === b.nodeType);
              return !1;
            };
          }),
          target: function (b) {
            var c = a.location && a.location.hash;
            return c && c.slice(1) === b.id;
          },
          root: function (a) {
            return a === o;
          },
          focus: function (a) {
            return a === n.activeElement && (!n.hasFocus || n.hasFocus()) && !!(a.type || a.href || ~a.tabIndex);
          },
          enabled: function (a) {
            return a.disabled === !1;
          },
          disabled: function (a) {
            return a.disabled === !0;
          },
          checked: function (a) {
            var b = a.nodeName.toLowerCase();
            return 'input' === b && !!a.checked || 'option' === b && !!a.selected;
          },
          selected: function (a) {
            return a.parentNode && a.parentNode.selectedIndex, a.selected === !0;
          },
          empty: function (a) {
            for (a = a.firstChild; a; a = a.nextSibling)
              if (a.nodeType < 6)
                return !1;
            return !0;
          },
          parent: function (a) {
            return !d.pseudos.empty(a);
          },
          header: function (a) {
            return Z.test(a.nodeName);
          },
          input: function (a) {
            return Y.test(a.nodeName);
          },
          button: function (a) {
            var b = a.nodeName.toLowerCase();
            return 'input' === b && 'button' === a.type || 'button' === b;
          },
          text: function (a) {
            var b;
            return 'input' === a.nodeName.toLowerCase() && 'text' === a.type && (null == (b = a.getAttribute('type')) || 'text' === b.toLowerCase());
          },
          first: nb(function () {
            return [0];
          }),
          last: nb(function (a, b) {
            return [b - 1];
          }),
          eq: nb(function (a, b, c) {
            return [0 > c ? c + b : c];
          }),
          even: nb(function (a, b) {
            for (var c = 0; b > c; c += 2)
              a.push(c);
            return a;
          }),
          odd: nb(function (a, b) {
            for (var c = 1; b > c; c += 2)
              a.push(c);
            return a;
          }),
          lt: nb(function (a, b, c) {
            for (var d = 0 > c ? c + b : c; --d >= 0;)
              a.push(d);
            return a;
          }),
          gt: nb(function (a, b, c) {
            for (var d = 0 > c ? c + b : c; ++d < b;)
              a.push(d);
            return a;
          })
        }
      }, d.pseudos.nth = d.pseudos.eq;
      for (b in {
          radio: !0,
          checkbox: !0,
          file: !0,
          password: !0,
          image: !0
        })
        d.pseudos[b] = lb(b);
      for (b in {
          submit: !0,
          reset: !0
        })
        d.pseudos[b] = mb(b);
      function pb() {
      }
      pb.prototype = d.filters = d.pseudos, d.setFilters = new pb(), g = fb.tokenize = function (a, b) {
        var c, e, f, g, h, i, j, k = z[a + ' '];
        if (k)
          return b ? 0 : k.slice(0);
        h = a, i = [], j = d.preFilter;
        while (h) {
          (!c || (e = S.exec(h))) && (e && (h = h.slice(e[0].length) || h), i.push(f = [])), c = !1, (e = T.exec(h)) && (c = e.shift(), f.push({
            value: c,
            type: e[0].replace(R, ' ')
          }), h = h.slice(c.length));
          for (g in d.filter)
            !(e = X[g].exec(h)) || j[g] && !(e = j[g](e)) || (c = e.shift(), f.push({
              value: c,
              type: g,
              matches: e
            }), h = h.slice(c.length));
          if (!c)
            break;
        }
        return b ? h.length : h ? fb.error(a) : z(a, i).slice(0);
      };
      function qb(a) {
        for (var b = 0, c = a.length, d = ''; c > b; b++)
          d += a[b].value;
        return d;
      }
      function rb(a, b, c) {
        var d = b.dir, e = c && 'parentNode' === d, f = x++;
        return b.first ? function (b, c, f) {
          while (b = b[d])
            if (1 === b.nodeType || e)
              return a(b, c, f);
        } : function (b, c, g) {
          var h, i, j = [
              w,
              f
            ];
          if (g) {
            while (b = b[d])
              if ((1 === b.nodeType || e) && a(b, c, g))
                return !0;
          } else
            while (b = b[d])
              if (1 === b.nodeType || e) {
                if (i = b[u] || (b[u] = {}), (h = i[d]) && h[0] === w && h[1] === f)
                  return j[2] = h[2];
                if (i[d] = j, j[2] = a(b, c, g))
                  return !0;
              }
        };
      }
      function sb(a) {
        return a.length > 1 ? function (b, c, d) {
          var e = a.length;
          while (e--)
            if (!a[e](b, c, d))
              return !1;
          return !0;
        } : a[0];
      }
      function tb(a, b, c) {
        for (var d = 0, e = b.length; e > d; d++)
          fb(a, b[d], c);
        return c;
      }
      function ub(a, b, c, d, e) {
        for (var f, g = [], h = 0, i = a.length, j = null != b; i > h; h++)
          (f = a[h]) && (!c || c(f, d, e)) && (g.push(f), j && b.push(h));
        return g;
      }
      function vb(a, b, c, d, e, f) {
        return d && !d[u] && (d = vb(d)), e && !e[u] && (e = vb(e, f)), hb(function (f, g, h, i) {
          var j, k, l, m = [], n = [], o = g.length, p = f || tb(b || '*', h.nodeType ? [h] : h, []), q = !a || !f && b ? p : ub(p, m, a, h, i), r = c ? e || (f ? a : o || d) ? [] : g : q;
          if (c && c(q, r, h, i), d) {
            j = ub(r, n), d(j, [], h, i), k = j.length;
            while (k--)
              (l = j[k]) && (r[n[k]] = !(q[n[k]] = l));
          }
          if (f) {
            if (e || a) {
              if (e) {
                j = [], k = r.length;
                while (k--)
                  (l = r[k]) && j.push(q[k] = l);
                e(null, r = [], j, i);
              }
              k = r.length;
              while (k--)
                (l = r[k]) && (j = e ? K.call(f, l) : m[k]) > -1 && (f[j] = !(g[j] = l));
            }
          } else
            r = ub(r === g ? r.splice(o, r.length) : r), e ? e(null, g, r, i) : I.apply(g, r);
        });
      }
      function wb(a) {
        for (var b, c, e, f = a.length, g = d.relative[a[0].type], h = g || d.relative[' '], i = g ? 1 : 0, k = rb(function (a) {
              return a === b;
            }, h, !0), l = rb(function (a) {
              return K.call(b, a) > -1;
            }, h, !0), m = [function (a, c, d) {
                return !g && (d || c !== j) || ((b = c).nodeType ? k(a, c, d) : l(a, c, d));
              }]; f > i; i++)
          if (c = d.relative[a[i].type])
            m = [rb(sb(m), c)];
          else {
            if (c = d.filter[a[i].type].apply(null, a[i].matches), c[u]) {
              for (e = ++i; f > e; e++)
                if (d.relative[a[e].type])
                  break;
              return vb(i > 1 && sb(m), i > 1 && qb(a.slice(0, i - 1).concat({ value: ' ' === a[i - 2].type ? '*' : '' })).replace(R, '$1'), c, e > i && wb(a.slice(i, e)), f > e && wb(a = a.slice(e)), f > e && qb(a));
            }
            m.push(c);
          }
        return sb(m);
      }
      function xb(a, b) {
        var c = b.length > 0, e = a.length > 0, f = function (f, g, h, i, k) {
            var l, m, o, p = 0, q = '0', r = f && [], s = [], t = j, u = f || e && d.find.TAG('*', k), v = w += null == t ? 1 : Math.random() || 0.1, x = u.length;
            for (k && (j = g !== n && g); q !== x && null != (l = u[q]); q++) {
              if (e && l) {
                m = 0;
                while (o = a[m++])
                  if (o(l, g, h)) {
                    i.push(l);
                    break;
                  }
                k && (w = v);
              }
              c && ((l = !o && l) && p--, f && r.push(l));
            }
            if (p += q, c && q !== p) {
              m = 0;
              while (o = b[m++])
                o(r, s, g, h);
              if (f) {
                if (p > 0)
                  while (q--)
                    r[q] || s[q] || (s[q] = G.call(i));
                s = ub(s);
              }
              I.apply(i, s), k && !f && s.length > 0 && p + b.length > 1 && fb.uniqueSort(i);
            }
            return k && (w = v, j = t), r;
          };
        return c ? hb(f) : f;
      }
      return h = fb.compile = function (a, b) {
        var c, d = [], e = [], f = A[a + ' '];
        if (!f) {
          b || (b = g(a)), c = b.length;
          while (c--)
            f = wb(b[c]), f[u] ? d.push(f) : e.push(f);
          f = A(a, xb(e, d)), f.selector = a;
        }
        return f;
      }, i = fb.select = function (a, b, e, f) {
        var i, j, k, l, m, n = 'function' == typeof a && a, o = !f && g(a = n.selector || a);
        if (e = e || [], 1 === o.length) {
          if (j = o[0] = o[0].slice(0), j.length > 2 && 'ID' === (k = j[0]).type && c.getById && 9 === b.nodeType && p && d.relative[j[1].type]) {
            if (b = (d.find.ID(k.matches[0].replace(cb, db), b) || [])[0], !b)
              return e;
            n && (b = b.parentNode), a = a.slice(j.shift().value.length);
          }
          i = X.needsContext.test(a) ? 0 : j.length;
          while (i--) {
            if (k = j[i], d.relative[l = k.type])
              break;
            if ((m = d.find[l]) && (f = m(k.matches[0].replace(cb, db), ab.test(j[0].type) && ob(b.parentNode) || b))) {
              if (j.splice(i, 1), a = f.length && qb(j), !a)
                return I.apply(e, f), e;
              break;
            }
          }
        }
        return (n || h(a, o))(f, b, !p, e, ab.test(a) && ob(b.parentNode) || b), e;
      }, c.sortStable = u.split('').sort(B).join('') === u, c.detectDuplicates = !!l, m(), c.sortDetached = ib(function (a) {
        return 1 & a.compareDocumentPosition(n.createElement('div'));
      }), ib(function (a) {
        return a.innerHTML = '<a href=\'#\'></a>', '#' === a.firstChild.getAttribute('href');
      }) || jb('type|href|height|width', function (a, b, c) {
        return c ? void 0 : a.getAttribute(b, 'type' === b.toLowerCase() ? 1 : 2);
      }), c.attributes && ib(function (a) {
        return a.innerHTML = '<input/>', a.firstChild.setAttribute('value', ''), '' === a.firstChild.getAttribute('value');
      }) || jb('value', function (a, b, c) {
        return c || 'input' !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue;
      }), ib(function (a) {
        return null == a.getAttribute('disabled');
      }) || jb(L, function (a, b, c) {
        var d;
        return c ? void 0 : a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null;
      }), fb;
    }(a);
  m.find = s, m.expr = s.selectors, m.expr[':'] = m.expr.pseudos, m.unique = s.uniqueSort, m.text = s.getText, m.isXMLDoc = s.isXML, m.contains = s.contains;
  var t = m.expr.match.needsContext, u = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, v = /^.[^:#\[\.,]*$/;
  function w(a, b, c) {
    if (m.isFunction(b))
      return m.grep(a, function (a, d) {
        return !!b.call(a, d, a) !== c;
      });
    if (b.nodeType)
      return m.grep(a, function (a) {
        return a === b !== c;
      });
    if ('string' == typeof b) {
      if (v.test(b))
        return m.filter(b, a, c);
      b = m.filter(b, a);
    }
    return m.grep(a, function (a) {
      return m.inArray(a, b) >= 0 !== c;
    });
  }
  m.filter = function (a, b, c) {
    var d = b[0];
    return c && (a = ':not(' + a + ')'), 1 === b.length && 1 === d.nodeType ? m.find.matchesSelector(d, a) ? [d] : [] : m.find.matches(a, m.grep(b, function (a) {
      return 1 === a.nodeType;
    }));
  }, m.fn.extend({
    find: function (a) {
      var b, c = [], d = this, e = d.length;
      if ('string' != typeof a)
        return this.pushStack(m(a).filter(function () {
          for (b = 0; e > b; b++)
            if (m.contains(d[b], this))
              return !0;
        }));
      for (b = 0; e > b; b++)
        m.find(a, d[b], c);
      return c = this.pushStack(e > 1 ? m.unique(c) : c), c.selector = this.selector ? this.selector + ' ' + a : a, c;
    },
    filter: function (a) {
      return this.pushStack(w(this, a || [], !1));
    },
    not: function (a) {
      return this.pushStack(w(this, a || [], !0));
    },
    is: function (a) {
      return !!w(this, 'string' == typeof a && t.test(a) ? m(a) : a || [], !1).length;
    }
  });
  var x, y = a.document, z = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, A = m.fn.init = function (a, b) {
      var c, d;
      if (!a)
        return this;
      if ('string' == typeof a) {
        if (c = '<' === a.charAt(0) && '>' === a.charAt(a.length - 1) && a.length >= 3 ? [
            null,
            a,
            null
          ] : z.exec(a), !c || !c[1] && b)
          return !b || b.jquery ? (b || x).find(a) : this.constructor(b).find(a);
        if (c[1]) {
          if (b = b instanceof m ? b[0] : b, m.merge(this, m.parseHTML(c[1], b && b.nodeType ? b.ownerDocument || b : y, !0)), u.test(c[1]) && m.isPlainObject(b))
            for (c in b)
              m.isFunction(this[c]) ? this[c](b[c]) : this.attr(c, b[c]);
          return this;
        }
        if (d = y.getElementById(c[2]), d && d.parentNode) {
          if (d.id !== c[2])
            return x.find(a);
          this.length = 1, this[0] = d;
        }
        return this.context = y, this.selector = a, this;
      }
      return a.nodeType ? (this.context = this[0] = a, this.length = 1, this) : m.isFunction(a) ? 'undefined' != typeof x.ready ? x.ready(a) : a(m) : (void 0 !== a.selector && (this.selector = a.selector, this.context = a.context), m.makeArray(a, this));
    };
  A.prototype = m.fn, x = m(y);
  var B = /^(?:parents|prev(?:Until|All))/, C = {
      children: !0,
      contents: !0,
      next: !0,
      prev: !0
    };
  m.extend({
    dir: function (a, b, c) {
      var d = [], e = a[b];
      while (e && 9 !== e.nodeType && (void 0 === c || 1 !== e.nodeType || !m(e).is(c)))
        1 === e.nodeType && d.push(e), e = e[b];
      return d;
    },
    sibling: function (a, b) {
      for (var c = []; a; a = a.nextSibling)
        1 === a.nodeType && a !== b && c.push(a);
      return c;
    }
  }), m.fn.extend({
    has: function (a) {
      var b, c = m(a, this), d = c.length;
      return this.filter(function () {
        for (b = 0; d > b; b++)
          if (m.contains(this, c[b]))
            return !0;
      });
    },
    closest: function (a, b) {
      for (var c, d = 0, e = this.length, f = [], g = t.test(a) || 'string' != typeof a ? m(a, b || this.context) : 0; e > d; d++)
        for (c = this[d]; c && c !== b; c = c.parentNode)
          if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && m.find.matchesSelector(c, a))) {
            f.push(c);
            break;
          }
      return this.pushStack(f.length > 1 ? m.unique(f) : f);
    },
    index: function (a) {
      return a ? 'string' == typeof a ? m.inArray(this[0], m(a)) : m.inArray(a.jquery ? a[0] : a, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1;
    },
    add: function (a, b) {
      return this.pushStack(m.unique(m.merge(this.get(), m(a, b))));
    },
    addBack: function (a) {
      return this.add(null == a ? this.prevObject : this.prevObject.filter(a));
    }
  });
  function D(a, b) {
    do
      a = a[b];
    while (a && 1 !== a.nodeType);
    return a;
  }
  m.each({
    parent: function (a) {
      var b = a.parentNode;
      return b && 11 !== b.nodeType ? b : null;
    },
    parents: function (a) {
      return m.dir(a, 'parentNode');
    },
    parentsUntil: function (a, b, c) {
      return m.dir(a, 'parentNode', c);
    },
    next: function (a) {
      return D(a, 'nextSibling');
    },
    prev: function (a) {
      return D(a, 'previousSibling');
    },
    nextAll: function (a) {
      return m.dir(a, 'nextSibling');
    },
    prevAll: function (a) {
      return m.dir(a, 'previousSibling');
    },
    nextUntil: function (a, b, c) {
      return m.dir(a, 'nextSibling', c);
    },
    prevUntil: function (a, b, c) {
      return m.dir(a, 'previousSibling', c);
    },
    siblings: function (a) {
      return m.sibling((a.parentNode || {}).firstChild, a);
    },
    children: function (a) {
      return m.sibling(a.firstChild);
    },
    contents: function (a) {
      return m.nodeName(a, 'iframe') ? a.contentDocument || a.contentWindow.document : m.merge([], a.childNodes);
    }
  }, function (a, b) {
    m.fn[a] = function (c, d) {
      var e = m.map(this, b, c);
      return 'Until' !== a.slice(-5) && (d = c), d && 'string' == typeof d && (e = m.filter(d, e)), this.length > 1 && (C[a] || (e = m.unique(e)), B.test(a) && (e = e.reverse())), this.pushStack(e);
    };
  });
  var E = /\S+/g, F = {};
  function G(a) {
    var b = F[a] = {};
    return m.each(a.match(E) || [], function (a, c) {
      b[c] = !0;
    }), b;
  }
  m.Callbacks = function (a) {
    a = 'string' == typeof a ? F[a] || G(a) : m.extend({}, a);
    var b, c, d, e, f, g, h = [], i = !a.once && [], j = function (l) {
        for (c = a.memory && l, d = !0, f = g || 0, g = 0, e = h.length, b = !0; h && e > f; f++)
          if (h[f].apply(l[0], l[1]) === !1 && a.stopOnFalse) {
            c = !1;
            break;
          }
        b = !1, h && (i ? i.length && j(i.shift()) : c ? h = [] : k.disable());
      }, k = {
        add: function () {
          if (h) {
            var d = h.length;
            !function f(b) {
              m.each(b, function (b, c) {
                var d = m.type(c);
                'function' === d ? a.unique && k.has(c) || h.push(c) : c && c.length && 'string' !== d && f(c);
              });
            }(arguments), b ? e = h.length : c && (g = d, j(c));
          }
          return this;
        },
        remove: function () {
          return h && m.each(arguments, function (a, c) {
            var d;
            while ((d = m.inArray(c, h, d)) > -1)
              h.splice(d, 1), b && (e >= d && e--, f >= d && f--);
          }), this;
        },
        has: function (a) {
          return a ? m.inArray(a, h) > -1 : !(!h || !h.length);
        },
        empty: function () {
          return h = [], e = 0, this;
        },
        disable: function () {
          return h = i = c = void 0, this;
        },
        disabled: function () {
          return !h;
        },
        lock: function () {
          return i = void 0, c || k.disable(), this;
        },
        locked: function () {
          return !i;
        },
        fireWith: function (a, c) {
          return !h || d && !i || (c = c || [], c = [
            a,
            c.slice ? c.slice() : c
          ], b ? i.push(c) : j(c)), this;
        },
        fire: function () {
          return k.fireWith(this, arguments), this;
        },
        fired: function () {
          return !!d;
        }
      };
    return k;
  }, m.extend({
    Deferred: function (a) {
      var b = [
          [
            'resolve',
            'done',
            m.Callbacks('once memory'),
            'resolved'
          ],
          [
            'reject',
            'fail',
            m.Callbacks('once memory'),
            'rejected'
          ],
          [
            'notify',
            'progress',
            m.Callbacks('memory')
          ]
        ], c = 'pending', d = {
          state: function () {
            return c;
          },
          always: function () {
            return e.done(arguments).fail(arguments), this;
          },
          then: function () {
            var a = arguments;
            return m.Deferred(function (c) {
              m.each(b, function (b, f) {
                var g = m.isFunction(a[b]) && a[b];
                e[f[1]](function () {
                  var a = g && g.apply(this, arguments);
                  a && m.isFunction(a.promise) ? a.promise().done(c.resolve).fail(c.reject).progress(c.notify) : c[f[0] + 'With'](this === d ? c.promise() : this, g ? [a] : arguments);
                });
              }), a = null;
            }).promise();
          },
          promise: function (a) {
            return null != a ? m.extend(a, d) : d;
          }
        }, e = {};
      return d.pipe = d.then, m.each(b, function (a, f) {
        var g = f[2], h = f[3];
        d[f[1]] = g.add, h && g.add(function () {
          c = h;
        }, b[1 ^ a][2].disable, b[2][2].lock), e[f[0]] = function () {
          return e[f[0] + 'With'](this === e ? d : this, arguments), this;
        }, e[f[0] + 'With'] = g.fireWith;
      }), d.promise(e), a && a.call(e, e), e;
    },
    when: function (a) {
      var b = 0, c = d.call(arguments), e = c.length, f = 1 !== e || a && m.isFunction(a.promise) ? e : 0, g = 1 === f ? a : m.Deferred(), h = function (a, b, c) {
          return function (e) {
            b[a] = this, c[a] = arguments.length > 1 ? d.call(arguments) : e, c === i ? g.notifyWith(b, c) : --f || g.resolveWith(b, c);
          };
        }, i, j, k;
      if (e > 1)
        for (i = new Array(e), j = new Array(e), k = new Array(e); e > b; b++)
          c[b] && m.isFunction(c[b].promise) ? c[b].promise().done(h(b, k, c)).fail(g.reject).progress(h(b, j, i)) : --f;
      return f || g.resolveWith(k, c), g.promise();
    }
  });
  var H;
  m.fn.ready = function (a) {
    return m.ready.promise().done(a), this;
  }, m.extend({
    isReady: !1,
    readyWait: 1,
    holdReady: function (a) {
      a ? m.readyWait++ : m.ready(!0);
    },
    ready: function (a) {
      if (a === !0 ? !--m.readyWait : !m.isReady) {
        if (!y.body)
          return setTimeout(m.ready);
        m.isReady = !0, a !== !0 && --m.readyWait > 0 || (H.resolveWith(y, [m]), m.fn.triggerHandler && (m(y).triggerHandler('ready'), m(y).off('ready')));
      }
    }
  });
  function I() {
    y.addEventListener ? (y.removeEventListener('DOMContentLoaded', J, !1), a.removeEventListener('load', J, !1)) : (y.detachEvent('onreadystatechange', J), a.detachEvent('onload', J));
  }
  function J() {
    (y.addEventListener || 'load' === event.type || 'complete' === y.readyState) && (I(), m.ready());
  }
  m.ready.promise = function (b) {
    if (!H)
      if (H = m.Deferred(), 'complete' === y.readyState)
        setTimeout(m.ready);
      else if (y.addEventListener)
        y.addEventListener('DOMContentLoaded', J, !1), a.addEventListener('load', J, !1);
      else {
        y.attachEvent('onreadystatechange', J), a.attachEvent('onload', J);
        var c = !1;
        try {
          c = null == a.frameElement && y.documentElement;
        } catch (d) {
        }
        c && c.doScroll && !function e() {
          if (!m.isReady) {
            try {
              c.doScroll('left');
            } catch (a) {
              return setTimeout(e, 50);
            }
            I(), m.ready();
          }
        }();
      }
    return H.promise(b);
  };
  var K = 'undefined', L;
  for (L in m(k))
    break;
  k.ownLast = '0' !== L, k.inlineBlockNeedsLayout = !1, m(function () {
    var a, b, c, d;
    c = y.getElementsByTagName('body')[0], c && c.style && (b = y.createElement('div'), d = y.createElement('div'), d.style.cssText = 'position:absolute;border:0;width:0;height:0;top:0;left:-9999px', c.appendChild(d).appendChild(b), typeof b.style.zoom !== K && (b.style.cssText = 'display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1', k.inlineBlockNeedsLayout = a = 3 === b.offsetWidth, a && (c.style.zoom = 1)), c.removeChild(d));
  }), function () {
    var a = y.createElement('div');
    if (null == k.deleteExpando) {
      k.deleteExpando = !0;
      try {
        delete a.test;
      } catch (b) {
        k.deleteExpando = !1;
      }
    }
    a = null;
  }(), m.acceptData = function (a) {
    var b = m.noData[(a.nodeName + ' ').toLowerCase()], c = +a.nodeType || 1;
    return 1 !== c && 9 !== c ? !1 : !b || b !== !0 && a.getAttribute('classid') === b;
  };
  var M = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, N = /([A-Z])/g;
  function O(a, b, c) {
    if (void 0 === c && 1 === a.nodeType) {
      var d = 'data-' + b.replace(N, '-$1').toLowerCase();
      if (c = a.getAttribute(d), 'string' == typeof c) {
        try {
          c = 'true' === c ? !0 : 'false' === c ? !1 : 'null' === c ? null : +c + '' === c ? +c : M.test(c) ? m.parseJSON(c) : c;
        } catch (e) {
        }
        m.data(a, b, c);
      } else
        c = void 0;
    }
    return c;
  }
  function P(a) {
    var b;
    for (b in a)
      if (('data' !== b || !m.isEmptyObject(a[b])) && 'toJSON' !== b)
        return !1;
    return !0;
  }
  function Q(a, b, d, e) {
    if (m.acceptData(a)) {
      var f, g, h = m.expando, i = a.nodeType, j = i ? m.cache : a, k = i ? a[h] : a[h] && h;
      if (k && j[k] && (e || j[k].data) || void 0 !== d || 'string' != typeof b)
        return k || (k = i ? a[h] = c.pop() || m.guid++ : h), j[k] || (j[k] = i ? {} : { toJSON: m.noop }), ('object' == typeof b || 'function' == typeof b) && (e ? j[k] = m.extend(j[k], b) : j[k].data = m.extend(j[k].data, b)), g = j[k], e || (g.data || (g.data = {}), g = g.data), void 0 !== d && (g[m.camelCase(b)] = d), 'string' == typeof b ? (f = g[b], null == f && (f = g[m.camelCase(b)])) : f = g, f;
    }
  }
  function R(a, b, c) {
    if (m.acceptData(a)) {
      var d, e, f = a.nodeType, g = f ? m.cache : a, h = f ? a[m.expando] : m.expando;
      if (g[h]) {
        if (b && (d = c ? g[h] : g[h].data)) {
          m.isArray(b) ? b = b.concat(m.map(b, m.camelCase)) : b in d ? b = [b] : (b = m.camelCase(b), b = b in d ? [b] : b.split(' ')), e = b.length;
          while (e--)
            delete d[b[e]];
          if (c ? !P(d) : !m.isEmptyObject(d))
            return;
        }
        (c || (delete g[h].data, P(g[h]))) && (f ? m.cleanData([a], !0) : k.deleteExpando || g != g.window ? delete g[h] : g[h] = null);
      }
    }
  }
  m.extend({
    cache: {},
    noData: {
      'applet ': !0,
      'embed ': !0,
      'object ': 'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'
    },
    hasData: function (a) {
      return a = a.nodeType ? m.cache[a[m.expando]] : a[m.expando], !!a && !P(a);
    },
    data: function (a, b, c) {
      return Q(a, b, c);
    },
    removeData: function (a, b) {
      return R(a, b);
    },
    _data: function (a, b, c) {
      return Q(a, b, c, !0);
    },
    _removeData: function (a, b) {
      return R(a, b, !0);
    }
  }), m.fn.extend({
    data: function (a, b) {
      var c, d, e, f = this[0], g = f && f.attributes;
      if (void 0 === a) {
        if (this.length && (e = m.data(f), 1 === f.nodeType && !m._data(f, 'parsedAttrs'))) {
          c = g.length;
          while (c--)
            g[c] && (d = g[c].name, 0 === d.indexOf('data-') && (d = m.camelCase(d.slice(5)), O(f, d, e[d])));
          m._data(f, 'parsedAttrs', !0);
        }
        return e;
      }
      return 'object' == typeof a ? this.each(function () {
        m.data(this, a);
      }) : arguments.length > 1 ? this.each(function () {
        m.data(this, a, b);
      }) : f ? O(f, a, m.data(f, a)) : void 0;
    },
    removeData: function (a) {
      return this.each(function () {
        m.removeData(this, a);
      });
    }
  }), m.extend({
    queue: function (a, b, c) {
      var d;
      return a ? (b = (b || 'fx') + 'queue', d = m._data(a, b), c && (!d || m.isArray(c) ? d = m._data(a, b, m.makeArray(c)) : d.push(c)), d || []) : void 0;
    },
    dequeue: function (a, b) {
      b = b || 'fx';
      var c = m.queue(a, b), d = c.length, e = c.shift(), f = m._queueHooks(a, b), g = function () {
          m.dequeue(a, b);
        };
      'inprogress' === e && (e = c.shift(), d--), e && ('fx' === b && c.unshift('inprogress'), delete f.stop, e.call(a, g, f)), !d && f && f.empty.fire();
    },
    _queueHooks: function (a, b) {
      var c = b + 'queueHooks';
      return m._data(a, c) || m._data(a, c, {
        empty: m.Callbacks('once memory').add(function () {
          m._removeData(a, b + 'queue'), m._removeData(a, c);
        })
      });
    }
  }), m.fn.extend({
    queue: function (a, b) {
      var c = 2;
      return 'string' != typeof a && (b = a, a = 'fx', c--), arguments.length < c ? m.queue(this[0], a) : void 0 === b ? this : this.each(function () {
        var c = m.queue(this, a, b);
        m._queueHooks(this, a), 'fx' === a && 'inprogress' !== c[0] && m.dequeue(this, a);
      });
    },
    dequeue: function (a) {
      return this.each(function () {
        m.dequeue(this, a);
      });
    },
    clearQueue: function (a) {
      return this.queue(a || 'fx', []);
    },
    promise: function (a, b) {
      var c, d = 1, e = m.Deferred(), f = this, g = this.length, h = function () {
          --d || e.resolveWith(f, [f]);
        };
      'string' != typeof a && (b = a, a = void 0), a = a || 'fx';
      while (g--)
        c = m._data(f[g], a + 'queueHooks'), c && c.empty && (d++, c.empty.add(h));
      return h(), e.promise(b);
    }
  });
  var S = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, T = [
      'Top',
      'Right',
      'Bottom',
      'Left'
    ], U = function (a, b) {
      return a = b || a, 'none' === m.css(a, 'display') || !m.contains(a.ownerDocument, a);
    }, V = m.access = function (a, b, c, d, e, f, g) {
      var h = 0, i = a.length, j = null == c;
      if ('object' === m.type(c)) {
        e = !0;
        for (h in c)
          m.access(a, b, h, c[h], !0, f, g);
      } else if (void 0 !== d && (e = !0, m.isFunction(d) || (g = !0), j && (g ? (b.call(a, d), b = null) : (j = b, b = function (a, b, c) {
          return j.call(m(a), c);
        })), b))
        for (; i > h; h++)
          b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
      return e ? a : j ? b.call(a) : i ? b(a[0], c) : f;
    }, W = /^(?:checkbox|radio)$/i;
  !function () {
    var a = y.createElement('input'), b = y.createElement('div'), c = y.createDocumentFragment();
    if (b.innerHTML = '  <link/><table></table><a href=\'/a\'>a</a><input type=\'checkbox\'/>', k.leadingWhitespace = 3 === b.firstChild.nodeType, k.tbody = !b.getElementsByTagName('tbody').length, k.htmlSerialize = !!b.getElementsByTagName('link').length, k.html5Clone = '<:nav></:nav>' !== y.createElement('nav').cloneNode(!0).outerHTML, a.type = 'checkbox', a.checked = !0, c.appendChild(a), k.appendChecked = a.checked, b.innerHTML = '<textarea>x</textarea>', k.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue, c.appendChild(b), b.innerHTML = '<input type=\'radio\' checked=\'checked\' name=\'t\'/>', k.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked, k.noCloneEvent = !0, b.attachEvent && (b.attachEvent('onclick', function () {
        k.noCloneEvent = !1;
      }), b.cloneNode(!0).click()), null == k.deleteExpando) {
      k.deleteExpando = !0;
      try {
        delete b.test;
      } catch (d) {
        k.deleteExpando = !1;
      }
    }
  }(), function () {
    var b, c, d = y.createElement('div');
    for (b in {
        submit: !0,
        change: !0,
        focusin: !0
      })
      c = 'on' + b, (k[b + 'Bubbles'] = c in a) || (d.setAttribute(c, 't'), k[b + 'Bubbles'] = d.attributes[c].expando === !1);
    d = null;
  }();
  var X = /^(?:input|select|textarea)$/i, Y = /^key/, Z = /^(?:mouse|pointer|contextmenu)|click/, $ = /^(?:focusinfocus|focusoutblur)$/, _ = /^([^.]*)(?:\.(.+)|)$/;
  function ab() {
    return !0;
  }
  function bb() {
    return !1;
  }
  function cb() {
    try {
      return y.activeElement;
    } catch (a) {
    }
  }
  m.event = {
    global: {},
    add: function (a, b, c, d, e) {
      var f, g, h, i, j, k, l, n, o, p, q, r = m._data(a);
      if (r) {
        c.handler && (i = c, c = i.handler, e = i.selector), c.guid || (c.guid = m.guid++), (g = r.events) || (g = r.events = {}), (k = r.handle) || (k = r.handle = function (a) {
          return typeof m === K || a && m.event.triggered === a.type ? void 0 : m.event.dispatch.apply(k.elem, arguments);
        }, k.elem = a), b = (b || '').match(E) || [''], h = b.length;
        while (h--)
          f = _.exec(b[h]) || [], o = q = f[1], p = (f[2] || '').split('.').sort(), o && (j = m.event.special[o] || {}, o = (e ? j.delegateType : j.bindType) || o, j = m.event.special[o] || {}, l = m.extend({
            type: o,
            origType: q,
            data: d,
            handler: c,
            guid: c.guid,
            selector: e,
            needsContext: e && m.expr.match.needsContext.test(e),
            namespace: p.join('.')
          }, i), (n = g[o]) || (n = g[o] = [], n.delegateCount = 0, j.setup && j.setup.call(a, d, p, k) !== !1 || (a.addEventListener ? a.addEventListener(o, k, !1) : a.attachEvent && a.attachEvent('on' + o, k))), j.add && (j.add.call(a, l), l.handler.guid || (l.handler.guid = c.guid)), e ? n.splice(n.delegateCount++, 0, l) : n.push(l), m.event.global[o] = !0);
        a = null;
      }
    },
    remove: function (a, b, c, d, e) {
      var f, g, h, i, j, k, l, n, o, p, q, r = m.hasData(a) && m._data(a);
      if (r && (k = r.events)) {
        b = (b || '').match(E) || [''], j = b.length;
        while (j--)
          if (h = _.exec(b[j]) || [], o = q = h[1], p = (h[2] || '').split('.').sort(), o) {
            l = m.event.special[o] || {}, o = (d ? l.delegateType : l.bindType) || o, n = k[o] || [], h = h[2] && new RegExp('(^|\\.)' + p.join('\\.(?:.*\\.|)') + '(\\.|$)'), i = f = n.length;
            while (f--)
              g = n[f], !e && q !== g.origType || c && c.guid !== g.guid || h && !h.test(g.namespace) || d && d !== g.selector && ('**' !== d || !g.selector) || (n.splice(f, 1), g.selector && n.delegateCount--, l.remove && l.remove.call(a, g));
            i && !n.length && (l.teardown && l.teardown.call(a, p, r.handle) !== !1 || m.removeEvent(a, o, r.handle), delete k[o]);
          } else
            for (o in k)
              m.event.remove(a, o + b[j], c, d, !0);
        m.isEmptyObject(k) && (delete r.handle, m._removeData(a, 'events'));
      }
    },
    trigger: function (b, c, d, e) {
      var f, g, h, i, k, l, n, o = [d || y], p = j.call(b, 'type') ? b.type : b, q = j.call(b, 'namespace') ? b.namespace.split('.') : [];
      if (h = l = d = d || y, 3 !== d.nodeType && 8 !== d.nodeType && !$.test(p + m.event.triggered) && (p.indexOf('.') >= 0 && (q = p.split('.'), p = q.shift(), q.sort()), g = p.indexOf(':') < 0 && 'on' + p, b = b[m.expando] ? b : new m.Event(p, 'object' == typeof b && b), b.isTrigger = e ? 2 : 3, b.namespace = q.join('.'), b.namespace_re = b.namespace ? new RegExp('(^|\\.)' + q.join('\\.(?:.*\\.|)') + '(\\.|$)') : null, b.result = void 0, b.target || (b.target = d), c = null == c ? [b] : m.makeArray(c, [b]), k = m.event.special[p] || {}, e || !k.trigger || k.trigger.apply(d, c) !== !1)) {
        if (!e && !k.noBubble && !m.isWindow(d)) {
          for (i = k.delegateType || p, $.test(i + p) || (h = h.parentNode); h; h = h.parentNode)
            o.push(h), l = h;
          l === (d.ownerDocument || y) && o.push(l.defaultView || l.parentWindow || a);
        }
        n = 0;
        while ((h = o[n++]) && !b.isPropagationStopped())
          b.type = n > 1 ? i : k.bindType || p, f = (m._data(h, 'events') || {})[b.type] && m._data(h, 'handle'), f && f.apply(h, c), f = g && h[g], f && f.apply && m.acceptData(h) && (b.result = f.apply(h, c), b.result === !1 && b.preventDefault());
        if (b.type = p, !e && !b.isDefaultPrevented() && (!k._default || k._default.apply(o.pop(), c) === !1) && m.acceptData(d) && g && d[p] && !m.isWindow(d)) {
          l = d[g], l && (d[g] = null), m.event.triggered = p;
          try {
            d[p]();
          } catch (r) {
          }
          m.event.triggered = void 0, l && (d[g] = l);
        }
        return b.result;
      }
    },
    dispatch: function (a) {
      a = m.event.fix(a);
      var b, c, e, f, g, h = [], i = d.call(arguments), j = (m._data(this, 'events') || {})[a.type] || [], k = m.event.special[a.type] || {};
      if (i[0] = a, a.delegateTarget = this, !k.preDispatch || k.preDispatch.call(this, a) !== !1) {
        h = m.event.handlers.call(this, a, j), b = 0;
        while ((f = h[b++]) && !a.isPropagationStopped()) {
          a.currentTarget = f.elem, g = 0;
          while ((e = f.handlers[g++]) && !a.isImmediatePropagationStopped())
            (!a.namespace_re || a.namespace_re.test(e.namespace)) && (a.handleObj = e, a.data = e.data, c = ((m.event.special[e.origType] || {}).handle || e.handler).apply(f.elem, i), void 0 !== c && (a.result = c) === !1 && (a.preventDefault(), a.stopPropagation()));
        }
        return k.postDispatch && k.postDispatch.call(this, a), a.result;
      }
    },
    handlers: function (a, b) {
      var c, d, e, f, g = [], h = b.delegateCount, i = a.target;
      if (h && i.nodeType && (!a.button || 'click' !== a.type))
        for (; i != this; i = i.parentNode || this)
          if (1 === i.nodeType && (i.disabled !== !0 || 'click' !== a.type)) {
            for (e = [], f = 0; h > f; f++)
              d = b[f], c = d.selector + ' ', void 0 === e[c] && (e[c] = d.needsContext ? m(c, this).index(i) >= 0 : m.find(c, this, null, [i]).length), e[c] && e.push(d);
            e.length && g.push({
              elem: i,
              handlers: e
            });
          }
      return h < b.length && g.push({
        elem: this,
        handlers: b.slice(h)
      }), g;
    },
    fix: function (a) {
      if (a[m.expando])
        return a;
      var b, c, d, e = a.type, f = a, g = this.fixHooks[e];
      g || (this.fixHooks[e] = g = Z.test(e) ? this.mouseHooks : Y.test(e) ? this.keyHooks : {}), d = g.props ? this.props.concat(g.props) : this.props, a = new m.Event(f), b = d.length;
      while (b--)
        c = d[b], a[c] = f[c];
      return a.target || (a.target = f.srcElement || y), 3 === a.target.nodeType && (a.target = a.target.parentNode), a.metaKey = !!a.metaKey, g.filter ? g.filter(a, f) : a;
    },
    props: 'altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which'.split(' '),
    fixHooks: {},
    keyHooks: {
      props: 'char charCode key keyCode'.split(' '),
      filter: function (a, b) {
        return null == a.which && (a.which = null != b.charCode ? b.charCode : b.keyCode), a;
      }
    },
    mouseHooks: {
      props: 'button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement'.split(' '),
      filter: function (a, b) {
        var c, d, e, f = b.button, g = b.fromElement;
        return null == a.pageX && null != b.clientX && (d = a.target.ownerDocument || y, e = d.documentElement, c = d.body, a.pageX = b.clientX + (e && e.scrollLeft || c && c.scrollLeft || 0) - (e && e.clientLeft || c && c.clientLeft || 0), a.pageY = b.clientY + (e && e.scrollTop || c && c.scrollTop || 0) - (e && e.clientTop || c && c.clientTop || 0)), !a.relatedTarget && g && (a.relatedTarget = g === a.target ? b.toElement : g), a.which || void 0 === f || (a.which = 1 & f ? 1 : 2 & f ? 3 : 4 & f ? 2 : 0), a;
      }
    },
    special: {
      load: { noBubble: !0 },
      focus: {
        trigger: function () {
          if (this !== cb() && this.focus)
            try {
              return this.focus(), !1;
            } catch (a) {
            }
        },
        delegateType: 'focusin'
      },
      blur: {
        trigger: function () {
          return this === cb() && this.blur ? (this.blur(), !1) : void 0;
        },
        delegateType: 'focusout'
      },
      click: {
        trigger: function () {
          return m.nodeName(this, 'input') && 'checkbox' === this.type && this.click ? (this.click(), !1) : void 0;
        },
        _default: function (a) {
          return m.nodeName(a.target, 'a');
        }
      },
      beforeunload: {
        postDispatch: function (a) {
          void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a.result);
        }
      }
    },
    simulate: function (a, b, c, d) {
      var e = m.extend(new m.Event(), c, {
          type: a,
          isSimulated: !0,
          originalEvent: {}
        });
      d ? m.event.trigger(e, null, b) : m.event.dispatch.call(b, e), e.isDefaultPrevented() && c.preventDefault();
    }
  }, m.removeEvent = y.removeEventListener ? function (a, b, c) {
    a.removeEventListener && a.removeEventListener(b, c, !1);
  } : function (a, b, c) {
    var d = 'on' + b;
    a.detachEvent && (typeof a[d] === K && (a[d] = null), a.detachEvent(d, c));
  }, m.Event = function (a, b) {
    return this instanceof m.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a.returnValue === !1 ? ab : bb) : this.type = a, b && m.extend(this, b), this.timeStamp = a && a.timeStamp || m.now(), void (this[m.expando] = !0)) : new m.Event(a, b);
  }, m.Event.prototype = {
    isDefaultPrevented: bb,
    isPropagationStopped: bb,
    isImmediatePropagationStopped: bb,
    preventDefault: function () {
      var a = this.originalEvent;
      this.isDefaultPrevented = ab, a && (a.preventDefault ? a.preventDefault() : a.returnValue = !1);
    },
    stopPropagation: function () {
      var a = this.originalEvent;
      this.isPropagationStopped = ab, a && (a.stopPropagation && a.stopPropagation(), a.cancelBubble = !0);
    },
    stopImmediatePropagation: function () {
      var a = this.originalEvent;
      this.isImmediatePropagationStopped = ab, a && a.stopImmediatePropagation && a.stopImmediatePropagation(), this.stopPropagation();
    }
  }, m.each({
    mouseenter: 'mouseover',
    mouseleave: 'mouseout',
    pointerenter: 'pointerover',
    pointerleave: 'pointerout'
  }, function (a, b) {
    m.event.special[a] = {
      delegateType: b,
      bindType: b,
      handle: function (a) {
        var c, d = this, e = a.relatedTarget, f = a.handleObj;
        return (!e || e !== d && !m.contains(d, e)) && (a.type = f.origType, c = f.handler.apply(this, arguments), a.type = b), c;
      }
    };
  }), k.submitBubbles || (m.event.special.submit = {
    setup: function () {
      return m.nodeName(this, 'form') ? !1 : void m.event.add(this, 'click._submit keypress._submit', function (a) {
        var b = a.target, c = m.nodeName(b, 'input') || m.nodeName(b, 'button') ? b.form : void 0;
        c && !m._data(c, 'submitBubbles') && (m.event.add(c, 'submit._submit', function (a) {
          a._submit_bubble = !0;
        }), m._data(c, 'submitBubbles', !0));
      });
    },
    postDispatch: function (a) {
      a._submit_bubble && (delete a._submit_bubble, this.parentNode && !a.isTrigger && m.event.simulate('submit', this.parentNode, a, !0));
    },
    teardown: function () {
      return m.nodeName(this, 'form') ? !1 : void m.event.remove(this, '._submit');
    }
  }), k.changeBubbles || (m.event.special.change = {
    setup: function () {
      return X.test(this.nodeName) ? (('checkbox' === this.type || 'radio' === this.type) && (m.event.add(this, 'propertychange._change', function (a) {
        'checked' === a.originalEvent.propertyName && (this._just_changed = !0);
      }), m.event.add(this, 'click._change', function (a) {
        this._just_changed && !a.isTrigger && (this._just_changed = !1), m.event.simulate('change', this, a, !0);
      })), !1) : void m.event.add(this, 'beforeactivate._change', function (a) {
        var b = a.target;
        X.test(b.nodeName) && !m._data(b, 'changeBubbles') && (m.event.add(b, 'change._change', function (a) {
          !this.parentNode || a.isSimulated || a.isTrigger || m.event.simulate('change', this.parentNode, a, !0);
        }), m._data(b, 'changeBubbles', !0));
      });
    },
    handle: function (a) {
      var b = a.target;
      return this !== b || a.isSimulated || a.isTrigger || 'radio' !== b.type && 'checkbox' !== b.type ? a.handleObj.handler.apply(this, arguments) : void 0;
    },
    teardown: function () {
      return m.event.remove(this, '._change'), !X.test(this.nodeName);
    }
  }), k.focusinBubbles || m.each({
    focus: 'focusin',
    blur: 'focusout'
  }, function (a, b) {
    var c = function (a) {
      m.event.simulate(b, a.target, m.event.fix(a), !0);
    };
    m.event.special[b] = {
      setup: function () {
        var d = this.ownerDocument || this, e = m._data(d, b);
        e || d.addEventListener(a, c, !0), m._data(d, b, (e || 0) + 1);
      },
      teardown: function () {
        var d = this.ownerDocument || this, e = m._data(d, b) - 1;
        e ? m._data(d, b, e) : (d.removeEventListener(a, c, !0), m._removeData(d, b));
      }
    };
  }), m.fn.extend({
    on: function (a, b, c, d, e) {
      var f, g;
      if ('object' == typeof a) {
        'string' != typeof b && (c = c || b, b = void 0);
        for (f in a)
          this.on(f, b, c, a[f], e);
        return this;
      }
      if (null == c && null == d ? (d = b, c = b = void 0) : null == d && ('string' == typeof b ? (d = c, c = void 0) : (d = c, c = b, b = void 0)), d === !1)
        d = bb;
      else if (!d)
        return this;
      return 1 === e && (g = d, d = function (a) {
        return m().off(a), g.apply(this, arguments);
      }, d.guid = g.guid || (g.guid = m.guid++)), this.each(function () {
        m.event.add(this, a, d, c, b);
      });
    },
    one: function (a, b, c, d) {
      return this.on(a, b, c, d, 1);
    },
    off: function (a, b, c) {
      var d, e;
      if (a && a.preventDefault && a.handleObj)
        return d = a.handleObj, m(a.delegateTarget).off(d.namespace ? d.origType + '.' + d.namespace : d.origType, d.selector, d.handler), this;
      if ('object' == typeof a) {
        for (e in a)
          this.off(e, b, a[e]);
        return this;
      }
      return (b === !1 || 'function' == typeof b) && (c = b, b = void 0), c === !1 && (c = bb), this.each(function () {
        m.event.remove(this, a, c, b);
      });
    },
    trigger: function (a, b) {
      return this.each(function () {
        m.event.trigger(a, b, this);
      });
    },
    triggerHandler: function (a, b) {
      var c = this[0];
      return c ? m.event.trigger(a, b, c, !0) : void 0;
    }
  });
  function db(a) {
    var b = eb.split('|'), c = a.createDocumentFragment();
    if (c.createElement)
      while (b.length)
        c.createElement(b.pop());
    return c;
  }
  var eb = 'abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video', fb = / jQuery\d+="(?:null|\d+)"/g, gb = new RegExp('<(?:' + eb + ')[\\s/>]', 'i'), hb = /^\s+/, ib = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, jb = /<([\w:]+)/, kb = /<tbody/i, lb = /<|&#?\w+;/, mb = /<(?:script|style|link)/i, nb = /checked\s*(?:[^=]|=\s*.checked.)/i, ob = /^$|\/(?:java|ecma)script/i, pb = /^true\/(.*)/, qb = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g, rb = {
      option: [
        1,
        '<select multiple=\'multiple\'>',
        '</select>'
      ],
      legend: [
        1,
        '<fieldset>',
        '</fieldset>'
      ],
      area: [
        1,
        '<map>',
        '</map>'
      ],
      param: [
        1,
        '<object>',
        '</object>'
      ],
      thead: [
        1,
        '<table>',
        '</table>'
      ],
      tr: [
        2,
        '<table><tbody>',
        '</tbody></table>'
      ],
      col: [
        2,
        '<table><tbody></tbody><colgroup>',
        '</colgroup></table>'
      ],
      td: [
        3,
        '<table><tbody><tr>',
        '</tr></tbody></table>'
      ],
      _default: k.htmlSerialize ? [
        0,
        '',
        ''
      ] : [
        1,
        'X<div>',
        '</div>'
      ]
    }, sb = db(y), tb = sb.appendChild(y.createElement('div'));
  rb.optgroup = rb.option, rb.tbody = rb.tfoot = rb.colgroup = rb.caption = rb.thead, rb.th = rb.td;
  function ub(a, b) {
    var c, d, e = 0, f = typeof a.getElementsByTagName !== K ? a.getElementsByTagName(b || '*') : typeof a.querySelectorAll !== K ? a.querySelectorAll(b || '*') : void 0;
    if (!f)
      for (f = [], c = a.childNodes || a; null != (d = c[e]); e++)
        !b || m.nodeName(d, b) ? f.push(d) : m.merge(f, ub(d, b));
    return void 0 === b || b && m.nodeName(a, b) ? m.merge([a], f) : f;
  }
  function vb(a) {
    W.test(a.type) && (a.defaultChecked = a.checked);
  }
  function wb(a, b) {
    return m.nodeName(a, 'table') && m.nodeName(11 !== b.nodeType ? b : b.firstChild, 'tr') ? a.getElementsByTagName('tbody')[0] || a.appendChild(a.ownerDocument.createElement('tbody')) : a;
  }
  function xb(a) {
    return a.type = (null !== m.find.attr(a, 'type')) + '/' + a.type, a;
  }
  function yb(a) {
    var b = pb.exec(a.type);
    return b ? a.type = b[1] : a.removeAttribute('type'), a;
  }
  function zb(a, b) {
    for (var c, d = 0; null != (c = a[d]); d++)
      m._data(c, 'globalEval', !b || m._data(b[d], 'globalEval'));
  }
  function Ab(a, b) {
    if (1 === b.nodeType && m.hasData(a)) {
      var c, d, e, f = m._data(a), g = m._data(b, f), h = f.events;
      if (h) {
        delete g.handle, g.events = {};
        for (c in h)
          for (d = 0, e = h[c].length; e > d; d++)
            m.event.add(b, c, h[c][d]);
      }
      g.data && (g.data = m.extend({}, g.data));
    }
  }
  function Bb(a, b) {
    var c, d, e;
    if (1 === b.nodeType) {
      if (c = b.nodeName.toLowerCase(), !k.noCloneEvent && b[m.expando]) {
        e = m._data(b);
        for (d in e.events)
          m.removeEvent(b, d, e.handle);
        b.removeAttribute(m.expando);
      }
      'script' === c && b.text !== a.text ? (xb(b).text = a.text, yb(b)) : 'object' === c ? (b.parentNode && (b.outerHTML = a.outerHTML), k.html5Clone && a.innerHTML && !m.trim(b.innerHTML) && (b.innerHTML = a.innerHTML)) : 'input' === c && W.test(a.type) ? (b.defaultChecked = b.checked = a.checked, b.value !== a.value && (b.value = a.value)) : 'option' === c ? b.defaultSelected = b.selected = a.defaultSelected : ('input' === c || 'textarea' === c) && (b.defaultValue = a.defaultValue);
    }
  }
  m.extend({
    clone: function (a, b, c) {
      var d, e, f, g, h, i = m.contains(a.ownerDocument, a);
      if (k.html5Clone || m.isXMLDoc(a) || !gb.test('<' + a.nodeName + '>') ? f = a.cloneNode(!0) : (tb.innerHTML = a.outerHTML, tb.removeChild(f = tb.firstChild)), !(k.noCloneEvent && k.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || m.isXMLDoc(a)))
        for (d = ub(f), h = ub(a), g = 0; null != (e = h[g]); ++g)
          d[g] && Bb(e, d[g]);
      if (b)
        if (c)
          for (h = h || ub(a), d = d || ub(f), g = 0; null != (e = h[g]); g++)
            Ab(e, d[g]);
        else
          Ab(a, f);
      return d = ub(f, 'script'), d.length > 0 && zb(d, !i && ub(a, 'script')), d = h = e = null, f;
    },
    buildFragment: function (a, b, c, d) {
      for (var e, f, g, h, i, j, l, n = a.length, o = db(b), p = [], q = 0; n > q; q++)
        if (f = a[q], f || 0 === f)
          if ('object' === m.type(f))
            m.merge(p, f.nodeType ? [f] : f);
          else if (lb.test(f)) {
            h = h || o.appendChild(b.createElement('div')), i = (jb.exec(f) || [
              '',
              ''
            ])[1].toLowerCase(), l = rb[i] || rb._default, h.innerHTML = l[1] + f.replace(ib, '<$1></$2>') + l[2], e = l[0];
            while (e--)
              h = h.lastChild;
            if (!k.leadingWhitespace && hb.test(f) && p.push(b.createTextNode(hb.exec(f)[0])), !k.tbody) {
              f = 'table' !== i || kb.test(f) ? '<table>' !== l[1] || kb.test(f) ? 0 : h : h.firstChild, e = f && f.childNodes.length;
              while (e--)
                m.nodeName(j = f.childNodes[e], 'tbody') && !j.childNodes.length && f.removeChild(j);
            }
            m.merge(p, h.childNodes), h.textContent = '';
            while (h.firstChild)
              h.removeChild(h.firstChild);
            h = o.lastChild;
          } else
            p.push(b.createTextNode(f));
      h && o.removeChild(h), k.appendChecked || m.grep(ub(p, 'input'), vb), q = 0;
      while (f = p[q++])
        if ((!d || -1 === m.inArray(f, d)) && (g = m.contains(f.ownerDocument, f), h = ub(o.appendChild(f), 'script'), g && zb(h), c)) {
          e = 0;
          while (f = h[e++])
            ob.test(f.type || '') && c.push(f);
        }
      return h = null, o;
    },
    cleanData: function (a, b) {
      for (var d, e, f, g, h = 0, i = m.expando, j = m.cache, l = k.deleteExpando, n = m.event.special; null != (d = a[h]); h++)
        if ((b || m.acceptData(d)) && (f = d[i], g = f && j[f])) {
          if (g.events)
            for (e in g.events)
              n[e] ? m.event.remove(d, e) : m.removeEvent(d, e, g.handle);
          j[f] && (delete j[f], l ? delete d[i] : typeof d.removeAttribute !== K ? d.removeAttribute(i) : d[i] = null, c.push(f));
        }
    }
  }), m.fn.extend({
    text: function (a) {
      return V(this, function (a) {
        return void 0 === a ? m.text(this) : this.empty().append((this[0] && this[0].ownerDocument || y).createTextNode(a));
      }, null, a, arguments.length);
    },
    append: function () {
      return this.domManip(arguments, function (a) {
        if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
          var b = wb(this, a);
          b.appendChild(a);
        }
      });
    },
    prepend: function () {
      return this.domManip(arguments, function (a) {
        if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
          var b = wb(this, a);
          b.insertBefore(a, b.firstChild);
        }
      });
    },
    before: function () {
      return this.domManip(arguments, function (a) {
        this.parentNode && this.parentNode.insertBefore(a, this);
      });
    },
    after: function () {
      return this.domManip(arguments, function (a) {
        this.parentNode && this.parentNode.insertBefore(a, this.nextSibling);
      });
    },
    remove: function (a, b) {
      for (var c, d = a ? m.filter(a, this) : this, e = 0; null != (c = d[e]); e++)
        b || 1 !== c.nodeType || m.cleanData(ub(c)), c.parentNode && (b && m.contains(c.ownerDocument, c) && zb(ub(c, 'script')), c.parentNode.removeChild(c));
      return this;
    },
    empty: function () {
      for (var a, b = 0; null != (a = this[b]); b++) {
        1 === a.nodeType && m.cleanData(ub(a, !1));
        while (a.firstChild)
          a.removeChild(a.firstChild);
        a.options && m.nodeName(a, 'select') && (a.options.length = 0);
      }
      return this;
    },
    clone: function (a, b) {
      return a = null == a ? !1 : a, b = null == b ? a : b, this.map(function () {
        return m.clone(this, a, b);
      });
    },
    html: function (a) {
      return V(this, function (a) {
        var b = this[0] || {}, c = 0, d = this.length;
        if (void 0 === a)
          return 1 === b.nodeType ? b.innerHTML.replace(fb, '') : void 0;
        if (!('string' != typeof a || mb.test(a) || !k.htmlSerialize && gb.test(a) || !k.leadingWhitespace && hb.test(a) || rb[(jb.exec(a) || [
            '',
            ''
          ])[1].toLowerCase()])) {
          a = a.replace(ib, '<$1></$2>');
          try {
            for (; d > c; c++)
              b = this[c] || {}, 1 === b.nodeType && (m.cleanData(ub(b, !1)), b.innerHTML = a);
            b = 0;
          } catch (e) {
          }
        }
        b && this.empty().append(a);
      }, null, a, arguments.length);
    },
    replaceWith: function () {
      var a = arguments[0];
      return this.domManip(arguments, function (b) {
        a = this.parentNode, m.cleanData(ub(this)), a && a.replaceChild(b, this);
      }), a && (a.length || a.nodeType) ? this : this.remove();
    },
    detach: function (a) {
      return this.remove(a, !0);
    },
    domManip: function (a, b) {
      a = e.apply([], a);
      var c, d, f, g, h, i, j = 0, l = this.length, n = this, o = l - 1, p = a[0], q = m.isFunction(p);
      if (q || l > 1 && 'string' == typeof p && !k.checkClone && nb.test(p))
        return this.each(function (c) {
          var d = n.eq(c);
          q && (a[0] = p.call(this, c, d.html())), d.domManip(a, b);
        });
      if (l && (i = m.buildFragment(a, this[0].ownerDocument, !1, this), c = i.firstChild, 1 === i.childNodes.length && (i = c), c)) {
        for (g = m.map(ub(i, 'script'), xb), f = g.length; l > j; j++)
          d = i, j !== o && (d = m.clone(d, !0, !0), f && m.merge(g, ub(d, 'script'))), b.call(this[j], d, j);
        if (f)
          for (h = g[g.length - 1].ownerDocument, m.map(g, yb), j = 0; f > j; j++)
            d = g[j], ob.test(d.type || '') && !m._data(d, 'globalEval') && m.contains(h, d) && (d.src ? m._evalUrl && m._evalUrl(d.src) : m.globalEval((d.text || d.textContent || d.innerHTML || '').replace(qb, '')));
        i = c = null;
      }
      return this;
    }
  }), m.each({
    appendTo: 'append',
    prependTo: 'prepend',
    insertBefore: 'before',
    insertAfter: 'after',
    replaceAll: 'replaceWith'
  }, function (a, b) {
    m.fn[a] = function (a) {
      for (var c, d = 0, e = [], g = m(a), h = g.length - 1; h >= d; d++)
        c = d === h ? this : this.clone(!0), m(g[d])[b](c), f.apply(e, c.get());
      return this.pushStack(e);
    };
  });
  var Cb, Db = {};
  function Eb(b, c) {
    var d, e = m(c.createElement(b)).appendTo(c.body), f = a.getDefaultComputedStyle && (d = a.getDefaultComputedStyle(e[0])) ? d.display : m.css(e[0], 'display');
    return e.detach(), f;
  }
  function Fb(a) {
    var b = y, c = Db[a];
    return c || (c = Eb(a, b), 'none' !== c && c || (Cb = (Cb || m('<iframe frameborder=\'0\' width=\'0\' height=\'0\'/>')).appendTo(b.documentElement), b = (Cb[0].contentWindow || Cb[0].contentDocument).document, b.write(), b.close(), c = Eb(a, b), Cb.detach()), Db[a] = c), c;
  }
  !function () {
    var a;
    k.shrinkWrapBlocks = function () {
      if (null != a)
        return a;
      a = !1;
      var b, c, d;
      return c = y.getElementsByTagName('body')[0], c && c.style ? (b = y.createElement('div'), d = y.createElement('div'), d.style.cssText = 'position:absolute;border:0;width:0;height:0;top:0;left:-9999px', c.appendChild(d).appendChild(b), typeof b.style.zoom !== K && (b.style.cssText = '-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1', b.appendChild(y.createElement('div')).style.width = '5px', a = 3 !== b.offsetWidth), c.removeChild(d), a) : void 0;
    };
  }();
  var Gb = /^margin/, Hb = new RegExp('^(' + S + ')(?!px)[a-z%]+$', 'i'), Ib, Jb, Kb = /^(top|right|bottom|left)$/;
  a.getComputedStyle ? (Ib = function (a) {
    return a.ownerDocument.defaultView.getComputedStyle(a, null);
  }, Jb = function (a, b, c) {
    var d, e, f, g, h = a.style;
    return c = c || Ib(a), g = c ? c.getPropertyValue(b) || c[b] : void 0, c && ('' !== g || m.contains(a.ownerDocument, a) || (g = m.style(a, b)), Hb.test(g) && Gb.test(b) && (d = h.width, e = h.minWidth, f = h.maxWidth, h.minWidth = h.maxWidth = h.width = g, g = c.width, h.width = d, h.minWidth = e, h.maxWidth = f)), void 0 === g ? g : g + '';
  }) : y.documentElement.currentStyle && (Ib = function (a) {
    return a.currentStyle;
  }, Jb = function (a, b, c) {
    var d, e, f, g, h = a.style;
    return c = c || Ib(a), g = c ? c[b] : void 0, null == g && h && h[b] && (g = h[b]), Hb.test(g) && !Kb.test(b) && (d = h.left, e = a.runtimeStyle, f = e && e.left, f && (e.left = a.currentStyle.left), h.left = 'fontSize' === b ? '1em' : g, g = h.pixelLeft + 'px', h.left = d, f && (e.left = f)), void 0 === g ? g : g + '' || 'auto';
  });
  function Lb(a, b) {
    return {
      get: function () {
        var c = a();
        if (null != c)
          return c ? void delete this.get : (this.get = b).apply(this, arguments);
      }
    };
  }
  !function () {
    var b, c, d, e, f, g, h;
    if (b = y.createElement('div'), b.innerHTML = '  <link/><table></table><a href=\'/a\'>a</a><input type=\'checkbox\'/>', d = b.getElementsByTagName('a')[0], c = d && d.style) {
      c.cssText = 'float:left;opacity:.5', k.opacity = '0.5' === c.opacity, k.cssFloat = !!c.cssFloat, b.style.backgroundClip = 'content-box', b.cloneNode(!0).style.backgroundClip = '', k.clearCloneStyle = 'content-box' === b.style.backgroundClip, k.boxSizing = '' === c.boxSizing || '' === c.MozBoxSizing || '' === c.WebkitBoxSizing, m.extend(k, {
        reliableHiddenOffsets: function () {
          return null == g && i(), g;
        },
        boxSizingReliable: function () {
          return null == f && i(), f;
        },
        pixelPosition: function () {
          return null == e && i(), e;
        },
        reliableMarginRight: function () {
          return null == h && i(), h;
        }
      });
      function i() {
        var b, c, d, i;
        c = y.getElementsByTagName('body')[0], c && c.style && (b = y.createElement('div'), d = y.createElement('div'), d.style.cssText = 'position:absolute;border:0;width:0;height:0;top:0;left:-9999px', c.appendChild(d).appendChild(b), b.style.cssText = '-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute', e = f = !1, h = !0, a.getComputedStyle && (e = '1%' !== (a.getComputedStyle(b, null) || {}).top, f = '4px' === (a.getComputedStyle(b, null) || { width: '4px' }).width, i = b.appendChild(y.createElement('div')), i.style.cssText = b.style.cssText = '-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0', i.style.marginRight = i.style.width = '0', b.style.width = '1px', h = !parseFloat((a.getComputedStyle(i, null) || {}).marginRight)), b.innerHTML = '<table><tr><td></td><td>t</td></tr></table>', i = b.getElementsByTagName('td'), i[0].style.cssText = 'margin:0;border:0;padding:0;display:none', g = 0 === i[0].offsetHeight, g && (i[0].style.display = '', i[1].style.display = 'none', g = 0 === i[0].offsetHeight), c.removeChild(d));
      }
    }
  }(), m.swap = function (a, b, c, d) {
    var e, f, g = {};
    for (f in b)
      g[f] = a.style[f], a.style[f] = b[f];
    e = c.apply(a, d || []);
    for (f in b)
      a.style[f] = g[f];
    return e;
  };
  var Mb = /alpha\([^)]*\)/i, Nb = /opacity\s*=\s*([^)]*)/, Ob = /^(none|table(?!-c[ea]).+)/, Pb = new RegExp('^(' + S + ')(.*)$', 'i'), Qb = new RegExp('^([+-])=(' + S + ')', 'i'), Rb = {
      position: 'absolute',
      visibility: 'hidden',
      display: 'block'
    }, Sb = {
      letterSpacing: '0',
      fontWeight: '400'
    }, Tb = [
      'Webkit',
      'O',
      'Moz',
      'ms'
    ];
  function Ub(a, b) {
    if (b in a)
      return b;
    var c = b.charAt(0).toUpperCase() + b.slice(1), d = b, e = Tb.length;
    while (e--)
      if (b = Tb[e] + c, b in a)
        return b;
    return d;
  }
  function Vb(a, b) {
    for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++)
      d = a[g], d.style && (f[g] = m._data(d, 'olddisplay'), c = d.style.display, b ? (f[g] || 'none' !== c || (d.style.display = ''), '' === d.style.display && U(d) && (f[g] = m._data(d, 'olddisplay', Fb(d.nodeName)))) : (e = U(d), (c && 'none' !== c || !e) && m._data(d, 'olddisplay', e ? c : m.css(d, 'display'))));
    for (g = 0; h > g; g++)
      d = a[g], d.style && (b && 'none' !== d.style.display && '' !== d.style.display || (d.style.display = b ? f[g] || '' : 'none'));
    return a;
  }
  function Wb(a, b, c) {
    var d = Pb.exec(b);
    return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || 'px') : b;
  }
  function Xb(a, b, c, d, e) {
    for (var f = c === (d ? 'border' : 'content') ? 4 : 'width' === b ? 1 : 0, g = 0; 4 > f; f += 2)
      'margin' === c && (g += m.css(a, c + T[f], !0, e)), d ? ('content' === c && (g -= m.css(a, 'padding' + T[f], !0, e)), 'margin' !== c && (g -= m.css(a, 'border' + T[f] + 'Width', !0, e))) : (g += m.css(a, 'padding' + T[f], !0, e), 'padding' !== c && (g += m.css(a, 'border' + T[f] + 'Width', !0, e)));
    return g;
  }
  function Yb(a, b, c) {
    var d = !0, e = 'width' === b ? a.offsetWidth : a.offsetHeight, f = Ib(a), g = k.boxSizing && 'border-box' === m.css(a, 'boxSizing', !1, f);
    if (0 >= e || null == e) {
      if (e = Jb(a, b, f), (0 > e || null == e) && (e = a.style[b]), Hb.test(e))
        return e;
      d = g && (k.boxSizingReliable() || e === a.style[b]), e = parseFloat(e) || 0;
    }
    return e + Xb(a, b, c || (g ? 'border' : 'content'), d, f) + 'px';
  }
  m.extend({
    cssHooks: {
      opacity: {
        get: function (a, b) {
          if (b) {
            var c = Jb(a, 'opacity');
            return '' === c ? '1' : c;
          }
        }
      }
    },
    cssNumber: {
      columnCount: !0,
      fillOpacity: !0,
      flexGrow: !0,
      flexShrink: !0,
      fontWeight: !0,
      lineHeight: !0,
      opacity: !0,
      order: !0,
      orphans: !0,
      widows: !0,
      zIndex: !0,
      zoom: !0
    },
    cssProps: { 'float': k.cssFloat ? 'cssFloat' : 'styleFloat' },
    style: function (a, b, c, d) {
      if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
        var e, f, g, h = m.camelCase(b), i = a.style;
        if (b = m.cssProps[h] || (m.cssProps[h] = Ub(i, h)), g = m.cssHooks[b] || m.cssHooks[h], void 0 === c)
          return g && 'get' in g && void 0 !== (e = g.get(a, !1, d)) ? e : i[b];
        if (f = typeof c, 'string' === f && (e = Qb.exec(c)) && (c = (e[1] + 1) * e[2] + parseFloat(m.css(a, b)), f = 'number'), null != c && c === c && ('number' !== f || m.cssNumber[h] || (c += 'px'), k.clearCloneStyle || '' !== c || 0 !== b.indexOf('background') || (i[b] = 'inherit'), !(g && 'set' in g && void 0 === (c = g.set(a, c, d)))))
          try {
            i[b] = c;
          } catch (j) {
          }
      }
    },
    css: function (a, b, c, d) {
      var e, f, g, h = m.camelCase(b);
      return b = m.cssProps[h] || (m.cssProps[h] = Ub(a.style, h)), g = m.cssHooks[b] || m.cssHooks[h], g && 'get' in g && (f = g.get(a, !0, c)), void 0 === f && (f = Jb(a, b, d)), 'normal' === f && b in Sb && (f = Sb[b]), '' === c || c ? (e = parseFloat(f), c === !0 || m.isNumeric(e) ? e || 0 : f) : f;
    }
  }), m.each([
    'height',
    'width'
  ], function (a, b) {
    m.cssHooks[b] = {
      get: function (a, c, d) {
        return c ? Ob.test(m.css(a, 'display')) && 0 === a.offsetWidth ? m.swap(a, Rb, function () {
          return Yb(a, b, d);
        }) : Yb(a, b, d) : void 0;
      },
      set: function (a, c, d) {
        var e = d && Ib(a);
        return Wb(a, c, d ? Xb(a, b, d, k.boxSizing && 'border-box' === m.css(a, 'boxSizing', !1, e), e) : 0);
      }
    };
  }), k.opacity || (m.cssHooks.opacity = {
    get: function (a, b) {
      return Nb.test((b && a.currentStyle ? a.currentStyle.filter : a.style.filter) || '') ? 0.01 * parseFloat(RegExp.$1) + '' : b ? '1' : '';
    },
    set: function (a, b) {
      var c = a.style, d = a.currentStyle, e = m.isNumeric(b) ? 'alpha(opacity=' + 100 * b + ')' : '', f = d && d.filter || c.filter || '';
      c.zoom = 1, (b >= 1 || '' === b) && '' === m.trim(f.replace(Mb, '')) && c.removeAttribute && (c.removeAttribute('filter'), '' === b || d && !d.filter) || (c.filter = Mb.test(f) ? f.replace(Mb, e) : f + ' ' + e);
    }
  }), m.cssHooks.marginRight = Lb(k.reliableMarginRight, function (a, b) {
    return b ? m.swap(a, { display: 'inline-block' }, Jb, [
      a,
      'marginRight'
    ]) : void 0;
  }), m.each({
    margin: '',
    padding: '',
    border: 'Width'
  }, function (a, b) {
    m.cssHooks[a + b] = {
      expand: function (c) {
        for (var d = 0, e = {}, f = 'string' == typeof c ? c.split(' ') : [c]; 4 > d; d++)
          e[a + T[d] + b] = f[d] || f[d - 2] || f[0];
        return e;
      }
    }, Gb.test(a) || (m.cssHooks[a + b].set = Wb);
  }), m.fn.extend({
    css: function (a, b) {
      return V(this, function (a, b, c) {
        var d, e, f = {}, g = 0;
        if (m.isArray(b)) {
          for (d = Ib(a), e = b.length; e > g; g++)
            f[b[g]] = m.css(a, b[g], !1, d);
          return f;
        }
        return void 0 !== c ? m.style(a, b, c) : m.css(a, b);
      }, a, b, arguments.length > 1);
    },
    show: function () {
      return Vb(this, !0);
    },
    hide: function () {
      return Vb(this);
    },
    toggle: function (a) {
      return 'boolean' == typeof a ? a ? this.show() : this.hide() : this.each(function () {
        U(this) ? m(this).show() : m(this).hide();
      });
    }
  });
  function Zb(a, b, c, d, e) {
    return new Zb.prototype.init(a, b, c, d, e);
  }
  m.Tween = Zb, Zb.prototype = {
    constructor: Zb,
    init: function (a, b, c, d, e, f) {
      this.elem = a, this.prop = c, this.easing = e || 'swing', this.options = b, this.start = this.now = this.cur(), this.end = d, this.unit = f || (m.cssNumber[c] ? '' : 'px');
    },
    cur: function () {
      var a = Zb.propHooks[this.prop];
      return a && a.get ? a.get(this) : Zb.propHooks._default.get(this);
    },
    run: function (a) {
      var b, c = Zb.propHooks[this.prop];
      return this.pos = b = this.options.duration ? m.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : a, this.now = (this.end - this.start) * b + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), c && c.set ? c.set(this) : Zb.propHooks._default.set(this), this;
    }
  }, Zb.prototype.init.prototype = Zb.prototype, Zb.propHooks = {
    _default: {
      get: function (a) {
        var b;
        return null == a.elem[a.prop] || a.elem.style && null != a.elem.style[a.prop] ? (b = m.css(a.elem, a.prop, ''), b && 'auto' !== b ? b : 0) : a.elem[a.prop];
      },
      set: function (a) {
        m.fx.step[a.prop] ? m.fx.step[a.prop](a) : a.elem.style && (null != a.elem.style[m.cssProps[a.prop]] || m.cssHooks[a.prop]) ? m.style(a.elem, a.prop, a.now + a.unit) : a.elem[a.prop] = a.now;
      }
    }
  }, Zb.propHooks.scrollTop = Zb.propHooks.scrollLeft = {
    set: function (a) {
      a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now);
    }
  }, m.easing = {
    linear: function (a) {
      return a;
    },
    swing: function (a) {
      return 0.5 - Math.cos(a * Math.PI) / 2;
    }
  }, m.fx = Zb.prototype.init, m.fx.step = {};
  var $b, _b, ac = /^(?:toggle|show|hide)$/, bc = new RegExp('^(?:([+-])=|)(' + S + ')([a-z%]*)$', 'i'), cc = /queueHooks$/, dc = [ic], ec = {
      '*': [function (a, b) {
          var c = this.createTween(a, b), d = c.cur(), e = bc.exec(b), f = e && e[3] || (m.cssNumber[a] ? '' : 'px'), g = (m.cssNumber[a] || 'px' !== f && +d) && bc.exec(m.css(c.elem, a)), h = 1, i = 20;
          if (g && g[3] !== f) {
            f = f || g[3], e = e || [], g = +d || 1;
            do
              h = h || '.5', g /= h, m.style(c.elem, a, g + f);
            while (h !== (h = c.cur() / d) && 1 !== h && --i);
          }
          return e && (g = c.start = +g || +d || 0, c.unit = f, c.end = e[1] ? g + (e[1] + 1) * e[2] : +e[2]), c;
        }]
    };
  function fc() {
    return setTimeout(function () {
      $b = void 0;
    }), $b = m.now();
  }
  function gc(a, b) {
    var c, d = { height: a }, e = 0;
    for (b = b ? 1 : 0; 4 > e; e += 2 - b)
      c = T[e], d['margin' + c] = d['padding' + c] = a;
    return b && (d.opacity = d.width = a), d;
  }
  function hc(a, b, c) {
    for (var d, e = (ec[b] || []).concat(ec['*']), f = 0, g = e.length; g > f; f++)
      if (d = e[f].call(c, b, a))
        return d;
  }
  function ic(a, b, c) {
    var d, e, f, g, h, i, j, l, n = this, o = {}, p = a.style, q = a.nodeType && U(a), r = m._data(a, 'fxshow');
    c.queue || (h = m._queueHooks(a, 'fx'), null == h.unqueued && (h.unqueued = 0, i = h.empty.fire, h.empty.fire = function () {
      h.unqueued || i();
    }), h.unqueued++, n.always(function () {
      n.always(function () {
        h.unqueued--, m.queue(a, 'fx').length || h.empty.fire();
      });
    })), 1 === a.nodeType && ('height' in b || 'width' in b) && (c.overflow = [
      p.overflow,
      p.overflowX,
      p.overflowY
    ], j = m.css(a, 'display'), l = 'none' === j ? m._data(a, 'olddisplay') || Fb(a.nodeName) : j, 'inline' === l && 'none' === m.css(a, 'float') && (k.inlineBlockNeedsLayout && 'inline' !== Fb(a.nodeName) ? p.zoom = 1 : p.display = 'inline-block')), c.overflow && (p.overflow = 'hidden', k.shrinkWrapBlocks() || n.always(function () {
      p.overflow = c.overflow[0], p.overflowX = c.overflow[1], p.overflowY = c.overflow[2];
    }));
    for (d in b)
      if (e = b[d], ac.exec(e)) {
        if (delete b[d], f = f || 'toggle' === e, e === (q ? 'hide' : 'show')) {
          if ('show' !== e || !r || void 0 === r[d])
            continue;
          q = !0;
        }
        o[d] = r && r[d] || m.style(a, d);
      } else
        j = void 0;
    if (m.isEmptyObject(o))
      'inline' === ('none' === j ? Fb(a.nodeName) : j) && (p.display = j);
    else {
      r ? 'hidden' in r && (q = r.hidden) : r = m._data(a, 'fxshow', {}), f && (r.hidden = !q), q ? m(a).show() : n.done(function () {
        m(a).hide();
      }), n.done(function () {
        var b;
        m._removeData(a, 'fxshow');
        for (b in o)
          m.style(a, b, o[b]);
      });
      for (d in o)
        g = hc(q ? r[d] : 0, d, n), d in r || (r[d] = g.start, q && (g.end = g.start, g.start = 'width' === d || 'height' === d ? 1 : 0));
    }
  }
  function jc(a, b) {
    var c, d, e, f, g;
    for (c in a)
      if (d = m.camelCase(c), e = b[d], f = a[c], m.isArray(f) && (e = f[1], f = a[c] = f[0]), c !== d && (a[d] = f, delete a[c]), g = m.cssHooks[d], g && 'expand' in g) {
        f = g.expand(f), delete a[d];
        for (c in f)
          c in a || (a[c] = f[c], b[c] = e);
      } else
        b[d] = e;
  }
  function kc(a, b, c) {
    var d, e, f = 0, g = dc.length, h = m.Deferred().always(function () {
        delete i.elem;
      }), i = function () {
        if (e)
          return !1;
        for (var b = $b || fc(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; i > g; g++)
          j.tweens[g].run(f);
        return h.notifyWith(a, [
          j,
          f,
          c
        ]), 1 > f && i ? c : (h.resolveWith(a, [j]), !1);
      }, j = h.promise({
        elem: a,
        props: m.extend({}, b),
        opts: m.extend(!0, { specialEasing: {} }, c),
        originalProperties: b,
        originalOptions: c,
        startTime: $b || fc(),
        duration: c.duration,
        tweens: [],
        createTween: function (b, c) {
          var d = m.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
          return j.tweens.push(d), d;
        },
        stop: function (b) {
          var c = 0, d = b ? j.tweens.length : 0;
          if (e)
            return this;
          for (e = !0; d > c; c++)
            j.tweens[c].run(1);
          return b ? h.resolveWith(a, [
            j,
            b
          ]) : h.rejectWith(a, [
            j,
            b
          ]), this;
        }
      }), k = j.props;
    for (jc(k, j.opts.specialEasing); g > f; f++)
      if (d = dc[f].call(j, a, k, j.opts))
        return d;
    return m.map(k, hc, j), m.isFunction(j.opts.start) && j.opts.start.call(a, j), m.fx.timer(m.extend(i, {
      elem: a,
      anim: j,
      queue: j.opts.queue
    })), j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always);
  }
  m.Animation = m.extend(kc, {
    tweener: function (a, b) {
      m.isFunction(a) ? (b = a, a = ['*']) : a = a.split(' ');
      for (var c, d = 0, e = a.length; e > d; d++)
        c = a[d], ec[c] = ec[c] || [], ec[c].unshift(b);
    },
    prefilter: function (a, b) {
      b ? dc.unshift(a) : dc.push(a);
    }
  }), m.speed = function (a, b, c) {
    var d = a && 'object' == typeof a ? m.extend({}, a) : {
        complete: c || !c && b || m.isFunction(a) && a,
        duration: a,
        easing: c && b || b && !m.isFunction(b) && b
      };
    return d.duration = m.fx.off ? 0 : 'number' == typeof d.duration ? d.duration : d.duration in m.fx.speeds ? m.fx.speeds[d.duration] : m.fx.speeds._default, (null == d.queue || d.queue === !0) && (d.queue = 'fx'), d.old = d.complete, d.complete = function () {
      m.isFunction(d.old) && d.old.call(this), d.queue && m.dequeue(this, d.queue);
    }, d;
  }, m.fn.extend({
    fadeTo: function (a, b, c, d) {
      return this.filter(U).css('opacity', 0).show().end().animate({ opacity: b }, a, c, d);
    },
    animate: function (a, b, c, d) {
      var e = m.isEmptyObject(a), f = m.speed(b, c, d), g = function () {
          var b = kc(this, m.extend({}, a), f);
          (e || m._data(this, 'finish')) && b.stop(!0);
        };
      return g.finish = g, e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g);
    },
    stop: function (a, b, c) {
      var d = function (a) {
        var b = a.stop;
        delete a.stop, b(c);
      };
      return 'string' != typeof a && (c = b, b = a, a = void 0), b && a !== !1 && this.queue(a || 'fx', []), this.each(function () {
        var b = !0, e = null != a && a + 'queueHooks', f = m.timers, g = m._data(this);
        if (e)
          g[e] && g[e].stop && d(g[e]);
        else
          for (e in g)
            g[e] && g[e].stop && cc.test(e) && d(g[e]);
        for (e = f.length; e--;)
          f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c), b = !1, f.splice(e, 1));
        (b || !c) && m.dequeue(this, a);
      });
    },
    finish: function (a) {
      return a !== !1 && (a = a || 'fx'), this.each(function () {
        var b, c = m._data(this), d = c[a + 'queue'], e = c[a + 'queueHooks'], f = m.timers, g = d ? d.length : 0;
        for (c.finish = !0, m.queue(this, a, []), e && e.stop && e.stop.call(this, !0), b = f.length; b--;)
          f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0), f.splice(b, 1));
        for (b = 0; g > b; b++)
          d[b] && d[b].finish && d[b].finish.call(this);
        delete c.finish;
      });
    }
  }), m.each([
    'toggle',
    'show',
    'hide'
  ], function (a, b) {
    var c = m.fn[b];
    m.fn[b] = function (a, d, e) {
      return null == a || 'boolean' == typeof a ? c.apply(this, arguments) : this.animate(gc(b, !0), a, d, e);
    };
  }), m.each({
    slideDown: gc('show'),
    slideUp: gc('hide'),
    slideToggle: gc('toggle'),
    fadeIn: { opacity: 'show' },
    fadeOut: { opacity: 'hide' },
    fadeToggle: { opacity: 'toggle' }
  }, function (a, b) {
    m.fn[a] = function (a, c, d) {
      return this.animate(b, a, c, d);
    };
  }), m.timers = [], m.fx.tick = function () {
    var a, b = m.timers, c = 0;
    for ($b = m.now(); c < b.length; c++)
      a = b[c], a() || b[c] !== a || b.splice(c--, 1);
    b.length || m.fx.stop(), $b = void 0;
  }, m.fx.timer = function (a) {
    m.timers.push(a), a() ? m.fx.start() : m.timers.pop();
  }, m.fx.interval = 13, m.fx.start = function () {
    _b || (_b = setInterval(m.fx.tick, m.fx.interval));
  }, m.fx.stop = function () {
    clearInterval(_b), _b = null;
  }, m.fx.speeds = {
    slow: 600,
    fast: 200,
    _default: 400
  }, m.fn.delay = function (a, b) {
    return a = m.fx ? m.fx.speeds[a] || a : a, b = b || 'fx', this.queue(b, function (b, c) {
      var d = setTimeout(b, a);
      c.stop = function () {
        clearTimeout(d);
      };
    });
  }, function () {
    var a, b, c, d, e;
    b = y.createElement('div'), b.setAttribute('className', 't'), b.innerHTML = '  <link/><table></table><a href=\'/a\'>a</a><input type=\'checkbox\'/>', d = b.getElementsByTagName('a')[0], c = y.createElement('select'), e = c.appendChild(y.createElement('option')), a = b.getElementsByTagName('input')[0], d.style.cssText = 'top:1px', k.getSetAttribute = 't' !== b.className, k.style = /top/.test(d.getAttribute('style')), k.hrefNormalized = '/a' === d.getAttribute('href'), k.checkOn = !!a.value, k.optSelected = e.selected, k.enctype = !!y.createElement('form').enctype, c.disabled = !0, k.optDisabled = !e.disabled, a = y.createElement('input'), a.setAttribute('value', ''), k.input = '' === a.getAttribute('value'), a.value = 't', a.setAttribute('type', 'radio'), k.radioValue = 't' === a.value;
  }();
  var lc = /\r/g;
  m.fn.extend({
    val: function (a) {
      var b, c, d, e = this[0];
      {
        if (arguments.length)
          return d = m.isFunction(a), this.each(function (c) {
            var e;
            1 === this.nodeType && (e = d ? a.call(this, c, m(this).val()) : a, null == e ? e = '' : 'number' == typeof e ? e += '' : m.isArray(e) && (e = m.map(e, function (a) {
              return null == a ? '' : a + '';
            })), b = m.valHooks[this.type] || m.valHooks[this.nodeName.toLowerCase()], b && 'set' in b && void 0 !== b.set(this, e, 'value') || (this.value = e));
          });
        if (e)
          return b = m.valHooks[e.type] || m.valHooks[e.nodeName.toLowerCase()], b && 'get' in b && void 0 !== (c = b.get(e, 'value')) ? c : (c = e.value, 'string' == typeof c ? c.replace(lc, '') : null == c ? '' : c);
      }
    }
  }), m.extend({
    valHooks: {
      option: {
        get: function (a) {
          var b = m.find.attr(a, 'value');
          return null != b ? b : m.trim(m.text(a));
        }
      },
      select: {
        get: function (a) {
          for (var b, c, d = a.options, e = a.selectedIndex, f = 'select-one' === a.type || 0 > e, g = f ? null : [], h = f ? e + 1 : d.length, i = 0 > e ? h : f ? e : 0; h > i; i++)
            if (c = d[i], !(!c.selected && i !== e || (k.optDisabled ? c.disabled : null !== c.getAttribute('disabled')) || c.parentNode.disabled && m.nodeName(c.parentNode, 'optgroup'))) {
              if (b = m(c).val(), f)
                return b;
              g.push(b);
            }
          return g;
        },
        set: function (a, b) {
          var c, d, e = a.options, f = m.makeArray(b), g = e.length;
          while (g--)
            if (d = e[g], m.inArray(m.valHooks.option.get(d), f) >= 0)
              try {
                d.selected = c = !0;
              } catch (h) {
                d.scrollHeight;
              }
            else
              d.selected = !1;
          return c || (a.selectedIndex = -1), e;
        }
      }
    }
  }), m.each([
    'radio',
    'checkbox'
  ], function () {
    m.valHooks[this] = {
      set: function (a, b) {
        return m.isArray(b) ? a.checked = m.inArray(m(a).val(), b) >= 0 : void 0;
      }
    }, k.checkOn || (m.valHooks[this].get = function (a) {
      return null === a.getAttribute('value') ? 'on' : a.value;
    });
  });
  var mc, nc, oc = m.expr.attrHandle, pc = /^(?:checked|selected)$/i, qc = k.getSetAttribute, rc = k.input;
  m.fn.extend({
    attr: function (a, b) {
      return V(this, m.attr, a, b, arguments.length > 1);
    },
    removeAttr: function (a) {
      return this.each(function () {
        m.removeAttr(this, a);
      });
    }
  }), m.extend({
    attr: function (a, b, c) {
      var d, e, f = a.nodeType;
      if (a && 3 !== f && 8 !== f && 2 !== f)
        return typeof a.getAttribute === K ? m.prop(a, b, c) : (1 === f && m.isXMLDoc(a) || (b = b.toLowerCase(), d = m.attrHooks[b] || (m.expr.match.bool.test(b) ? nc : mc)), void 0 === c ? d && 'get' in d && null !== (e = d.get(a, b)) ? e : (e = m.find.attr(a, b), null == e ? void 0 : e) : null !== c ? d && 'set' in d && void 0 !== (e = d.set(a, c, b)) ? e : (a.setAttribute(b, c + ''), c) : void m.removeAttr(a, b));
    },
    removeAttr: function (a, b) {
      var c, d, e = 0, f = b && b.match(E);
      if (f && 1 === a.nodeType)
        while (c = f[e++])
          d = m.propFix[c] || c, m.expr.match.bool.test(c) ? rc && qc || !pc.test(c) ? a[d] = !1 : a[m.camelCase('default-' + c)] = a[d] = !1 : m.attr(a, c, ''), a.removeAttribute(qc ? c : d);
    },
    attrHooks: {
      type: {
        set: function (a, b) {
          if (!k.radioValue && 'radio' === b && m.nodeName(a, 'input')) {
            var c = a.value;
            return a.setAttribute('type', b), c && (a.value = c), b;
          }
        }
      }
    }
  }), nc = {
    set: function (a, b, c) {
      return b === !1 ? m.removeAttr(a, c) : rc && qc || !pc.test(c) ? a.setAttribute(!qc && m.propFix[c] || c, c) : a[m.camelCase('default-' + c)] = a[c] = !0, c;
    }
  }, m.each(m.expr.match.bool.source.match(/\w+/g), function (a, b) {
    var c = oc[b] || m.find.attr;
    oc[b] = rc && qc || !pc.test(b) ? function (a, b, d) {
      var e, f;
      return d || (f = oc[b], oc[b] = e, e = null != c(a, b, d) ? b.toLowerCase() : null, oc[b] = f), e;
    } : function (a, b, c) {
      return c ? void 0 : a[m.camelCase('default-' + b)] ? b.toLowerCase() : null;
    };
  }), rc && qc || (m.attrHooks.value = {
    set: function (a, b, c) {
      return m.nodeName(a, 'input') ? void (a.defaultValue = b) : mc && mc.set(a, b, c);
    }
  }), qc || (mc = {
    set: function (a, b, c) {
      var d = a.getAttributeNode(c);
      return d || a.setAttributeNode(d = a.ownerDocument.createAttribute(c)), d.value = b += '', 'value' === c || b === a.getAttribute(c) ? b : void 0;
    }
  }, oc.id = oc.name = oc.coords = function (a, b, c) {
    var d;
    return c ? void 0 : (d = a.getAttributeNode(b)) && '' !== d.value ? d.value : null;
  }, m.valHooks.button = {
    get: function (a, b) {
      var c = a.getAttributeNode(b);
      return c && c.specified ? c.value : void 0;
    },
    set: mc.set
  }, m.attrHooks.contenteditable = {
    set: function (a, b, c) {
      mc.set(a, '' === b ? !1 : b, c);
    }
  }, m.each([
    'width',
    'height'
  ], function (a, b) {
    m.attrHooks[b] = {
      set: function (a, c) {
        return '' === c ? (a.setAttribute(b, 'auto'), c) : void 0;
      }
    };
  })), k.style || (m.attrHooks.style = {
    get: function (a) {
      return a.style.cssText || void 0;
    },
    set: function (a, b) {
      return a.style.cssText = b + '';
    }
  });
  var sc = /^(?:input|select|textarea|button|object)$/i, tc = /^(?:a|area)$/i;
  m.fn.extend({
    prop: function (a, b) {
      return V(this, m.prop, a, b, arguments.length > 1);
    },
    removeProp: function (a) {
      return a = m.propFix[a] || a, this.each(function () {
        try {
          this[a] = void 0, delete this[a];
        } catch (b) {
        }
      });
    }
  }), m.extend({
    propFix: {
      'for': 'htmlFor',
      'class': 'className'
    },
    prop: function (a, b, c) {
      var d, e, f, g = a.nodeType;
      if (a && 3 !== g && 8 !== g && 2 !== g)
        return f = 1 !== g || !m.isXMLDoc(a), f && (b = m.propFix[b] || b, e = m.propHooks[b]), void 0 !== c ? e && 'set' in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && 'get' in e && null !== (d = e.get(a, b)) ? d : a[b];
    },
    propHooks: {
      tabIndex: {
        get: function (a) {
          var b = m.find.attr(a, 'tabindex');
          return b ? parseInt(b, 10) : sc.test(a.nodeName) || tc.test(a.nodeName) && a.href ? 0 : -1;
        }
      }
    }
  }), k.hrefNormalized || m.each([
    'href',
    'src'
  ], function (a, b) {
    m.propHooks[b] = {
      get: function (a) {
        return a.getAttribute(b, 4);
      }
    };
  }), k.optSelected || (m.propHooks.selected = {
    get: function (a) {
      var b = a.parentNode;
      return b && (b.selectedIndex, b.parentNode && b.parentNode.selectedIndex), null;
    }
  }), m.each([
    'tabIndex',
    'readOnly',
    'maxLength',
    'cellSpacing',
    'cellPadding',
    'rowSpan',
    'colSpan',
    'useMap',
    'frameBorder',
    'contentEditable'
  ], function () {
    m.propFix[this.toLowerCase()] = this;
  }), k.enctype || (m.propFix.enctype = 'encoding');
  var uc = /[\t\r\n\f]/g;
  m.fn.extend({
    addClass: function (a) {
      var b, c, d, e, f, g, h = 0, i = this.length, j = 'string' == typeof a && a;
      if (m.isFunction(a))
        return this.each(function (b) {
          m(this).addClass(a.call(this, b, this.className));
        });
      if (j)
        for (b = (a || '').match(E) || []; i > h; h++)
          if (c = this[h], d = 1 === c.nodeType && (c.className ? (' ' + c.className + ' ').replace(uc, ' ') : ' ')) {
            f = 0;
            while (e = b[f++])
              d.indexOf(' ' + e + ' ') < 0 && (d += e + ' ');
            g = m.trim(d), c.className !== g && (c.className = g);
          }
      return this;
    },
    removeClass: function (a) {
      var b, c, d, e, f, g, h = 0, i = this.length, j = 0 === arguments.length || 'string' == typeof a && a;
      if (m.isFunction(a))
        return this.each(function (b) {
          m(this).removeClass(a.call(this, b, this.className));
        });
      if (j)
        for (b = (a || '').match(E) || []; i > h; h++)
          if (c = this[h], d = 1 === c.nodeType && (c.className ? (' ' + c.className + ' ').replace(uc, ' ') : '')) {
            f = 0;
            while (e = b[f++])
              while (d.indexOf(' ' + e + ' ') >= 0)
                d = d.replace(' ' + e + ' ', ' ');
            g = a ? m.trim(d) : '', c.className !== g && (c.className = g);
          }
      return this;
    },
    toggleClass: function (a, b) {
      var c = typeof a;
      return 'boolean' == typeof b && 'string' === c ? b ? this.addClass(a) : this.removeClass(a) : this.each(m.isFunction(a) ? function (c) {
        m(this).toggleClass(a.call(this, c, this.className, b), b);
      } : function () {
        if ('string' === c) {
          var b, d = 0, e = m(this), f = a.match(E) || [];
          while (b = f[d++])
            e.hasClass(b) ? e.removeClass(b) : e.addClass(b);
        } else
          (c === K || 'boolean' === c) && (this.className && m._data(this, '__className__', this.className), this.className = this.className || a === !1 ? '' : m._data(this, '__className__') || '');
      });
    },
    hasClass: function (a) {
      for (var b = ' ' + a + ' ', c = 0, d = this.length; d > c; c++)
        if (1 === this[c].nodeType && (' ' + this[c].className + ' ').replace(uc, ' ').indexOf(b) >= 0)
          return !0;
      return !1;
    }
  }), m.each('blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu'.split(' '), function (a, b) {
    m.fn[b] = function (a, c) {
      return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b);
    };
  }), m.fn.extend({
    hover: function (a, b) {
      return this.mouseenter(a).mouseleave(b || a);
    },
    bind: function (a, b, c) {
      return this.on(a, null, b, c);
    },
    unbind: function (a, b) {
      return this.off(a, null, b);
    },
    delegate: function (a, b, c, d) {
      return this.on(b, a, c, d);
    },
    undelegate: function (a, b, c) {
      return 1 === arguments.length ? this.off(a, '**') : this.off(b, a || '**', c);
    }
  });
  var vc = m.now(), wc = /\?/, xc = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
  m.parseJSON = function (b) {
    if (a.JSON && a.JSON.parse)
      return a.JSON.parse(b + '');
    var c, d = null, e = m.trim(b + '');
    return e && !m.trim(e.replace(xc, function (a, b, e, f) {
      return c && b && (d = 0), 0 === d ? a : (c = e || b, d += !f - !e, '');
    })) ? Function('return ' + e)() : m.error('Invalid JSON: ' + b);
  }, m.parseXML = function (b) {
    var c, d;
    if (!b || 'string' != typeof b)
      return null;
    try {
      a.DOMParser ? (d = new DOMParser(), c = d.parseFromString(b, 'text/xml')) : (c = new ActiveXObject('Microsoft.XMLDOM'), c.async = 'false', c.loadXML(b));
    } catch (e) {
      c = void 0;
    }
    return c && c.documentElement && !c.getElementsByTagName('parsererror').length || m.error('Invalid XML: ' + b), c;
  };
  var yc, zc, Ac = /#.*$/, Bc = /([?&])_=[^&]*/, Cc = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm, Dc = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, Ec = /^(?:GET|HEAD)$/, Fc = /^\/\//, Gc = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/, Hc = {}, Ic = {}, Jc = '*/'.concat('*');
  try {
    zc = location.href;
  } catch (Kc) {
    zc = y.createElement('a'), zc.href = '', zc = zc.href;
  }
  yc = Gc.exec(zc.toLowerCase()) || [];
  function Lc(a) {
    return function (b, c) {
      'string' != typeof b && (c = b, b = '*');
      var d, e = 0, f = b.toLowerCase().match(E) || [];
      if (m.isFunction(c))
        while (d = f[e++])
          '+' === d.charAt(0) ? (d = d.slice(1) || '*', (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c);
    };
  }
  function Mc(a, b, c, d) {
    var e = {}, f = a === Ic;
    function g(h) {
      var i;
      return e[h] = !0, m.each(a[h] || [], function (a, h) {
        var j = h(b, c, d);
        return 'string' != typeof j || f || e[j] ? f ? !(i = j) : void 0 : (b.dataTypes.unshift(j), g(j), !1);
      }), i;
    }
    return g(b.dataTypes[0]) || !e['*'] && g('*');
  }
  function Nc(a, b) {
    var c, d, e = m.ajaxSettings.flatOptions || {};
    for (d in b)
      void 0 !== b[d] && ((e[d] ? a : c || (c = {}))[d] = b[d]);
    return c && m.extend(!0, a, c), a;
  }
  function Oc(a, b, c) {
    var d, e, f, g, h = a.contents, i = a.dataTypes;
    while ('*' === i[0])
      i.shift(), void 0 === e && (e = a.mimeType || b.getResponseHeader('Content-Type'));
    if (e)
      for (g in h)
        if (h[g] && h[g].test(e)) {
          i.unshift(g);
          break;
        }
    if (i[0] in c)
      f = i[0];
    else {
      for (g in c) {
        if (!i[0] || a.converters[g + ' ' + i[0]]) {
          f = g;
          break;
        }
        d || (d = g);
      }
      f = f || d;
    }
    return f ? (f !== i[0] && i.unshift(f), c[f]) : void 0;
  }
  function Pc(a, b, c, d) {
    var e, f, g, h, i, j = {}, k = a.dataTypes.slice();
    if (k[1])
      for (g in a.converters)
        j[g.toLowerCase()] = a.converters[g];
    f = k.shift();
    while (f)
      if (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift())
        if ('*' === f)
          f = i;
        else if ('*' !== i && i !== f) {
          if (g = j[i + ' ' + f] || j['* ' + f], !g)
            for (e in j)
              if (h = e.split(' '), h[1] === f && (g = j[i + ' ' + h[0]] || j['* ' + h[0]])) {
                g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0], k.unshift(h[1]));
                break;
              }
          if (g !== !0)
            if (g && a['throws'])
              b = g(b);
            else
              try {
                b = g(b);
              } catch (l) {
                return {
                  state: 'parsererror',
                  error: g ? l : 'No conversion from ' + i + ' to ' + f
                };
              }
        }
    return {
      state: 'success',
      data: b
    };
  }
  m.extend({
    active: 0,
    lastModified: {},
    etag: {},
    ajaxSettings: {
      url: zc,
      type: 'GET',
      isLocal: Dc.test(yc[1]),
      global: !0,
      processData: !0,
      async: !0,
      contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
      accepts: {
        '*': Jc,
        text: 'text/plain',
        html: 'text/html',
        xml: 'application/xml, text/xml',
        json: 'application/json, text/javascript'
      },
      contents: {
        xml: /xml/,
        html: /html/,
        json: /json/
      },
      responseFields: {
        xml: 'responseXML',
        text: 'responseText',
        json: 'responseJSON'
      },
      converters: {
        '* text': String,
        'text html': !0,
        'text json': m.parseJSON,
        'text xml': m.parseXML
      },
      flatOptions: {
        url: !0,
        context: !0
      }
    },
    ajaxSetup: function (a, b) {
      return b ? Nc(Nc(a, m.ajaxSettings), b) : Nc(m.ajaxSettings, a);
    },
    ajaxPrefilter: Lc(Hc),
    ajaxTransport: Lc(Ic),
    ajax: function (a, b) {
      'object' == typeof a && (b = a, a = void 0), b = b || {};
      var c, d, e, f, g, h, i, j, k = m.ajaxSetup({}, b), l = k.context || k, n = k.context && (l.nodeType || l.jquery) ? m(l) : m.event, o = m.Deferred(), p = m.Callbacks('once memory'), q = k.statusCode || {}, r = {}, s = {}, t = 0, u = 'canceled', v = {
          readyState: 0,
          getResponseHeader: function (a) {
            var b;
            if (2 === t) {
              if (!j) {
                j = {};
                while (b = Cc.exec(f))
                  j[b[1].toLowerCase()] = b[2];
              }
              b = j[a.toLowerCase()];
            }
            return null == b ? null : b;
          },
          getAllResponseHeaders: function () {
            return 2 === t ? f : null;
          },
          setRequestHeader: function (a, b) {
            var c = a.toLowerCase();
            return t || (a = s[c] = s[c] || a, r[a] = b), this;
          },
          overrideMimeType: function (a) {
            return t || (k.mimeType = a), this;
          },
          statusCode: function (a) {
            var b;
            if (a)
              if (2 > t)
                for (b in a)
                  q[b] = [
                    q[b],
                    a[b]
                  ];
              else
                v.always(a[v.status]);
            return this;
          },
          abort: function (a) {
            var b = a || u;
            return i && i.abort(b), x(0, b), this;
          }
        };
      if (o.promise(v).complete = p.add, v.success = v.done, v.error = v.fail, k.url = ((a || k.url || zc) + '').replace(Ac, '').replace(Fc, yc[1] + '//'), k.type = b.method || b.type || k.method || k.type, k.dataTypes = m.trim(k.dataType || '*').toLowerCase().match(E) || [''], null == k.crossDomain && (c = Gc.exec(k.url.toLowerCase()), k.crossDomain = !(!c || c[1] === yc[1] && c[2] === yc[2] && (c[3] || ('http:' === c[1] ? '80' : '443')) === (yc[3] || ('http:' === yc[1] ? '80' : '443')))), k.data && k.processData && 'string' != typeof k.data && (k.data = m.param(k.data, k.traditional)), Mc(Hc, k, b, v), 2 === t)
        return v;
      h = k.global, h && 0 === m.active++ && m.event.trigger('ajaxStart'), k.type = k.type.toUpperCase(), k.hasContent = !Ec.test(k.type), e = k.url, k.hasContent || (k.data && (e = k.url += (wc.test(e) ? '&' : '?') + k.data, delete k.data), k.cache === !1 && (k.url = Bc.test(e) ? e.replace(Bc, '$1_=' + vc++) : e + (wc.test(e) ? '&' : '?') + '_=' + vc++)), k.ifModified && (m.lastModified[e] && v.setRequestHeader('If-Modified-Since', m.lastModified[e]), m.etag[e] && v.setRequestHeader('If-None-Match', m.etag[e])), (k.data && k.hasContent && k.contentType !== !1 || b.contentType) && v.setRequestHeader('Content-Type', k.contentType), v.setRequestHeader('Accept', k.dataTypes[0] && k.accepts[k.dataTypes[0]] ? k.accepts[k.dataTypes[0]] + ('*' !== k.dataTypes[0] ? ', ' + Jc + '; q=0.01' : '') : k.accepts['*']);
      for (d in k.headers)
        v.setRequestHeader(d, k.headers[d]);
      if (k.beforeSend && (k.beforeSend.call(l, v, k) === !1 || 2 === t))
        return v.abort();
      u = 'abort';
      for (d in {
          success: 1,
          error: 1,
          complete: 1
        })
        v[d](k[d]);
      if (i = Mc(Ic, k, b, v)) {
        v.readyState = 1, h && n.trigger('ajaxSend', [
          v,
          k
        ]), k.async && k.timeout > 0 && (g = setTimeout(function () {
          v.abort('timeout');
        }, k.timeout));
        try {
          t = 1, i.send(r, x);
        } catch (w) {
          if (!(2 > t))
            throw w;
          x(-1, w);
        }
      } else
        x(-1, 'No Transport');
      function x(a, b, c, d) {
        var j, r, s, u, w, x = b;
        2 !== t && (t = 2, g && clearTimeout(g), i = void 0, f = d || '', v.readyState = a > 0 ? 4 : 0, j = a >= 200 && 300 > a || 304 === a, c && (u = Oc(k, v, c)), u = Pc(k, u, v, j), j ? (k.ifModified && (w = v.getResponseHeader('Last-Modified'), w && (m.lastModified[e] = w), w = v.getResponseHeader('etag'), w && (m.etag[e] = w)), 204 === a || 'HEAD' === k.type ? x = 'nocontent' : 304 === a ? x = 'notmodified' : (x = u.state, r = u.data, s = u.error, j = !s)) : (s = x, (a || !x) && (x = 'error', 0 > a && (a = 0))), v.status = a, v.statusText = (b || x) + '', j ? o.resolveWith(l, [
          r,
          x,
          v
        ]) : o.rejectWith(l, [
          v,
          x,
          s
        ]), v.statusCode(q), q = void 0, h && n.trigger(j ? 'ajaxSuccess' : 'ajaxError', [
          v,
          k,
          j ? r : s
        ]), p.fireWith(l, [
          v,
          x
        ]), h && (n.trigger('ajaxComplete', [
          v,
          k
        ]), --m.active || m.event.trigger('ajaxStop')));
      }
      return v;
    },
    getJSON: function (a, b, c) {
      return m.get(a, b, c, 'json');
    },
    getScript: function (a, b) {
      return m.get(a, void 0, b, 'script');
    }
  }), m.each([
    'get',
    'post'
  ], function (a, b) {
    m[b] = function (a, c, d, e) {
      return m.isFunction(c) && (e = e || d, d = c, c = void 0), m.ajax({
        url: a,
        type: b,
        dataType: e,
        data: c,
        success: d
      });
    };
  }), m.each([
    'ajaxStart',
    'ajaxStop',
    'ajaxComplete',
    'ajaxError',
    'ajaxSuccess',
    'ajaxSend'
  ], function (a, b) {
    m.fn[b] = function (a) {
      return this.on(b, a);
    };
  }), m._evalUrl = function (a) {
    return m.ajax({
      url: a,
      type: 'GET',
      dataType: 'script',
      async: !1,
      global: !1,
      'throws': !0
    });
  }, m.fn.extend({
    wrapAll: function (a) {
      if (m.isFunction(a))
        return this.each(function (b) {
          m(this).wrapAll(a.call(this, b));
        });
      if (this[0]) {
        var b = m(a, this[0].ownerDocument).eq(0).clone(!0);
        this[0].parentNode && b.insertBefore(this[0]), b.map(function () {
          var a = this;
          while (a.firstChild && 1 === a.firstChild.nodeType)
            a = a.firstChild;
          return a;
        }).append(this);
      }
      return this;
    },
    wrapInner: function (a) {
      return this.each(m.isFunction(a) ? function (b) {
        m(this).wrapInner(a.call(this, b));
      } : function () {
        var b = m(this), c = b.contents();
        c.length ? c.wrapAll(a) : b.append(a);
      });
    },
    wrap: function (a) {
      var b = m.isFunction(a);
      return this.each(function (c) {
        m(this).wrapAll(b ? a.call(this, c) : a);
      });
    },
    unwrap: function () {
      return this.parent().each(function () {
        m.nodeName(this, 'body') || m(this).replaceWith(this.childNodes);
      }).end();
    }
  }), m.expr.filters.hidden = function (a) {
    return a.offsetWidth <= 0 && a.offsetHeight <= 0 || !k.reliableHiddenOffsets() && 'none' === (a.style && a.style.display || m.css(a, 'display'));
  }, m.expr.filters.visible = function (a) {
    return !m.expr.filters.hidden(a);
  };
  var Qc = /%20/g, Rc = /\[\]$/, Sc = /\r?\n/g, Tc = /^(?:submit|button|image|reset|file)$/i, Uc = /^(?:input|select|textarea|keygen)/i;
  function Vc(a, b, c, d) {
    var e;
    if (m.isArray(b))
      m.each(b, function (b, e) {
        c || Rc.test(a) ? d(a, e) : Vc(a + '[' + ('object' == typeof e ? b : '') + ']', e, c, d);
      });
    else if (c || 'object' !== m.type(b))
      d(a, b);
    else
      for (e in b)
        Vc(a + '[' + e + ']', b[e], c, d);
  }
  m.param = function (a, b) {
    var c, d = [], e = function (a, b) {
        b = m.isFunction(b) ? b() : null == b ? '' : b, d[d.length] = encodeURIComponent(a) + '=' + encodeURIComponent(b);
      };
    if (void 0 === b && (b = m.ajaxSettings && m.ajaxSettings.traditional), m.isArray(a) || a.jquery && !m.isPlainObject(a))
      m.each(a, function () {
        e(this.name, this.value);
      });
    else
      for (c in a)
        Vc(c, a[c], b, e);
    return d.join('&').replace(Qc, '+');
  }, m.fn.extend({
    serialize: function () {
      return m.param(this.serializeArray());
    },
    serializeArray: function () {
      return this.map(function () {
        var a = m.prop(this, 'elements');
        return a ? m.makeArray(a) : this;
      }).filter(function () {
        var a = this.type;
        return this.name && !m(this).is(':disabled') && Uc.test(this.nodeName) && !Tc.test(a) && (this.checked || !W.test(a));
      }).map(function (a, b) {
        var c = m(this).val();
        return null == c ? null : m.isArray(c) ? m.map(c, function (a) {
          return {
            name: b.name,
            value: a.replace(Sc, '\r\n')
          };
        }) : {
          name: b.name,
          value: c.replace(Sc, '\r\n')
        };
      }).get();
    }
  }), m.ajaxSettings.xhr = void 0 !== a.ActiveXObject ? function () {
    return !this.isLocal && /^(get|post|head|put|delete|options)$/i.test(this.type) && Zc() || $c();
  } : Zc;
  var Wc = 0, Xc = {}, Yc = m.ajaxSettings.xhr();
  a.ActiveXObject && m(a).on('unload', function () {
    for (var a in Xc)
      Xc[a](void 0, !0);
  }), k.cors = !!Yc && 'withCredentials' in Yc, Yc = k.ajax = !!Yc, Yc && m.ajaxTransport(function (a) {
    if (!a.crossDomain || k.cors) {
      var b;
      return {
        send: function (c, d) {
          var e, f = a.xhr(), g = ++Wc;
          if (f.open(a.type, a.url, a.async, a.username, a.password), a.xhrFields)
            for (e in a.xhrFields)
              f[e] = a.xhrFields[e];
          a.mimeType && f.overrideMimeType && f.overrideMimeType(a.mimeType), a.crossDomain || c['X-Requested-With'] || (c['X-Requested-With'] = 'XMLHttpRequest');
          for (e in c)
            void 0 !== c[e] && f.setRequestHeader(e, c[e] + '');
          f.send(a.hasContent && a.data || null), b = function (c, e) {
            var h, i, j;
            if (b && (e || 4 === f.readyState))
              if (delete Xc[g], b = void 0, f.onreadystatechange = m.noop, e)
                4 !== f.readyState && f.abort();
              else {
                j = {}, h = f.status, 'string' == typeof f.responseText && (j.text = f.responseText);
                try {
                  i = f.statusText;
                } catch (k) {
                  i = '';
                }
                h || !a.isLocal || a.crossDomain ? 1223 === h && (h = 204) : h = j.text ? 200 : 404;
              }
            j && d(h, i, j, f.getAllResponseHeaders());
          }, a.async ? 4 === f.readyState ? setTimeout(b) : f.onreadystatechange = Xc[g] = b : b();
        },
        abort: function () {
          b && b(void 0, !0);
        }
      };
    }
  });
  function Zc() {
    try {
      return new a.XMLHttpRequest();
    } catch (b) {
    }
  }
  function $c() {
    try {
      return new a.ActiveXObject('Microsoft.XMLHTTP');
    } catch (b) {
    }
  }
  m.ajaxSetup({
    accepts: { script: 'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript' },
    contents: { script: /(?:java|ecma)script/ },
    converters: {
      'text script': function (a) {
        return m.globalEval(a), a;
      }
    }
  }), m.ajaxPrefilter('script', function (a) {
    void 0 === a.cache && (a.cache = !1), a.crossDomain && (a.type = 'GET', a.global = !1);
  }), m.ajaxTransport('script', function (a) {
    if (a.crossDomain) {
      var b, c = y.head || m('head')[0] || y.documentElement;
      return {
        send: function (d, e) {
          b = y.createElement('script'), b.async = !0, a.scriptCharset && (b.charset = a.scriptCharset), b.src = a.url, b.onload = b.onreadystatechange = function (a, c) {
            (c || !b.readyState || /loaded|complete/.test(b.readyState)) && (b.onload = b.onreadystatechange = null, b.parentNode && b.parentNode.removeChild(b), b = null, c || e(200, 'success'));
          }, c.insertBefore(b, c.firstChild);
        },
        abort: function () {
          b && b.onload(void 0, !0);
        }
      };
    }
  });
  var _c = [], ad = /(=)\?(?=&|$)|\?\?/;
  m.ajaxSetup({
    jsonp: 'callback',
    jsonpCallback: function () {
      var a = _c.pop() || m.expando + '_' + vc++;
      return this[a] = !0, a;
    }
  }), m.ajaxPrefilter('json jsonp', function (b, c, d) {
    var e, f, g, h = b.jsonp !== !1 && (ad.test(b.url) ? 'url' : 'string' == typeof b.data && !(b.contentType || '').indexOf('application/x-www-form-urlencoded') && ad.test(b.data) && 'data');
    return h || 'jsonp' === b.dataTypes[0] ? (e = b.jsonpCallback = m.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, h ? b[h] = b[h].replace(ad, '$1' + e) : b.jsonp !== !1 && (b.url += (wc.test(b.url) ? '&' : '?') + b.jsonp + '=' + e), b.converters['script json'] = function () {
      return g || m.error(e + ' was not called'), g[0];
    }, b.dataTypes[0] = 'json', f = a[e], a[e] = function () {
      g = arguments;
    }, d.always(function () {
      a[e] = f, b[e] && (b.jsonpCallback = c.jsonpCallback, _c.push(e)), g && m.isFunction(f) && f(g[0]), g = f = void 0;
    }), 'script') : void 0;
  }), m.parseHTML = function (a, b, c) {
    if (!a || 'string' != typeof a)
      return null;
    'boolean' == typeof b && (c = b, b = !1), b = b || y;
    var d = u.exec(a), e = !c && [];
    return d ? [b.createElement(d[1])] : (d = m.buildFragment([a], b, e), e && e.length && m(e).remove(), m.merge([], d.childNodes));
  };
  var bd = m.fn.load;
  m.fn.load = function (a, b, c) {
    if ('string' != typeof a && bd)
      return bd.apply(this, arguments);
    var d, e, f, g = this, h = a.indexOf(' ');
    return h >= 0 && (d = m.trim(a.slice(h, a.length)), a = a.slice(0, h)), m.isFunction(b) ? (c = b, b = void 0) : b && 'object' == typeof b && (f = 'POST'), g.length > 0 && m.ajax({
      url: a,
      type: f,
      dataType: 'html',
      data: b
    }).done(function (a) {
      e = arguments, g.html(d ? m('<div>').append(m.parseHTML(a)).find(d) : a);
    }).complete(c && function (a, b) {
      g.each(c, e || [
        a.responseText,
        b,
        a
      ]);
    }), this;
  }, m.expr.filters.animated = function (a) {
    return m.grep(m.timers, function (b) {
      return a === b.elem;
    }).length;
  };
  var cd = a.document.documentElement;
  function dd(a) {
    return m.isWindow(a) ? a : 9 === a.nodeType ? a.defaultView || a.parentWindow : !1;
  }
  m.offset = {
    setOffset: function (a, b, c) {
      var d, e, f, g, h, i, j, k = m.css(a, 'position'), l = m(a), n = {};
      'static' === k && (a.style.position = 'relative'), h = l.offset(), f = m.css(a, 'top'), i = m.css(a, 'left'), j = ('absolute' === k || 'fixed' === k) && m.inArray('auto', [
        f,
        i
      ]) > -1, j ? (d = l.position(), g = d.top, e = d.left) : (g = parseFloat(f) || 0, e = parseFloat(i) || 0), m.isFunction(b) && (b = b.call(a, c, h)), null != b.top && (n.top = b.top - h.top + g), null != b.left && (n.left = b.left - h.left + e), 'using' in b ? b.using.call(a, n) : l.css(n);
    }
  }, m.fn.extend({
    offset: function (a) {
      if (arguments.length)
        return void 0 === a ? this : this.each(function (b) {
          m.offset.setOffset(this, a, b);
        });
      var b, c, d = {
          top: 0,
          left: 0
        }, e = this[0], f = e && e.ownerDocument;
      if (f)
        return b = f.documentElement, m.contains(b, e) ? (typeof e.getBoundingClientRect !== K && (d = e.getBoundingClientRect()), c = dd(f), {
          top: d.top + (c.pageYOffset || b.scrollTop) - (b.clientTop || 0),
          left: d.left + (c.pageXOffset || b.scrollLeft) - (b.clientLeft || 0)
        }) : d;
    },
    position: function () {
      if (this[0]) {
        var a, b, c = {
            top: 0,
            left: 0
          }, d = this[0];
        return 'fixed' === m.css(d, 'position') ? b = d.getBoundingClientRect() : (a = this.offsetParent(), b = this.offset(), m.nodeName(a[0], 'html') || (c = a.offset()), c.top += m.css(a[0], 'borderTopWidth', !0), c.left += m.css(a[0], 'borderLeftWidth', !0)), {
          top: b.top - c.top - m.css(d, 'marginTop', !0),
          left: b.left - c.left - m.css(d, 'marginLeft', !0)
        };
      }
    },
    offsetParent: function () {
      return this.map(function () {
        var a = this.offsetParent || cd;
        while (a && !m.nodeName(a, 'html') && 'static' === m.css(a, 'position'))
          a = a.offsetParent;
        return a || cd;
      });
    }
  }), m.each({
    scrollLeft: 'pageXOffset',
    scrollTop: 'pageYOffset'
  }, function (a, b) {
    var c = /Y/.test(b);
    m.fn[a] = function (d) {
      return V(this, function (a, d, e) {
        var f = dd(a);
        return void 0 === e ? f ? b in f ? f[b] : f.document.documentElement[d] : a[d] : void (f ? f.scrollTo(c ? m(f).scrollLeft() : e, c ? e : m(f).scrollTop()) : a[d] = e);
      }, a, d, arguments.length, null);
    };
  }), m.each([
    'top',
    'left'
  ], function (a, b) {
    m.cssHooks[b] = Lb(k.pixelPosition, function (a, c) {
      return c ? (c = Jb(a, b), Hb.test(c) ? m(a).position()[b] + 'px' : c) : void 0;
    });
  }), m.each({
    Height: 'height',
    Width: 'width'
  }, function (a, b) {
    m.each({
      padding: 'inner' + a,
      content: b,
      '': 'outer' + a
    }, function (c, d) {
      m.fn[d] = function (d, e) {
        var f = arguments.length && (c || 'boolean' != typeof d), g = c || (d === !0 || e === !0 ? 'margin' : 'border');
        return V(this, function (b, c, d) {
          var e;
          return m.isWindow(b) ? b.document.documentElement['client' + a] : 9 === b.nodeType ? (e = b.documentElement, Math.max(b.body['scroll' + a], e['scroll' + a], b.body['offset' + a], e['offset' + a], e['client' + a])) : void 0 === d ? m.css(b, c, g) : m.style(b, c, d, g);
        }, b, f ? d : void 0, f, null);
      };
    });
  }), m.fn.size = function () {
    return this.length;
  }, m.fn.andSelf = m.fn.addBack, 'function' == typeof define && define.amd && define('jquery', [], function () {
    return m;
  });
  var ed = a.jQuery, fd = a.$;
  return m.noConflict = function (b) {
    return a.$ === m && (a.$ = fd), b && a.jQuery === m && (a.jQuery = ed), m;
  }, typeof b === K && (a.jQuery = a.$ = m), m;
});
/*
 AngularJS v1.2.25
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function (W, X, t) {
  'use strict';
  function D(b) {
    return function () {
      var a = arguments[0], c, a = '[' + (b ? b + ':' : '') + a + '] http://errors.angularjs.org/1.2.25/' + (b ? b + '/' : '') + a;
      for (c = 1; c < arguments.length; c++)
        a = a + (1 == c ? '?' : '&') + 'p' + (c - 1) + '=' + encodeURIComponent('function' == typeof arguments[c] ? arguments[c].toString().replace(/ \{[\s\S]*$/, '') : 'undefined' == typeof arguments[c] ? 'undefined' : 'string' != typeof arguments[c] ? JSON.stringify(arguments[c]) : arguments[c]);
      return Error(a);
    };
  }
  function Pa(b) {
    if (null == b || Ga(b))
      return !1;
    var a = b.length;
    return 1 === b.nodeType && a ? !0 : A(b) || I(b) || 0 === a || 'number' === typeof a && 0 < a && a - 1 in b;
  }
  function r(b, a, c) {
    var d;
    if (b)
      if (P(b))
        for (d in b)
          'prototype' == d || ('length' == d || 'name' == d || b.hasOwnProperty && !b.hasOwnProperty(d)) || a.call(c, b[d], d);
      else if (I(b) || Pa(b))
        for (d = 0; d < b.length; d++)
          a.call(c, b[d], d);
      else if (b.forEach && b.forEach !== r)
        b.forEach(a, c);
      else
        for (d in b)
          b.hasOwnProperty(d) && a.call(c, b[d], d);
    return b;
  }
  function Zb(b) {
    var a = [], c;
    for (c in b)
      b.hasOwnProperty(c) && a.push(c);
    return a.sort();
  }
  function Tc(b, a, c) {
    for (var d = Zb(b), e = 0; e < d.length; e++)
      a.call(c, b[d[e]], d[e]);
    return d;
  }
  function $b(b) {
    return function (a, c) {
      b(c, a);
    };
  }
  function hb() {
    for (var b = ma.length, a; b;) {
      b--;
      a = ma[b].charCodeAt(0);
      if (57 == a)
        return ma[b] = 'A', ma.join('');
      if (90 == a)
        ma[b] = '0';
      else
        return ma[b] = String.fromCharCode(a + 1), ma.join('');
    }
    ma.unshift('0');
    return ma.join('');
  }
  function ac(b, a) {
    a ? b.$$hashKey = a : delete b.$$hashKey;
  }
  function J(b) {
    var a = b.$$hashKey;
    r(arguments, function (a) {
      a !== b && r(a, function (a, c) {
        b[c] = a;
      });
    });
    ac(b, a);
    return b;
  }
  function U(b) {
    return parseInt(b, 10);
  }
  function bc(b, a) {
    return J(new (J(function () {
    }, { prototype: b }))(), a);
  }
  function F() {
  }
  function Qa(b) {
    return b;
  }
  function ba(b) {
    return function () {
      return b;
    };
  }
  function y(b) {
    return 'undefined' === typeof b;
  }
  function z(b) {
    return 'undefined' !== typeof b;
  }
  function T(b) {
    return null != b && 'object' === typeof b;
  }
  function A(b) {
    return 'string' === typeof b;
  }
  function ib(b) {
    return 'number' === typeof b;
  }
  function ta(b) {
    return '[object Date]' === za.call(b);
  }
  function P(b) {
    return 'function' === typeof b;
  }
  function jb(b) {
    return '[object RegExp]' === za.call(b);
  }
  function Ga(b) {
    return b && b.document && b.location && b.alert && b.setInterval;
  }
  function Uc(b) {
    return !(!b || !(b.nodeName || b.prop && b.attr && b.find));
  }
  function Vc(b, a, c) {
    var d = [];
    r(b, function (b, f, g) {
      d.push(a.call(c, b, f, g));
    });
    return d;
  }
  function Ra(b, a) {
    if (b.indexOf)
      return b.indexOf(a);
    for (var c = 0; c < b.length; c++)
      if (a === b[c])
        return c;
    return -1;
  }
  function Sa(b, a) {
    var c = Ra(b, a);
    0 <= c && b.splice(c, 1);
    return a;
  }
  function Ha(b, a, c, d) {
    if (Ga(b) || b && b.$evalAsync && b.$watch)
      throw Ta('cpws');
    if (a) {
      if (b === a)
        throw Ta('cpi');
      c = c || [];
      d = d || [];
      if (T(b)) {
        var e = Ra(c, b);
        if (-1 !== e)
          return d[e];
        c.push(b);
        d.push(a);
      }
      if (I(b))
        for (var f = a.length = 0; f < b.length; f++)
          e = Ha(b[f], null, c, d), T(b[f]) && (c.push(b[f]), d.push(e)), a.push(e);
      else {
        var g = a.$$hashKey;
        I(a) ? a.length = 0 : r(a, function (b, c) {
          delete a[c];
        });
        for (f in b)
          e = Ha(b[f], null, c, d), T(b[f]) && (c.push(b[f]), d.push(e)), a[f] = e;
        ac(a, g);
      }
    } else if (a = b)
      I(b) ? a = Ha(b, [], c, d) : ta(b) ? a = new Date(b.getTime()) : jb(b) ? (a = RegExp(b.source, b.toString().match(/[^\/]*$/)[0]), a.lastIndex = b.lastIndex) : T(b) && (a = Ha(b, {}, c, d));
    return a;
  }
  function ha(b, a) {
    if (I(b)) {
      a = a || [];
      for (var c = 0; c < b.length; c++)
        a[c] = b[c];
    } else if (T(b))
      for (c in a = a || {}, b)
        !kb.call(b, c) || '$' === c.charAt(0) && '$' === c.charAt(1) || (a[c] = b[c]);
    return a || b;
  }
  function Aa(b, a) {
    if (b === a)
      return !0;
    if (null === b || null === a)
      return !1;
    if (b !== b && a !== a)
      return !0;
    var c = typeof b, d;
    if (c == typeof a && 'object' == c)
      if (I(b)) {
        if (!I(a))
          return !1;
        if ((c = b.length) == a.length) {
          for (d = 0; d < c; d++)
            if (!Aa(b[d], a[d]))
              return !1;
          return !0;
        }
      } else {
        if (ta(b))
          return ta(a) ? isNaN(b.getTime()) && isNaN(a.getTime()) || b.getTime() === a.getTime() : !1;
        if (jb(b) && jb(a))
          return b.toString() == a.toString();
        if (b && b.$evalAsync && b.$watch || a && a.$evalAsync && a.$watch || Ga(b) || Ga(a) || I(a))
          return !1;
        c = {};
        for (d in b)
          if ('$' !== d.charAt(0) && !P(b[d])) {
            if (!Aa(b[d], a[d]))
              return !1;
            c[d] = !0;
          }
        for (d in a)
          if (!c.hasOwnProperty(d) && '$' !== d.charAt(0) && a[d] !== t && !P(a[d]))
            return !1;
        return !0;
      }
    return !1;
  }
  function Bb(b, a) {
    var c = 2 < arguments.length ? Ba.call(arguments, 2) : [];
    return !P(a) || a instanceof RegExp ? a : c.length ? function () {
      return arguments.length ? a.apply(b, c.concat(Ba.call(arguments, 0))) : a.apply(b, c);
    } : function () {
      return arguments.length ? a.apply(b, arguments) : a.call(b);
    };
  }
  function Wc(b, a) {
    var c = a;
    'string' === typeof b && '$' === b.charAt(0) ? c = t : Ga(a) ? c = '$WINDOW' : a && X === a ? c = '$DOCUMENT' : a && (a.$evalAsync && a.$watch) && (c = '$SCOPE');
    return c;
  }
  function na(b, a) {
    return 'undefined' === typeof b ? t : JSON.stringify(b, Wc, a ? '  ' : null);
  }
  function cc(b) {
    return A(b) ? JSON.parse(b) : b;
  }
  function Ua(b) {
    'function' === typeof b ? b = !0 : b && 0 !== b.length ? (b = M('' + b), b = !('f' == b || '0' == b || 'false' == b || 'no' == b || 'n' == b || '[]' == b)) : b = !1;
    return b;
  }
  function ia(b) {
    b = v(b).clone();
    try {
      b.empty();
    } catch (a) {
    }
    var c = v('<div>').append(b).html();
    try {
      return 3 === b[0].nodeType ? M(c) : c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/, function (a, b) {
        return '<' + M(b);
      });
    } catch (d) {
      return M(c);
    }
  }
  function dc(b) {
    try {
      return decodeURIComponent(b);
    } catch (a) {
    }
  }
  function ec(b) {
    var a = {}, c, d;
    r((b || '').split('&'), function (b) {
      b && (c = b.replace(/\+/g, '%20').split('='), d = dc(c[0]), z(d) && (b = z(c[1]) ? dc(c[1]) : !0, kb.call(a, d) ? I(a[d]) ? a[d].push(b) : a[d] = [
        a[d],
        b
      ] : a[d] = b));
    });
    return a;
  }
  function Cb(b) {
    var a = [];
    r(b, function (b, d) {
      I(b) ? r(b, function (b) {
        a.push(Ca(d, !0) + (!0 === b ? '' : '=' + Ca(b, !0)));
      }) : a.push(Ca(d, !0) + (!0 === b ? '' : '=' + Ca(b, !0)));
    });
    return a.length ? a.join('&') : '';
  }
  function lb(b) {
    return Ca(b, !0).replace(/%26/gi, '&').replace(/%3D/gi, '=').replace(/%2B/gi, '+');
  }
  function Ca(b, a) {
    return encodeURIComponent(b).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, a ? '%20' : '+');
  }
  function Xc(b, a) {
    function c(a) {
      a && d.push(a);
    }
    var d = [b], e, f, g = [
        'ng:app',
        'ng-app',
        'x-ng-app',
        'data-ng-app'
      ], k = /\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;
    r(g, function (a) {
      g[a] = !0;
      c(X.getElementById(a));
      a = a.replace(':', '\\:');
      b.querySelectorAll && (r(b.querySelectorAll('.' + a), c), r(b.querySelectorAll('.' + a + '\\:'), c), r(b.querySelectorAll('[' + a + ']'), c));
    });
    r(d, function (a) {
      if (!e) {
        var b = k.exec(' ' + a.className + ' ');
        b ? (e = a, f = (b[2] || '').replace(/\s+/g, ',')) : r(a.attributes, function (b) {
          !e && g[b.name] && (e = a, f = b.value);
        });
      }
    });
    e && a(e, f ? [f] : []);
  }
  function fc(b, a) {
    var c = function () {
        b = v(b);
        if (b.injector()) {
          var c = b[0] === X ? 'document' : ia(b);
          throw Ta('btstrpd', c.replace(/</, '&lt;').replace(/>/, '&gt;'));
        }
        a = a || [];
        a.unshift([
          '$provide',
          function (a) {
            a.value('$rootElement', b);
          }
        ]);
        a.unshift('ng');
        c = gc(a);
        c.invoke([
          '$rootScope',
          '$rootElement',
          '$compile',
          '$injector',
          '$animate',
          function (a, b, c, d, e) {
            a.$apply(function () {
              b.data('$injector', d);
              c(b)(a);
            });
          }
        ]);
        return c;
      }, d = /^NG_DEFER_BOOTSTRAP!/;
    if (W && !d.test(W.name))
      return c();
    W.name = W.name.replace(d, '');
    Va.resumeBootstrap = function (b) {
      r(b, function (b) {
        a.push(b);
      });
      c();
    };
  }
  function mb(b, a) {
    a = a || '_';
    return b.replace(Yc, function (b, d) {
      return (d ? a : '') + b.toLowerCase();
    });
  }
  function Db(b, a, c) {
    if (!b)
      throw Ta('areq', a || '?', c || 'required');
    return b;
  }
  function Wa(b, a, c) {
    c && I(b) && (b = b[b.length - 1]);
    Db(P(b), a, 'not a function, got ' + (b && 'object' === typeof b ? b.constructor.name || 'Object' : typeof b));
    return b;
  }
  function Da(b, a) {
    if ('hasOwnProperty' === b)
      throw Ta('badname', a);
  }
  function hc(b, a, c) {
    if (!a)
      return b;
    a = a.split('.');
    for (var d, e = b, f = a.length, g = 0; g < f; g++)
      d = a[g], b && (b = (e = b)[d]);
    return !c && P(b) ? Bb(e, b) : b;
  }
  function Eb(b) {
    var a = b[0];
    b = b[b.length - 1];
    if (a === b)
      return v(a);
    var c = [a];
    do {
      a = a.nextSibling;
      if (!a)
        break;
      c.push(a);
    } while (a !== b);
    return v(c);
  }
  function Zc(b) {
    var a = D('$injector'), c = D('ng');
    b = b.angular || (b.angular = {});
    b.$$minErr = b.$$minErr || D;
    return b.module || (b.module = function () {
      var b = {};
      return function (e, f, g) {
        if ('hasOwnProperty' === e)
          throw c('badname', 'module');
        f && b.hasOwnProperty(e) && (b[e] = null);
        return b[e] || (b[e] = function () {
          function b(a, d, e) {
            return function () {
              c[e || 'push']([
                a,
                d,
                arguments
              ]);
              return n;
            };
          }
          if (!f)
            throw a('nomod', e);
          var c = [], d = [], l = b('$injector', 'invoke'), n = {
              _invokeQueue: c,
              _runBlocks: d,
              requires: f,
              name: e,
              provider: b('$provide', 'provider'),
              factory: b('$provide', 'factory'),
              service: b('$provide', 'service'),
              value: b('$provide', 'value'),
              constant: b('$provide', 'constant', 'unshift'),
              animation: b('$animateProvider', 'register'),
              filter: b('$filterProvider', 'register'),
              controller: b('$controllerProvider', 'register'),
              directive: b('$compileProvider', 'directive'),
              config: l,
              run: function (a) {
                d.push(a);
                return this;
              }
            };
          g && l(g);
          return n;
        }());
      };
    }());
  }
  function $c(b) {
    J(b, {
      bootstrap: fc,
      copy: Ha,
      extend: J,
      equals: Aa,
      element: v,
      forEach: r,
      injector: gc,
      noop: F,
      bind: Bb,
      toJson: na,
      fromJson: cc,
      identity: Qa,
      isUndefined: y,
      isDefined: z,
      isString: A,
      isFunction: P,
      isObject: T,
      isNumber: ib,
      isElement: Uc,
      isArray: I,
      version: ad,
      isDate: ta,
      lowercase: M,
      uppercase: Ia,
      callbacks: { counter: 0 },
      $$minErr: D,
      $$csp: Xa
    });
    Ya = Zc(W);
    try {
      Ya('ngLocale');
    } catch (a) {
      Ya('ngLocale', []).provider('$locale', bd);
    }
    Ya('ng', ['ngLocale'], [
      '$provide',
      function (a) {
        a.provider({ $$sanitizeUri: cd });
        a.provider('$compile', ic).directive({
          a: dd,
          input: jc,
          textarea: jc,
          form: ed,
          script: fd,
          select: gd,
          style: hd,
          option: id,
          ngBind: jd,
          ngBindHtml: kd,
          ngBindTemplate: ld,
          ngClass: md,
          ngClassEven: nd,
          ngClassOdd: od,
          ngCloak: pd,
          ngController: qd,
          ngForm: rd,
          ngHide: sd,
          ngIf: td,
          ngInclude: ud,
          ngInit: vd,
          ngNonBindable: wd,
          ngPluralize: xd,
          ngRepeat: yd,
          ngShow: zd,
          ngStyle: Ad,
          ngSwitch: Bd,
          ngSwitchWhen: Cd,
          ngSwitchDefault: Dd,
          ngOptions: Ed,
          ngTransclude: Fd,
          ngModel: Gd,
          ngList: Hd,
          ngChange: Id,
          required: kc,
          ngRequired: kc,
          ngValue: Jd
        }).directive({ ngInclude: Kd }).directive(Fb).directive(lc);
        a.provider({
          $anchorScroll: Ld,
          $animate: Md,
          $browser: Nd,
          $cacheFactory: Od,
          $controller: Pd,
          $document: Qd,
          $exceptionHandler: Rd,
          $filter: mc,
          $interpolate: Sd,
          $interval: Td,
          $http: Ud,
          $httpBackend: Vd,
          $location: Wd,
          $log: Xd,
          $parse: Yd,
          $rootScope: Zd,
          $q: $d,
          $sce: ae,
          $sceDelegate: be,
          $sniffer: ce,
          $templateCache: de,
          $timeout: ee,
          $window: fe,
          $$rAF: ge,
          $$asyncCallback: he
        });
      }
    ]);
  }
  function Za(b) {
    return b.replace(ie, function (a, b, d, e) {
      return e ? d.toUpperCase() : d;
    }).replace(je, 'Moz$1');
  }
  function Gb(b, a, c, d) {
    function e(b) {
      var e = c && b ? [this.filter(b)] : [this], m = a, h, l, n, p, q, s;
      if (!d || null != b)
        for (; e.length;)
          for (h = e.shift(), l = 0, n = h.length; l < n; l++)
            for (p = v(h[l]), m ? p.triggerHandler('$destroy') : m = !m, q = 0, p = (s = p.children()).length; q < p; q++)
              e.push(Ea(s[q]));
      return f.apply(this, arguments);
    }
    var f = Ea.fn[b], f = f.$original || f;
    e.$original = f;
    Ea.fn[b] = e;
  }
  function S(b) {
    if (b instanceof S)
      return b;
    A(b) && (b = aa(b));
    if (!(this instanceof S)) {
      if (A(b) && '<' != b.charAt(0))
        throw Hb('nosel');
      return new S(b);
    }
    if (A(b)) {
      var a = b;
      b = X;
      var c;
      if (c = ke.exec(a))
        b = [b.createElement(c[1])];
      else {
        var d = b, e;
        b = d.createDocumentFragment();
        c = [];
        if (Ib.test(a)) {
          d = b.appendChild(d.createElement('div'));
          e = (le.exec(a) || [
            '',
            ''
          ])[1].toLowerCase();
          e = ea[e] || ea._default;
          d.innerHTML = '<div>&#160;</div>' + e[1] + a.replace(me, '<$1></$2>') + e[2];
          d.removeChild(d.firstChild);
          for (a = e[0]; a--;)
            d = d.lastChild;
          a = 0;
          for (e = d.childNodes.length; a < e; ++a)
            c.push(d.childNodes[a]);
          d = b.firstChild;
          d.textContent = '';
        } else
          c.push(d.createTextNode(a));
        b.textContent = '';
        b.innerHTML = '';
        b = c;
      }
      Jb(this, b);
      v(X.createDocumentFragment()).append(this);
    } else
      Jb(this, b);
  }
  function Kb(b) {
    return b.cloneNode(!0);
  }
  function Ja(b) {
    Lb(b);
    var a = 0;
    for (b = b.childNodes || []; a < b.length; a++)
      Ja(b[a]);
  }
  function nc(b, a, c, d) {
    if (z(d))
      throw Hb('offargs');
    var e = oa(b, 'events');
    oa(b, 'handle') && (y(a) ? r(e, function (a, c) {
      $a(b, c, a);
      delete e[c];
    }) : r(a.split(' '), function (a) {
      y(c) ? ($a(b, a, e[a]), delete e[a]) : Sa(e[a] || [], c);
    }));
  }
  function Lb(b, a) {
    var c = b.ng339, d = ab[c];
    d && (a ? delete ab[c].data[a] : (d.handle && (d.events.$destroy && d.handle({}, '$destroy'), nc(b)), delete ab[c], b.ng339 = t));
  }
  function oa(b, a, c) {
    var d = b.ng339, d = ab[d || -1];
    if (z(c))
      d || (b.ng339 = d = ++ne, d = ab[d] = {}), d[a] = c;
    else
      return d && d[a];
  }
  function Mb(b, a, c) {
    var d = oa(b, 'data'), e = z(c), f = !e && z(a), g = f && !T(a);
    d || g || oa(b, 'data', d = {});
    if (e)
      d[a] = c;
    else if (f) {
      if (g)
        return d && d[a];
      J(d, a);
    } else
      return d;
  }
  function Nb(b, a) {
    return b.getAttribute ? -1 < (' ' + (b.getAttribute('class') || '') + ' ').replace(/[\n\t]/g, ' ').indexOf(' ' + a + ' ') : !1;
  }
  function nb(b, a) {
    a && b.setAttribute && r(a.split(' '), function (a) {
      b.setAttribute('class', aa((' ' + (b.getAttribute('class') || '') + ' ').replace(/[\n\t]/g, ' ').replace(' ' + aa(a) + ' ', ' ')));
    });
  }
  function ob(b, a) {
    if (a && b.setAttribute) {
      var c = (' ' + (b.getAttribute('class') || '') + ' ').replace(/[\n\t]/g, ' ');
      r(a.split(' '), function (a) {
        a = aa(a);
        -1 === c.indexOf(' ' + a + ' ') && (c += a + ' ');
      });
      b.setAttribute('class', aa(c));
    }
  }
  function Jb(b, a) {
    if (a) {
      a = a.nodeName || !z(a.length) || Ga(a) ? [a] : a;
      for (var c = 0; c < a.length; c++)
        b.push(a[c]);
    }
  }
  function oc(b, a) {
    return pb(b, '$' + (a || 'ngController') + 'Controller');
  }
  function pb(b, a, c) {
    9 == b.nodeType && (b = b.documentElement);
    for (a = I(a) ? a : [a]; b;) {
      for (var d = 0, e = a.length; d < e; d++)
        if ((c = v.data(b, a[d])) !== t)
          return c;
      b = b.parentNode || 11 === b.nodeType && b.host;
    }
  }
  function pc(b) {
    for (var a = 0, c = b.childNodes; a < c.length; a++)
      Ja(c[a]);
    for (; b.firstChild;)
      b.removeChild(b.firstChild);
  }
  function qc(b, a) {
    var c = qb[a.toLowerCase()];
    return c && rc[b.nodeName] && c;
  }
  function oe(b, a) {
    var c = function (c, e) {
      c.preventDefault || (c.preventDefault = function () {
        c.returnValue = !1;
      });
      c.stopPropagation || (c.stopPropagation = function () {
        c.cancelBubble = !0;
      });
      c.target || (c.target = c.srcElement || X);
      if (y(c.defaultPrevented)) {
        var f = c.preventDefault;
        c.preventDefault = function () {
          c.defaultPrevented = !0;
          f.call(c);
        };
        c.defaultPrevented = !1;
      }
      c.isDefaultPrevented = function () {
        return c.defaultPrevented || !1 === c.returnValue;
      };
      var g = ha(a[e || c.type] || []);
      r(g, function (a) {
        a.call(b, c);
      });
      8 >= Q ? (c.preventDefault = null, c.stopPropagation = null, c.isDefaultPrevented = null) : (delete c.preventDefault, delete c.stopPropagation, delete c.isDefaultPrevented);
    };
    c.elem = b;
    return c;
  }
  function Ka(b, a) {
    var c = typeof b, d;
    'function' == c || 'object' == c && null !== b ? 'function' == typeof (d = b.$$hashKey) ? d = b.$$hashKey() : d === t && (d = b.$$hashKey = (a || hb)()) : d = b;
    return c + ':' + d;
  }
  function bb(b, a) {
    if (a) {
      var c = 0;
      this.nextUid = function () {
        return ++c;
      };
    }
    r(b, this.put, this);
  }
  function sc(b) {
    var a, c;
    'function' === typeof b ? (a = b.$inject) || (a = [], b.length && (c = b.toString().replace(pe, ''), c = c.match(qe), r(c[1].split(re), function (b) {
      b.replace(se, function (b, c, d) {
        a.push(d);
      });
    })), b.$inject = a) : I(b) ? (c = b.length - 1, Wa(b[c], 'fn'), a = b.slice(0, c)) : Wa(b, 'fn', !0);
    return a;
  }
  function gc(b) {
    function a(a) {
      return function (b, c) {
        if (T(b))
          r(b, $b(a));
        else
          return a(b, c);
      };
    }
    function c(a, b) {
      Da(a, 'service');
      if (P(b) || I(b))
        b = n.instantiate(b);
      if (!b.$get)
        throw cb('pget', a);
      return l[a + k] = b;
    }
    function d(a, b) {
      return c(a, { $get: b });
    }
    function e(a) {
      var b = [], c, d, f, k;
      r(a, function (a) {
        if (!h.get(a)) {
          h.put(a, !0);
          try {
            if (A(a))
              for (c = Ya(a), b = b.concat(e(c.requires)).concat(c._runBlocks), d = c._invokeQueue, f = 0, k = d.length; f < k; f++) {
                var g = d[f], m = n.get(g[0]);
                m[g[1]].apply(m, g[2]);
              }
            else
              P(a) ? b.push(n.invoke(a)) : I(a) ? b.push(n.invoke(a)) : Wa(a, 'module');
          } catch (l) {
            throw I(a) && (a = a[a.length - 1]), l.message && (l.stack && -1 == l.stack.indexOf(l.message)) && (l = l.message + '\n' + l.stack), cb('modulerr', a, l.stack || l.message || l);
          }
        }
      });
      return b;
    }
    function f(a, b) {
      function c(d) {
        if (a.hasOwnProperty(d)) {
          if (a[d] === g)
            throw cb('cdep', d + ' <- ' + m.join(' <- '));
          return a[d];
        }
        try {
          return m.unshift(d), a[d] = g, a[d] = b(d);
        } catch (e) {
          throw a[d] === g && delete a[d], e;
        } finally {
          m.shift();
        }
      }
      function d(a, b, e) {
        var f = [], k = sc(a), g, m, h;
        m = 0;
        for (g = k.length; m < g; m++) {
          h = k[m];
          if ('string' !== typeof h)
            throw cb('itkn', h);
          f.push(e && e.hasOwnProperty(h) ? e[h] : c(h));
        }
        I(a) && (a = a[g]);
        return a.apply(b, f);
      }
      return {
        invoke: d,
        instantiate: function (a, b) {
          var c = function () {
            }, e;
          c.prototype = (I(a) ? a[a.length - 1] : a).prototype;
          c = new c();
          e = d(a, c, b);
          return T(e) || P(e) ? e : c;
        },
        get: c,
        annotate: sc,
        has: function (b) {
          return l.hasOwnProperty(b + k) || a.hasOwnProperty(b);
        }
      };
    }
    var g = {}, k = 'Provider', m = [], h = new bb([], !0), l = {
        $provide: {
          provider: a(c),
          factory: a(d),
          service: a(function (a, b) {
            return d(a, [
              '$injector',
              function (a) {
                return a.instantiate(b);
              }
            ]);
          }),
          value: a(function (a, b) {
            return d(a, ba(b));
          }),
          constant: a(function (a, b) {
            Da(a, 'constant');
            l[a] = b;
            p[a] = b;
          }),
          decorator: function (a, b) {
            var c = n.get(a + k), d = c.$get;
            c.$get = function () {
              var a = q.invoke(d, c);
              return q.invoke(b, null, { $delegate: a });
            };
          }
        }
      }, n = l.$injector = f(l, function () {
        throw cb('unpr', m.join(' <- '));
      }), p = {}, q = p.$injector = f(p, function (a) {
        a = n.get(a + k);
        return q.invoke(a.$get, a);
      });
    r(e(b), function (a) {
      q.invoke(a || F);
    });
    return q;
  }
  function Ld() {
    var b = !0;
    this.disableAutoScrolling = function () {
      b = !1;
    };
    this.$get = [
      '$window',
      '$location',
      '$rootScope',
      function (a, c, d) {
        function e(a) {
          var b = null;
          r(a, function (a) {
            b || 'a' !== M(a.nodeName) || (b = a);
          });
          return b;
        }
        function f() {
          var b = c.hash(), d;
          b ? (d = g.getElementById(b)) ? d.scrollIntoView() : (d = e(g.getElementsByName(b))) ? d.scrollIntoView() : 'top' === b && a.scrollTo(0, 0) : a.scrollTo(0, 0);
        }
        var g = a.document;
        b && d.$watch(function () {
          return c.hash();
        }, function () {
          d.$evalAsync(f);
        });
        return f;
      }
    ];
  }
  function he() {
    this.$get = [
      '$$rAF',
      '$timeout',
      function (b, a) {
        return b.supported ? function (a) {
          return b(a);
        } : function (b) {
          return a(b, 0, !1);
        };
      }
    ];
  }
  function te(b, a, c, d) {
    function e(a) {
      try {
        a.apply(null, Ba.call(arguments, 1));
      } finally {
        if (s--, 0 === s)
          for (; E.length;)
            try {
              E.pop()();
            } catch (b) {
              c.error(b);
            }
      }
    }
    function f(a, b) {
      (function fa() {
        r(u, function (a) {
          a();
        });
        B = b(fa, a);
      }());
    }
    function g() {
      w = null;
      N != k.url() && (N = k.url(), r(ca, function (a) {
        a(k.url());
      }));
    }
    var k = this, m = a[0], h = b.location, l = b.history, n = b.setTimeout, p = b.clearTimeout, q = {};
    k.isMock = !1;
    var s = 0, E = [];
    k.$$completeOutstandingRequest = e;
    k.$$incOutstandingRequestCount = function () {
      s++;
    };
    k.notifyWhenNoOutstandingRequests = function (a) {
      r(u, function (a) {
        a();
      });
      0 === s ? a() : E.push(a);
    };
    var u = [], B;
    k.addPollFn = function (a) {
      y(B) && f(100, n);
      u.push(a);
      return a;
    };
    var N = h.href, R = a.find('base'), w = null;
    k.url = function (a, c) {
      h !== b.location && (h = b.location);
      l !== b.history && (l = b.history);
      if (a) {
        if (N != a)
          return N = a, d.history ? c ? l.replaceState(null, '', a) : (l.pushState(null, '', a), R.attr('href', R.attr('href'))) : (w = a, c ? h.replace(a) : h.href = a), k;
      } else
        return w || h.href.replace(/%27/g, '\'');
    };
    var ca = [], K = !1;
    k.onUrlChange = function (a) {
      if (!K) {
        if (d.history)
          v(b).on('popstate', g);
        if (d.hashchange)
          v(b).on('hashchange', g);
        else
          k.addPollFn(g);
        K = !0;
      }
      ca.push(a);
      return a;
    };
    k.$$checkUrlChange = g;
    k.baseHref = function () {
      var a = R.attr('href');
      return a ? a.replace(/^(https?\:)?\/\/[^\/]*/, '') : '';
    };
    var O = {}, da = '', C = k.baseHref();
    k.cookies = function (a, b) {
      var d, e, f, k;
      if (a)
        b === t ? m.cookie = escape(a) + '=;path=' + C + ';expires=Thu, 01 Jan 1970 00:00:00 GMT' : A(b) && (d = (m.cookie = escape(a) + '=' + escape(b) + ';path=' + C).length + 1, 4096 < d && c.warn('Cookie \'' + a + '\' possibly not set or overflowed because it was too large (' + d + ' > 4096 bytes)!'));
      else {
        if (m.cookie !== da)
          for (da = m.cookie, d = da.split('; '), O = {}, f = 0; f < d.length; f++)
            e = d[f], k = e.indexOf('='), 0 < k && (a = unescape(e.substring(0, k)), O[a] === t && (O[a] = unescape(e.substring(k + 1))));
        return O;
      }
    };
    k.defer = function (a, b) {
      var c;
      s++;
      c = n(function () {
        delete q[c];
        e(a);
      }, b || 0);
      q[c] = !0;
      return c;
    };
    k.defer.cancel = function (a) {
      return q[a] ? (delete q[a], p(a), e(F), !0) : !1;
    };
  }
  function Nd() {
    this.$get = [
      '$window',
      '$log',
      '$sniffer',
      '$document',
      function (b, a, c, d) {
        return new te(b, d, a, c);
      }
    ];
  }
  function Od() {
    this.$get = function () {
      function b(b, d) {
        function e(a) {
          a != n && (p ? p == a && (p = a.n) : p = a, f(a.n, a.p), f(a, n), n = a, n.n = null);
        }
        function f(a, b) {
          a != b && (a && (a.p = b), b && (b.n = a));
        }
        if (b in a)
          throw D('$cacheFactory')('iid', b);
        var g = 0, k = J({}, d, { id: b }), m = {}, h = d && d.capacity || Number.MAX_VALUE, l = {}, n = null, p = null;
        return a[b] = {
          put: function (a, b) {
            if (h < Number.MAX_VALUE) {
              var c = l[a] || (l[a] = { key: a });
              e(c);
            }
            if (!y(b))
              return a in m || g++, m[a] = b, g > h && this.remove(p.key), b;
          },
          get: function (a) {
            if (h < Number.MAX_VALUE) {
              var b = l[a];
              if (!b)
                return;
              e(b);
            }
            return m[a];
          },
          remove: function (a) {
            if (h < Number.MAX_VALUE) {
              var b = l[a];
              if (!b)
                return;
              b == n && (n = b.p);
              b == p && (p = b.n);
              f(b.n, b.p);
              delete l[a];
            }
            delete m[a];
            g--;
          },
          removeAll: function () {
            m = {};
            g = 0;
            l = {};
            n = p = null;
          },
          destroy: function () {
            l = k = m = null;
            delete a[b];
          },
          info: function () {
            return J({}, k, { size: g });
          }
        };
      }
      var a = {};
      b.info = function () {
        var b = {};
        r(a, function (a, e) {
          b[e] = a.info();
        });
        return b;
      };
      b.get = function (b) {
        return a[b];
      };
      return b;
    };
  }
  function de() {
    this.$get = [
      '$cacheFactory',
      function (b) {
        return b('templates');
      }
    ];
  }
  function ic(b, a) {
    var c = {}, d = 'Directive', e = /^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/, f = /(([\d\w_\-]+)(?:\:([^;]+))?;?)/, g = /^(on[a-z]+|formaction)$/;
    this.directive = function m(a, e) {
      Da(a, 'directive');
      A(a) ? (Db(e, 'directiveFactory'), c.hasOwnProperty(a) || (c[a] = [], b.factory(a + d, [
        '$injector',
        '$exceptionHandler',
        function (b, d) {
          var e = [];
          r(c[a], function (c, f) {
            try {
              var g = b.invoke(c);
              P(g) ? g = { compile: ba(g) } : !g.compile && g.link && (g.compile = ba(g.link));
              g.priority = g.priority || 0;
              g.index = f;
              g.name = g.name || a;
              g.require = g.require || g.controller && g.name;
              g.restrict = g.restrict || 'A';
              e.push(g);
            } catch (m) {
              d(m);
            }
          });
          return e;
        }
      ])), c[a].push(e)) : r(a, $b(m));
      return this;
    };
    this.aHrefSanitizationWhitelist = function (b) {
      return z(b) ? (a.aHrefSanitizationWhitelist(b), this) : a.aHrefSanitizationWhitelist();
    };
    this.imgSrcSanitizationWhitelist = function (b) {
      return z(b) ? (a.imgSrcSanitizationWhitelist(b), this) : a.imgSrcSanitizationWhitelist();
    };
    this.$get = [
      '$injector',
      '$interpolate',
      '$exceptionHandler',
      '$http',
      '$templateCache',
      '$parse',
      '$controller',
      '$rootScope',
      '$document',
      '$sce',
      '$animate',
      '$$sanitizeUri',
      function (a, b, l, n, p, q, s, E, u, B, N, R) {
        function w(a, b, c, d, e) {
          a instanceof v || (a = v(a));
          r(a, function (b, c) {
            3 == b.nodeType && b.nodeValue.match(/\S+/) && (a[c] = v(b).wrap('<span></span>').parent()[0]);
          });
          var f = K(a, b, a, c, d, e);
          ca(a, 'ng-scope');
          return function (b, c, d, e) {
            Db(b, 'scope');
            var g = c ? La.clone.call(a) : a;
            r(d, function (a, b) {
              g.data('$' + b + 'Controller', a);
            });
            d = 0;
            for (var m = g.length; d < m; d++) {
              var h = g[d].nodeType;
              1 !== h && 9 !== h || g.eq(d).data('$scope', b);
            }
            c && c(g, b);
            f && f(b, g, g, e);
            return g;
          };
        }
        function ca(a, b) {
          try {
            a.addClass(b);
          } catch (c) {
          }
        }
        function K(a, b, c, d, e, f) {
          function g(a, c, d, e) {
            var f, h, l, q, n, p, s;
            f = c.length;
            var L = Array(f);
            for (q = 0; q < f; q++)
              L[q] = c[q];
            p = q = 0;
            for (n = m.length; q < n; p++)
              h = L[p], c = m[q++], f = m[q++], c ? (c.scope ? (l = a.$new(), v.data(h, '$scope', l)) : l = a, s = c.transcludeOnThisElement ? O(a, c.transclude, e) : !c.templateOnThisElement && e ? e : !e && b ? O(a, b) : null, c(f, l, h, d, s)) : f && f(a, h.childNodes, t, e);
          }
          for (var m = [], h, l, q, n, p = 0; p < a.length; p++)
            h = new Ob(), l = da(a[p], [], h, 0 === p ? d : t, e), (f = l.length ? H(l, a[p], h, b, c, null, [], [], f) : null) && f.scope && ca(h.$$element, 'ng-scope'), h = f && f.terminal || !(q = a[p].childNodes) || !q.length ? null : K(q, f ? (f.transcludeOnThisElement || !f.templateOnThisElement) && f.transclude : b), m.push(f, h), n = n || f || h, f = null;
          return n ? g : null;
        }
        function O(a, b, c) {
          return function (d, e, f) {
            var g = !1;
            d || (d = a.$new(), g = d.$$transcluded = !0);
            e = b(d, e, f, c);
            if (g)
              e.on('$destroy', function () {
                d.$destroy();
              });
            return e;
          };
        }
        function da(a, b, c, d, g) {
          var m = c.$attr, h;
          switch (a.nodeType) {
          case 1:
            fa(b, pa(Ma(a).toLowerCase()), 'E', d, g);
            for (var l, q, n, p = a.attributes, s = 0, E = p && p.length; s < E; s++) {
              var B = !1, N = !1;
              l = p[s];
              if (!Q || 8 <= Q || l.specified) {
                h = l.name;
                q = aa(l.value);
                l = pa(h);
                if (n = U.test(l))
                  h = mb(l.substr(6), '-');
                var u = l.replace(/(Start|End)$/, '');
                l === u + 'Start' && (B = h, N = h.substr(0, h.length - 5) + 'end', h = h.substr(0, h.length - 6));
                l = pa(h.toLowerCase());
                m[l] = h;
                if (n || !c.hasOwnProperty(l))
                  c[l] = q, qc(a, l) && (c[l] = !0);
                S(a, b, q, l);
                fa(b, l, 'A', d, g, B, N);
              }
            }
            a = a.className;
            if (A(a) && '' !== a)
              for (; h = f.exec(a);)
                l = pa(h[2]), fa(b, l, 'C', d, g) && (c[l] = aa(h[3])), a = a.substr(h.index + h[0].length);
            break;
          case 3:
            M(b, a.nodeValue);
            break;
          case 8:
            try {
              if (h = e.exec(a.nodeValue))
                l = pa(h[1]), fa(b, l, 'M', d, g) && (c[l] = aa(h[2]));
            } catch (w) {
            }
          }
          b.sort(y);
          return b;
        }
        function C(a, b, c) {
          var d = [], e = 0;
          if (b && a.hasAttribute && a.hasAttribute(b)) {
            do {
              if (!a)
                throw ja('uterdir', b, c);
              1 == a.nodeType && (a.hasAttribute(b) && e++, a.hasAttribute(c) && e--);
              d.push(a);
              a = a.nextSibling;
            } while (0 < e);
          } else
            d.push(a);
          return v(d);
        }
        function x(a, b, c) {
          return function (d, e, f, g, h) {
            e = C(e[0], b, c);
            return a(d, e, f, g, h);
          };
        }
        function H(a, c, d, e, f, g, m, n, p) {
          function E(a, b, c, d) {
            if (a) {
              c && (a = x(a, c, d));
              a.require = G.require;
              a.directiveName = D;
              if (K === G || G.$$isolateScope)
                a = tc(a, { isolateScope: !0 });
              m.push(a);
            }
            if (b) {
              c && (b = x(b, c, d));
              b.require = G.require;
              b.directiveName = D;
              if (K === G || G.$$isolateScope)
                b = tc(b, { isolateScope: !0 });
              n.push(b);
            }
          }
          function B(a, b, c, d) {
            var e, f = 'data', g = !1;
            if (A(b)) {
              for (; '^' == (e = b.charAt(0)) || '?' == e;)
                b = b.substr(1), '^' == e && (f = 'inheritedData'), g = g || '?' == e;
              e = null;
              d && 'data' === f && (e = d[b]);
              e = e || c[f]('$' + b + 'Controller');
              if (!e && !g)
                throw ja('ctreq', b, a);
            } else
              I(b) && (e = [], r(b, function (b) {
                e.push(B(a, b, c, d));
              }));
            return e;
          }
          function N(a, e, f, g, p) {
            function E(a, b) {
              var c;
              2 > arguments.length && (b = a, a = t);
              M && (c = da);
              return p(a, b, c);
            }
            var u, L, w, O, x, C, da = {}, rb;
            u = c === f ? d : ha(d, new Ob(v(f), d.$attr));
            L = u.$$element;
            if (K) {
              var Na = /^\s*([@=&])(\??)\s*(\w*)\s*$/;
              C = e.$new(!0);
              !H || H !== K && H !== K.$$originalDirective ? L.data('$isolateScopeNoTemplate', C) : L.data('$isolateScope', C);
              ca(L, 'ng-isolate-scope');
              r(K.scope, function (a, c) {
                var d = a.match(Na) || [], f = d[3] || c, g = '?' == d[2], d = d[1], m, l, n, p;
                C.$$isolateBindings[c] = d + f;
                switch (d) {
                case '@':
                  u.$observe(f, function (a) {
                    C[c] = a;
                  });
                  u.$$observers[f].$$scope = e;
                  u[f] && (C[c] = b(u[f])(e));
                  break;
                case '=':
                  if (g && !u[f])
                    break;
                  l = q(u[f]);
                  p = l.literal ? Aa : function (a, b) {
                    return a === b || a !== a && b !== b;
                  };
                  n = l.assign || function () {
                    m = C[c] = l(e);
                    throw ja('nonassign', u[f], K.name);
                  };
                  m = C[c] = l(e);
                  C.$watch(function () {
                    var a = l(e);
                    p(a, C[c]) || (p(a, m) ? n(e, a = C[c]) : C[c] = a);
                    return m = a;
                  }, null, l.literal);
                  break;
                case '&':
                  l = q(u[f]);
                  C[c] = function (a) {
                    return l(e, a);
                  };
                  break;
                default:
                  throw ja('iscp', K.name, c, a);
                }
              });
            }
            rb = p && E;
            R && r(R, function (a) {
              var b = {
                  $scope: a === K || a.$$isolateScope ? C : e,
                  $element: L,
                  $attrs: u,
                  $transclude: rb
                }, c;
              x = a.controller;
              '@' == x && (x = u[a.name]);
              c = s(x, b);
              da[a.name] = c;
              M || L.data('$' + a.name + 'Controller', c);
              a.controllerAs && (b.$scope[a.controllerAs] = c);
            });
            g = 0;
            for (w = m.length; g < w; g++)
              try {
                O = m[g], O(O.isolateScope ? C : e, L, u, O.require && B(O.directiveName, O.require, L, da), rb);
              } catch (G) {
                l(G, ia(L));
              }
            g = e;
            K && (K.template || null === K.templateUrl) && (g = C);
            a && a(g, f.childNodes, t, p);
            for (g = n.length - 1; 0 <= g; g--)
              try {
                O = n[g], O(O.isolateScope ? C : e, L, u, O.require && B(O.directiveName, O.require, L, da), rb);
              } catch (z) {
                l(z, ia(L));
              }
          }
          p = p || {};
          for (var u = -Number.MAX_VALUE, O, R = p.controllerDirectives, K = p.newIsolateScopeDirective, H = p.templateDirective, fa = p.nonTlbTranscludeDirective, y = !1, J = !1, M = p.hasElementTranscludeDirective, Z = d.$$element = v(c), G, D, V, S = e, Q, Fa = 0, qa = a.length; Fa < qa; Fa++) {
            G = a[Fa];
            var U = G.$$start, Y = G.$$end;
            U && (Z = C(c, U, Y));
            V = t;
            if (u > G.priority)
              break;
            if (V = G.scope)
              O = O || G, G.templateUrl || (db('new/isolated scope', K, G, Z), T(V) && (K = G));
            D = G.name;
            !G.templateUrl && G.controller && (V = G.controller, R = R || {}, db('\'' + D + '\' controller', R[D], G, Z), R[D] = G);
            if (V = G.transclude)
              y = !0, G.$$tlb || (db('transclusion', fa, G, Z), fa = G), 'element' == V ? (M = !0, u = G.priority, V = Z, Z = d.$$element = v(X.createComment(' ' + D + ': ' + d[D] + ' ')), c = Z[0], Na(f, Ba.call(V, 0), c), S = w(V, e, u, g && g.name, { nonTlbTranscludeDirective: fa })) : (V = v(Kb(c)).contents(), Z.empty(), S = w(V, e));
            if (G.template)
              if (J = !0, db('template', H, G, Z), H = G, V = P(G.template) ? G.template(Z, d) : G.template, V = W(V), G.replace) {
                g = G;
                V = Ib.test(V) ? v(aa(V)) : [];
                c = V[0];
                if (1 != V.length || 1 !== c.nodeType)
                  throw ja('tplrt', D, '');
                Na(f, Z, c);
                qa = { $attr: {} };
                V = da(c, [], qa);
                var $ = a.splice(Fa + 1, a.length - (Fa + 1));
                K && z(V);
                a = a.concat(V).concat($);
                F(d, qa);
                qa = a.length;
              } else
                Z.html(V);
            if (G.templateUrl)
              J = !0, db('template', H, G, Z), H = G, G.replace && (g = G), N = ue(a.splice(Fa, a.length - Fa), Z, d, f, y && S, m, n, {
                controllerDirectives: R,
                newIsolateScopeDirective: K,
                templateDirective: H,
                nonTlbTranscludeDirective: fa
              }), qa = a.length;
            else if (G.compile)
              try {
                Q = G.compile(Z, d, S), P(Q) ? E(null, Q, U, Y) : Q && E(Q.pre, Q.post, U, Y);
              } catch (ve) {
                l(ve, ia(Z));
              }
            G.terminal && (N.terminal = !0, u = Math.max(u, G.priority));
          }
          N.scope = O && !0 === O.scope;
          N.transcludeOnThisElement = y;
          N.templateOnThisElement = J;
          N.transclude = S;
          p.hasElementTranscludeDirective = M;
          return N;
        }
        function z(a) {
          for (var b = 0, c = a.length; b < c; b++)
            a[b] = bc(a[b], { $$isolateScope: !0 });
        }
        function fa(b, e, f, g, h, q, n) {
          if (e === h)
            return null;
          h = null;
          if (c.hasOwnProperty(e)) {
            var p;
            e = a.get(e + d);
            for (var s = 0, u = e.length; s < u; s++)
              try {
                p = e[s], (g === t || g > p.priority) && -1 != p.restrict.indexOf(f) && (q && (p = bc(p, {
                  $$start: q,
                  $$end: n
                })), b.push(p), h = p);
              } catch (E) {
                l(E);
              }
          }
          return h;
        }
        function F(a, b) {
          var c = b.$attr, d = a.$attr, e = a.$$element;
          r(a, function (d, e) {
            '$' != e.charAt(0) && (b[e] && b[e] !== d && (d += ('style' === e ? ';' : ' ') + b[e]), a.$set(e, d, !0, c[e]));
          });
          r(b, function (b, f) {
            'class' == f ? (ca(e, b), a['class'] = (a['class'] ? a['class'] + ' ' : '') + b) : 'style' == f ? (e.attr('style', e.attr('style') + ';' + b), a.style = (a.style ? a.style + ';' : '') + b) : '$' == f.charAt(0) || a.hasOwnProperty(f) || (a[f] = b, d[f] = c[f]);
          });
        }
        function ue(a, b, c, d, e, f, g, h) {
          var m = [], l, q, s = b[0], u = a.shift(), E = J({}, u, {
              templateUrl: null,
              transclude: null,
              replace: null,
              $$originalDirective: u
            }), N = P(u.templateUrl) ? u.templateUrl(b, c) : u.templateUrl;
          b.empty();
          n.get(B.getTrustedResourceUrl(N), { cache: p }).success(function (n) {
            var p, B;
            n = W(n);
            if (u.replace) {
              n = Ib.test(n) ? v(aa(n)) : [];
              p = n[0];
              if (1 != n.length || 1 !== p.nodeType)
                throw ja('tplrt', u.name, N);
              n = { $attr: {} };
              Na(d, b, p);
              var w = da(p, [], n);
              T(u.scope) && z(w);
              a = w.concat(a);
              F(c, n);
            } else
              p = s, b.html(n);
            a.unshift(E);
            l = H(a, p, c, e, b, u, f, g, h);
            r(d, function (a, c) {
              a == p && (d[c] = b[0]);
            });
            for (q = K(b[0].childNodes, e); m.length;) {
              n = m.shift();
              B = m.shift();
              var R = m.shift(), x = m.shift(), w = b[0];
              if (B !== s) {
                var C = B.className;
                h.hasElementTranscludeDirective && u.replace || (w = Kb(p));
                Na(R, v(B), w);
                ca(v(w), C);
              }
              B = l.transcludeOnThisElement ? O(n, l.transclude, x) : x;
              l(q, n, w, d, B);
            }
            m = null;
          }).error(function (a, b, c, d) {
            throw ja('tpload', d.url);
          });
          return function (a, b, c, d, e) {
            a = e;
            m ? (m.push(b), m.push(c), m.push(d), m.push(a)) : (l.transcludeOnThisElement && (a = O(b, l.transclude, e)), l(q, b, c, d, a));
          };
        }
        function y(a, b) {
          var c = b.priority - a.priority;
          return 0 !== c ? c : a.name !== b.name ? a.name < b.name ? -1 : 1 : a.index - b.index;
        }
        function db(a, b, c, d) {
          if (b)
            throw ja('multidir', b.name, c.name, a, ia(d));
        }
        function M(a, c) {
          var d = b(c, !0);
          d && a.push({
            priority: 0,
            compile: function (a) {
              var b = a.parent().length;
              b && ca(a.parent(), 'ng-binding');
              return function (a, c) {
                var e = c.parent(), f = e.data('$binding') || [];
                f.push(d);
                e.data('$binding', f);
                b || ca(e, 'ng-binding');
                a.$watch(d, function (a) {
                  c[0].nodeValue = a;
                });
              };
            }
          });
        }
        function D(a, b) {
          if ('srcdoc' == b)
            return B.HTML;
          var c = Ma(a);
          if ('xlinkHref' == b || 'FORM' == c && 'action' == b || 'IMG' != c && ('src' == b || 'ngSrc' == b))
            return B.RESOURCE_URL;
        }
        function S(a, c, d, e) {
          var f = b(d, !0);
          if (f) {
            if ('multiple' === e && 'SELECT' === Ma(a))
              throw ja('selmulti', ia(a));
            c.push({
              priority: 100,
              compile: function () {
                return {
                  pre: function (c, d, m) {
                    d = m.$$observers || (m.$$observers = {});
                    if (g.test(e))
                      throw ja('nodomevents');
                    if (f = b(m[e], !0, D(a, e)))
                      m[e] = f(c), (d[e] || (d[e] = [])).$$inter = !0, (m.$$observers && m.$$observers[e].$$scope || c).$watch(f, function (a, b) {
                        'class' === e && a != b ? m.$updateClass(a, b) : m.$set(e, a);
                      });
                  }
                };
              }
            });
          }
        }
        function Na(a, b, c) {
          var d = b[0], e = b.length, f = d.parentNode, g, m;
          if (a)
            for (g = 0, m = a.length; g < m; g++)
              if (a[g] == d) {
                a[g++] = c;
                m = g + e - 1;
                for (var h = a.length; g < h; g++, m++)
                  m < h ? a[g] = a[m] : delete a[g];
                a.length -= e - 1;
                break;
              }
          f && f.replaceChild(c, d);
          a = X.createDocumentFragment();
          a.appendChild(d);
          c[v.expando] = d[v.expando];
          d = 1;
          for (e = b.length; d < e; d++)
            f = b[d], v(f).remove(), a.appendChild(f), delete b[d];
          b[0] = c;
          b.length = 1;
        }
        function tc(a, b) {
          return J(function () {
            return a.apply(null, arguments);
          }, a, b);
        }
        var Ob = function (a, b) {
          this.$$element = a;
          this.$attr = b || {};
        };
        Ob.prototype = {
          $normalize: pa,
          $addClass: function (a) {
            a && 0 < a.length && N.addClass(this.$$element, a);
          },
          $removeClass: function (a) {
            a && 0 < a.length && N.removeClass(this.$$element, a);
          },
          $updateClass: function (a, b) {
            var c = uc(a, b), d = uc(b, a);
            0 === c.length ? N.removeClass(this.$$element, d) : 0 === d.length ? N.addClass(this.$$element, c) : N.setClass(this.$$element, c, d);
          },
          $set: function (a, b, c, d) {
            var e = qc(this.$$element[0], a);
            e && (this.$$element.prop(a, b), d = e);
            this[a] = b;
            d ? this.$attr[a] = d : (d = this.$attr[a]) || (this.$attr[a] = d = mb(a, '-'));
            e = Ma(this.$$element);
            if ('A' === e && 'href' === a || 'IMG' === e && 'src' === a)
              this[a] = b = R(b, 'src' === a);
            !1 !== c && (null === b || b === t ? this.$$element.removeAttr(d) : this.$$element.attr(d, b));
            (c = this.$$observers) && r(c[a], function (a) {
              try {
                a(b);
              } catch (c) {
                l(c);
              }
            });
          },
          $observe: function (a, b) {
            var c = this, d = c.$$observers || (c.$$observers = {}), e = d[a] || (d[a] = []);
            e.push(b);
            E.$evalAsync(function () {
              e.$$inter || b(c[a]);
            });
            return b;
          }
        };
        var qa = b.startSymbol(), Z = b.endSymbol(), W = '{{' == qa || '}}' == Z ? Qa : function (a) {
            return a.replace(/\{\{/g, qa).replace(/}}/g, Z);
          }, U = /^ngAttr[A-Z]/;
        return w;
      }
    ];
  }
  function pa(b) {
    return Za(b.replace(we, ''));
  }
  function uc(b, a) {
    var c = '', d = b.split(/\s+/), e = a.split(/\s+/), f = 0;
    a:
      for (; f < d.length; f++) {
        for (var g = d[f], k = 0; k < e.length; k++)
          if (g == e[k])
            continue a;
        c += (0 < c.length ? ' ' : '') + g;
      }
    return c;
  }
  function Pd() {
    var b = {}, a = /^(\S+)(\s+as\s+(\w+))?$/;
    this.register = function (a, d) {
      Da(a, 'controller');
      T(a) ? J(b, a) : b[a] = d;
    };
    this.$get = [
      '$injector',
      '$window',
      function (c, d) {
        return function (e, f) {
          var g, k, m;
          A(e) && (g = e.match(a), k = g[1], m = g[3], e = b.hasOwnProperty(k) ? b[k] : hc(f.$scope, k, !0) || hc(d, k, !0), Wa(e, k, !0));
          g = c.instantiate(e, f);
          if (m) {
            if (!f || 'object' !== typeof f.$scope)
              throw D('$controller')('noscp', k || e.name, m);
            f.$scope[m] = g;
          }
          return g;
        };
      }
    ];
  }
  function Qd() {
    this.$get = [
      '$window',
      function (b) {
        return v(b.document);
      }
    ];
  }
  function Rd() {
    this.$get = [
      '$log',
      function (b) {
        return function (a, c) {
          b.error.apply(b, arguments);
        };
      }
    ];
  }
  function vc(b) {
    var a = {}, c, d, e;
    if (!b)
      return a;
    r(b.split('\n'), function (b) {
      e = b.indexOf(':');
      c = M(aa(b.substr(0, e)));
      d = aa(b.substr(e + 1));
      c && (a[c] = a[c] ? a[c] + ', ' + d : d);
    });
    return a;
  }
  function wc(b) {
    var a = T(b) ? b : t;
    return function (c) {
      a || (a = vc(b));
      return c ? a[M(c)] || null : a;
    };
  }
  function xc(b, a, c) {
    if (P(c))
      return c(b, a);
    r(c, function (c) {
      b = c(b, a);
    });
    return b;
  }
  function Ud() {
    var b = /^\s*(\[|\{[^\{])/, a = /[\}\]]\s*$/, c = /^\)\]\}',?\n/, d = { 'Content-Type': 'application/json;charset=utf-8' }, e = this.defaults = {
        transformResponse: [function (d) {
            A(d) && (d = d.replace(c, ''), b.test(d) && a.test(d) && (d = cc(d)));
            return d;
          }],
        transformRequest: [function (a) {
            return T(a) && '[object File]' !== za.call(a) && '[object Blob]' !== za.call(a) ? na(a) : a;
          }],
        headers: {
          common: { Accept: 'application/json, text/plain, */*' },
          post: ha(d),
          put: ha(d),
          patch: ha(d)
        },
        xsrfCookieName: 'XSRF-TOKEN',
        xsrfHeaderName: 'X-XSRF-TOKEN'
      }, f = this.interceptors = [], g = this.responseInterceptors = [];
    this.$get = [
      '$httpBackend',
      '$browser',
      '$cacheFactory',
      '$rootScope',
      '$q',
      '$injector',
      function (a, b, c, d, n, p) {
        function q(a) {
          function b(a) {
            var d = J({}, a, { data: xc(a.data, a.headers, c.transformResponse) });
            return 200 <= a.status && 300 > a.status ? d : n.reject(d);
          }
          var c = {
              method: 'get',
              transformRequest: e.transformRequest,
              transformResponse: e.transformResponse
            }, d = function (a) {
              var b = e.headers, c = J({}, a.headers), d, f, b = J({}, b.common, b[M(a.method)]);
              a:
                for (d in b) {
                  a = M(d);
                  for (f in c)
                    if (M(f) === a)
                      continue a;
                  c[d] = b[d];
                }
              (function (a) {
                var b;
                r(a, function (c, d) {
                  P(c) && (b = c(), null != b ? a[d] = b : delete a[d]);
                });
              }(c));
              return c;
            }(a);
          J(c, a);
          c.headers = d;
          c.method = Ia(c.method);
          var f = [
              function (a) {
                d = a.headers;
                var c = xc(a.data, wc(d), a.transformRequest);
                y(c) && r(d, function (a, b) {
                  'content-type' === M(b) && delete d[b];
                });
                y(a.withCredentials) && !y(e.withCredentials) && (a.withCredentials = e.withCredentials);
                return s(a, c, d).then(b, b);
              },
              t
            ], g = n.when(c);
          for (r(B, function (a) {
              (a.request || a.requestError) && f.unshift(a.request, a.requestError);
              (a.response || a.responseError) && f.push(a.response, a.responseError);
            }); f.length;) {
            a = f.shift();
            var m = f.shift(), g = g.then(a, m);
          }
          g.success = function (a) {
            g.then(function (b) {
              a(b.data, b.status, b.headers, c);
            });
            return g;
          };
          g.error = function (a) {
            g.then(null, function (b) {
              a(b.data, b.status, b.headers, c);
            });
            return g;
          };
          return g;
        }
        function s(c, f, g) {
          function h(a, b, c, e) {
            x && (200 <= a && 300 > a ? x.put(v, [
              a,
              b,
              vc(c),
              e
            ]) : x.remove(v));
            p(b, a, c, e);
            d.$$phase || d.$apply();
          }
          function p(a, b, d, e) {
            b = Math.max(b, 0);
            (200 <= b && 300 > b ? B.resolve : B.reject)({
              data: a,
              status: b,
              headers: wc(d),
              config: c,
              statusText: e
            });
          }
          function s() {
            var a = Ra(q.pendingRequests, c);
            -1 !== a && q.pendingRequests.splice(a, 1);
          }
          var B = n.defer(), r = B.promise, x, H, v = E(c.url, c.params);
          q.pendingRequests.push(c);
          r.then(s, s);
          !c.cache && !e.cache || (!1 === c.cache || 'GET' !== c.method && 'JSONP' !== c.method) || (x = T(c.cache) ? c.cache : T(e.cache) ? e.cache : u);
          if (x)
            if (H = x.get(v), z(H)) {
              if (H && P(H.then))
                return H.then(s, s), H;
              I(H) ? p(H[1], H[0], ha(H[2]), H[3]) : p(H, 200, {}, 'OK');
            } else
              x.put(v, r);
          y(H) && ((H = Pb(c.url) ? b.cookies()[c.xsrfCookieName || e.xsrfCookieName] : t) && (g[c.xsrfHeaderName || e.xsrfHeaderName] = H), a(c.method, v, f, h, g, c.timeout, c.withCredentials, c.responseType));
          return r;
        }
        function E(a, b) {
          if (!b)
            return a;
          var c = [];
          Tc(b, function (a, b) {
            null === a || y(a) || (I(a) || (a = [a]), r(a, function (a) {
              T(a) && (a = ta(a) ? a.toISOString() : na(a));
              c.push(Ca(b) + '=' + Ca(a));
            }));
          });
          0 < c.length && (a += (-1 == a.indexOf('?') ? '?' : '&') + c.join('&'));
          return a;
        }
        var u = c('$http'), B = [];
        r(f, function (a) {
          B.unshift(A(a) ? p.get(a) : p.invoke(a));
        });
        r(g, function (a, b) {
          var c = A(a) ? p.get(a) : p.invoke(a);
          B.splice(b, 0, {
            response: function (a) {
              return c(n.when(a));
            },
            responseError: function (a) {
              return c(n.reject(a));
            }
          });
        });
        q.pendingRequests = [];
        (function (a) {
          r(arguments, function (a) {
            q[a] = function (b, c) {
              return q(J(c || {}, {
                method: a,
                url: b
              }));
            };
          });
        }('get', 'delete', 'head', 'jsonp'));
        (function (a) {
          r(arguments, function (a) {
            q[a] = function (b, c, d) {
              return q(J(d || {}, {
                method: a,
                url: b,
                data: c
              }));
            };
          });
        }('post', 'put'));
        q.defaults = e;
        return q;
      }
    ];
  }
  function xe(b) {
    if (8 >= Q && (!b.match(/^(get|post|head|put|delete|options)$/i) || !W.XMLHttpRequest))
      return new W.ActiveXObject('Microsoft.XMLHTTP');
    if (W.XMLHttpRequest)
      return new W.XMLHttpRequest();
    throw D('$httpBackend')('noxhr');
  }
  function Vd() {
    this.$get = [
      '$browser',
      '$window',
      '$document',
      function (b, a, c) {
        return ye(b, xe, b.defer, a.angular.callbacks, c[0]);
      }
    ];
  }
  function ye(b, a, c, d, e) {
    function f(a, b, c) {
      var f = e.createElement('script'), g = null;
      f.type = 'text/javascript';
      f.src = a;
      f.async = !0;
      g = function (a) {
        $a(f, 'load', g);
        $a(f, 'error', g);
        e.body.removeChild(f);
        f = null;
        var k = -1, s = 'unknown';
        a && ('load' !== a.type || d[b].called || (a = { type: 'error' }), s = a.type, k = 'error' === a.type ? 404 : 200);
        c && c(k, s);
      };
      sb(f, 'load', g);
      sb(f, 'error', g);
      8 >= Q && (f.onreadystatechange = function () {
        A(f.readyState) && /loaded|complete/.test(f.readyState) && (f.onreadystatechange = null, g({ type: 'load' }));
      });
      e.body.appendChild(f);
      return g;
    }
    var g = -1;
    return function (e, m, h, l, n, p, q, s) {
      function E() {
        B = g;
        R && R();
        w && w.abort();
      }
      function u(a, d, e, f, g) {
        K && c.cancel(K);
        R = w = null;
        0 === d && (d = e ? 200 : 'file' == ua(m).protocol ? 404 : 0);
        a(1223 === d ? 204 : d, e, f, g || '');
        b.$$completeOutstandingRequest(F);
      }
      var B;
      b.$$incOutstandingRequestCount();
      m = m || b.url();
      if ('jsonp' == M(e)) {
        var N = '_' + (d.counter++).toString(36);
        d[N] = function (a) {
          d[N].data = a;
          d[N].called = !0;
        };
        var R = f(m.replace('JSON_CALLBACK', 'angular.callbacks.' + N), N, function (a, b) {
            u(l, a, d[N].data, '', b);
            d[N] = F;
          });
      } else {
        var w = a(e);
        w.open(e, m, !0);
        r(n, function (a, b) {
          z(a) && w.setRequestHeader(b, a);
        });
        w.onreadystatechange = function () {
          if (w && 4 == w.readyState) {
            var a = null, b = null, c = '';
            B !== g && (a = w.getAllResponseHeaders(), b = 'response' in w ? w.response : w.responseText);
            B === g && 10 > Q || (c = w.statusText);
            u(l, B || w.status, b, a, c);
          }
        };
        q && (w.withCredentials = !0);
        if (s)
          try {
            w.responseType = s;
          } catch (ca) {
            if ('json' !== s)
              throw ca;
          }
        w.send(h || null);
      }
      if (0 < p)
        var K = c(E, p);
      else
        p && P(p.then) && p.then(E);
    };
  }
  function Sd() {
    var b = '{{', a = '}}';
    this.startSymbol = function (a) {
      return a ? (b = a, this) : b;
    };
    this.endSymbol = function (b) {
      return b ? (a = b, this) : a;
    };
    this.$get = [
      '$parse',
      '$exceptionHandler',
      '$sce',
      function (c, d, e) {
        function f(f, h, l) {
          for (var n, p, q = 0, s = [], E = f.length, u = !1, B = []; q < E;)
            -1 != (n = f.indexOf(b, q)) && -1 != (p = f.indexOf(a, n + g)) ? (q != n && s.push(f.substring(q, n)), s.push(q = c(u = f.substring(n + g, p))), q.exp = u, q = p + k, u = !0) : (q != E && s.push(f.substring(q)), q = E);
          (E = s.length) || (s.push(''), E = 1);
          if (l && 1 < s.length)
            throw yc('noconcat', f);
          if (!h || u)
            return B.length = E, q = function (a) {
              try {
                for (var b = 0, c = E, g; b < c; b++) {
                  if ('function' == typeof (g = s[b]))
                    if (g = g(a), g = l ? e.getTrusted(l, g) : e.valueOf(g), null == g)
                      g = '';
                    else
                      switch (typeof g) {
                      case 'string':
                        break;
                      case 'number':
                        g = '' + g;
                        break;
                      default:
                        g = na(g);
                      }
                  B[b] = g;
                }
                return B.join('');
              } catch (k) {
                a = yc('interr', f, k.toString()), d(a);
              }
            }, q.exp = f, q.parts = s, q;
        }
        var g = b.length, k = a.length;
        f.startSymbol = function () {
          return b;
        };
        f.endSymbol = function () {
          return a;
        };
        return f;
      }
    ];
  }
  function Td() {
    this.$get = [
      '$rootScope',
      '$window',
      '$q',
      function (b, a, c) {
        function d(d, g, k, m) {
          var h = a.setInterval, l = a.clearInterval, n = c.defer(), p = n.promise, q = 0, s = z(m) && !m;
          k = z(k) ? k : 0;
          p.then(null, null, d);
          p.$$intervalId = h(function () {
            n.notify(q++);
            0 < k && q >= k && (n.resolve(q), l(p.$$intervalId), delete e[p.$$intervalId]);
            s || b.$apply();
          }, g);
          e[p.$$intervalId] = n;
          return p;
        }
        var e = {};
        d.cancel = function (b) {
          return b && b.$$intervalId in e ? (e[b.$$intervalId].reject('canceled'), a.clearInterval(b.$$intervalId), delete e[b.$$intervalId], !0) : !1;
        };
        return d;
      }
    ];
  }
  function bd() {
    this.$get = function () {
      return {
        id: 'en-us',
        NUMBER_FORMATS: {
          DECIMAL_SEP: '.',
          GROUP_SEP: ',',
          PATTERNS: [
            {
              minInt: 1,
              minFrac: 0,
              maxFrac: 3,
              posPre: '',
              posSuf: '',
              negPre: '-',
              negSuf: '',
              gSize: 3,
              lgSize: 3
            },
            {
              minInt: 1,
              minFrac: 2,
              maxFrac: 2,
              posPre: '\xa4',
              posSuf: '',
              negPre: '(\xa4',
              negSuf: ')',
              gSize: 3,
              lgSize: 3
            }
          ],
          CURRENCY_SYM: '$'
        },
        DATETIME_FORMATS: {
          MONTH: 'January February March April May June July August September October November December'.split(' '),
          SHORTMONTH: 'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec'.split(' '),
          DAY: 'Sunday Monday Tuesday Wednesday Thursday Friday Saturday'.split(' '),
          SHORTDAY: 'Sun Mon Tue Wed Thu Fri Sat'.split(' '),
          AMPMS: [
            'AM',
            'PM'
          ],
          medium: 'MMM d, y h:mm:ss a',
          'short': 'M/d/yy h:mm a',
          fullDate: 'EEEE, MMMM d, y',
          longDate: 'MMMM d, y',
          mediumDate: 'MMM d, y',
          shortDate: 'M/d/yy',
          mediumTime: 'h:mm:ss a',
          shortTime: 'h:mm a'
        },
        pluralCat: function (b) {
          return 1 === b ? 'one' : 'other';
        }
      };
    };
  }
  function Qb(b) {
    b = b.split('/');
    for (var a = b.length; a--;)
      b[a] = lb(b[a]);
    return b.join('/');
  }
  function zc(b, a, c) {
    b = ua(b, c);
    a.$$protocol = b.protocol;
    a.$$host = b.hostname;
    a.$$port = U(b.port) || ze[b.protocol] || null;
  }
  function Ac(b, a, c) {
    var d = '/' !== b.charAt(0);
    d && (b = '/' + b);
    b = ua(b, c);
    a.$$path = decodeURIComponent(d && '/' === b.pathname.charAt(0) ? b.pathname.substring(1) : b.pathname);
    a.$$search = ec(b.search);
    a.$$hash = decodeURIComponent(b.hash);
    a.$$path && '/' != a.$$path.charAt(0) && (a.$$path = '/' + a.$$path);
  }
  function ra(b, a) {
    if (0 === a.indexOf(b))
      return a.substr(b.length);
  }
  function eb(b) {
    var a = b.indexOf('#');
    return -1 == a ? b : b.substr(0, a);
  }
  function Rb(b) {
    return b.substr(0, eb(b).lastIndexOf('/') + 1);
  }
  function Bc(b, a) {
    this.$$html5 = !0;
    a = a || '';
    var c = Rb(b);
    zc(b, this, b);
    this.$$parse = function (a) {
      var e = ra(c, a);
      if (!A(e))
        throw Sb('ipthprfx', a, c);
      Ac(e, this, b);
      this.$$path || (this.$$path = '/');
      this.$$compose();
    };
    this.$$compose = function () {
      var a = Cb(this.$$search), b = this.$$hash ? '#' + lb(this.$$hash) : '';
      this.$$url = Qb(this.$$path) + (a ? '?' + a : '') + b;
      this.$$absUrl = c + this.$$url.substr(1);
    };
    this.$$rewrite = function (d) {
      var e;
      if ((e = ra(b, d)) !== t)
        return d = e, (e = ra(a, e)) !== t ? c + (ra('/', e) || e) : b + d;
      if ((e = ra(c, d)) !== t)
        return c + e;
      if (c == d + '/')
        return c;
    };
  }
  function Tb(b, a) {
    var c = Rb(b);
    zc(b, this, b);
    this.$$parse = function (d) {
      var e = ra(b, d) || ra(c, d), e = '#' == e.charAt(0) ? ra(a, e) : this.$$html5 ? e : '';
      if (!A(e))
        throw Sb('ihshprfx', d, a);
      Ac(e, this, b);
      d = this.$$path;
      var f = /^\/[A-Z]:(\/.*)/;
      0 === e.indexOf(b) && (e = e.replace(b, ''));
      f.exec(e) || (d = (e = f.exec(d)) ? e[1] : d);
      this.$$path = d;
      this.$$compose();
    };
    this.$$compose = function () {
      var c = Cb(this.$$search), e = this.$$hash ? '#' + lb(this.$$hash) : '';
      this.$$url = Qb(this.$$path) + (c ? '?' + c : '') + e;
      this.$$absUrl = b + (this.$$url ? a + this.$$url : '');
    };
    this.$$rewrite = function (a) {
      if (eb(b) == eb(a))
        return a;
    };
  }
  function Ub(b, a) {
    this.$$html5 = !0;
    Tb.apply(this, arguments);
    var c = Rb(b);
    this.$$rewrite = function (d) {
      var e;
      if (b == eb(d))
        return d;
      if (e = ra(c, d))
        return b + a + e;
      if (c === d + '/')
        return c;
    };
    this.$$compose = function () {
      var c = Cb(this.$$search), e = this.$$hash ? '#' + lb(this.$$hash) : '';
      this.$$url = Qb(this.$$path) + (c ? '?' + c : '') + e;
      this.$$absUrl = b + a + this.$$url;
    };
  }
  function tb(b) {
    return function () {
      return this[b];
    };
  }
  function Cc(b, a) {
    return function (c) {
      if (y(c))
        return this[b];
      this[b] = a(c);
      this.$$compose();
      return this;
    };
  }
  function Wd() {
    var b = '', a = !1;
    this.hashPrefix = function (a) {
      return z(a) ? (b = a, this) : b;
    };
    this.html5Mode = function (b) {
      return z(b) ? (a = b, this) : a;
    };
    this.$get = [
      '$rootScope',
      '$browser',
      '$sniffer',
      '$rootElement',
      function (c, d, e, f) {
        function g(a) {
          c.$broadcast('$locationChangeSuccess', k.absUrl(), a);
        }
        var k, m, h = d.baseHref(), l = d.url(), n;
        a ? (n = l.substring(0, l.indexOf('/', l.indexOf('//') + 2)) + (h || '/'), m = e.history ? Bc : Ub) : (n = eb(l), m = Tb);
        k = new m(n, '#' + b);
        k.$$parse(k.$$rewrite(l));
        var p = /^\s*(javascript|mailto):/i;
        f.on('click', function (a) {
          if (!a.ctrlKey && !a.metaKey && 2 != a.which) {
            for (var e = v(a.target); 'a' !== M(e[0].nodeName);)
              if (e[0] === f[0] || !(e = e.parent())[0])
                return;
            var g = e.prop('href');
            T(g) && '[object SVGAnimatedString]' === g.toString() && (g = ua(g.animVal).href);
            if (!p.test(g)) {
              if (m === Ub) {
                var h = e.attr('href') || e.attr('xlink:href');
                if (h && 0 > h.indexOf('://'))
                  if (g = '#' + b, '/' == h[0])
                    g = n + g + h;
                  else if ('#' == h[0])
                    g = n + g + (k.path() || '/') + h;
                  else {
                    var l = k.path().split('/'), h = h.split('/');
                    2 !== l.length || l[1] || (l.length = 1);
                    for (var q = 0; q < h.length; q++)
                      '.' != h[q] && ('..' == h[q] ? l.pop() : h[q].length && l.push(h[q]));
                    g = n + g + l.join('/');
                  }
              }
              l = k.$$rewrite(g);
              g && (!e.attr('target') && l && !a.isDefaultPrevented()) && (a.preventDefault(), l != d.url() && (k.$$parse(l), c.$apply(), W.angular['ff-684208-preventDefault'] = !0));
            }
          }
        });
        k.absUrl() != l && d.url(k.absUrl(), !0);
        d.onUrlChange(function (a) {
          k.absUrl() != a && (c.$evalAsync(function () {
            var b = k.absUrl();
            k.$$parse(a);
            c.$broadcast('$locationChangeStart', a, b).defaultPrevented ? (k.$$parse(b), d.url(b)) : g(b);
          }), c.$$phase || c.$digest());
        });
        var q = 0;
        c.$watch(function () {
          var a = d.url(), b = k.$$replace;
          q && a == k.absUrl() || (q++, c.$evalAsync(function () {
            c.$broadcast('$locationChangeStart', k.absUrl(), a).defaultPrevented ? k.$$parse(a) : (d.url(k.absUrl(), b), g(a));
          }));
          k.$$replace = !1;
          return q;
        });
        return k;
      }
    ];
  }
  function Xd() {
    var b = !0, a = this;
    this.debugEnabled = function (a) {
      return z(a) ? (b = a, this) : b;
    };
    this.$get = [
      '$window',
      function (c) {
        function d(a) {
          a instanceof Error && (a.stack ? a = a.message && -1 === a.stack.indexOf(a.message) ? 'Error: ' + a.message + '\n' + a.stack : a.stack : a.sourceURL && (a = a.message + '\n' + a.sourceURL + ':' + a.line));
          return a;
        }
        function e(a) {
          var b = c.console || {}, e = b[a] || b.log || F;
          a = !1;
          try {
            a = !!e.apply;
          } catch (m) {
          }
          return a ? function () {
            var a = [];
            r(arguments, function (b) {
              a.push(d(b));
            });
            return e.apply(b, a);
          } : function (a, b) {
            e(a, null == b ? '' : b);
          };
        }
        return {
          log: e('log'),
          info: e('info'),
          warn: e('warn'),
          error: e('error'),
          debug: function () {
            var c = e('debug');
            return function () {
              b && c.apply(a, arguments);
            };
          }()
        };
      }
    ];
  }
  function ka(b, a) {
    if ('__defineGetter__' === b || '__defineSetter__' === b || '__lookupGetter__' === b || '__lookupSetter__' === b || '__proto__' === b)
      throw la('isecfld', a);
    return b;
  }
  function va(b, a) {
    if (b) {
      if (b.constructor === b)
        throw la('isecfn', a);
      if (b.document && b.location && b.alert && b.setInterval)
        throw la('isecwindow', a);
      if (b.children && (b.nodeName || b.prop && b.attr && b.find))
        throw la('isecdom', a);
      if (b === Object)
        throw la('isecobj', a);
    }
    return b;
  }
  function ub(b, a, c, d, e) {
    va(b, d);
    e = e || {};
    a = a.split('.');
    for (var f, g = 0; 1 < a.length; g++) {
      f = ka(a.shift(), d);
      var k = va(b[f], d);
      k || (k = {}, b[f] = k);
      b = k;
      b.then && e.unwrapPromises && (wa(d), '$$v' in b || function (a) {
        a.then(function (b) {
          a.$$v = b;
        });
      }(b), b.$$v === t && (b.$$v = {}), b = b.$$v);
    }
    f = ka(a.shift(), d);
    va(b[f], d);
    return b[f] = c;
  }
  function Dc(b, a, c, d, e, f, g) {
    ka(b, f);
    ka(a, f);
    ka(c, f);
    ka(d, f);
    ka(e, f);
    return g.unwrapPromises ? function (g, m) {
      var h = m && m.hasOwnProperty(b) ? m : g, l;
      if (null == h)
        return h;
      (h = h[b]) && h.then && (wa(f), '$$v' in h || (l = h, l.$$v = t, l.then(function (a) {
        l.$$v = a;
      })), h = h.$$v);
      if (!a)
        return h;
      if (null == h)
        return t;
      (h = h[a]) && h.then && (wa(f), '$$v' in h || (l = h, l.$$v = t, l.then(function (a) {
        l.$$v = a;
      })), h = h.$$v);
      if (!c)
        return h;
      if (null == h)
        return t;
      (h = h[c]) && h.then && (wa(f), '$$v' in h || (l = h, l.$$v = t, l.then(function (a) {
        l.$$v = a;
      })), h = h.$$v);
      if (!d)
        return h;
      if (null == h)
        return t;
      (h = h[d]) && h.then && (wa(f), '$$v' in h || (l = h, l.$$v = t, l.then(function (a) {
        l.$$v = a;
      })), h = h.$$v);
      if (!e)
        return h;
      if (null == h)
        return t;
      (h = h[e]) && h.then && (wa(f), '$$v' in h || (l = h, l.$$v = t, l.then(function (a) {
        l.$$v = a;
      })), h = h.$$v);
      return h;
    } : function (f, g) {
      var h = g && g.hasOwnProperty(b) ? g : f;
      if (null == h)
        return h;
      h = h[b];
      if (!a)
        return h;
      if (null == h)
        return t;
      h = h[a];
      if (!c)
        return h;
      if (null == h)
        return t;
      h = h[c];
      if (!d)
        return h;
      if (null == h)
        return t;
      h = h[d];
      return e ? null == h ? t : h = h[e] : h;
    };
  }
  function Ec(b, a, c) {
    if (Vb.hasOwnProperty(b))
      return Vb[b];
    var d = b.split('.'), e = d.length, f;
    if (a.csp)
      f = 6 > e ? Dc(d[0], d[1], d[2], d[3], d[4], c, a) : function (b, f) {
        var g = 0, k;
        do
          k = Dc(d[g++], d[g++], d[g++], d[g++], d[g++], c, a)(b, f), f = t, b = k;
        while (g < e);
        return k;
      };
    else {
      var g = 'var p;\n';
      r(d, function (b, d) {
        ka(b, c);
        g += 'if(s == null) return undefined;\ns=' + (d ? 's' : '((k&&k.hasOwnProperty("' + b + '"))?k:s)') + '["' + b + '"];\n' + (a.unwrapPromises ? 'if (s && s.then) {\n pw("' + c.replace(/(["\r\n])/g, '\\$1') + '");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n' : '');
      });
      var g = g + 'return s;', k = new Function('s', 'k', 'pw', g);
      k.toString = ba(g);
      f = a.unwrapPromises ? function (a, b) {
        return k(a, b, wa);
      } : k;
    }
    'hasOwnProperty' !== b && (Vb[b] = f);
    return f;
  }
  function Yd() {
    var b = {}, a = {
        csp: !1,
        unwrapPromises: !1,
        logPromiseWarnings: !0
      };
    this.unwrapPromises = function (b) {
      return z(b) ? (a.unwrapPromises = !!b, this) : a.unwrapPromises;
    };
    this.logPromiseWarnings = function (b) {
      return z(b) ? (a.logPromiseWarnings = b, this) : a.logPromiseWarnings;
    };
    this.$get = [
      '$filter',
      '$sniffer',
      '$log',
      function (c, d, e) {
        a.csp = d.csp;
        wa = function (b) {
          a.logPromiseWarnings && !Fc.hasOwnProperty(b) && (Fc[b] = !0, e.warn('[$parse] Promise found in the expression `' + b + '`. Automatic unwrapping of promises in Angular expressions is deprecated.'));
        };
        return function (d) {
          var e;
          switch (typeof d) {
          case 'string':
            if (b.hasOwnProperty(d))
              return b[d];
            e = new Wb(a);
            e = new fb(e, c, a).parse(d);
            'hasOwnProperty' !== d && (b[d] = e);
            return e;
          case 'function':
            return d;
          default:
            return F;
          }
        };
      }
    ];
  }
  function $d() {
    this.$get = [
      '$rootScope',
      '$exceptionHandler',
      function (b, a) {
        return Ae(function (a) {
          b.$evalAsync(a);
        }, a);
      }
    ];
  }
  function Ae(b, a) {
    function c(a) {
      return a;
    }
    function d(a) {
      return g(a);
    }
    var e = function () {
        var g = [], h, l;
        return l = {
          resolve: function (a) {
            if (g) {
              var c = g;
              g = t;
              h = f(a);
              c.length && b(function () {
                for (var a, b = 0, d = c.length; b < d; b++)
                  a = c[b], h.then(a[0], a[1], a[2]);
              });
            }
          },
          reject: function (a) {
            l.resolve(k(a));
          },
          notify: function (a) {
            if (g) {
              var c = g;
              g.length && b(function () {
                for (var b, d = 0, e = c.length; d < e; d++)
                  b = c[d], b[2](a);
              });
            }
          },
          promise: {
            then: function (b, f, k) {
              var l = e(), E = function (d) {
                  try {
                    l.resolve((P(b) ? b : c)(d));
                  } catch (e) {
                    l.reject(e), a(e);
                  }
                }, u = function (b) {
                  try {
                    l.resolve((P(f) ? f : d)(b));
                  } catch (c) {
                    l.reject(c), a(c);
                  }
                }, B = function (b) {
                  try {
                    l.notify((P(k) ? k : c)(b));
                  } catch (d) {
                    a(d);
                  }
                };
              g ? g.push([
                E,
                u,
                B
              ]) : h.then(E, u, B);
              return l.promise;
            },
            'catch': function (a) {
              return this.then(null, a);
            },
            'finally': function (a) {
              function b(a, c) {
                var d = e();
                c ? d.resolve(a) : d.reject(a);
                return d.promise;
              }
              function d(e, f) {
                var g = null;
                try {
                  g = (a || c)();
                } catch (k) {
                  return b(k, !1);
                }
                return g && P(g.then) ? g.then(function () {
                  return b(e, f);
                }, function (a) {
                  return b(a, !1);
                }) : b(e, f);
              }
              return this.then(function (a) {
                return d(a, !0);
              }, function (a) {
                return d(a, !1);
              });
            }
          }
        };
      }, f = function (a) {
        return a && P(a.then) ? a : {
          then: function (c) {
            var d = e();
            b(function () {
              d.resolve(c(a));
            });
            return d.promise;
          }
        };
      }, g = function (a) {
        var b = e();
        b.reject(a);
        return b.promise;
      }, k = function (c) {
        return {
          then: function (f, g) {
            var k = e();
            b(function () {
              try {
                k.resolve((P(g) ? g : d)(c));
              } catch (b) {
                k.reject(b), a(b);
              }
            });
            return k.promise;
          }
        };
      };
    return {
      defer: e,
      reject: g,
      when: function (k, h, l, n) {
        var p = e(), q, s = function (b) {
            try {
              return (P(h) ? h : c)(b);
            } catch (d) {
              return a(d), g(d);
            }
          }, E = function (b) {
            try {
              return (P(l) ? l : d)(b);
            } catch (c) {
              return a(c), g(c);
            }
          }, u = function (b) {
            try {
              return (P(n) ? n : c)(b);
            } catch (d) {
              a(d);
            }
          };
        b(function () {
          f(k).then(function (a) {
            q || (q = !0, p.resolve(f(a).then(s, E, u)));
          }, function (a) {
            q || (q = !0, p.resolve(E(a)));
          }, function (a) {
            q || p.notify(u(a));
          });
        });
        return p.promise;
      },
      all: function (a) {
        var b = e(), c = 0, d = I(a) ? [] : {};
        r(a, function (a, e) {
          c++;
          f(a).then(function (a) {
            d.hasOwnProperty(e) || (d[e] = a, --c || b.resolve(d));
          }, function (a) {
            d.hasOwnProperty(e) || b.reject(a);
          });
        });
        0 === c && b.resolve(d);
        return b.promise;
      }
    };
  }
  function ge() {
    this.$get = [
      '$window',
      '$timeout',
      function (b, a) {
        var c = b.requestAnimationFrame || b.webkitRequestAnimationFrame || b.mozRequestAnimationFrame, d = b.cancelAnimationFrame || b.webkitCancelAnimationFrame || b.mozCancelAnimationFrame || b.webkitCancelRequestAnimationFrame, e = !!c, f = e ? function (a) {
            var b = c(a);
            return function () {
              d(b);
            };
          } : function (b) {
            var c = a(b, 16.66, !1);
            return function () {
              a.cancel(c);
            };
          };
        f.supported = e;
        return f;
      }
    ];
  }
  function Zd() {
    var b = 10, a = D('$rootScope'), c = null;
    this.digestTtl = function (a) {
      arguments.length && (b = a);
      return b;
    };
    this.$get = [
      '$injector',
      '$exceptionHandler',
      '$parse',
      '$browser',
      function (d, e, f, g) {
        function k() {
          this.$id = hb();
          this.$$phase = this.$parent = this.$$watchers = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = null;
          this['this'] = this.$root = this;
          this.$$destroyed = !1;
          this.$$asyncQueue = [];
          this.$$postDigestQueue = [];
          this.$$listeners = {};
          this.$$listenerCount = {};
          this.$$isolateBindings = {};
        }
        function m(b) {
          if (p.$$phase)
            throw a('inprog', p.$$phase);
          p.$$phase = b;
        }
        function h(a, b) {
          var c = f(a);
          Wa(c, b);
          return c;
        }
        function l(a, b, c) {
          do
            a.$$listenerCount[c] -= b, 0 === a.$$listenerCount[c] && delete a.$$listenerCount[c];
          while (a = a.$parent);
        }
        function n() {
        }
        k.prototype = {
          constructor: k,
          $new: function (a) {
            a ? (a = new k(), a.$root = this.$root, a.$$asyncQueue = this.$$asyncQueue, a.$$postDigestQueue = this.$$postDigestQueue) : (this.$$childScopeClass || (this.$$childScopeClass = function () {
              this.$$watchers = this.$$nextSibling = this.$$childHead = this.$$childTail = null;
              this.$$listeners = {};
              this.$$listenerCount = {};
              this.$id = hb();
              this.$$childScopeClass = null;
            }, this.$$childScopeClass.prototype = this), a = new this.$$childScopeClass());
            a['this'] = a;
            a.$parent = this;
            a.$$prevSibling = this.$$childTail;
            this.$$childHead ? this.$$childTail = this.$$childTail.$$nextSibling = a : this.$$childHead = this.$$childTail = a;
            return a;
          },
          $watch: function (a, b, d) {
            var e = h(a, 'watch'), f = this.$$watchers, g = {
                fn: b,
                last: n,
                get: e,
                exp: a,
                eq: !!d
              };
            c = null;
            if (!P(b)) {
              var k = h(b || F, 'listener');
              g.fn = function (a, b, c) {
                k(c);
              };
            }
            if ('string' == typeof a && e.constant) {
              var l = g.fn;
              g.fn = function (a, b, c) {
                l.call(this, a, b, c);
                Sa(f, g);
              };
            }
            f || (f = this.$$watchers = []);
            f.unshift(g);
            return function () {
              Sa(f, g);
              c = null;
            };
          },
          $watchCollection: function (a, b) {
            var c = this, d, e, g, k = 1 < b.length, h = 0, l = f(a), m = [], p = {}, n = !0, r = 0;
            return this.$watch(function () {
              d = l(c);
              var a, b, f;
              if (T(d))
                if (Pa(d))
                  for (e !== m && (e = m, r = e.length = 0, h++), a = d.length, r !== a && (h++, e.length = r = a), b = 0; b < a; b++)
                    f = e[b] !== e[b] && d[b] !== d[b], f || e[b] === d[b] || (h++, e[b] = d[b]);
                else {
                  e !== p && (e = p = {}, r = 0, h++);
                  a = 0;
                  for (b in d)
                    d.hasOwnProperty(b) && (a++, e.hasOwnProperty(b) ? (f = e[b] !== e[b] && d[b] !== d[b], f || e[b] === d[b] || (h++, e[b] = d[b])) : (r++, e[b] = d[b], h++));
                  if (r > a)
                    for (b in h++, e)
                      e.hasOwnProperty(b) && !d.hasOwnProperty(b) && (r--, delete e[b]);
                }
              else
                e !== d && (e = d, h++);
              return h;
            }, function () {
              n ? (n = !1, b(d, d, c)) : b(d, g, c);
              if (k)
                if (T(d))
                  if (Pa(d)) {
                    g = Array(d.length);
                    for (var a = 0; a < d.length; a++)
                      g[a] = d[a];
                  } else
                    for (a in g = {}, d)
                      kb.call(d, a) && (g[a] = d[a]);
                else
                  g = d;
            });
          },
          $digest: function () {
            var d, f, k, h, l = this.$$asyncQueue, r = this.$$postDigestQueue, R, w, t = b, K, O = [], v, C, x;
            m('$digest');
            g.$$checkUrlChange();
            c = null;
            do {
              w = !1;
              for (K = this; l.length;) {
                try {
                  x = l.shift(), x.scope.$eval(x.expression);
                } catch (H) {
                  p.$$phase = null, e(H);
                }
                c = null;
              }
              a:
                do {
                  if (h = K.$$watchers)
                    for (R = h.length; R--;)
                      try {
                        if (d = h[R])
                          if ((f = d.get(K)) !== (k = d.last) && !(d.eq ? Aa(f, k) : 'number' === typeof f && 'number' === typeof k && isNaN(f) && isNaN(k)))
                            w = !0, c = d, d.last = d.eq ? Ha(f, null) : f, d.fn(f, k === n ? f : k, K), 5 > t && (v = 4 - t, O[v] || (O[v] = []), C = P(d.exp) ? 'fn: ' + (d.exp.name || d.exp.toString()) : d.exp, C += '; newVal: ' + na(f) + '; oldVal: ' + na(k), O[v].push(C));
                          else if (d === c) {
                            w = !1;
                            break a;
                          }
                      } catch (z) {
                        p.$$phase = null, e(z);
                      }
                  if (!(h = K.$$childHead || K !== this && K.$$nextSibling))
                    for (; K !== this && !(h = K.$$nextSibling);)
                      K = K.$parent;
                } while (K = h);
              if ((w || l.length) && !t--)
                throw p.$$phase = null, a('infdig', b, na(O));
            } while (w || l.length);
            for (p.$$phase = null; r.length;)
              try {
                r.shift()();
              } catch (A) {
                e(A);
              }
          },
          $destroy: function () {
            if (!this.$$destroyed) {
              var a = this.$parent;
              this.$broadcast('$destroy');
              this.$$destroyed = !0;
              this !== p && (r(this.$$listenerCount, Bb(null, l, this)), a.$$childHead == this && (a.$$childHead = this.$$nextSibling), a.$$childTail == this && (a.$$childTail = this.$$prevSibling), this.$$prevSibling && (this.$$prevSibling.$$nextSibling = this.$$nextSibling), this.$$nextSibling && (this.$$nextSibling.$$prevSibling = this.$$prevSibling), this.$parent = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = this.$root = null, this.$$listeners = {}, this.$$watchers = this.$$asyncQueue = this.$$postDigestQueue = [], this.$destroy = this.$digest = this.$apply = F, this.$on = this.$watch = function () {
                return F;
              });
            }
          },
          $eval: function (a, b) {
            return f(a)(this, b);
          },
          $evalAsync: function (a) {
            p.$$phase || p.$$asyncQueue.length || g.defer(function () {
              p.$$asyncQueue.length && p.$digest();
            });
            this.$$asyncQueue.push({
              scope: this,
              expression: a
            });
          },
          $$postDigest: function (a) {
            this.$$postDigestQueue.push(a);
          },
          $apply: function (a) {
            try {
              return m('$apply'), this.$eval(a);
            } catch (b) {
              e(b);
            } finally {
              p.$$phase = null;
              try {
                p.$digest();
              } catch (c) {
                throw e(c), c;
              }
            }
          },
          $on: function (a, b) {
            var c = this.$$listeners[a];
            c || (this.$$listeners[a] = c = []);
            c.push(b);
            var d = this;
            do
              d.$$listenerCount[a] || (d.$$listenerCount[a] = 0), d.$$listenerCount[a]++;
            while (d = d.$parent);
            var e = this;
            return function () {
              c[Ra(c, b)] = null;
              l(e, 1, a);
            };
          },
          $emit: function (a, b) {
            var c = [], d, f = this, g = !1, k = {
                name: a,
                targetScope: f,
                stopPropagation: function () {
                  g = !0;
                },
                preventDefault: function () {
                  k.defaultPrevented = !0;
                },
                defaultPrevented: !1
              }, h = [k].concat(Ba.call(arguments, 1)), l, m;
            do {
              d = f.$$listeners[a] || c;
              k.currentScope = f;
              l = 0;
              for (m = d.length; l < m; l++)
                if (d[l])
                  try {
                    d[l].apply(null, h);
                  } catch (p) {
                    e(p);
                  }
                else
                  d.splice(l, 1), l--, m--;
              if (g)
                break;
              f = f.$parent;
            } while (f);
            return k;
          },
          $broadcast: function (a, b) {
            for (var c = this, d = this, f = {
                  name: a,
                  targetScope: this,
                  preventDefault: function () {
                    f.defaultPrevented = !0;
                  },
                  defaultPrevented: !1
                }, g = [f].concat(Ba.call(arguments, 1)), k, h; c = d;) {
              f.currentScope = c;
              d = c.$$listeners[a] || [];
              k = 0;
              for (h = d.length; k < h; k++)
                if (d[k])
                  try {
                    d[k].apply(null, g);
                  } catch (l) {
                    e(l);
                  }
                else
                  d.splice(k, 1), k--, h--;
              if (!(d = c.$$listenerCount[a] && c.$$childHead || c !== this && c.$$nextSibling))
                for (; c !== this && !(d = c.$$nextSibling);)
                  c = c.$parent;
            }
            return f;
          }
        };
        var p = new k();
        return p;
      }
    ];
  }
  function cd() {
    var b = /^\s*(https?|ftp|mailto|tel|file):/, a = /^\s*((https?|ftp|file):|data:image\/)/;
    this.aHrefSanitizationWhitelist = function (a) {
      return z(a) ? (b = a, this) : b;
    };
    this.imgSrcSanitizationWhitelist = function (b) {
      return z(b) ? (a = b, this) : a;
    };
    this.$get = function () {
      return function (c, d) {
        var e = d ? a : b, f;
        if (!Q || 8 <= Q)
          if (f = ua(c).href, '' !== f && !f.match(e))
            return 'unsafe:' + f;
        return c;
      };
    };
  }
  function Be(b) {
    if ('self' === b)
      return b;
    if (A(b)) {
      if (-1 < b.indexOf('***'))
        throw xa('iwcard', b);
      b = b.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, '\\$1').replace(/\x08/g, '\\x08').replace('\\*\\*', '.*').replace('\\*', '[^:/.?&;]*');
      return RegExp('^' + b + '$');
    }
    if (jb(b))
      return RegExp('^' + b.source + '$');
    throw xa('imatcher');
  }
  function Gc(b) {
    var a = [];
    z(b) && r(b, function (b) {
      a.push(Be(b));
    });
    return a;
  }
  function be() {
    this.SCE_CONTEXTS = ga;
    var b = ['self'], a = [];
    this.resourceUrlWhitelist = function (a) {
      arguments.length && (b = Gc(a));
      return b;
    };
    this.resourceUrlBlacklist = function (b) {
      arguments.length && (a = Gc(b));
      return a;
    };
    this.$get = [
      '$injector',
      function (c) {
        function d(a) {
          var b = function (a) {
            this.$$unwrapTrustedValue = function () {
              return a;
            };
          };
          a && (b.prototype = new a());
          b.prototype.valueOf = function () {
            return this.$$unwrapTrustedValue();
          };
          b.prototype.toString = function () {
            return this.$$unwrapTrustedValue().toString();
          };
          return b;
        }
        var e = function (a) {
          throw xa('unsafe');
        };
        c.has('$sanitize') && (e = c.get('$sanitize'));
        var f = d(), g = {};
        g[ga.HTML] = d(f);
        g[ga.CSS] = d(f);
        g[ga.URL] = d(f);
        g[ga.JS] = d(f);
        g[ga.RESOURCE_URL] = d(g[ga.URL]);
        return {
          trustAs: function (a, b) {
            var c = g.hasOwnProperty(a) ? g[a] : null;
            if (!c)
              throw xa('icontext', a, b);
            if (null === b || b === t || '' === b)
              return b;
            if ('string' !== typeof b)
              throw xa('itype', a);
            return new c(b);
          },
          getTrusted: function (c, d) {
            if (null === d || d === t || '' === d)
              return d;
            var f = g.hasOwnProperty(c) ? g[c] : null;
            if (f && d instanceof f)
              return d.$$unwrapTrustedValue();
            if (c === ga.RESOURCE_URL) {
              var f = ua(d.toString()), l, n, p = !1;
              l = 0;
              for (n = b.length; l < n; l++)
                if ('self' === b[l] ? Pb(f) : b[l].exec(f.href)) {
                  p = !0;
                  break;
                }
              if (p)
                for (l = 0, n = a.length; l < n; l++)
                  if ('self' === a[l] ? Pb(f) : a[l].exec(f.href)) {
                    p = !1;
                    break;
                  }
              if (p)
                return d;
              throw xa('insecurl', d.toString());
            }
            if (c === ga.HTML)
              return e(d);
            throw xa('unsafe');
          },
          valueOf: function (a) {
            return a instanceof f ? a.$$unwrapTrustedValue() : a;
          }
        };
      }
    ];
  }
  function ae() {
    var b = !0;
    this.enabled = function (a) {
      arguments.length && (b = !!a);
      return b;
    };
    this.$get = [
      '$parse',
      '$sniffer',
      '$sceDelegate',
      function (a, c, d) {
        if (b && c.msie && 8 > c.msieDocumentMode)
          throw xa('iequirks');
        var e = ha(ga);
        e.isEnabled = function () {
          return b;
        };
        e.trustAs = d.trustAs;
        e.getTrusted = d.getTrusted;
        e.valueOf = d.valueOf;
        b || (e.trustAs = e.getTrusted = function (a, b) {
          return b;
        }, e.valueOf = Qa);
        e.parseAs = function (b, c) {
          var d = a(c);
          return d.literal && d.constant ? d : function (a, c) {
            return e.getTrusted(b, d(a, c));
          };
        };
        var f = e.parseAs, g = e.getTrusted, k = e.trustAs;
        r(ga, function (a, b) {
          var c = M(b);
          e[Za('parse_as_' + c)] = function (b) {
            return f(a, b);
          };
          e[Za('get_trusted_' + c)] = function (b) {
            return g(a, b);
          };
          e[Za('trust_as_' + c)] = function (b) {
            return k(a, b);
          };
        });
        return e;
      }
    ];
  }
  function ce() {
    this.$get = [
      '$window',
      '$document',
      function (b, a) {
        var c = {}, d = U((/android (\d+)/.exec(M((b.navigator || {}).userAgent)) || [])[1]), e = /Boxee/i.test((b.navigator || {}).userAgent), f = a[0] || {}, g = f.documentMode, k, m = /^(Moz|webkit|O|ms)(?=[A-Z])/, h = f.body && f.body.style, l = !1, n = !1;
        if (h) {
          for (var p in h)
            if (l = m.exec(p)) {
              k = l[0];
              k = k.substr(0, 1).toUpperCase() + k.substr(1);
              break;
            }
          k || (k = 'WebkitOpacity' in h && 'webkit');
          l = !!('transition' in h || k + 'Transition' in h);
          n = !!('animation' in h || k + 'Animation' in h);
          !d || l && n || (l = A(f.body.style.webkitTransition), n = A(f.body.style.webkitAnimation));
        }
        return {
          history: !(!b.history || !b.history.pushState || 4 > d || e),
          hashchange: 'onhashchange' in b && (!g || 7 < g),
          hasEvent: function (a) {
            if ('input' == a && 9 == Q)
              return !1;
            if (y(c[a])) {
              var b = f.createElement('div');
              c[a] = 'on' + a in b;
            }
            return c[a];
          },
          csp: Xa(),
          vendorPrefix: k,
          transitions: l,
          animations: n,
          android: d,
          msie: Q,
          msieDocumentMode: g
        };
      }
    ];
  }
  function ee() {
    this.$get = [
      '$rootScope',
      '$browser',
      '$q',
      '$exceptionHandler',
      function (b, a, c, d) {
        function e(e, k, m) {
          var h = c.defer(), l = h.promise, n = z(m) && !m;
          k = a.defer(function () {
            try {
              h.resolve(e());
            } catch (a) {
              h.reject(a), d(a);
            } finally {
              delete f[l.$$timeoutId];
            }
            n || b.$apply();
          }, k);
          l.$$timeoutId = k;
          f[k] = h;
          return l;
        }
        var f = {};
        e.cancel = function (b) {
          return b && b.$$timeoutId in f ? (f[b.$$timeoutId].reject('canceled'), delete f[b.$$timeoutId], a.defer.cancel(b.$$timeoutId)) : !1;
        };
        return e;
      }
    ];
  }
  function ua(b, a) {
    var c = b;
    Q && (Y.setAttribute('href', c), c = Y.href);
    Y.setAttribute('href', c);
    return {
      href: Y.href,
      protocol: Y.protocol ? Y.protocol.replace(/:$/, '') : '',
      host: Y.host,
      search: Y.search ? Y.search.replace(/^\?/, '') : '',
      hash: Y.hash ? Y.hash.replace(/^#/, '') : '',
      hostname: Y.hostname,
      port: Y.port,
      pathname: '/' === Y.pathname.charAt(0) ? Y.pathname : '/' + Y.pathname
    };
  }
  function Pb(b) {
    b = A(b) ? ua(b) : b;
    return b.protocol === Hc.protocol && b.host === Hc.host;
  }
  function fe() {
    this.$get = ba(W);
  }
  function mc(b) {
    function a(d, e) {
      if (T(d)) {
        var f = {};
        r(d, function (b, c) {
          f[c] = a(c, b);
        });
        return f;
      }
      return b.factory(d + c, e);
    }
    var c = 'Filter';
    this.register = a;
    this.$get = [
      '$injector',
      function (a) {
        return function (b) {
          return a.get(b + c);
        };
      }
    ];
    a('currency', Ic);
    a('date', Jc);
    a('filter', Ce);
    a('json', De);
    a('limitTo', Ee);
    a('lowercase', Fe);
    a('number', Kc);
    a('orderBy', Lc);
    a('uppercase', Ge);
  }
  function Ce() {
    return function (b, a, c) {
      if (!I(b))
        return b;
      var d = typeof c, e = [];
      e.check = function (a) {
        for (var b = 0; b < e.length; b++)
          if (!e[b](a))
            return !1;
        return !0;
      };
      'function' !== d && (c = 'boolean' === d && c ? function (a, b) {
        return Va.equals(a, b);
      } : function (a, b) {
        if (a && b && 'object' === typeof a && 'object' === typeof b) {
          for (var d in a)
            if ('$' !== d.charAt(0) && kb.call(a, d) && c(a[d], b[d]))
              return !0;
          return !1;
        }
        b = ('' + b).toLowerCase();
        return -1 < ('' + a).toLowerCase().indexOf(b);
      });
      var f = function (a, b) {
        if ('string' == typeof b && '!' === b.charAt(0))
          return !f(a, b.substr(1));
        switch (typeof a) {
        case 'boolean':
        case 'number':
        case 'string':
          return c(a, b);
        case 'object':
          switch (typeof b) {
          case 'object':
            return c(a, b);
          default:
            for (var d in a)
              if ('$' !== d.charAt(0) && f(a[d], b))
                return !0;
          }
          return !1;
        case 'array':
          for (d = 0; d < a.length; d++)
            if (f(a[d], b))
              return !0;
          return !1;
        default:
          return !1;
        }
      };
      switch (typeof a) {
      case 'boolean':
      case 'number':
      case 'string':
        a = { $: a };
      case 'object':
        for (var g in a)
          (function (b) {
            'undefined' !== typeof a[b] && e.push(function (c) {
              return f('$' == b ? c : c && c[b], a[b]);
            });
          }(g));
        break;
      case 'function':
        e.push(a);
        break;
      default:
        return b;
      }
      d = [];
      for (g = 0; g < b.length; g++) {
        var k = b[g];
        e.check(k) && d.push(k);
      }
      return d;
    };
  }
  function Ic(b) {
    var a = b.NUMBER_FORMATS;
    return function (b, d) {
      y(d) && (d = a.CURRENCY_SYM);
      return Mc(b, a.PATTERNS[1], a.GROUP_SEP, a.DECIMAL_SEP, 2).replace(/\u00A4/g, d);
    };
  }
  function Kc(b) {
    var a = b.NUMBER_FORMATS;
    return function (b, d) {
      return Mc(b, a.PATTERNS[0], a.GROUP_SEP, a.DECIMAL_SEP, d);
    };
  }
  function Mc(b, a, c, d, e) {
    if (null == b || !isFinite(b) || T(b))
      return '';
    var f = 0 > b;
    b = Math.abs(b);
    var g = b + '', k = '', m = [], h = !1;
    if (-1 !== g.indexOf('e')) {
      var l = g.match(/([\d\.]+)e(-?)(\d+)/);
      l && '-' == l[2] && l[3] > e + 1 ? (g = '0', b = 0) : (k = g, h = !0);
    }
    if (h)
      0 < e && (-1 < b && 1 > b) && (k = b.toFixed(e));
    else {
      g = (g.split(Nc)[1] || '').length;
      y(e) && (e = Math.min(Math.max(a.minFrac, g), a.maxFrac));
      b = +(Math.round(+(b.toString() + 'e' + e)).toString() + 'e' + -e);
      0 === b && (f = !1);
      b = ('' + b).split(Nc);
      g = b[0];
      b = b[1] || '';
      var l = 0, n = a.lgSize, p = a.gSize;
      if (g.length >= n + p)
        for (l = g.length - n, h = 0; h < l; h++)
          0 === (l - h) % p && 0 !== h && (k += c), k += g.charAt(h);
      for (h = l; h < g.length; h++)
        0 === (g.length - h) % n && 0 !== h && (k += c), k += g.charAt(h);
      for (; b.length < e;)
        b += '0';
      e && '0' !== e && (k += d + b.substr(0, e));
    }
    m.push(f ? a.negPre : a.posPre);
    m.push(k);
    m.push(f ? a.negSuf : a.posSuf);
    return m.join('');
  }
  function Xb(b, a, c) {
    var d = '';
    0 > b && (d = '-', b = -b);
    for (b = '' + b; b.length < a;)
      b = '0' + b;
    c && (b = b.substr(b.length - a));
    return d + b;
  }
  function $(b, a, c, d) {
    c = c || 0;
    return function (e) {
      e = e['get' + b]();
      if (0 < c || e > -c)
        e += c;
      0 === e && -12 == c && (e = 12);
      return Xb(e, a, d);
    };
  }
  function vb(b, a) {
    return function (c, d) {
      var e = c['get' + b](), f = Ia(a ? 'SHORT' + b : b);
      return d[f][e];
    };
  }
  function Jc(b) {
    function a(a) {
      var b;
      if (b = a.match(c)) {
        a = new Date(0);
        var f = 0, g = 0, k = b[8] ? a.setUTCFullYear : a.setFullYear, m = b[8] ? a.setUTCHours : a.setHours;
        b[9] && (f = U(b[9] + b[10]), g = U(b[9] + b[11]));
        k.call(a, U(b[1]), U(b[2]) - 1, U(b[3]));
        f = U(b[4] || 0) - f;
        g = U(b[5] || 0) - g;
        k = U(b[6] || 0);
        b = Math.round(1000 * parseFloat('0.' + (b[7] || 0)));
        m.call(a, f, g, k, b);
      }
      return a;
    }
    var c = /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
    return function (c, e) {
      var f = '', g = [], k, m;
      e = e || 'mediumDate';
      e = b.DATETIME_FORMATS[e] || e;
      A(c) && (c = He.test(c) ? U(c) : a(c));
      ib(c) && (c = new Date(c));
      if (!ta(c))
        return c;
      for (; e;)
        (m = Ie.exec(e)) ? (g = g.concat(Ba.call(m, 1)), e = g.pop()) : (g.push(e), e = null);
      r(g, function (a) {
        k = Je[a];
        f += k ? k(c, b.DATETIME_FORMATS) : a.replace(/(^'|'$)/g, '').replace(/''/g, '\'');
      });
      return f;
    };
  }
  function De() {
    return function (b) {
      return na(b, !0);
    };
  }
  function Ee() {
    return function (b, a) {
      if (!I(b) && !A(b))
        return b;
      a = Infinity === Math.abs(Number(a)) ? Number(a) : U(a);
      if (A(b))
        return a ? 0 <= a ? b.slice(0, a) : b.slice(a, b.length) : '';
      var c = [], d, e;
      a > b.length ? a = b.length : a < -b.length && (a = -b.length);
      0 < a ? (d = 0, e = a) : (d = b.length + a, e = b.length);
      for (; d < e; d++)
        c.push(b[d]);
      return c;
    };
  }
  function Lc(b) {
    return function (a, c, d) {
      function e(a, b) {
        return Ua(b) ? function (b, c) {
          return a(c, b);
        } : a;
      }
      function f(a, b) {
        var c = typeof a, d = typeof b;
        return c == d ? (ta(a) && ta(b) && (a = a.valueOf(), b = b.valueOf()), 'string' == c && (a = a.toLowerCase(), b = b.toLowerCase()), a === b ? 0 : a < b ? -1 : 1) : c < d ? -1 : 1;
      }
      if (!Pa(a) || !c)
        return a;
      c = I(c) ? c : [c];
      c = Vc(c, function (a) {
        var c = !1, d = a || Qa;
        if (A(a)) {
          if ('+' == a.charAt(0) || '-' == a.charAt(0))
            c = '-' == a.charAt(0), a = a.substring(1);
          d = b(a);
          if (d.constant) {
            var g = d();
            return e(function (a, b) {
              return f(a[g], b[g]);
            }, c);
          }
        }
        return e(function (a, b) {
          return f(d(a), d(b));
        }, c);
      });
      for (var g = [], k = 0; k < a.length; k++)
        g.push(a[k]);
      return g.sort(e(function (a, b) {
        for (var d = 0; d < c.length; d++) {
          var e = c[d](a, b);
          if (0 !== e)
            return e;
        }
        return 0;
      }, d));
    };
  }
  function ya(b) {
    P(b) && (b = { link: b });
    b.restrict = b.restrict || 'AC';
    return ba(b);
  }
  function Oc(b, a, c, d) {
    function e(a, c) {
      c = c ? '-' + mb(c, '-') : '';
      d.setClass(b, (a ? wb : xb) + c, (a ? xb : wb) + c);
    }
    var f = this, g = b.parent().controller('form') || yb, k = 0, m = f.$error = {}, h = [];
    f.$name = a.name || a.ngForm;
    f.$dirty = !1;
    f.$pristine = !0;
    f.$valid = !0;
    f.$invalid = !1;
    g.$addControl(f);
    b.addClass(Oa);
    e(!0);
    f.$addControl = function (a) {
      Da(a.$name, 'input');
      h.push(a);
      a.$name && (f[a.$name] = a);
    };
    f.$removeControl = function (a) {
      a.$name && f[a.$name] === a && delete f[a.$name];
      r(m, function (b, c) {
        f.$setValidity(c, !0, a);
      });
      Sa(h, a);
    };
    f.$setValidity = function (a, b, c) {
      var d = m[a];
      if (b)
        d && (Sa(d, c), d.length || (k--, k || (e(b), f.$valid = !0, f.$invalid = !1), m[a] = !1, e(!0, a), g.$setValidity(a, !0, f)));
      else {
        k || e(b);
        if (d) {
          if (-1 != Ra(d, c))
            return;
        } else
          m[a] = d = [], k++, e(!1, a), g.$setValidity(a, !1, f);
        d.push(c);
        f.$valid = !1;
        f.$invalid = !0;
      }
    };
    f.$setDirty = function () {
      d.removeClass(b, Oa);
      d.addClass(b, zb);
      f.$dirty = !0;
      f.$pristine = !1;
      g.$setDirty();
    };
    f.$setPristine = function () {
      d.removeClass(b, zb);
      d.addClass(b, Oa);
      f.$dirty = !1;
      f.$pristine = !0;
      r(h, function (a) {
        a.$setPristine();
      });
    };
  }
  function sa(b, a, c, d) {
    b.$setValidity(a, c);
    return c ? d : t;
  }
  function Pc(b, a) {
    var c, d;
    if (a)
      for (c = 0; c < a.length; ++c)
        if (d = a[c], b[d])
          return !0;
    return !1;
  }
  function Ke(b, a, c, d, e) {
    T(e) && (b.$$hasNativeValidators = !0, b.$parsers.push(function (f) {
      if (b.$error[a] || Pc(e, d) || !Pc(e, c))
        return f;
      b.$setValidity(a, !1);
    }));
  }
  function Ab(b, a, c, d, e, f) {
    var g = a.prop(Le), k = a[0].placeholder, m = {}, h = M(a[0].type);
    d.$$validityState = g;
    if (!e.android) {
      var l = !1;
      a.on('compositionstart', function (a) {
        l = !0;
      });
      a.on('compositionend', function () {
        l = !1;
        n();
      });
    }
    var n = function (e) {
      if (!l) {
        var f = a.val();
        if (Q && 'input' === (e || m).type && a[0].placeholder !== k)
          k = a[0].placeholder;
        else if ('password' !== h && Ua(c.ngTrim || 'T') && (f = aa(f)), e = g && d.$$hasNativeValidators, d.$viewValue !== f || '' === f && e)
          b.$root.$$phase ? d.$setViewValue(f) : b.$apply(function () {
            d.$setViewValue(f);
          });
      }
    };
    if (e.hasEvent('input'))
      a.on('input', n);
    else {
      var p, q = function () {
          p || (p = f.defer(function () {
            n();
            p = null;
          }));
        };
      a.on('keydown', function (a) {
        a = a.keyCode;
        91 === a || (15 < a && 19 > a || 37 <= a && 40 >= a) || q();
      });
      if (e.hasEvent('paste'))
        a.on('paste cut', q);
    }
    a.on('change', n);
    d.$render = function () {
      a.val(d.$isEmpty(d.$viewValue) ? '' : d.$viewValue);
    };
    var s = c.ngPattern;
    s && ((e = s.match(/^\/(.*)\/([gim]*)$/)) ? (s = RegExp(e[1], e[2]), e = function (a) {
      return sa(d, 'pattern', d.$isEmpty(a) || s.test(a), a);
    }) : e = function (c) {
      var e = b.$eval(s);
      if (!e || !e.test)
        throw D('ngPattern')('noregexp', s, e, ia(a));
      return sa(d, 'pattern', d.$isEmpty(c) || e.test(c), c);
    }, d.$formatters.push(e), d.$parsers.push(e));
    if (c.ngMinlength) {
      var r = U(c.ngMinlength);
      e = function (a) {
        return sa(d, 'minlength', d.$isEmpty(a) || a.length >= r, a);
      };
      d.$parsers.push(e);
      d.$formatters.push(e);
    }
    if (c.ngMaxlength) {
      var u = U(c.ngMaxlength);
      e = function (a) {
        return sa(d, 'maxlength', d.$isEmpty(a) || a.length <= u, a);
      };
      d.$parsers.push(e);
      d.$formatters.push(e);
    }
  }
  function Yb(b, a) {
    b = 'ngClass' + b;
    return [
      '$animate',
      function (c) {
        function d(a, b) {
          var c = [], d = 0;
          a:
            for (; d < a.length; d++) {
              for (var e = a[d], l = 0; l < b.length; l++)
                if (e == b[l])
                  continue a;
              c.push(e);
            }
          return c;
        }
        function e(a) {
          if (!I(a)) {
            if (A(a))
              return a.split(' ');
            if (T(a)) {
              var b = [];
              r(a, function (a, c) {
                a && (b = b.concat(c.split(' ')));
              });
              return b;
            }
          }
          return a;
        }
        return {
          restrict: 'AC',
          link: function (f, g, k) {
            function m(a, b) {
              var c = g.data('$classCounts') || {}, d = [];
              r(a, function (a) {
                if (0 < b || c[a])
                  c[a] = (c[a] || 0) + b, c[a] === +(0 < b) && d.push(a);
              });
              g.data('$classCounts', c);
              return d.join(' ');
            }
            function h(b) {
              if (!0 === a || f.$index % 2 === a) {
                var h = e(b || []);
                if (!l) {
                  var q = m(h, 1);
                  k.$addClass(q);
                } else if (!Aa(b, l)) {
                  var s = e(l), q = d(h, s), h = d(s, h), h = m(h, -1), q = m(q, 1);
                  0 === q.length ? c.removeClass(g, h) : 0 === h.length ? c.addClass(g, q) : c.setClass(g, q, h);
                }
              }
              l = ha(b);
            }
            var l;
            f.$watch(k[b], h, !0);
            k.$observe('class', function (a) {
              h(f.$eval(k[b]));
            });
            'ngClass' !== b && f.$watch('$index', function (c, d) {
              var g = c & 1;
              if (g !== (d & 1)) {
                var h = e(f.$eval(k[b]));
                g === a ? (g = m(h, 1), k.$addClass(g)) : (g = m(h, -1), k.$removeClass(g));
              }
            });
          }
        };
      }
    ];
  }
  var Le = 'validity', M = function (b) {
      return A(b) ? b.toLowerCase() : b;
    }, kb = Object.prototype.hasOwnProperty, Ia = function (b) {
      return A(b) ? b.toUpperCase() : b;
    }, Q, v, Ea, Ba = [].slice, Me = [].push, za = Object.prototype.toString, Ta = D('ng'), Va = W.angular || (W.angular = {}), Ya, Ma, ma = [
      '0',
      '0',
      '0'
    ];
  Q = U((/msie (\d+)/.exec(M(navigator.userAgent)) || [])[1]);
  isNaN(Q) && (Q = U((/trident\/.*; rv:(\d+)/.exec(M(navigator.userAgent)) || [])[1]));
  F.$inject = [];
  Qa.$inject = [];
  var I = function () {
      return P(Array.isArray) ? Array.isArray : function (b) {
        return '[object Array]' === za.call(b);
      };
    }(), aa = function () {
      return String.prototype.trim ? function (b) {
        return A(b) ? b.trim() : b;
      } : function (b) {
        return A(b) ? b.replace(/^\s\s*/, '').replace(/\s\s*$/, '') : b;
      };
    }();
  Ma = 9 > Q ? function (b) {
    b = b.nodeName ? b : b[0];
    return b.scopeName && 'HTML' != b.scopeName ? Ia(b.scopeName + ':' + b.nodeName) : b.nodeName;
  } : function (b) {
    return b.nodeName ? b.nodeName : b[0].nodeName;
  };
  var Xa = function () {
      if (z(Xa.isActive_))
        return Xa.isActive_;
      var b = !(!X.querySelector('[ng-csp]') && !X.querySelector('[data-ng-csp]'));
      if (!b)
        try {
          new Function('');
        } catch (a) {
          b = !0;
        }
      return Xa.isActive_ = b;
    }, Yc = /[A-Z]/g, ad = {
      full: '1.2.25',
      major: 1,
      minor: 2,
      dot: 25,
      codeName: 'hypnotic-gesticulation'
    };
  S.expando = 'ng339';
  var ab = S.cache = {}, ne = 1, sb = W.document.addEventListener ? function (b, a, c) {
      b.addEventListener(a, c, !1);
    } : function (b, a, c) {
      b.attachEvent('on' + a, c);
    }, $a = W.document.removeEventListener ? function (b, a, c) {
      b.removeEventListener(a, c, !1);
    } : function (b, a, c) {
      b.detachEvent('on' + a, c);
    };
  S._data = function (b) {
    return this.cache[b[this.expando]] || {};
  };
  var ie = /([\:\-\_]+(.))/g, je = /^moz([A-Z])/, Hb = D('jqLite'), ke = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, Ib = /<|&#?\w+;/, le = /<([\w:]+)/, me = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, ea = {
      option: [
        1,
        '<select multiple="multiple">',
        '</select>'
      ],
      thead: [
        1,
        '<table>',
        '</table>'
      ],
      col: [
        2,
        '<table><colgroup>',
        '</colgroup></table>'
      ],
      tr: [
        2,
        '<table><tbody>',
        '</tbody></table>'
      ],
      td: [
        3,
        '<table><tbody><tr>',
        '</tr></tbody></table>'
      ],
      _default: [
        0,
        '',
        ''
      ]
    };
  ea.optgroup = ea.option;
  ea.tbody = ea.tfoot = ea.colgroup = ea.caption = ea.thead;
  ea.th = ea.td;
  var La = S.prototype = {
      ready: function (b) {
        function a() {
          c || (c = !0, b());
        }
        var c = !1;
        'complete' === X.readyState ? setTimeout(a) : (this.on('DOMContentLoaded', a), S(W).on('load', a));
      },
      toString: function () {
        var b = [];
        r(this, function (a) {
          b.push('' + a);
        });
        return '[' + b.join(', ') + ']';
      },
      eq: function (b) {
        return 0 <= b ? v(this[b]) : v(this[this.length + b]);
      },
      length: 0,
      push: Me,
      sort: [].sort,
      splice: [].splice
    }, qb = {};
  r('multiple selected checked disabled readOnly required open'.split(' '), function (b) {
    qb[M(b)] = b;
  });
  var rc = {};
  r('input select option textarea button form details'.split(' '), function (b) {
    rc[Ia(b)] = !0;
  });
  r({
    data: Mb,
    removeData: Lb
  }, function (b, a) {
    S[a] = b;
  });
  r({
    data: Mb,
    inheritedData: pb,
    scope: function (b) {
      return v.data(b, '$scope') || pb(b.parentNode || b, [
        '$isolateScope',
        '$scope'
      ]);
    },
    isolateScope: function (b) {
      return v.data(b, '$isolateScope') || v.data(b, '$isolateScopeNoTemplate');
    },
    controller: oc,
    injector: function (b) {
      return pb(b, '$injector');
    },
    removeAttr: function (b, a) {
      b.removeAttribute(a);
    },
    hasClass: Nb,
    css: function (b, a, c) {
      a = Za(a);
      if (z(c))
        b.style[a] = c;
      else {
        var d;
        8 >= Q && (d = b.currentStyle && b.currentStyle[a], '' === d && (d = 'auto'));
        d = d || b.style[a];
        8 >= Q && (d = '' === d ? t : d);
        return d;
      }
    },
    attr: function (b, a, c) {
      var d = M(a);
      if (qb[d])
        if (z(c))
          c ? (b[a] = !0, b.setAttribute(a, d)) : (b[a] = !1, b.removeAttribute(d));
        else
          return b[a] || (b.attributes.getNamedItem(a) || F).specified ? d : t;
      else if (z(c))
        b.setAttribute(a, c);
      else if (b.getAttribute)
        return b = b.getAttribute(a, 2), null === b ? t : b;
    },
    prop: function (b, a, c) {
      if (z(c))
        b[a] = c;
      else
        return b[a];
    },
    text: function () {
      function b(b, d) {
        var e = a[b.nodeType];
        if (y(d))
          return e ? b[e] : '';
        b[e] = d;
      }
      var a = [];
      9 > Q ? (a[1] = 'innerText', a[3] = 'nodeValue') : a[1] = a[3] = 'textContent';
      b.$dv = '';
      return b;
    }(),
    val: function (b, a) {
      if (y(a)) {
        if ('SELECT' === Ma(b) && b.multiple) {
          var c = [];
          r(b.options, function (a) {
            a.selected && c.push(a.value || a.text);
          });
          return 0 === c.length ? null : c;
        }
        return b.value;
      }
      b.value = a;
    },
    html: function (b, a) {
      if (y(a))
        return b.innerHTML;
      for (var c = 0, d = b.childNodes; c < d.length; c++)
        Ja(d[c]);
      b.innerHTML = a;
    },
    empty: pc
  }, function (b, a) {
    S.prototype[a] = function (a, d) {
      var e, f, g = this.length;
      if (b !== pc && (2 == b.length && b !== Nb && b !== oc ? a : d) === t) {
        if (T(a)) {
          for (e = 0; e < g; e++)
            if (b === Mb)
              b(this[e], a);
            else
              for (f in a)
                b(this[e], f, a[f]);
          return this;
        }
        e = b.$dv;
        g = e === t ? Math.min(g, 1) : g;
        for (f = 0; f < g; f++) {
          var k = b(this[f], a, d);
          e = e ? e + k : k;
        }
        return e;
      }
      for (e = 0; e < g; e++)
        b(this[e], a, d);
      return this;
    };
  });
  r({
    removeData: Lb,
    dealoc: Ja,
    on: function a(c, d, e, f) {
      if (z(f))
        throw Hb('onargs');
      var g = oa(c, 'events'), k = oa(c, 'handle');
      g || oa(c, 'events', g = {});
      k || oa(c, 'handle', k = oe(c, g));
      r(d.split(' '), function (d) {
        var f = g[d];
        if (!f) {
          if ('mouseenter' == d || 'mouseleave' == d) {
            var l = X.body.contains || X.body.compareDocumentPosition ? function (a, c) {
                var d = 9 === a.nodeType ? a.documentElement : a, e = c && c.parentNode;
                return a === e || !!(e && 1 === e.nodeType && (d.contains ? d.contains(e) : a.compareDocumentPosition && a.compareDocumentPosition(e) & 16));
              } : function (a, c) {
                if (c)
                  for (; c = c.parentNode;)
                    if (c === a)
                      return !0;
                return !1;
              };
            g[d] = [];
            a(c, {
              mouseleave: 'mouseout',
              mouseenter: 'mouseover'
            }[d], function (a) {
              var c = a.relatedTarget;
              c && (c === this || l(this, c)) || k(a, d);
            });
          } else
            sb(c, d, k), g[d] = [];
          f = g[d];
        }
        f.push(e);
      });
    },
    off: nc,
    one: function (a, c, d) {
      a = v(a);
      a.on(c, function f() {
        a.off(c, d);
        a.off(c, f);
      });
      a.on(c, d);
    },
    replaceWith: function (a, c) {
      var d, e = a.parentNode;
      Ja(a);
      r(new S(c), function (c) {
        d ? e.insertBefore(c, d.nextSibling) : e.replaceChild(c, a);
        d = c;
      });
    },
    children: function (a) {
      var c = [];
      r(a.childNodes, function (a) {
        1 === a.nodeType && c.push(a);
      });
      return c;
    },
    contents: function (a) {
      return a.contentDocument || a.childNodes || [];
    },
    append: function (a, c) {
      r(new S(c), function (c) {
        1 !== a.nodeType && 11 !== a.nodeType || a.appendChild(c);
      });
    },
    prepend: function (a, c) {
      if (1 === a.nodeType) {
        var d = a.firstChild;
        r(new S(c), function (c) {
          a.insertBefore(c, d);
        });
      }
    },
    wrap: function (a, c) {
      c = v(c)[0];
      var d = a.parentNode;
      d && d.replaceChild(c, a);
      c.appendChild(a);
    },
    remove: function (a) {
      Ja(a);
      var c = a.parentNode;
      c && c.removeChild(a);
    },
    after: function (a, c) {
      var d = a, e = a.parentNode;
      r(new S(c), function (a) {
        e.insertBefore(a, d.nextSibling);
        d = a;
      });
    },
    addClass: ob,
    removeClass: nb,
    toggleClass: function (a, c, d) {
      c && r(c.split(' '), function (c) {
        var f = d;
        y(f) && (f = !Nb(a, c));
        (f ? ob : nb)(a, c);
      });
    },
    parent: function (a) {
      return (a = a.parentNode) && 11 !== a.nodeType ? a : null;
    },
    next: function (a) {
      if (a.nextElementSibling)
        return a.nextElementSibling;
      for (a = a.nextSibling; null != a && 1 !== a.nodeType;)
        a = a.nextSibling;
      return a;
    },
    find: function (a, c) {
      return a.getElementsByTagName ? a.getElementsByTagName(c) : [];
    },
    clone: Kb,
    triggerHandler: function (a, c, d) {
      var e, f;
      e = c.type || c;
      var g = (oa(a, 'events') || {})[e];
      g && (e = {
        preventDefault: function () {
          this.defaultPrevented = !0;
        },
        isDefaultPrevented: function () {
          return !0 === this.defaultPrevented;
        },
        stopPropagation: F,
        type: e,
        target: a
      }, c.type && (e = J(e, c)), c = ha(g), f = d ? [e].concat(d) : [e], r(c, function (c) {
        c.apply(a, f);
      }));
    }
  }, function (a, c) {
    S.prototype[c] = function (c, e, f) {
      for (var g, k = 0; k < this.length; k++)
        y(g) ? (g = a(this[k], c, e, f), z(g) && (g = v(g))) : Jb(g, a(this[k], c, e, f));
      return z(g) ? g : this;
    };
    S.prototype.bind = S.prototype.on;
    S.prototype.unbind = S.prototype.off;
  });
  bb.prototype = {
    put: function (a, c) {
      this[Ka(a, this.nextUid)] = c;
    },
    get: function (a) {
      return this[Ka(a, this.nextUid)];
    },
    remove: function (a) {
      var c = this[a = Ka(a, this.nextUid)];
      delete this[a];
      return c;
    }
  };
  var qe = /^function\s*[^\(]*\(\s*([^\)]*)\)/m, re = /,/, se = /^\s*(_?)(\S+?)\1\s*$/, pe = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm, cb = D('$injector'), Ne = D('$animate'), Md = [
      '$provide',
      function (a) {
        this.$$selectors = {};
        this.register = function (c, d) {
          var e = c + '-animation';
          if (c && '.' != c.charAt(0))
            throw Ne('notcsel', c);
          this.$$selectors[c.substr(1)] = e;
          a.factory(e, d);
        };
        this.classNameFilter = function (a) {
          1 === arguments.length && (this.$$classNameFilter = a instanceof RegExp ? a : null);
          return this.$$classNameFilter;
        };
        this.$get = [
          '$timeout',
          '$$asyncCallback',
          function (a, d) {
            return {
              enter: function (a, c, g, k) {
                g ? g.after(a) : (c && c[0] || (c = g.parent()), c.append(a));
                k && d(k);
              },
              leave: function (a, c) {
                a.remove();
                c && d(c);
              },
              move: function (a, c, d, k) {
                this.enter(a, c, d, k);
              },
              addClass: function (a, c, g) {
                c = A(c) ? c : I(c) ? c.join(' ') : '';
                r(a, function (a) {
                  ob(a, c);
                });
                g && d(g);
              },
              removeClass: function (a, c, g) {
                c = A(c) ? c : I(c) ? c.join(' ') : '';
                r(a, function (a) {
                  nb(a, c);
                });
                g && d(g);
              },
              setClass: function (a, c, g, k) {
                r(a, function (a) {
                  ob(a, c);
                  nb(a, g);
                });
                k && d(k);
              },
              enabled: F
            };
          }
        ];
      }
    ], ja = D('$compile');
  ic.$inject = [
    '$provide',
    '$$sanitizeUriProvider'
  ];
  var we = /^(x[\:\-_]|data[\:\-_])/i, yc = D('$interpolate'), Oe = /^([^\?#]*)(\?([^#]*))?(#(.*))?$/, ze = {
      http: 80,
      https: 443,
      ftp: 21
    }, Sb = D('$location');
  Ub.prototype = Tb.prototype = Bc.prototype = {
    $$html5: !1,
    $$replace: !1,
    absUrl: tb('$$absUrl'),
    url: function (a) {
      if (y(a))
        return this.$$url;
      a = Oe.exec(a);
      a[1] && this.path(decodeURIComponent(a[1]));
      (a[2] || a[1]) && this.search(a[3] || '');
      this.hash(a[5] || '');
      return this;
    },
    protocol: tb('$$protocol'),
    host: tb('$$host'),
    port: tb('$$port'),
    path: Cc('$$path', function (a) {
      a = a ? a.toString() : '';
      return '/' == a.charAt(0) ? a : '/' + a;
    }),
    search: function (a, c) {
      switch (arguments.length) {
      case 0:
        return this.$$search;
      case 1:
        if (A(a) || ib(a))
          a = a.toString(), this.$$search = ec(a);
        else if (T(a))
          r(a, function (c, e) {
            null == c && delete a[e];
          }), this.$$search = a;
        else
          throw Sb('isrcharg');
        break;
      default:
        y(c) || null === c ? delete this.$$search[a] : this.$$search[a] = c;
      }
      this.$$compose();
      return this;
    },
    hash: Cc('$$hash', function (a) {
      return a ? a.toString() : '';
    }),
    replace: function () {
      this.$$replace = !0;
      return this;
    }
  };
  var la = D('$parse'), Fc = {}, wa, Pe = Function.prototype.call, Qe = Function.prototype.apply, Qc = Function.prototype.bind, gb = {
      'null': function () {
        return null;
      },
      'true': function () {
        return !0;
      },
      'false': function () {
        return !1;
      },
      undefined: F,
      '+': function (a, c, d, e) {
        d = d(a, c);
        e = e(a, c);
        return z(d) ? z(e) ? d + e : d : z(e) ? e : t;
      },
      '-': function (a, c, d, e) {
        d = d(a, c);
        e = e(a, c);
        return (z(d) ? d : 0) - (z(e) ? e : 0);
      },
      '*': function (a, c, d, e) {
        return d(a, c) * e(a, c);
      },
      '/': function (a, c, d, e) {
        return d(a, c) / e(a, c);
      },
      '%': function (a, c, d, e) {
        return d(a, c) % e(a, c);
      },
      '^': function (a, c, d, e) {
        return d(a, c) ^ e(a, c);
      },
      '=': F,
      '===': function (a, c, d, e) {
        return d(a, c) === e(a, c);
      },
      '!==': function (a, c, d, e) {
        return d(a, c) !== e(a, c);
      },
      '==': function (a, c, d, e) {
        return d(a, c) == e(a, c);
      },
      '!=': function (a, c, d, e) {
        return d(a, c) != e(a, c);
      },
      '<': function (a, c, d, e) {
        return d(a, c) < e(a, c);
      },
      '>': function (a, c, d, e) {
        return d(a, c) > e(a, c);
      },
      '<=': function (a, c, d, e) {
        return d(a, c) <= e(a, c);
      },
      '>=': function (a, c, d, e) {
        return d(a, c) >= e(a, c);
      },
      '&&': function (a, c, d, e) {
        return d(a, c) && e(a, c);
      },
      '||': function (a, c, d, e) {
        return d(a, c) || e(a, c);
      },
      '&': function (a, c, d, e) {
        return d(a, c) & e(a, c);
      },
      '|': function (a, c, d, e) {
        return e(a, c)(a, c, d(a, c));
      },
      '!': function (a, c, d) {
        return !d(a, c);
      }
    }, Re = {
      n: '\n',
      f: '\f',
      r: '\r',
      t: '\t',
      v: '\x0B',
      '\'': '\'',
      '"': '"'
    }, Wb = function (a) {
      this.options = a;
    };
  Wb.prototype = {
    constructor: Wb,
    lex: function (a) {
      this.text = a;
      this.index = 0;
      this.ch = t;
      this.lastCh = ':';
      for (this.tokens = []; this.index < this.text.length;) {
        this.ch = this.text.charAt(this.index);
        if (this.is('"\''))
          this.readString(this.ch);
        else if (this.isNumber(this.ch) || this.is('.') && this.isNumber(this.peek()))
          this.readNumber();
        else if (this.isIdent(this.ch))
          this.readIdent();
        else if (this.is('(){}[].,;:?'))
          this.tokens.push({
            index: this.index,
            text: this.ch
          }), this.index++;
        else if (this.isWhitespace(this.ch)) {
          this.index++;
          continue;
        } else {
          a = this.ch + this.peek();
          var c = a + this.peek(2), d = gb[this.ch], e = gb[a], f = gb[c];
          f ? (this.tokens.push({
            index: this.index,
            text: c,
            fn: f
          }), this.index += 3) : e ? (this.tokens.push({
            index: this.index,
            text: a,
            fn: e
          }), this.index += 2) : d ? (this.tokens.push({
            index: this.index,
            text: this.ch,
            fn: d
          }), this.index += 1) : this.throwError('Unexpected next character ', this.index, this.index + 1);
        }
        this.lastCh = this.ch;
      }
      return this.tokens;
    },
    is: function (a) {
      return -1 !== a.indexOf(this.ch);
    },
    was: function (a) {
      return -1 !== a.indexOf(this.lastCh);
    },
    peek: function (a) {
      a = a || 1;
      return this.index + a < this.text.length ? this.text.charAt(this.index + a) : !1;
    },
    isNumber: function (a) {
      return '0' <= a && '9' >= a;
    },
    isWhitespace: function (a) {
      return ' ' === a || '\r' === a || '\t' === a || '\n' === a || '\x0B' === a || '\xa0' === a;
    },
    isIdent: function (a) {
      return 'a' <= a && 'z' >= a || 'A' <= a && 'Z' >= a || '_' === a || '$' === a;
    },
    isExpOperator: function (a) {
      return '-' === a || '+' === a || this.isNumber(a);
    },
    throwError: function (a, c, d) {
      d = d || this.index;
      c = z(c) ? 's ' + c + '-' + this.index + ' [' + this.text.substring(c, d) + ']' : ' ' + d;
      throw la('lexerr', a, c, this.text);
    },
    readNumber: function () {
      for (var a = '', c = this.index; this.index < this.text.length;) {
        var d = M(this.text.charAt(this.index));
        if ('.' == d || this.isNumber(d))
          a += d;
        else {
          var e = this.peek();
          if ('e' == d && this.isExpOperator(e))
            a += d;
          else if (this.isExpOperator(d) && e && this.isNumber(e) && 'e' == a.charAt(a.length - 1))
            a += d;
          else if (!this.isExpOperator(d) || e && this.isNumber(e) || 'e' != a.charAt(a.length - 1))
            break;
          else
            this.throwError('Invalid exponent');
        }
        this.index++;
      }
      a *= 1;
      this.tokens.push({
        index: c,
        text: a,
        literal: !0,
        constant: !0,
        fn: function () {
          return a;
        }
      });
    },
    readIdent: function () {
      for (var a = this, c = '', d = this.index, e, f, g, k; this.index < this.text.length;) {
        k = this.text.charAt(this.index);
        if ('.' === k || this.isIdent(k) || this.isNumber(k))
          '.' === k && (e = this.index), c += k;
        else
          break;
        this.index++;
      }
      if (e)
        for (f = this.index; f < this.text.length;) {
          k = this.text.charAt(f);
          if ('(' === k) {
            g = c.substr(e - d + 1);
            c = c.substr(0, e - d);
            this.index = f;
            break;
          }
          if (this.isWhitespace(k))
            f++;
          else
            break;
        }
      d = {
        index: d,
        text: c
      };
      if (gb.hasOwnProperty(c))
        d.fn = gb[c], d.literal = !0, d.constant = !0;
      else {
        var m = Ec(c, this.options, this.text);
        d.fn = J(function (a, c) {
          return m(a, c);
        }, {
          assign: function (d, e) {
            return ub(d, c, e, a.text, a.options);
          }
        });
      }
      this.tokens.push(d);
      g && (this.tokens.push({
        index: e,
        text: '.'
      }), this.tokens.push({
        index: e + 1,
        text: g
      }));
    },
    readString: function (a) {
      var c = this.index;
      this.index++;
      for (var d = '', e = a, f = !1; this.index < this.text.length;) {
        var g = this.text.charAt(this.index), e = e + g;
        if (f)
          'u' === g ? (f = this.text.substring(this.index + 1, this.index + 5), f.match(/[\da-f]{4}/i) || this.throwError('Invalid unicode escape [\\u' + f + ']'), this.index += 4, d += String.fromCharCode(parseInt(f, 16))) : d += Re[g] || g, f = !1;
        else if ('\\' === g)
          f = !0;
        else {
          if (g === a) {
            this.index++;
            this.tokens.push({
              index: c,
              text: e,
              string: d,
              literal: !0,
              constant: !0,
              fn: function () {
                return d;
              }
            });
            return;
          }
          d += g;
        }
        this.index++;
      }
      this.throwError('Unterminated quote', c);
    }
  };
  var fb = function (a, c, d) {
    this.lexer = a;
    this.$filter = c;
    this.options = d;
  };
  fb.ZERO = J(function () {
    return 0;
  }, { constant: !0 });
  fb.prototype = {
    constructor: fb,
    parse: function (a) {
      this.text = a;
      this.tokens = this.lexer.lex(a);
      a = this.statements();
      0 !== this.tokens.length && this.throwError('is an unexpected token', this.tokens[0]);
      a.literal = !!a.literal;
      a.constant = !!a.constant;
      return a;
    },
    primary: function () {
      var a;
      if (this.expect('('))
        a = this.filterChain(), this.consume(')');
      else if (this.expect('['))
        a = this.arrayDeclaration();
      else if (this.expect('{'))
        a = this.object();
      else {
        var c = this.expect();
        (a = c.fn) || this.throwError('not a primary expression', c);
        a.literal = !!c.literal;
        a.constant = !!c.constant;
      }
      for (var d; c = this.expect('(', '[', '.');)
        '(' === c.text ? (a = this.functionCall(a, d), d = null) : '[' === c.text ? (d = a, a = this.objectIndex(a)) : '.' === c.text ? (d = a, a = this.fieldAccess(a)) : this.throwError('IMPOSSIBLE');
      return a;
    },
    throwError: function (a, c) {
      throw la('syntax', c.text, a, c.index + 1, this.text, this.text.substring(c.index));
    },
    peekToken: function () {
      if (0 === this.tokens.length)
        throw la('ueoe', this.text);
      return this.tokens[0];
    },
    peek: function (a, c, d, e) {
      if (0 < this.tokens.length) {
        var f = this.tokens[0], g = f.text;
        if (g === a || g === c || g === d || g === e || !(a || c || d || e))
          return f;
      }
      return !1;
    },
    expect: function (a, c, d, e) {
      return (a = this.peek(a, c, d, e)) ? (this.tokens.shift(), a) : !1;
    },
    consume: function (a) {
      this.expect(a) || this.throwError('is unexpected, expecting [' + a + ']', this.peek());
    },
    unaryFn: function (a, c) {
      return J(function (d, e) {
        return a(d, e, c);
      }, { constant: c.constant });
    },
    ternaryFn: function (a, c, d) {
      return J(function (e, f) {
        return a(e, f) ? c(e, f) : d(e, f);
      }, { constant: a.constant && c.constant && d.constant });
    },
    binaryFn: function (a, c, d) {
      return J(function (e, f) {
        return c(e, f, a, d);
      }, { constant: a.constant && d.constant });
    },
    statements: function () {
      for (var a = [];;)
        if (0 < this.tokens.length && !this.peek('}', ')', ';', ']') && a.push(this.filterChain()), !this.expect(';'))
          return 1 === a.length ? a[0] : function (c, d) {
            for (var e, f = 0; f < a.length; f++) {
              var g = a[f];
              g && (e = g(c, d));
            }
            return e;
          };
    },
    filterChain: function () {
      for (var a = this.expression(), c;;)
        if (c = this.expect('|'))
          a = this.binaryFn(a, c.fn, this.filter());
        else
          return a;
    },
    filter: function () {
      for (var a = this.expect(), c = this.$filter(a.text), d = [];;)
        if (a = this.expect(':'))
          d.push(this.expression());
        else {
          var e = function (a, e, k) {
            k = [k];
            for (var m = 0; m < d.length; m++)
              k.push(d[m](a, e));
            return c.apply(a, k);
          };
          return function () {
            return e;
          };
        }
    },
    expression: function () {
      return this.assignment();
    },
    assignment: function () {
      var a = this.ternary(), c, d;
      return (d = this.expect('=')) ? (a.assign || this.throwError('implies assignment but [' + this.text.substring(0, d.index) + '] can not be assigned to', d), c = this.ternary(), function (d, f) {
        return a.assign(d, c(d, f), f);
      }) : a;
    },
    ternary: function () {
      var a = this.logicalOR(), c, d;
      if (this.expect('?')) {
        c = this.assignment();
        if (d = this.expect(':'))
          return this.ternaryFn(a, c, this.assignment());
        this.throwError('expected :', d);
      } else
        return a;
    },
    logicalOR: function () {
      for (var a = this.logicalAND(), c;;)
        if (c = this.expect('||'))
          a = this.binaryFn(a, c.fn, this.logicalAND());
        else
          return a;
    },
    logicalAND: function () {
      var a = this.equality(), c;
      if (c = this.expect('&&'))
        a = this.binaryFn(a, c.fn, this.logicalAND());
      return a;
    },
    equality: function () {
      var a = this.relational(), c;
      if (c = this.expect('==', '!=', '===', '!=='))
        a = this.binaryFn(a, c.fn, this.equality());
      return a;
    },
    relational: function () {
      var a = this.additive(), c;
      if (c = this.expect('<', '>', '<=', '>='))
        a = this.binaryFn(a, c.fn, this.relational());
      return a;
    },
    additive: function () {
      for (var a = this.multiplicative(), c; c = this.expect('+', '-');)
        a = this.binaryFn(a, c.fn, this.multiplicative());
      return a;
    },
    multiplicative: function () {
      for (var a = this.unary(), c; c = this.expect('*', '/', '%');)
        a = this.binaryFn(a, c.fn, this.unary());
      return a;
    },
    unary: function () {
      var a;
      return this.expect('+') ? this.primary() : (a = this.expect('-')) ? this.binaryFn(fb.ZERO, a.fn, this.unary()) : (a = this.expect('!')) ? this.unaryFn(a.fn, this.unary()) : this.primary();
    },
    fieldAccess: function (a) {
      var c = this, d = this.expect().text, e = Ec(d, this.options, this.text);
      return J(function (c, d, k) {
        return e(k || a(c, d));
      }, {
        assign: function (e, g, k) {
          (k = a(e, k)) || a.assign(e, k = {});
          return ub(k, d, g, c.text, c.options);
        }
      });
    },
    objectIndex: function (a) {
      var c = this, d = this.expression();
      this.consume(']');
      return J(function (e, f) {
        var g = a(e, f), k = d(e, f), m;
        ka(k, c.text);
        if (!g)
          return t;
        (g = va(g[k], c.text)) && (g.then && c.options.unwrapPromises) && (m = g, '$$v' in g || (m.$$v = t, m.then(function (a) {
          m.$$v = a;
        })), g = g.$$v);
        return g;
      }, {
        assign: function (e, f, g) {
          var k = ka(d(e, g), c.text);
          (g = va(a(e, g), c.text)) || a.assign(e, g = {});
          return g[k] = f;
        }
      });
    },
    functionCall: function (a, c) {
      var d = [];
      if (')' !== this.peekToken().text) {
        do
          d.push(this.expression());
        while (this.expect(','));
      }
      this.consume(')');
      var e = this;
      return function (f, g) {
        for (var k = [], m = c ? c(f, g) : f, h = 0; h < d.length; h++)
          k.push(va(d[h](f, g), e.text));
        h = a(f, g, m) || F;
        va(m, e.text);
        var l = e.text;
        if (h) {
          if (h.constructor === h)
            throw la('isecfn', l);
          if (h === Pe || h === Qe || Qc && h === Qc)
            throw la('isecff', l);
        }
        k = h.apply ? h.apply(m, k) : h(k[0], k[1], k[2], k[3], k[4]);
        return va(k, e.text);
      };
    },
    arrayDeclaration: function () {
      var a = [], c = !0;
      if (']' !== this.peekToken().text) {
        do {
          if (this.peek(']'))
            break;
          var d = this.expression();
          a.push(d);
          d.constant || (c = !1);
        } while (this.expect(','));
      }
      this.consume(']');
      return J(function (c, d) {
        for (var g = [], k = 0; k < a.length; k++)
          g.push(a[k](c, d));
        return g;
      }, {
        literal: !0,
        constant: c
      });
    },
    object: function () {
      var a = [], c = !0;
      if ('}' !== this.peekToken().text) {
        do {
          if (this.peek('}'))
            break;
          var d = this.expect(), d = d.string || d.text;
          this.consume(':');
          var e = this.expression();
          a.push({
            key: d,
            value: e
          });
          e.constant || (c = !1);
        } while (this.expect(','));
      }
      this.consume('}');
      return J(function (c, d) {
        for (var e = {}, m = 0; m < a.length; m++) {
          var h = a[m];
          e[h.key] = h.value(c, d);
        }
        return e;
      }, {
        literal: !0,
        constant: c
      });
    }
  };
  var Vb = {}, xa = D('$sce'), ga = {
      HTML: 'html',
      CSS: 'css',
      URL: 'url',
      RESOURCE_URL: 'resourceUrl',
      JS: 'js'
    }, Y = X.createElement('a'), Hc = ua(W.location.href, !0);
  mc.$inject = ['$provide'];
  Ic.$inject = ['$locale'];
  Kc.$inject = ['$locale'];
  var Nc = '.', Je = {
      yyyy: $('FullYear', 4),
      yy: $('FullYear', 2, 0, !0),
      y: $('FullYear', 1),
      MMMM: vb('Month'),
      MMM: vb('Month', !0),
      MM: $('Month', 2, 1),
      M: $('Month', 1, 1),
      dd: $('Date', 2),
      d: $('Date', 1),
      HH: $('Hours', 2),
      H: $('Hours', 1),
      hh: $('Hours', 2, -12),
      h: $('Hours', 1, -12),
      mm: $('Minutes', 2),
      m: $('Minutes', 1),
      ss: $('Seconds', 2),
      s: $('Seconds', 1),
      sss: $('Milliseconds', 3),
      EEEE: vb('Day'),
      EEE: vb('Day', !0),
      a: function (a, c) {
        return 12 > a.getHours() ? c.AMPMS[0] : c.AMPMS[1];
      },
      Z: function (a) {
        a = -1 * a.getTimezoneOffset();
        return a = (0 <= a ? '+' : '') + (Xb(Math[0 < a ? 'floor' : 'ceil'](a / 60), 2) + Xb(Math.abs(a % 60), 2));
      }
    }, Ie = /((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/, He = /^\-?\d+$/;
  Jc.$inject = ['$locale'];
  var Fe = ba(M), Ge = ba(Ia);
  Lc.$inject = ['$parse'];
  var dd = ba({
      restrict: 'E',
      compile: function (a, c) {
        8 >= Q && (c.href || c.name || c.$set('href', ''), a.append(X.createComment('IE fix')));
        if (!c.href && !c.xlinkHref && !c.name)
          return function (a, c) {
            var f = '[object SVGAnimatedString]' === za.call(c.prop('href')) ? 'xlink:href' : 'href';
            c.on('click', function (a) {
              c.attr(f) || a.preventDefault();
            });
          };
      }
    }), Fb = {};
  r(qb, function (a, c) {
    if ('multiple' != a) {
      var d = pa('ng-' + c);
      Fb[d] = function () {
        return {
          priority: 100,
          link: function (a, f, g) {
            a.$watch(g[d], function (a) {
              g.$set(c, !!a);
            });
          }
        };
      };
    }
  });
  r([
    'src',
    'srcset',
    'href'
  ], function (a) {
    var c = pa('ng-' + a);
    Fb[c] = function () {
      return {
        priority: 99,
        link: function (d, e, f) {
          var g = a, k = a;
          'href' === a && '[object SVGAnimatedString]' === za.call(e.prop('href')) && (k = 'xlinkHref', f.$attr[k] = 'xlink:href', g = null);
          f.$observe(c, function (c) {
            c ? (f.$set(k, c), Q && g && e.prop(g, f[k])) : 'href' === a && f.$set(k, null);
          });
        }
      };
    };
  });
  var yb = {
      $addControl: F,
      $removeControl: F,
      $setValidity: F,
      $setDirty: F,
      $setPristine: F
    };
  Oc.$inject = [
    '$element',
    '$attrs',
    '$scope',
    '$animate'
  ];
  var Rc = function (a) {
      return [
        '$timeout',
        function (c) {
          return {
            name: 'form',
            restrict: a ? 'EAC' : 'E',
            controller: Oc,
            compile: function () {
              return {
                pre: function (a, e, f, g) {
                  if (!f.action) {
                    var k = function (a) {
                      a.preventDefault ? a.preventDefault() : a.returnValue = !1;
                    };
                    sb(e[0], 'submit', k);
                    e.on('$destroy', function () {
                      c(function () {
                        $a(e[0], 'submit', k);
                      }, 0, !1);
                    });
                  }
                  var m = e.parent().controller('form'), h = f.name || f.ngForm;
                  h && ub(a, h, g, h);
                  if (m)
                    e.on('$destroy', function () {
                      m.$removeControl(g);
                      h && ub(a, h, t, h);
                      J(g, yb);
                    });
                }
              };
            }
          };
        }
      ];
    }, ed = Rc(), rd = Rc(!0), Se = /^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/, Te = /^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i, Ue = /^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/, Sc = {
      text: Ab,
      number: function (a, c, d, e, f, g) {
        Ab(a, c, d, e, f, g);
        e.$parsers.push(function (a) {
          var c = e.$isEmpty(a);
          if (c || Ue.test(a))
            return e.$setValidity('number', !0), '' === a ? null : c ? a : parseFloat(a);
          e.$setValidity('number', !1);
          return t;
        });
        Ke(e, 'number', Ve, null, e.$$validityState);
        e.$formatters.push(function (a) {
          return e.$isEmpty(a) ? '' : '' + a;
        });
        d.min && (a = function (a) {
          var c = parseFloat(d.min);
          return sa(e, 'min', e.$isEmpty(a) || a >= c, a);
        }, e.$parsers.push(a), e.$formatters.push(a));
        d.max && (a = function (a) {
          var c = parseFloat(d.max);
          return sa(e, 'max', e.$isEmpty(a) || a <= c, a);
        }, e.$parsers.push(a), e.$formatters.push(a));
        e.$formatters.push(function (a) {
          return sa(e, 'number', e.$isEmpty(a) || ib(a), a);
        });
      },
      url: function (a, c, d, e, f, g) {
        Ab(a, c, d, e, f, g);
        a = function (a) {
          return sa(e, 'url', e.$isEmpty(a) || Se.test(a), a);
        };
        e.$formatters.push(a);
        e.$parsers.push(a);
      },
      email: function (a, c, d, e, f, g) {
        Ab(a, c, d, e, f, g);
        a = function (a) {
          return sa(e, 'email', e.$isEmpty(a) || Te.test(a), a);
        };
        e.$formatters.push(a);
        e.$parsers.push(a);
      },
      radio: function (a, c, d, e) {
        y(d.name) && c.attr('name', hb());
        c.on('click', function () {
          c[0].checked && a.$apply(function () {
            e.$setViewValue(d.value);
          });
        });
        e.$render = function () {
          c[0].checked = d.value == e.$viewValue;
        };
        d.$observe('value', e.$render);
      },
      checkbox: function (a, c, d, e) {
        var f = d.ngTrueValue, g = d.ngFalseValue;
        A(f) || (f = !0);
        A(g) || (g = !1);
        c.on('click', function () {
          a.$apply(function () {
            e.$setViewValue(c[0].checked);
          });
        });
        e.$render = function () {
          c[0].checked = e.$viewValue;
        };
        e.$isEmpty = function (a) {
          return a !== f;
        };
        e.$formatters.push(function (a) {
          return a === f;
        });
        e.$parsers.push(function (a) {
          return a ? f : g;
        });
      },
      hidden: F,
      button: F,
      submit: F,
      reset: F,
      file: F
    }, Ve = ['badInput'], jc = [
      '$browser',
      '$sniffer',
      function (a, c) {
        return {
          restrict: 'E',
          require: '?ngModel',
          link: function (d, e, f, g) {
            g && (Sc[M(f.type)] || Sc.text)(d, e, f, g, c, a);
          }
        };
      }
    ], wb = 'ng-valid', xb = 'ng-invalid', Oa = 'ng-pristine', zb = 'ng-dirty', We = [
      '$scope',
      '$exceptionHandler',
      '$attrs',
      '$element',
      '$parse',
      '$animate',
      function (a, c, d, e, f, g) {
        function k(a, c) {
          c = c ? '-' + mb(c, '-') : '';
          g.removeClass(e, (a ? xb : wb) + c);
          g.addClass(e, (a ? wb : xb) + c);
        }
        this.$modelValue = this.$viewValue = Number.NaN;
        this.$parsers = [];
        this.$formatters = [];
        this.$viewChangeListeners = [];
        this.$pristine = !0;
        this.$dirty = !1;
        this.$valid = !0;
        this.$invalid = !1;
        this.$name = d.name;
        var m = f(d.ngModel), h = m.assign;
        if (!h)
          throw D('ngModel')('nonassign', d.ngModel, ia(e));
        this.$render = F;
        this.$isEmpty = function (a) {
          return y(a) || '' === a || null === a || a !== a;
        };
        var l = e.inheritedData('$formController') || yb, n = 0, p = this.$error = {};
        e.addClass(Oa);
        k(!0);
        this.$setValidity = function (a, c) {
          p[a] !== !c && (c ? (p[a] && n--, n || (k(!0), this.$valid = !0, this.$invalid = !1)) : (k(!1), this.$invalid = !0, this.$valid = !1, n++), p[a] = !c, k(c, a), l.$setValidity(a, c, this));
        };
        this.$setPristine = function () {
          this.$dirty = !1;
          this.$pristine = !0;
          g.removeClass(e, zb);
          g.addClass(e, Oa);
        };
        this.$setViewValue = function (d) {
          this.$viewValue = d;
          this.$pristine && (this.$dirty = !0, this.$pristine = !1, g.removeClass(e, Oa), g.addClass(e, zb), l.$setDirty());
          r(this.$parsers, function (a) {
            d = a(d);
          });
          this.$modelValue !== d && (this.$modelValue = d, h(a, d), r(this.$viewChangeListeners, function (a) {
            try {
              a();
            } catch (d) {
              c(d);
            }
          }));
        };
        var q = this;
        a.$watch(function () {
          var c = m(a);
          if (q.$modelValue !== c) {
            var d = q.$formatters, e = d.length;
            for (q.$modelValue = c; e--;)
              c = d[e](c);
            q.$viewValue !== c && (q.$viewValue = c, q.$render());
          }
          return c;
        });
      }
    ], Gd = function () {
      return {
        require: [
          'ngModel',
          '^?form'
        ],
        controller: We,
        link: function (a, c, d, e) {
          var f = e[0], g = e[1] || yb;
          g.$addControl(f);
          a.$on('$destroy', function () {
            g.$removeControl(f);
          });
        }
      };
    }, Id = ba({
      require: 'ngModel',
      link: function (a, c, d, e) {
        e.$viewChangeListeners.push(function () {
          a.$eval(d.ngChange);
        });
      }
    }), kc = function () {
      return {
        require: '?ngModel',
        link: function (a, c, d, e) {
          if (e) {
            d.required = !0;
            var f = function (a) {
              if (d.required && e.$isEmpty(a))
                e.$setValidity('required', !1);
              else
                return e.$setValidity('required', !0), a;
            };
            e.$formatters.push(f);
            e.$parsers.unshift(f);
            d.$observe('required', function () {
              f(e.$viewValue);
            });
          }
        }
      };
    }, Hd = function () {
      return {
        require: 'ngModel',
        link: function (a, c, d, e) {
          var f = (a = /\/(.*)\//.exec(d.ngList)) && RegExp(a[1]) || d.ngList || ',';
          e.$parsers.push(function (a) {
            if (!y(a)) {
              var c = [];
              a && r(a.split(f), function (a) {
                a && c.push(aa(a));
              });
              return c;
            }
          });
          e.$formatters.push(function (a) {
            return I(a) ? a.join(', ') : t;
          });
          e.$isEmpty = function (a) {
            return !a || !a.length;
          };
        }
      };
    }, Xe = /^(true|false|\d+)$/, Jd = function () {
      return {
        priority: 100,
        compile: function (a, c) {
          return Xe.test(c.ngValue) ? function (a, c, f) {
            f.$set('value', a.$eval(f.ngValue));
          } : function (a, c, f) {
            a.$watch(f.ngValue, function (a) {
              f.$set('value', a);
            });
          };
        }
      };
    }, jd = ya({
      compile: function (a) {
        a.addClass('ng-binding');
        return function (a, d, e) {
          d.data('$binding', e.ngBind);
          a.$watch(e.ngBind, function (a) {
            d.text(a == t ? '' : a);
          });
        };
      }
    }), ld = [
      '$interpolate',
      function (a) {
        return function (c, d, e) {
          c = a(d.attr(e.$attr.ngBindTemplate));
          d.addClass('ng-binding').data('$binding', c);
          e.$observe('ngBindTemplate', function (a) {
            d.text(a);
          });
        };
      }
    ], kd = [
      '$sce',
      '$parse',
      function (a, c) {
        return {
          compile: function (d) {
            d.addClass('ng-binding');
            return function (d, f, g) {
              f.data('$binding', g.ngBindHtml);
              var k = c(g.ngBindHtml);
              d.$watch(function () {
                return (k(d) || '').toString();
              }, function (c) {
                f.html(a.getTrustedHtml(k(d)) || '');
              });
            };
          }
        };
      }
    ], md = Yb('', !0), od = Yb('Odd', 0), nd = Yb('Even', 1), pd = ya({
      compile: function (a, c) {
        c.$set('ngCloak', t);
        a.removeClass('ng-cloak');
      }
    }), qd = [function () {
        return {
          scope: !0,
          controller: '@',
          priority: 500
        };
      }], lc = {}, Ye = {
      blur: !0,
      focus: !0
    };
  r('click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste'.split(' '), function (a) {
    var c = pa('ng-' + a);
    lc[c] = [
      '$parse',
      '$rootScope',
      function (d, e) {
        return {
          compile: function (f, g) {
            var k = d(g[c]);
            return function (c, d) {
              d.on(a, function (d) {
                var f = function () {
                  k(c, { $event: d });
                };
                Ye[a] && e.$$phase ? c.$evalAsync(f) : c.$apply(f);
              });
            };
          }
        };
      }
    ];
  });
  var td = [
      '$animate',
      function (a) {
        return {
          transclude: 'element',
          priority: 600,
          terminal: !0,
          restrict: 'A',
          $$tlb: !0,
          link: function (c, d, e, f, g) {
            var k, m, h;
            c.$watch(e.ngIf, function (f) {
              Ua(f) ? m || (m = c.$new(), g(m, function (c) {
                c[c.length++] = X.createComment(' end ngIf: ' + e.ngIf + ' ');
                k = { clone: c };
                a.enter(c, d.parent(), d);
              })) : (h && (h.remove(), h = null), m && (m.$destroy(), m = null), k && (h = Eb(k.clone), a.leave(h, function () {
                h = null;
              }), k = null));
            });
          }
        };
      }
    ], ud = [
      '$http',
      '$templateCache',
      '$anchorScroll',
      '$animate',
      '$sce',
      function (a, c, d, e, f) {
        return {
          restrict: 'ECA',
          priority: 400,
          terminal: !0,
          transclude: 'element',
          controller: Va.noop,
          compile: function (g, k) {
            var m = k.ngInclude || k.src, h = k.onload || '', l = k.autoscroll;
            return function (g, k, q, r, E) {
              var u = 0, t, v, R, w = function () {
                  v && (v.remove(), v = null);
                  t && (t.$destroy(), t = null);
                  R && (e.leave(R, function () {
                    v = null;
                  }), v = R, R = null);
                };
              g.$watch(f.parseAsResourceUrl(m), function (f) {
                var m = function () {
                    !z(l) || l && !g.$eval(l) || d();
                  }, q = ++u;
                f ? (a.get(f, { cache: c }).success(function (a) {
                  if (q === u) {
                    var c = g.$new();
                    r.template = a;
                    a = E(c, function (a) {
                      w();
                      e.enter(a, null, k, m);
                    });
                    t = c;
                    R = a;
                    t.$emit('$includeContentLoaded');
                    g.$eval(h);
                  }
                }).error(function () {
                  q === u && w();
                }), g.$emit('$includeContentRequested')) : (w(), r.template = null);
              });
            };
          }
        };
      }
    ], Kd = [
      '$compile',
      function (a) {
        return {
          restrict: 'ECA',
          priority: -400,
          require: 'ngInclude',
          link: function (c, d, e, f) {
            d.html(f.template);
            a(d.contents())(c);
          }
        };
      }
    ], vd = ya({
      priority: 450,
      compile: function () {
        return {
          pre: function (a, c, d) {
            a.$eval(d.ngInit);
          }
        };
      }
    }), wd = ya({
      terminal: !0,
      priority: 1000
    }), xd = [
      '$locale',
      '$interpolate',
      function (a, c) {
        var d = /{}/g;
        return {
          restrict: 'EA',
          link: function (e, f, g) {
            var k = g.count, m = g.$attr.when && f.attr(g.$attr.when), h = g.offset || 0, l = e.$eval(m) || {}, n = {}, p = c.startSymbol(), q = c.endSymbol(), s = /^when(Minus)?(.+)$/;
            r(g, function (a, c) {
              s.test(c) && (l[M(c.replace('when', '').replace('Minus', '-'))] = f.attr(g.$attr[c]));
            });
            r(l, function (a, e) {
              n[e] = c(a.replace(d, p + k + '-' + h + q));
            });
            e.$watch(function () {
              var c = parseFloat(e.$eval(k));
              if (isNaN(c))
                return '';
              c in l || (c = a.pluralCat(c - h));
              return n[c](e, f, !0);
            }, function (a) {
              f.text(a);
            });
          }
        };
      }
    ], yd = [
      '$parse',
      '$animate',
      function (a, c) {
        var d = D('ngRepeat');
        return {
          transclude: 'element',
          priority: 1000,
          terminal: !0,
          $$tlb: !0,
          link: function (e, f, g, k, m) {
            var h = g.ngRepeat, l = h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/), n, p, q, s, t, u, B = { $id: Ka };
            if (!l)
              throw d('iexp', h);
            g = l[1];
            k = l[2];
            (l = l[3]) ? (n = a(l), p = function (a, c, d) {
              u && (B[u] = a);
              B[t] = c;
              B.$index = d;
              return n(e, B);
            }) : (q = function (a, c) {
              return Ka(c);
            }, s = function (a) {
              return a;
            });
            l = g.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);
            if (!l)
              throw d('iidexp', g);
            t = l[3] || l[1];
            u = l[2];
            var z = {};
            e.$watchCollection(k, function (a) {
              var g, k, l = f[0], n, B = {}, C, x, H, A, F, D, y, I = [];
              if (Pa(a))
                D = a, F = p || q;
              else {
                F = p || s;
                D = [];
                for (H in a)
                  a.hasOwnProperty(H) && '$' != H.charAt(0) && D.push(H);
                D.sort();
              }
              C = D.length;
              k = I.length = D.length;
              for (g = 0; g < k; g++)
                if (H = a === D ? g : D[g], A = a[H], n = F(H, A, g), Da(n, '`track by` id'), z.hasOwnProperty(n))
                  y = z[n], delete z[n], B[n] = y, I[g] = y;
                else {
                  if (B.hasOwnProperty(n))
                    throw r(I, function (a) {
                      a && a.scope && (z[a.id] = a);
                    }), d('dupes', h, n, na(A));
                  I[g] = { id: n };
                  B[n] = !1;
                }
              for (H in z)
                z.hasOwnProperty(H) && (y = z[H], g = Eb(y.clone), c.leave(g), r(g, function (a) {
                  a.$$NG_REMOVED = !0;
                }), y.scope.$destroy());
              g = 0;
              for (k = D.length; g < k; g++) {
                H = a === D ? g : D[g];
                A = a[H];
                y = I[g];
                I[g - 1] && (l = I[g - 1].clone[I[g - 1].clone.length - 1]);
                if (y.scope) {
                  x = y.scope;
                  n = l;
                  do
                    n = n.nextSibling;
                  while (n && n.$$NG_REMOVED);
                  y.clone[0] != n && c.move(Eb(y.clone), null, v(l));
                  l = y.clone[y.clone.length - 1];
                } else
                  x = e.$new();
                x[t] = A;
                u && (x[u] = H);
                x.$index = g;
                x.$first = 0 === g;
                x.$last = g === C - 1;
                x.$middle = !(x.$first || x.$last);
                x.$odd = !(x.$even = 0 === (g & 1));
                y.scope || m(x, function (a) {
                  a[a.length++] = X.createComment(' end ngRepeat: ' + h + ' ');
                  c.enter(a, null, v(l));
                  l = a;
                  y.scope = x;
                  y.clone = a;
                  B[y.id] = y;
                });
              }
              z = B;
            });
          }
        };
      }
    ], zd = [
      '$animate',
      function (a) {
        return function (c, d, e) {
          c.$watch(e.ngShow, function (c) {
            a[Ua(c) ? 'removeClass' : 'addClass'](d, 'ng-hide');
          });
        };
      }
    ], sd = [
      '$animate',
      function (a) {
        return function (c, d, e) {
          c.$watch(e.ngHide, function (c) {
            a[Ua(c) ? 'addClass' : 'removeClass'](d, 'ng-hide');
          });
        };
      }
    ], Ad = ya(function (a, c, d) {
      a.$watch(d.ngStyle, function (a, d) {
        d && a !== d && r(d, function (a, d) {
          c.css(d, '');
        });
        a && c.css(a);
      }, !0);
    }), Bd = [
      '$animate',
      function (a) {
        return {
          restrict: 'EA',
          require: 'ngSwitch',
          controller: [
            '$scope',
            function () {
              this.cases = {};
            }
          ],
          link: function (c, d, e, f) {
            var g = [], k = [], m = [], h = [];
            c.$watch(e.ngSwitch || e.on, function (d) {
              var n, p;
              n = 0;
              for (p = m.length; n < p; ++n)
                m[n].remove();
              n = m.length = 0;
              for (p = h.length; n < p; ++n) {
                var q = k[n];
                h[n].$destroy();
                m[n] = q;
                a.leave(q, function () {
                  m.splice(n, 1);
                });
              }
              k.length = 0;
              h.length = 0;
              if (g = f.cases['!' + d] || f.cases['?'])
                c.$eval(e.change), r(g, function (d) {
                  var e = c.$new();
                  h.push(e);
                  d.transclude(e, function (c) {
                    var e = d.element;
                    k.push(c);
                    a.enter(c, e.parent(), e);
                  });
                });
            });
          }
        };
      }
    ], Cd = ya({
      transclude: 'element',
      priority: 800,
      require: '^ngSwitch',
      link: function (a, c, d, e, f) {
        e.cases['!' + d.ngSwitchWhen] = e.cases['!' + d.ngSwitchWhen] || [];
        e.cases['!' + d.ngSwitchWhen].push({
          transclude: f,
          element: c
        });
      }
    }), Dd = ya({
      transclude: 'element',
      priority: 800,
      require: '^ngSwitch',
      link: function (a, c, d, e, f) {
        e.cases['?'] = e.cases['?'] || [];
        e.cases['?'].push({
          transclude: f,
          element: c
        });
      }
    }), Fd = ya({
      link: function (a, c, d, e, f) {
        if (!f)
          throw D('ngTransclude')('orphan', ia(c));
        f(function (a) {
          c.empty();
          c.append(a);
        });
      }
    }), fd = [
      '$templateCache',
      function (a) {
        return {
          restrict: 'E',
          terminal: !0,
          compile: function (c, d) {
            'text/ng-template' == d.type && a.put(d.id, c[0].text);
          }
        };
      }
    ], Ze = D('ngOptions'), Ed = ba({ terminal: !0 }), gd = [
      '$compile',
      '$parse',
      function (a, c) {
        var d = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/, e = { $setViewValue: F };
        return {
          restrict: 'E',
          require: [
            'select',
            '?ngModel'
          ],
          controller: [
            '$element',
            '$scope',
            '$attrs',
            function (a, c, d) {
              var m = this, h = {}, l = e, n;
              m.databound = d.ngModel;
              m.init = function (a, c, d) {
                l = a;
                n = d;
              };
              m.addOption = function (c) {
                Da(c, '"option value"');
                h[c] = !0;
                l.$viewValue == c && (a.val(c), n.parent() && n.remove());
              };
              m.removeOption = function (a) {
                this.hasOption(a) && (delete h[a], l.$viewValue == a && this.renderUnknownOption(a));
              };
              m.renderUnknownOption = function (c) {
                c = '? ' + Ka(c) + ' ?';
                n.val(c);
                a.prepend(n);
                a.val(c);
                n.prop('selected', !0);
              };
              m.hasOption = function (a) {
                return h.hasOwnProperty(a);
              };
              c.$on('$destroy', function () {
                m.renderUnknownOption = F;
              });
            }
          ],
          link: function (e, g, k, m) {
            function h(a, c, d, e) {
              d.$render = function () {
                var a = d.$viewValue;
                e.hasOption(a) ? (A.parent() && A.remove(), c.val(a), '' === a && u.prop('selected', !0)) : y(a) && u ? c.val('') : e.renderUnknownOption(a);
              };
              c.on('change', function () {
                a.$apply(function () {
                  A.parent() && A.remove();
                  d.$setViewValue(c.val());
                });
              });
            }
            function l(a, c, d) {
              var e;
              d.$render = function () {
                var a = new bb(d.$viewValue);
                r(c.find('option'), function (c) {
                  c.selected = z(a.get(c.value));
                });
              };
              a.$watch(function () {
                Aa(e, d.$viewValue) || (e = ha(d.$viewValue), d.$render());
              });
              c.on('change', function () {
                a.$apply(function () {
                  var a = [];
                  r(c.find('option'), function (c) {
                    c.selected && a.push(c.value);
                  });
                  d.$setViewValue(a);
                });
              });
            }
            function n(e, f, g) {
              function k() {
                var a = { '': [] }, c = [''], d, h, s, t, w;
                s = g.$modelValue;
                t = u(e) || [];
                var A = n ? Zb(t) : t, F, L, x;
                L = {};
                x = !1;
                if (q)
                  if (h = g.$modelValue, v && I(h))
                    for (x = new bb([]), d = {}, w = 0; w < h.length; w++)
                      d[m] = h[w], x.put(v(e, d), h[w]);
                  else
                    x = new bb(h);
                w = x;
                var C, J;
                for (x = 0; F = A.length, x < F; x++) {
                  h = x;
                  if (n) {
                    h = A[x];
                    if ('$' === h.charAt(0))
                      continue;
                    L[n] = h;
                  }
                  L[m] = t[h];
                  d = p(e, L) || '';
                  (h = a[d]) || (h = a[d] = [], c.push(d));
                  q ? d = z(w.remove(v ? v(e, L) : r(e, L))) : (v ? (d = {}, d[m] = s, d = v(e, d) === v(e, L)) : d = s === r(e, L), w = w || d);
                  C = l(e, L);
                  C = z(C) ? C : '';
                  h.push({
                    id: v ? v(e, L) : n ? A[x] : x,
                    label: C,
                    selected: d
                  });
                }
                q || (E || null === s ? a[''].unshift({
                  id: '',
                  label: '',
                  selected: !w
                }) : w || a[''].unshift({
                  id: '?',
                  label: '',
                  selected: !0
                }));
                L = 0;
                for (A = c.length; L < A; L++) {
                  d = c[L];
                  h = a[d];
                  y.length <= L ? (s = {
                    element: D.clone().attr('label', d),
                    label: h.label
                  }, t = [s], y.push(t), f.append(s.element)) : (t = y[L], s = t[0], s.label != d && s.element.attr('label', s.label = d));
                  C = null;
                  x = 0;
                  for (F = h.length; x < F; x++)
                    d = h[x], (w = t[x + 1]) ? (C = w.element, w.label !== d.label && C.text(w.label = d.label), w.id !== d.id && C.val(w.id = d.id), C[0].selected !== d.selected && (C.prop('selected', w.selected = d.selected), Q && C.prop('selected', w.selected))) : ('' === d.id && E ? J = E : (J = B.clone()).val(d.id).prop('selected', d.selected).attr('selected', d.selected).text(d.label), t.push({
                      element: J,
                      label: d.label,
                      id: d.id,
                      selected: d.selected
                    }), C ? C.after(J) : s.element.append(J), C = J);
                  for (x++; t.length > x;)
                    t.pop().element.remove();
                }
                for (; y.length > L;)
                  y.pop()[0].element.remove();
              }
              var h;
              if (!(h = s.match(d)))
                throw Ze('iexp', s, ia(f));
              var l = c(h[2] || h[1]), m = h[4] || h[6], n = h[5], p = c(h[3] || ''), r = c(h[2] ? h[1] : m), u = c(h[7]), v = h[8] ? c(h[8]) : null, y = [[{
                      element: f,
                      label: ''
                    }]];
              E && (a(E)(e), E.removeClass('ng-scope'), E.remove());
              f.empty();
              f.on('change', function () {
                e.$apply(function () {
                  var a, c = u(e) || [], d = {}, h, l, p, s, w, z, x;
                  if (q)
                    for (l = [], s = 0, z = y.length; s < z; s++)
                      for (a = y[s], p = 1, w = a.length; p < w; p++) {
                        if ((h = a[p].element)[0].selected) {
                          h = h.val();
                          n && (d[n] = h);
                          if (v)
                            for (x = 0; x < c.length && (d[m] = c[x], v(e, d) != h); x++);
                          else
                            d[m] = c[h];
                          l.push(r(e, d));
                        }
                      }
                  else if (h = f.val(), '?' == h)
                    l = t;
                  else if ('' === h)
                    l = null;
                  else if (v)
                    for (x = 0; x < c.length; x++) {
                      if (d[m] = c[x], v(e, d) == h) {
                        l = r(e, d);
                        break;
                      }
                    }
                  else
                    d[m] = c[h], n && (d[n] = h), l = r(e, d);
                  g.$setViewValue(l);
                  k();
                });
              });
              g.$render = k;
              e.$watchCollection(u, k);
              e.$watchCollection(function () {
                var a = {}, c = u(e);
                if (c) {
                  for (var d = Array(c.length), f = 0, g = c.length; f < g; f++)
                    a[m] = c[f], d[f] = l(e, a);
                  return d;
                }
              }, k);
              q && e.$watchCollection(function () {
                return g.$modelValue;
              }, k);
            }
            if (m[1]) {
              var p = m[0];
              m = m[1];
              var q = k.multiple, s = k.ngOptions, E = !1, u, B = v(X.createElement('option')), D = v(X.createElement('optgroup')), A = B.clone();
              k = 0;
              for (var w = g.children(), F = w.length; k < F; k++)
                if ('' === w[k].value) {
                  u = E = w.eq(k);
                  break;
                }
              p.init(m, E, A);
              q && (m.$isEmpty = function (a) {
                return !a || 0 === a.length;
              });
              s ? n(e, g, m) : q ? l(e, g, m) : h(e, g, m, p);
            }
          }
        };
      }
    ], id = [
      '$interpolate',
      function (a) {
        var c = {
            addOption: F,
            removeOption: F
          };
        return {
          restrict: 'E',
          priority: 100,
          compile: function (d, e) {
            if (y(e.value)) {
              var f = a(d.text(), !0);
              f || e.$set('value', d.text());
            }
            return function (a, d, e) {
              var h = d.parent(), l = h.data('$selectController') || h.parent().data('$selectController');
              l && l.databound ? d.prop('selected', !1) : l = c;
              f ? a.$watch(f, function (a, c) {
                e.$set('value', a);
                a !== c && l.removeOption(c);
                l.addOption(a);
              }) : l.addOption(e.value);
              d.on('$destroy', function () {
                l.removeOption(e.value);
              });
            };
          }
        };
      }
    ], hd = ba({
      restrict: 'E',
      terminal: !0
    });
  W.angular.bootstrap ? console.log('WARNING: Tried to load angular more than once.') : ((Ea = W.jQuery) && Ea.fn.on ? (v = Ea, J(Ea.fn, {
    scope: La.scope,
    isolateScope: La.isolateScope,
    controller: La.controller,
    injector: La.injector,
    inheritedData: La.inheritedData
  }), Gb('remove', !0, !0, !1), Gb('empty', !1, !1, !1), Gb('html', !1, !1, !0)) : v = S, Va.element = v, $c(Va), v(X).ready(function () {
    Xc(X, fc);
  }));
}(window, document));
!window.angular.$$csp() && window.angular.element(document).find('head').prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>');
/**
 * State-based routing for AngularJS
 * @version v0.2.8
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
'undefined' != typeof module && 'undefined' != typeof exports && module.exports === exports && (module.exports = 'ui.router'), function (a, b, c) {
  'use strict';
  function d(a, b) {
    return H(new (H(function () {
    }, { prototype: a }))(), b);
  }
  function e(a) {
    return G(arguments, function (b) {
      b !== a && G(b, function (b, c) {
        a.hasOwnProperty(c) || (a[c] = b);
      });
    }), a;
  }
  function f(a, b) {
    var c = [];
    for (var d in a.path) {
      if (a.path[d] !== b.path[d])
        break;
      c.push(a.path[d]);
    }
    return c;
  }
  function g(a, b) {
    if (Array.prototype.indexOf)
      return a.indexOf(b, Number(arguments[2]) || 0);
    var c = a.length >>> 0, d = Number(arguments[2]) || 0;
    for (d = 0 > d ? Math.ceil(d) : Math.floor(d), 0 > d && (d += c); c > d; d++)
      if (d in a && a[d] === b)
        return d;
    return -1;
  }
  function h(a, b, c, d) {
    var e, h = f(c, d), i = {}, j = [];
    for (var k in h)
      if (h[k].params && h[k].params.length) {
        e = h[k].params;
        for (var l in e)
          g(j, e[l]) >= 0 || (j.push(e[l]), i[e[l]] = a[e[l]]);
      }
    return H({}, i, b);
  }
  function i(a, b) {
    var c = {};
    return G(a, function (a) {
      var d = b[a];
      c[a] = null != d ? String(d) : null;
    }), c;
  }
  function j(a, b, c) {
    if (!c) {
      c = [];
      for (var d in a)
        c.push(d);
    }
    for (var e = 0; e < c.length; e++) {
      var f = c[e];
      if (a[f] != b[f])
        return !1;
    }
    return !0;
  }
  function k(a, b) {
    var c = {};
    return G(a, function (a) {
      c[a] = b[a];
    }), c;
  }
  function l(a, b) {
    var d = 1, f = 2, g = {}, h = [], i = g, j = H(a.when(g), {
        $$promises: g,
        $$values: g
      });
    this.study = function (g) {
      function k(a, c) {
        if (o[c] !== f) {
          if (n.push(c), o[c] === d)
            throw n.splice(0, n.indexOf(c)), new Error('Cyclic dependency: ' + n.join(' -> '));
          if (o[c] = d, D(a))
            m.push(c, [function () {
                return b.get(a);
              }], h);
          else {
            var e = b.annotate(a);
            G(e, function (a) {
              a !== c && g.hasOwnProperty(a) && k(g[a], a);
            }), m.push(c, a, e);
          }
          n.pop(), o[c] = f;
        }
      }
      function l(a) {
        return E(a) && a.then && a.$$promises;
      }
      if (!E(g))
        throw new Error('\'invocables\' must be an object');
      var m = [], n = [], o = {};
      return G(g, k), g = n = o = null, function (d, f, g) {
        function h() {
          --s || (t || e(r, f.$$values), p.$$values = r, p.$$promises = !0, o.resolve(r));
        }
        function k(a) {
          p.$$failure = a, o.reject(a);
        }
        function n(c, e, f) {
          function i(a) {
            l.reject(a), k(a);
          }
          function j() {
            if (!B(p.$$failure))
              try {
                l.resolve(b.invoke(e, g, r)), l.promise.then(function (a) {
                  r[c] = a, h();
                }, i);
              } catch (a) {
                i(a);
              }
          }
          var l = a.defer(), m = 0;
          G(f, function (a) {
            q.hasOwnProperty(a) && !d.hasOwnProperty(a) && (m++, q[a].then(function (b) {
              r[a] = b, --m || j();
            }, i));
          }), m || j(), q[c] = l.promise;
        }
        if (l(d) && g === c && (g = f, f = d, d = null), d) {
          if (!E(d))
            throw new Error('\'locals\' must be an object');
        } else
          d = i;
        if (f) {
          if (!l(f))
            throw new Error('\'parent\' must be a promise returned by $resolve.resolve()');
        } else
          f = j;
        var o = a.defer(), p = o.promise, q = p.$$promises = {}, r = H({}, d), s = 1 + m.length / 3, t = !1;
        if (B(f.$$failure))
          return k(f.$$failure), p;
        f.$$values ? (t = e(r, f.$$values), h()) : (H(q, f.$$promises), f.then(h, k));
        for (var u = 0, v = m.length; v > u; u += 3)
          d.hasOwnProperty(m[u]) ? h() : n(m[u], m[u + 1], m[u + 2]);
        return p;
      };
    }, this.resolve = function (a, b, c, d) {
      return this.study(a)(b, c, d);
    };
  }
  function m(a, b, c) {
    this.fromConfig = function (a, b, c) {
      return B(a.template) ? this.fromString(a.template, b) : B(a.templateUrl) ? this.fromUrl(a.templateUrl, b) : B(a.templateProvider) ? this.fromProvider(a.templateProvider, b, c) : null;
    }, this.fromString = function (a, b) {
      return C(a) ? a(b) : a;
    }, this.fromUrl = function (c, d) {
      return C(c) && (c = c(d)), null == c ? null : a.get(c, { cache: b }).then(function (a) {
        return a.data;
      });
    }, this.fromProvider = function (a, b, d) {
      return c.invoke(a, null, d || { params: b });
    };
  }
  function n(a) {
    function b(b) {
      if (!/^\w+(-+\w+)*$/.test(b))
        throw new Error('Invalid parameter name \'' + b + '\' in pattern \'' + a + '\'');
      if (f[b])
        throw new Error('Duplicate parameter name \'' + b + '\' in pattern \'' + a + '\'');
      f[b] = !0, j.push(b);
    }
    function c(a) {
      return a.replace(/[\\\[\]\^$*+?.()|{}]/g, '\\$&');
    }
    var d, e = /([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g, f = {}, g = '^', h = 0, i = this.segments = [], j = this.params = [];
    this.source = a;
    for (var k, l, m; (d = e.exec(a)) && (k = d[2] || d[3], l = d[4] || ('*' == d[1] ? '.*' : '[^/]*'), m = a.substring(h, d.index), !(m.indexOf('?') >= 0));)
      g += c(m) + '(' + l + ')', b(k), i.push(m), h = e.lastIndex;
    m = a.substring(h);
    var n = m.indexOf('?');
    if (n >= 0) {
      var o = this.sourceSearch = m.substring(n);
      m = m.substring(0, n), this.sourcePath = a.substring(0, h + n), G(o.substring(1).split(/[&?]/), b);
    } else
      this.sourcePath = a, this.sourceSearch = '';
    g += c(m) + '$', i.push(m), this.regexp = new RegExp(g), this.prefix = i[0];
  }
  function o() {
    this.compile = function (a) {
      return new n(a);
    }, this.isMatcher = function (a) {
      return E(a) && C(a.exec) && C(a.format) && C(a.concat);
    }, this.$get = function () {
      return this;
    };
  }
  function p(a) {
    function b(a) {
      var b = /^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);
      return null != b ? b[1].replace(/\\(.)/g, '$1') : '';
    }
    function c(a, b) {
      return a.replace(/\$(\$|\d{1,2})/, function (a, c) {
        return b['$' === c ? 0 : Number(c)];
      });
    }
    function d(a, b, c) {
      if (!c)
        return !1;
      var d = a.invoke(b, b, { $match: c });
      return B(d) ? d : !0;
    }
    var e = [], f = null;
    this.rule = function (a) {
      if (!C(a))
        throw new Error('\'rule\' must be a function');
      return e.push(a), this;
    }, this.otherwise = function (a) {
      if (D(a)) {
        var b = a;
        a = function () {
          return b;
        };
      } else if (!C(a))
        throw new Error('\'rule\' must be a function');
      return f = a, this;
    }, this.when = function (e, f) {
      var g, h = D(f);
      if (D(e) && (e = a.compile(e)), !h && !C(f) && !F(f))
        throw new Error('invalid \'handler\' in when()');
      var i = {
          matcher: function (b, c) {
            return h && (g = a.compile(c), c = [
              '$match',
              function (a) {
                return g.format(a);
              }
            ]), H(function (a, e) {
              return d(a, c, b.exec(e.path(), e.search()));
            }, { prefix: D(b.prefix) ? b.prefix : '' });
          },
          regex: function (a, e) {
            if (a.global || a.sticky)
              throw new Error('when() RegExp must not be global or sticky');
            return h && (g = e, e = [
              '$match',
              function (a) {
                return c(g, a);
              }
            ]), H(function (b, c) {
              return d(b, e, a.exec(c.path()));
            }, { prefix: b(a) });
          }
        }, j = {
          matcher: a.isMatcher(e),
          regex: e instanceof RegExp
        };
      for (var k in j)
        if (j[k])
          return this.rule(i[k](e, f));
      throw new Error('invalid \'what\' in when()');
    }, this.$get = [
      '$location',
      '$rootScope',
      '$injector',
      function (a, b, c) {
        function d(b) {
          function d(b) {
            var d = b(c, a);
            return d ? (D(d) && a.replace().url(d), !0) : !1;
          }
          if (!b || !b.defaultPrevented) {
            var g, h = e.length;
            for (g = 0; h > g; g++)
              if (d(e[g]))
                return;
            f && d(f);
          }
        }
        return b.$on('$locationChangeSuccess', d), {
          sync: function () {
            d();
          }
        };
      }
    ];
  }
  function q(a, e, f) {
    function g(a) {
      return 0 === a.indexOf('.') || 0 === a.indexOf('^');
    }
    function l(a, b) {
      var d = D(a), e = d ? a : a.name, f = g(e);
      if (f) {
        if (!b)
          throw new Error('No reference point given for path \'' + e + '\'');
        for (var h = e.split('.'), i = 0, j = h.length, k = b; j > i; i++)
          if ('' !== h[i] || 0 !== i) {
            if ('^' !== h[i])
              break;
            if (!k.parent)
              throw new Error('Path \'' + e + '\' not valid for state \'' + b.name + '\'');
            k = k.parent;
          } else
            k = b;
        h = h.slice(i).join('.'), e = k.name + (k.name && h ? '.' : '') + h;
      }
      var l = u[e];
      return !l || !d && (d || l !== a && l.self !== a) ? c : l;
    }
    function m(a, b) {
      v[a] || (v[a] = []), v[a].push(b);
    }
    function n(b) {
      b = d(b, {
        self: b,
        resolve: b.resolve || {},
        toString: function () {
          return this.name;
        }
      });
      var c = b.name;
      if (!D(c) || c.indexOf('@') >= 0)
        throw new Error('State must have a valid name');
      if (u.hasOwnProperty(c))
        throw new Error('State \'' + c + '\'\' is already defined');
      var e = -1 !== c.indexOf('.') ? c.substring(0, c.lastIndexOf('.')) : D(b.parent) ? b.parent : '';
      if (e && !u[e])
        return m(e, b.self);
      for (var f in x)
        C(x[f]) && (b[f] = x[f](b, x.$delegates[f]));
      if (u[c] = b, !b[w] && b.url && a.when(b.url, [
          '$match',
          '$stateParams',
          function (a, c) {
            t.$current.navigable == b && j(a, c) || t.transitionTo(b, a, { location: !1 });
          }
        ]), v[c])
        for (var g = 0; g < v[c].length; g++)
          n(v[c][g]);
      return b;
    }
    function o(a, b) {
      return D(a) && !B(b) ? x[a] : C(b) && D(a) ? (x[a] && !x.$delegates[a] && (x.$delegates[a] = x[a]), x[a] = b, this) : this;
    }
    function p(a, b) {
      return E(a) ? b = a : b.name = a, n(b), this;
    }
    function q(a, e, g, m, n, o, p) {
      function q() {
        p.url() !== D && (p.url(D), p.replace());
      }
      function v(a, c, d, f, h) {
        var i = d ? c : k(a.params, c), j = { $stateParams: i };
        h.resolve = n.resolve(a.resolve, j, h.resolve, a);
        var l = [h.resolve.then(function (a) {
              h.globals = a;
            })];
        return f && l.push(f), G(a.views, function (c, d) {
          var e = c.resolve && c.resolve !== a.resolve ? c.resolve : {};
          e.$template = [function () {
              return g.load(d, {
                view: c,
                locals: j,
                params: i,
                notify: !1
              }) || '';
            }], l.push(n.resolve(e, j, h.resolve, a).then(function (f) {
            if (C(c.controllerProvider) || F(c.controllerProvider)) {
              var g = b.extend({}, e, j);
              f.$$controller = m.invoke(c.controllerProvider, null, g);
            } else
              f.$$controller = c.controller;
            f.$$state = a, h[d] = f;
          }));
        }), e.all(l).then(function () {
          return h;
        });
      }
      var x = e.reject(new Error('transition superseded')), y = e.reject(new Error('transition prevented')), z = e.reject(new Error('transition aborted')), A = e.reject(new Error('transition failed')), D = p.url();
      return s.locals = {
        resolve: null,
        globals: { $stateParams: {} }
      }, t = {
        params: {},
        current: s.self,
        $current: s,
        transition: null
      }, t.reload = function () {
        t.transitionTo(t.current, o, {
          reload: !0,
          inherit: !1,
          notify: !1
        });
      }, t.go = function (a, b, c) {
        return this.transitionTo(a, b, H({
          inherit: !0,
          relative: t.$current
        }, c));
      }, t.transitionTo = function (b, c, f) {
        c = c || {}, f = H({
          location: !0,
          inherit: !1,
          relative: null,
          notify: !0,
          reload: !1,
          $retry: !1
        }, f || {});
        var g, k = t.$current, n = t.params, u = k.path, C = l(b, f.relative);
        if (!B(C)) {
          var E = {
              to: b,
              toParams: c,
              options: f
            };
          if (g = a.$broadcast('$stateNotFound', E, k.self, n), g.defaultPrevented)
            return q(), z;
          if (g.retry) {
            if (f.$retry)
              return q(), A;
            var F = t.transition = e.when(g.retry);
            return F.then(function () {
              return F !== t.transition ? x : (E.options.$retry = !0, t.transitionTo(E.to, E.toParams, E.options));
            }, function () {
              return z;
            }), q(), F;
          }
          if (b = E.to, c = E.toParams, f = E.options, C = l(b, f.relative), !B(C)) {
            if (f.relative)
              throw new Error('Could not resolve \'' + b + '\' from state \'' + f.relative + '\'');
            throw new Error('No such state \'' + b + '\'');
          }
        }
        if (C[w])
          throw new Error('Cannot transition to abstract state \'' + b + '\'');
        f.inherit && (c = h(o, c || {}, t.$current, C)), b = C;
        var G, J, K = b.path, L = s.locals, M = [];
        for (G = 0, J = K[G]; J && J === u[G] && j(c, n, J.ownParams) && !f.reload; G++, J = K[G])
          L = M[G] = J.locals;
        if (r(b, k, L, f))
          return b.self.reloadOnSearch !== !1 && q(), t.transition = null, e.when(t.current);
        if (c = i(b.params, c || {}), f.notify && (g = a.$broadcast('$stateChangeStart', b.self, c, k.self, n), g.defaultPrevented))
          return q(), y;
        for (var N = e.when(L), O = G; O < K.length; O++, J = K[O])
          L = M[O] = d(L), N = v(J, c, J === b, N, L);
        var P = t.transition = N.then(function () {
            var d, e, g;
            if (t.transition !== P)
              return x;
            for (d = u.length - 1; d >= G; d--)
              g = u[d], g.self.onExit && m.invoke(g.self.onExit, g.self, g.locals.globals), g.locals = null;
            for (d = G; d < K.length; d++)
              e = K[d], e.locals = M[d], e.self.onEnter && m.invoke(e.self.onEnter, e.self, e.locals.globals);
            if (t.transition !== P)
              return x;
            t.$current = b, t.current = b.self, t.params = c, I(t.params, o), t.transition = null;
            var h = b.navigable;
            return f.location && h && (p.url(h.url.format(h.locals.globals.$stateParams)), 'replace' === f.location && p.replace()), f.notify && a.$broadcast('$stateChangeSuccess', b.self, c, k.self, n), D = p.url(), t.current;
          }, function (d) {
            return t.transition !== P ? x : (t.transition = null, a.$broadcast('$stateChangeError', b.self, c, k.self, n, d), q(), e.reject(d));
          });
        return P;
      }, t.is = function (a, d) {
        var e = l(a);
        return B(e) ? t.$current !== e ? !1 : B(d) && null !== d ? b.equals(o, d) : !0 : c;
      }, t.includes = function (a, d) {
        var e = l(a);
        if (!B(e))
          return c;
        if (!B(t.$current.includes[e.name]))
          return !1;
        var f = !0;
        return b.forEach(d, function (a, b) {
          B(o[b]) && o[b] === a || (f = !1);
        }), f;
      }, t.href = function (a, b, c) {
        c = H({
          lossy: !0,
          inherit: !1,
          absolute: !1,
          relative: t.$current
        }, c || {});
        var d = l(a, c.relative);
        if (!B(d))
          return null;
        b = h(o, b || {}, t.$current, d);
        var e = d && c.lossy ? d.navigable : d, g = e && e.url ? e.url.format(i(d.params, b || {})) : null;
        return !f.html5Mode() && g && (g = '#' + f.hashPrefix() + g), c.absolute && g && (g = p.protocol() + '://' + p.host() + (80 == p.port() || 443 == p.port() ? '' : ':' + p.port()) + (!f.html5Mode() && g ? '/' : '') + g), g;
      }, t.get = function (a, b) {
        if (!B(a)) {
          var c = [];
          return G(u, function (a) {
            c.push(a.self);
          }), c;
        }
        var d = l(a, b);
        return d && d.self ? d.self : null;
      }, t;
    }
    function r(a, b, c, d) {
      return a !== b || (c !== b.locals || d.reload) && a.self.reloadOnSearch !== !1 ? void 0 : !0;
    }
    var s, t, u = {}, v = {}, w = 'abstract', x = {
        parent: function (a) {
          if (B(a.parent) && a.parent)
            return l(a.parent);
          var b = /^(.+)\.[^.]+$/.exec(a.name);
          return b ? l(b[1]) : s;
        },
        data: function (a) {
          return a.parent && a.parent.data && (a.data = a.self.data = H({}, a.parent.data, a.data)), a.data;
        },
        url: function (a) {
          var b = a.url;
          if (D(b))
            return '^' == b.charAt(0) ? e.compile(b.substring(1)) : (a.parent.navigable || s).url.concat(b);
          if (e.isMatcher(b) || null == b)
            return b;
          throw new Error('Invalid url \'' + b + '\' in state \'' + a + '\'');
        },
        navigable: function (a) {
          return a.url ? a : a.parent ? a.parent.navigable : null;
        },
        params: function (a) {
          if (!a.params)
            return a.url ? a.url.parameters() : a.parent.params;
          if (!F(a.params))
            throw new Error('Invalid params in state \'' + a + '\'');
          if (a.url)
            throw new Error('Both params and url specicified in state \'' + a + '\'');
          return a.params;
        },
        views: function (a) {
          var b = {};
          return G(B(a.views) ? a.views : { '': a }, function (c, d) {
            d.indexOf('@') < 0 && (d += '@' + a.parent.name), b[d] = c;
          }), b;
        },
        ownParams: function (a) {
          if (!a.parent)
            return a.params;
          var b = {};
          G(a.params, function (a) {
            b[a] = !0;
          }), G(a.parent.params, function (c) {
            if (!b[c])
              throw new Error('Missing required parameter \'' + c + '\' in state \'' + a.name + '\'');
            b[c] = !1;
          });
          var c = [];
          return G(b, function (a, b) {
            a && c.push(b);
          }), c;
        },
        path: function (a) {
          return a.parent ? a.parent.path.concat(a) : [];
        },
        includes: function (a) {
          var b = a.parent ? H({}, a.parent.includes) : {};
          return b[a.name] = !0, b;
        },
        $delegates: {}
      };
    s = n({
      name: '',
      url: '^',
      views: null,
      'abstract': !0
    }), s.navigable = null, this.decorator = o, this.state = p, this.$get = q, q.$inject = [
      '$rootScope',
      '$q',
      '$view',
      '$injector',
      '$resolve',
      '$stateParams',
      '$location',
      '$urlRouter'
    ];
  }
  function r() {
    function a(a, b) {
      return {
        load: function (c, d) {
          var e, f = {
              template: null,
              controller: null,
              view: null,
              locals: null,
              notify: !0,
              async: !0,
              params: {}
            };
          return d = H(f, d), d.view && (e = b.fromConfig(d.view, d.params, d.locals)), e && d.notify && a.$broadcast('$viewContentLoading', d), e;
        }
      };
    }
    this.$get = a, a.$inject = [
      '$rootScope',
      '$templateFactory'
    ];
  }
  function s() {
    var a = !1;
    this.useAnchorScroll = function () {
      a = !0;
    }, this.$get = [
      '$anchorScroll',
      '$timeout',
      function (b, c) {
        return a ? b : function (a) {
          c(function () {
            a[0].scrollIntoView();
          }, 0, !1);
        };
      }
    ];
  }
  function t(a, c, d, e, f, g) {
    function h() {
      return e.has ? function (a) {
        return e.has(a) ? e.get(a) : null;
      } : function (a) {
        try {
          return e.get(a);
        } catch (b) {
          return null;
        }
      };
    }
    function i(a, b, c) {
      var d = function () {
        return {
          leave: function (a) {
            a.remove();
          },
          enter: function (a, b, c) {
            c.after(a);
          }
        };
      };
      if (m)
        return function (a) {
          return a ? {
            enter: function (a, b, c) {
              m.enter(a, null, c);
            },
            leave: function (a) {
              m.leave(a, function () {
                a.remove();
              });
            }
          } : d();
        };
      if (l) {
        var e = l && l(c, b);
        return function (a) {
          return a ? {
            enter: function (a, b) {
              e.enter(a, b);
            },
            leave: function (a) {
              e.leave(a.contents(), a);
            }
          } : d();
        };
      }
      return d;
    }
    var j = !1, k = h(), l = k('$animator'), m = k('$animate'), n = {
        restrict: 'ECA',
        compile: function (e, h) {
          var k = e.html(), l = !0, m = b.element(g[0].createComment(' ui-view-anchor ')), o = e.parent();
          return e.prepend(m), function (g) {
            function p() {
              s && (y(!0).leave(s), s = null), r && (r.$destroy(), r = null);
            }
            function q(h) {
              var i = a.$current && a.$current.locals[v];
              if (l && (l = !1, e.replaceWith(m)), !i)
                return p(), s = e.clone(), s.html(k), y(h).enter(s, o, m), r = g.$new(), c(s.contents())(r), void 0;
              if (i !== t) {
                p(), s = e.clone(), s.html(i.$template ? i.$template : k), y(!0).enter(s, o, m), s.data('$uiView', z), t = i, z.state = i.$$state;
                var j = c(s.contents());
                if (r = g.$new(), i.$$controller) {
                  i.$scope = r;
                  var n = d(i.$$controller, i);
                  s.children().data('$ngControllerController', n);
                }
                j(r), r.$emit('$viewContentLoaded'), w && r.$eval(w), b.isDefined(x) && x && !g.$eval(x) || f(s);
              }
            }
            var r, s, t, u = o.inheritedData('$uiView'), v = h[n.name] || h.name || '', w = h.onload || '', x = h.autoscroll, y = i(e, h, g);
            v.indexOf('@') < 0 && (v = v + '@' + (u ? u.state.name : ''));
            var z = {
                name: v,
                state: null
              }, A = function () {
                if (!j) {
                  j = !0;
                  try {
                    q(!0);
                  } catch (a) {
                    throw j = !1, a;
                  }
                  j = !1;
                }
              };
            g.$on('$stateChangeSuccess', A), g.$on('$viewContentLoading', A), q(!1);
          };
        }
      };
    return n;
  }
  function u(a) {
    var b = a.replace(/\n/g, ' ').match(/^([^(]+?)\s*(\((.*)\))?$/);
    if (!b || 4 !== b.length)
      throw new Error('Invalid state ref \'' + a + '\'');
    return {
      state: b[1],
      paramExpr: b[3] || null
    };
  }
  function v(a) {
    var b = a.parent().inheritedData('$uiView');
    return b && b.state && b.state.name ? b.state : void 0;
  }
  function w(a, b) {
    return {
      restrict: 'A',
      require: '?^uiSrefActive',
      link: function (c, d, e, f) {
        var g = u(e.uiSref), h = null, i = v(d) || a.$current, j = 'FORM' === d[0].nodeName, k = j ? 'action' : 'href', l = !0, m = function (b) {
            if (b && (h = b), l) {
              var c = a.href(g.state, h, { relative: i });
              return f && f.$$setStateInfo(g.state, h), c ? (d[0][k] = c, void 0) : (l = !1, !1);
            }
          };
        g.paramExpr && (c.$watch(g.paramExpr, function (a) {
          a !== h && m(a);
        }, !0), h = c.$eval(g.paramExpr)), m(), j || d.bind('click', function (c) {
          var e = c.which || c.button;
          0 !== e && 1 != e || c.ctrlKey || c.metaKey || c.shiftKey || d.attr('target') || (b(function () {
            a.go(g.state, h, { relative: i });
          }), c.preventDefault());
        });
      }
    };
  }
  function x(a, b, c) {
    return {
      restrict: 'A',
      controller: [
        '$scope',
        '$element',
        '$attrs',
        function (d, e, f) {
          function g() {
            a.$current.self === i && h() ? e.addClass(l) : e.removeClass(l);
          }
          function h() {
            return !k || j(k, b);
          }
          var i, k, l;
          l = c(f.uiSrefActive || '', !1)(d), this.$$setStateInfo = function (b, c) {
            i = a.get(b, v(e)), k = c, g();
          }, d.$on('$stateChangeSuccess', g);
        }
      ]
    };
  }
  function y(a) {
    return function (b) {
      return a.is(b);
    };
  }
  function z(a) {
    return function (b) {
      return a.includes(b);
    };
  }
  function A(a, b) {
    function e(a) {
      this.locals = a.locals.globals, this.params = this.locals.$stateParams;
    }
    function f() {
      this.locals = null, this.params = null;
    }
    function g(c, g) {
      if (null != g.redirectTo) {
        var h, j = g.redirectTo;
        if (D(j))
          h = j;
        else {
          if (!C(j))
            throw new Error('Invalid \'redirectTo\' in when()');
          h = function (a, b) {
            return j(a, b.path(), b.search());
          };
        }
        b.when(c, h);
      } else
        a.state(d(g, {
          parent: null,
          name: 'route:' + encodeURIComponent(c),
          url: c,
          onEnter: e,
          onExit: f
        }));
      return i.push(g), this;
    }
    function h(a, b, d) {
      function e(a) {
        return '' !== a.name ? a : c;
      }
      var f = {
          routes: i,
          params: d,
          current: c
        };
      return b.$on('$stateChangeStart', function (a, c, d, f) {
        b.$broadcast('$routeChangeStart', e(c), e(f));
      }), b.$on('$stateChangeSuccess', function (a, c, d, g) {
        f.current = e(c), b.$broadcast('$routeChangeSuccess', e(c), e(g)), I(d, f.params);
      }), b.$on('$stateChangeError', function (a, c, d, f, g, h) {
        b.$broadcast('$routeChangeError', e(c), e(f), h);
      }), f;
    }
    var i = [];
    e.$inject = ['$$state'], this.when = g, this.$get = h, h.$inject = [
      '$state',
      '$rootScope',
      '$routeParams'
    ];
  }
  var B = b.isDefined, C = b.isFunction, D = b.isString, E = b.isObject, F = b.isArray, G = b.forEach, H = b.extend, I = b.copy;
  b.module('ui.router.util', ['ng']), b.module('ui.router.router', ['ui.router.util']), b.module('ui.router.state', [
    'ui.router.router',
    'ui.router.util'
  ]), b.module('ui.router', ['ui.router.state']), b.module('ui.router.compat', ['ui.router']), l.$inject = [
    '$q',
    '$injector'
  ], b.module('ui.router.util').service('$resolve', l), m.$inject = [
    '$http',
    '$templateCache',
    '$injector'
  ], b.module('ui.router.util').service('$templateFactory', m), n.prototype.concat = function (a) {
    return new n(this.sourcePath + a + this.sourceSearch);
  }, n.prototype.toString = function () {
    return this.source;
  }, n.prototype.exec = function (a, b) {
    var c = this.regexp.exec(a);
    if (!c)
      return null;
    var d, e = this.params, f = e.length, g = this.segments.length - 1, h = {};
    if (g !== c.length - 1)
      throw new Error('Unbalanced capture group in route \'' + this.source + '\'');
    for (d = 0; g > d; d++)
      h[e[d]] = c[d + 1];
    for (; f > d; d++)
      h[e[d]] = b[e[d]];
    return h;
  }, n.prototype.parameters = function () {
    return this.params;
  }, n.prototype.format = function (a) {
    var b = this.segments, c = this.params;
    if (!a)
      return b.join('');
    var d, e, f, g = b.length - 1, h = c.length, i = b[0];
    for (d = 0; g > d; d++)
      f = a[c[d]], null != f && (i += encodeURIComponent(f)), i += b[d + 1];
    for (; h > d; d++)
      f = a[c[d]], null != f && (i += (e ? '&' : '?') + c[d] + '=' + encodeURIComponent(f), e = !0);
    return i;
  }, b.module('ui.router.util').provider('$urlMatcherFactory', o), p.$inject = ['$urlMatcherFactoryProvider'], b.module('ui.router.router').provider('$urlRouter', p), q.$inject = [
    '$urlRouterProvider',
    '$urlMatcherFactoryProvider',
    '$locationProvider'
  ], b.module('ui.router.state').value('$stateParams', {}).provider('$state', q), r.$inject = [], b.module('ui.router.state').provider('$view', r), b.module('ui.router.state').provider('$uiViewScroll', s), t.$inject = [
    '$state',
    '$compile',
    '$controller',
    '$injector',
    '$uiViewScroll',
    '$document'
  ], b.module('ui.router.state').directive('uiView', t), w.$inject = [
    '$state',
    '$timeout'
  ], x.$inject = [
    '$state',
    '$stateParams',
    '$interpolate'
  ], b.module('ui.router.state').directive('uiSref', w).directive('uiSrefActive', x), y.$inject = ['$state'], z.$inject = ['$state'], b.module('ui.router.state').filter('isState', y).filter('includedByState', z), A.$inject = [
    '$stateProvider',
    '$urlRouterProvider'
  ], b.module('ui.router.compat').provider('$route', A).directive('ngView', t);
}(window, window.angular);
/*!
 * angular-translate - v2.5.2 - 2014-12-10
 * http://github.com/angular-translate/angular-translate
 * Copyright (c) 2014 ; Licensed MIT
 */
angular.module('pascalprecht.translate', ['ng']).run([
  '$translate',
  function (a) {
    var b = a.storageKey(), c = a.storage(), d = function () {
        var d = a.preferredLanguage();
        angular.isString(d) ? a.use(d) : c.put(b, a.use());
      };
    c ? c.get(b) ? a.use(c.get(b))['catch'](d) : d() : angular.isString(a.preferredLanguage()) && a.use(a.preferredLanguage());
  }
]), angular.module('pascalprecht.translate').provider('$translate', [
  '$STORAGE_KEY',
  function (a) {
    var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q = {}, r = [], s = a, t = [], u = !1, v = 'translate-cloak', w = !1, x = '.', y = '2.5.2', z = function () {
        var a, b, c = window.navigator, d = [
            'language',
            'browserLanguage',
            'systemLanguage',
            'userLanguage'
          ];
        if (angular.isArray(c.languages))
          for (a = 0; a < c.languages.length; a++)
            if (b = c.languages[a], b && b.length)
              return b;
        for (a = 0; a < d.length; a++)
          if (b = c[d[a]], b && b.length)
            return b;
        return null;
      };
    z.displayName = 'angular-translate/service: getFirstBrowserLanguage';
    var A = function () {
      return (z() || '').split('-').join('_');
    };
    A.displayName = 'angular-translate/service: getLocale';
    var B = function (a, b) {
        for (var c = 0, d = a.length; d > c; c++)
          if (a[c] === b)
            return c;
        return -1;
      }, C = function () {
        return this.replace(/^\s+|\s+$/g, '');
      }, D = function (a) {
        for (var b = [], d = angular.lowercase(a), e = 0, f = r.length; f > e; e++)
          b.push(angular.lowercase(r[e]));
        if (B(b, d) > -1)
          return a;
        if (c) {
          var g;
          for (var h in c) {
            var i = !1, j = Object.prototype.hasOwnProperty.call(c, h) && angular.lowercase(h) === angular.lowercase(a);
            if ('*' === h.slice(-1) && (i = h.slice(0, -1) === a.slice(0, h.length - 1)), (j || i) && (g = c[h], B(b, angular.lowercase(g)) > -1))
              return g;
          }
        }
        var k = a.split('_');
        return k.length > 1 && B(b, angular.lowercase(k[0])) > -1 ? k[0] : a;
      }, E = function (a, b) {
        if (!a && !b)
          return q;
        if (a && !b) {
          if (angular.isString(a))
            return q[a];
        } else
          angular.isObject(q[a]) || (q[a] = {}), angular.extend(q[a], F(b));
        return this;
      };
    this.translations = E, this.cloakClassName = function (a) {
      return a ? (v = a, this) : v;
    };
    var F = function (a, b, c, d) {
      var e, f, g, h;
      b || (b = []), c || (c = {});
      for (e in a)
        Object.prototype.hasOwnProperty.call(a, e) && (h = a[e], angular.isObject(h) ? F(h, b.concat(e), c, e) : (f = b.length ? '' + b.join(x) + x + e : e, b.length && e === d && (g = '' + b.join(x), c[g] = '@:' + f), c[f] = h));
      return c;
    };
    this.addInterpolation = function (a) {
      return t.push(a), this;
    }, this.useMessageFormatInterpolation = function () {
      return this.useInterpolation('$translateMessageFormatInterpolation');
    }, this.useInterpolation = function (a) {
      return k = a, this;
    }, this.useSanitizeValueStrategy = function (a) {
      return u = a, this;
    }, this.preferredLanguage = function (a) {
      return G(a), this;
    };
    var G = function (a) {
      return a && (b = a), b;
    };
    this.translationNotFoundIndicator = function (a) {
      return this.translationNotFoundIndicatorLeft(a), this.translationNotFoundIndicatorRight(a), this;
    }, this.translationNotFoundIndicatorLeft = function (a) {
      return a ? (n = a, this) : n;
    }, this.translationNotFoundIndicatorRight = function (a) {
      return a ? (o = a, this) : o;
    }, this.fallbackLanguage = function (a) {
      return H(a), this;
    };
    var H = function (a) {
      return a ? (angular.isString(a) ? (e = !0, d = [a]) : angular.isArray(a) && (e = !1, d = a), angular.isString(b) && B(d, b) < 0 && d.push(b), this) : e ? d[0] : d;
    };
    this.use = function (a) {
      if (a) {
        if (!q[a] && !l)
          throw new Error('$translateProvider couldn\'t find translationTable for langKey: \'' + a + '\'');
        return f = a, this;
      }
      return f;
    };
    var I = function (a) {
      return a ? void (s = a) : i ? i + s : s;
    };
    this.storageKey = I, this.useUrlLoader = function (a, b) {
      return this.useLoader('$translateUrlLoader', angular.extend({ url: a }, b));
    }, this.useStaticFilesLoader = function (a) {
      return this.useLoader('$translateStaticFilesLoader', a);
    }, this.useLoader = function (a, b) {
      return l = a, m = b || {}, this;
    }, this.useLocalStorage = function () {
      return this.useStorage('$translateLocalStorage');
    }, this.useCookieStorage = function () {
      return this.useStorage('$translateCookieStorage');
    }, this.useStorage = function (a) {
      return h = a, this;
    }, this.storagePrefix = function (a) {
      return a ? (i = a, this) : a;
    }, this.useMissingTranslationHandlerLog = function () {
      return this.useMissingTranslationHandler('$translateMissingTranslationHandlerLog');
    }, this.useMissingTranslationHandler = function (a) {
      return j = a, this;
    }, this.usePostCompiling = function (a) {
      return w = !!a, this;
    }, this.determinePreferredLanguage = function (a) {
      var c = a && angular.isFunction(a) ? a() : A();
      return b = r.length ? D(c) : c, this;
    }, this.registerAvailableLanguageKeys = function (a, b) {
      return a ? (r = a, b && (c = b), this) : r;
    }, this.useLoaderCache = function (a) {
      return a === !1 ? p = void 0 : a === !0 ? p = !0 : 'undefined' == typeof a ? p = '$translationCache' : a && (p = a), this;
    }, this.$get = [
      '$log',
      '$injector',
      '$rootScope',
      '$q',
      function (a, c, i, r) {
        var x, z, A, J = c.get(k || '$translateDefaultInterpolation'), K = !1, L = {}, M = {}, N = function (a, c, e) {
            if (angular.isArray(a)) {
              var g = function (a) {
                for (var b = {}, d = [], f = function (a) {
                      var d = r.defer(), f = function (c) {
                          b[a] = c, d.resolve([
                            a,
                            c
                          ]);
                        };
                      return N(a, c, e).then(f, f), d.promise;
                    }, g = 0, h = a.length; h > g; g++)
                  d.push(f(a[g]));
                return r.all(d).then(function () {
                  return b;
                });
              };
              return g(a);
            }
            var i = r.defer();
            a && (a = C.apply(a));
            var j = function () {
                var a = b ? M[b] : M[f];
                if (z = 0, h && !a) {
                  var c = x.get(s);
                  if (a = M[c], d && d.length) {
                    var e = B(d, c);
                    z = 0 === e ? 1 : 0, B(d, b) < 0 && d.push(b);
                  }
                }
                return a;
              }();
            return j ? j.then(function () {
              Z(a, c, e).then(i.resolve, i.reject);
            }, i.reject) : Z(a, c, e).then(i.resolve, i.reject), i.promise;
          }, O = function (a) {
            return n && (a = [
              n,
              a
            ].join(' ')), o && (a = [
              a,
              o
            ].join(' ')), a;
          }, P = function (a) {
            f = a, i.$emit('$translateChangeSuccess', { language: a }), h && x.put(N.storageKey(), f), J.setLocale(f), angular.forEach(L, function (a, b) {
              L[b].setLocale(f);
            }), i.$emit('$translateChangeEnd', { language: a });
          }, Q = function (a) {
            if (!a)
              throw 'No language key specified for loading.';
            var b = r.defer();
            i.$emit('$translateLoadingStart', { language: a }), K = !0;
            var d = p;
            'string' == typeof d && (d = c.get(d));
            var e = angular.extend({}, m, {
                key: a,
                $http: angular.extend({}, { cache: d }, m.$http)
              });
            return c.get(l)(e).then(function (c) {
              var d = {};
              i.$emit('$translateLoadingSuccess', { language: a }), angular.isArray(c) ? angular.forEach(c, function (a) {
                angular.extend(d, F(a));
              }) : angular.extend(d, F(c)), K = !1, b.resolve({
                key: a,
                table: d
              }), i.$emit('$translateLoadingEnd', { language: a });
            }, function (a) {
              i.$emit('$translateLoadingError', { language: a }), b.reject(a), i.$emit('$translateLoadingEnd', { language: a });
            }), b.promise;
          };
        if (h && (x = c.get(h), !x.get || !x.put))
          throw new Error('Couldn\'t use storage \'' + h + '\', missing get() or put() method!');
        angular.isFunction(J.useSanitizeValueStrategy) && J.useSanitizeValueStrategy(u), t.length && angular.forEach(t, function (a) {
          var d = c.get(a);
          d.setLocale(b || f), angular.isFunction(d.useSanitizeValueStrategy) && d.useSanitizeValueStrategy(u), L[d.getInterpolationIdentifier()] = d;
        });
        var R = function (a) {
            var b = r.defer();
            return Object.prototype.hasOwnProperty.call(q, a) ? b.resolve(q[a]) : M[a] ? M[a].then(function (a) {
              E(a.key, a.table), b.resolve(a.table);
            }, b.reject) : b.reject(), b.promise;
          }, S = function (a, b, c, d) {
            var e = r.defer();
            return R(a).then(function (g) {
              Object.prototype.hasOwnProperty.call(g, b) ? (d.setLocale(a), e.resolve(d.interpolate(g[b], c)), d.setLocale(f)) : e.reject();
            }, e.reject), e.promise;
          }, T = function (a, b, c, d) {
            var e, g = q[a];
            return g && Object.prototype.hasOwnProperty.call(g, b) && (d.setLocale(a), e = d.interpolate(g[b], c), d.setLocale(f)), e;
          }, U = function (a) {
            if (j) {
              var b = c.get(j)(a, f);
              return void 0 !== b ? b : a;
            }
            return a;
          }, V = function (a, b, c, e) {
            var f = r.defer();
            if (a < d.length) {
              var g = d[a];
              S(g, b, c, e).then(f.resolve, function () {
                V(a + 1, b, c, e).then(f.resolve);
              });
            } else
              f.resolve(U(b));
            return f.promise;
          }, W = function (a, b, c, e) {
            var f;
            if (a < d.length) {
              var g = d[a];
              f = T(g, b, c, e), f || (f = W(a + 1, b, c, e));
            }
            return f;
          }, X = function (a, b, c) {
            return V(A > 0 ? A : z, a, b, c);
          }, Y = function (a, b, c) {
            return W(A > 0 ? A : z, a, b, c);
          }, Z = function (a, b, c) {
            var e = r.defer(), g = f ? q[f] : q, h = c ? L[c] : J;
            if (g && Object.prototype.hasOwnProperty.call(g, a)) {
              var i = g[a];
              '@:' === i.substr(0, 2) ? N(i.substr(2), b, c).then(e.resolve, e.reject) : e.resolve(h.interpolate(i, b));
            } else {
              var k;
              j && !K && (k = U(a)), f && d && d.length ? X(a, b, h).then(function (a) {
                e.resolve(a);
              }, function (a) {
                e.reject(O(a));
              }) : j && !K && k ? e.resolve(k) : e.reject(O(a));
            }
            return e.promise;
          }, $ = function (a, b, c) {
            var e, g = f ? q[f] : q, h = c ? L[c] : J;
            if (g && Object.prototype.hasOwnProperty.call(g, a)) {
              var i = g[a];
              e = '@:' === i.substr(0, 2) ? $(i.substr(2), b, c) : h.interpolate(i, b);
            } else {
              var k;
              j && !K && (k = U(a)), f && d && d.length ? (z = 0, e = Y(a, b, h)) : e = j && !K && k ? k : O(a);
            }
            return e;
          };
        if (N.preferredLanguage = function (a) {
            return a && G(a), b;
          }, N.cloakClassName = function () {
            return v;
          }, N.fallbackLanguage = function (a) {
            if (void 0 !== a && null !== a) {
              if (H(a), l && d && d.length)
                for (var b = 0, c = d.length; c > b; b++)
                  M[d[b]] || (M[d[b]] = Q(d[b]));
              N.use(N.use());
            }
            return e ? d[0] : d;
          }, N.useFallbackLanguage = function (a) {
            if (void 0 !== a && null !== a)
              if (a) {
                var b = B(d, a);
                b > -1 && (A = b);
              } else
                A = 0;
          }, N.proposedLanguage = function () {
            return g;
          }, N.storage = function () {
            return x;
          }, N.use = function (a) {
            if (!a)
              return f;
            var b = r.defer();
            i.$emit('$translateChangeStart', { language: a });
            var c = D(a);
            return c && (a = c), q[a] || !l || M[a] ? (b.resolve(a), P(a)) : (g = a, M[a] = Q(a).then(function (c) {
              return E(c.key, c.table), b.resolve(c.key), P(c.key), g === a && (g = void 0), c;
            }, function (a) {
              g === a && (g = void 0), i.$emit('$translateChangeError', { language: a }), b.reject(a), i.$emit('$translateChangeEnd', { language: a });
            })), b.promise;
          }, N.storageKey = function () {
            return I();
          }, N.isPostCompilingEnabled = function () {
            return w;
          }, N.refresh = function (a) {
            function b() {
              e.resolve(), i.$emit('$translateRefreshEnd', { language: a });
            }
            function c() {
              e.reject(), i.$emit('$translateRefreshEnd', { language: a });
            }
            if (!l)
              throw new Error('Couldn\'t refresh translation table, no loader registered!');
            var e = r.defer();
            if (i.$emit('$translateRefreshStart', { language: a }), a)
              q[a] ? Q(a).then(function (c) {
                E(c.key, c.table), a === f && P(f), b();
              }, c) : c();
            else {
              var g = [], h = {};
              if (d && d.length)
                for (var j = 0, k = d.length; k > j; j++)
                  g.push(Q(d[j])), h[d[j]] = !0;
              f && !h[f] && g.push(Q(f)), r.all(g).then(function (a) {
                angular.forEach(a, function (a) {
                  q[a.key] && delete q[a.key], E(a.key, a.table);
                }), f && P(f), b();
              });
            }
            return e.promise;
          }, N.instant = function (a, c, e) {
            if (null === a || angular.isUndefined(a))
              return a;
            if (angular.isArray(a)) {
              for (var g = {}, h = 0, i = a.length; i > h; h++)
                g[a[h]] = N.instant(a[h], c, e);
              return g;
            }
            if (angular.isString(a) && a.length < 1)
              return a;
            a && (a = C.apply(a));
            var k, l = [];
            b && l.push(b), f && l.push(f), d && d.length && (l = l.concat(d));
            for (var m = 0, n = l.length; n > m; m++) {
              var o = l[m];
              if (q[o] && 'undefined' != typeof q[o][a] && (k = $(a, c, e)), 'undefined' != typeof k)
                break;
            }
            return k || '' === k || (k = J.interpolate(a, c), j && !K && (k = U(a))), k;
          }, N.versionInfo = function () {
            return y;
          }, N.loaderCache = function () {
            return p;
          }, l && (angular.equals(q, {}) && N.use(N.use()), d && d.length))
          for (var _ = function (a) {
                return E(a.key, a.table), i.$emit('$translateChangeEnd', { language: a.key }), a;
              }, ab = 0, bb = d.length; bb > ab; ab++)
            M[d[ab]] = Q(d[ab]).then(_);
        return N;
      }
    ];
  }
]), angular.module('pascalprecht.translate').factory('$translateDefaultInterpolation', [
  '$interpolate',
  function (a) {
    var b, c = {}, d = 'default', e = null, f = {
        escaped: function (a) {
          var b = {};
          for (var c in a)
            Object.prototype.hasOwnProperty.call(a, c) && (b[c] = angular.element('<div></div>').text(a[c]).html());
          return b;
        }
      }, g = function (a) {
        var b;
        return b = angular.isFunction(f[e]) ? f[e](a) : a;
      };
    return c.setLocale = function (a) {
      b = a;
    }, c.getInterpolationIdentifier = function () {
      return d;
    }, c.useSanitizeValueStrategy = function (a) {
      return e = a, this;
    }, c.interpolate = function (b, c) {
      return e && (c = g(c)), a(b)(c || {});
    }, c;
  }
]), angular.module('pascalprecht.translate').constant('$STORAGE_KEY', 'NG_TRANSLATE_LANG_KEY'), angular.module('pascalprecht.translate').directive('translate', [
  '$translate',
  '$q',
  '$interpolate',
  '$compile',
  '$parse',
  '$rootScope',
  function (a, b, c, d, e, f) {
    return {
      restrict: 'AE',
      scope: !0,
      compile: function (b, g) {
        var h = g.translateValues ? g.translateValues : void 0, i = g.translateInterpolation ? g.translateInterpolation : void 0, j = b[0].outerHTML.match(/translate-value-+/i), k = '^(.*)(' + c.startSymbol() + '.*' + c.endSymbol() + ')(.*)', l = '^(.*)' + c.startSymbol() + '(.*)' + c.endSymbol() + '(.*)';
        return function (b, m, n) {
          b.interpolateParams = {}, b.preText = '', b.postText = '';
          var o = {}, p = function (a) {
              if (angular.equals(a, '') || !angular.isDefined(a)) {
                var d = m.text().match(k);
                angular.isArray(d) ? (b.preText = d[1], b.postText = d[3], o.translate = c(d[2])(b.$parent), watcherMatches = m.text().match(l), angular.isArray(watcherMatches) && watcherMatches[2] && watcherMatches[2].length && b.$watch(watcherMatches[2], function (a) {
                  o.translate = a, u();
                })) : o.translate = m.text().replace(/^\s+|\s+$/g, '');
              } else
                o.translate = a;
              u();
            }, q = function (a) {
              n.$observe(a, function (b) {
                o[a] = b, u();
              });
            };
          n.$observe('translate', function (a) {
            p(a);
          });
          for (var r in n)
            n.hasOwnProperty(r) && 'translateAttr' === r.substr(0, 13) && q(r);
          if (n.$observe('translateDefault', function (a) {
              b.defaultText = a;
            }), h && n.$observe('translateValues', function (a) {
              a && b.$parent.$watch(function () {
                angular.extend(b.interpolateParams, e(a)(b.$parent));
              });
            }), j) {
            var s = function (a) {
              n.$observe(a, function (c) {
                var d = angular.lowercase(a.substr(14, 1)) + a.substr(15);
                b.interpolateParams[d] = c;
              });
            };
            for (var t in n)
              Object.prototype.hasOwnProperty.call(n, t) && 'translateValue' === t.substr(0, 14) && 'translateValues' !== t && s(t);
          }
          var u = function () {
              for (var a in o)
                o.hasOwnProperty(a) && o[a] && v(a, o[a], b, b.interpolateParams);
            }, v = function (b, c, d, e) {
              a(c, e, i).then(function (a) {
                w(a, d, !0, b);
              }, function (a) {
                w(a, d, !1, b);
              });
            }, w = function (b, c, e, f) {
              if ('translate' === f) {
                e || 'undefined' == typeof c.defaultText || (b = c.defaultText), m.html(c.preText + b + c.postText);
                var h = a.isPostCompilingEnabled(), i = 'undefined' != typeof g.translateCompile, j = i && 'false' !== g.translateCompile;
                (h && !i || j) && d(m.contents())(c);
              } else {
                e || 'undefined' == typeof c.defaultText || (b = c.defaultText);
                var k = n.$attr[f].substr(15);
                m.attr(k, b);
              }
            };
          b.$watch('interpolateParams', u, !0);
          var x = f.$on('$translateChangeSuccess', u);
          m.text().length && p(''), u(), b.$on('$destroy', x);
        };
      }
    };
  }
]), angular.module('pascalprecht.translate').directive('translateCloak', [
  '$rootScope',
  '$translate',
  function (a, b) {
    return {
      compile: function (c) {
        var d = function () {
            c.addClass(b.cloakClassName());
          }, e = function () {
            c.removeClass(b.cloakClassName());
          }, f = a.$on('$translateChangeEnd', function () {
            e(), f(), f = null;
          });
        return d(), function (a, c, f) {
          f.translateCloak && f.translateCloak.length && f.$observe('translateCloak', function (a) {
            b(a).then(e, d);
          });
        };
      }
    };
  }
]), angular.module('pascalprecht.translate').filter('translate', [
  '$parse',
  '$translate',
  function (a, b) {
    var c = function (c, d, e) {
      return angular.isObject(d) || (d = a(d)(this)), b.instant(c, d, e);
    };
    return c.$stateful = !0, c;
  }
]);
/*!
 * angular-translate - v2.5.2 - 2014-12-10
 * http://github.com/angular-translate/angular-translate
 * Copyright (c) 2014 ; Licensed MIT
 */
angular.module('pascalprecht.translate').factory('$translateStaticFilesLoader', [
  '$q',
  '$http',
  function (a, b) {
    return function (c) {
      if (!c || !angular.isString(c.prefix) || !angular.isString(c.suffix))
        throw new Error('Couldn\'t load static files, no prefix or suffix specified!');
      var d = a.defer();
      return b(angular.extend({
        url: [
          c.prefix,
          c.key,
          c.suffix
        ].join(''),
        method: 'GET',
        params: ''
      }, c.$http)).success(function (a) {
        d.resolve(a);
      }).error(function () {
        d.reject(c.key);
      }), d.promise;
    };
  }
]);
/*!
 * angular-translate - v2.5.2 - 2014-12-10
 * http://github.com/angular-translate/angular-translate
 * Copyright (c) 2014 ; Licensed MIT
 */
angular.module('pascalprecht.translate').factory('$translateUrlLoader', [
  '$q',
  '$http',
  function (a, b) {
    return function (c) {
      if (!c || !c.url)
        throw new Error('Couldn\'t use urlLoader since no url is given!');
      var d = a.defer(), e = {};
      return e[c.queryParameter || 'lang'] = c.key, b(angular.extend({
        url: c.url,
        params: e,
        method: 'GET'
      }, c.$http)).success(function (a) {
        d.resolve(a);
      }).error(function () {
        d.reject(c.key);
      }), d.promise;
    };
  }
]);
/*
 AngularJS v1.3.9
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function (p, f, n) {
  'use strict';
  f.module('ngCookies', ['ng']).factory('$cookies', [
    '$rootScope',
    '$browser',
    function (e, b) {
      var c = {}, g = {}, h, k = !1, l = f.copy, m = f.isUndefined;
      b.addPollFn(function () {
        var a = b.cookies();
        h != a && (h = a, l(a, g), l(a, c), k && e.$apply());
      })();
      k = !0;
      e.$watch(function () {
        var a, d, e;
        for (a in g)
          m(c[a]) && b.cookies(a, n);
        for (a in c)
          d = c[a], f.isString(d) || (d = '' + d, c[a] = d), d !== g[a] && (b.cookies(a, d), e = !0);
        if (e)
          for (a in d = b.cookies(), c)
            c[a] !== d[a] && (m(d[a]) ? delete c[a] : c[a] = d[a]);
      });
      return c;
    }
  ]).factory('$cookieStore', [
    '$cookies',
    function (e) {
      return {
        get: function (b) {
          return (b = e[b]) ? f.fromJson(b) : b;
        },
        put: function (b, c) {
          e[b] = f.toJson(c);
        },
        remove: function (b) {
          delete e[b];
        }
      };
    }
  ]);
}(window, window.angular));
/*
 AngularJS v1.2.25
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function (H, a, A) {
  'use strict';
  function D(p, g) {
    g = g || {};
    a.forEach(g, function (a, c) {
      delete g[c];
    });
    for (var c in p)
      !p.hasOwnProperty(c) || '$' === c.charAt(0) && '$' === c.charAt(1) || (g[c] = p[c]);
    return g;
  }
  var v = a.$$minErr('$resource'), C = /^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;
  a.module('ngResource', ['ng']).factory('$resource', [
    '$http',
    '$q',
    function (p, g) {
      function c(a, c) {
        this.template = a;
        this.defaults = c || {};
        this.urlParams = {};
      }
      function t(n, w, l) {
        function r(h, d) {
          var e = {};
          d = x({}, w, d);
          s(d, function (b, d) {
            u(b) && (b = b());
            var k;
            if (b && b.charAt && '@' == b.charAt(0)) {
              k = h;
              var a = b.substr(1);
              if (null == a || '' === a || 'hasOwnProperty' === a || !C.test('.' + a))
                throw v('badmember', a);
              for (var a = a.split('.'), f = 0, c = a.length; f < c && k !== A; f++) {
                var g = a[f];
                k = null !== k ? k[g] : A;
              }
            } else
              k = b;
            e[d] = k;
          });
          return e;
        }
        function e(a) {
          return a.resource;
        }
        function f(a) {
          D(a || {}, this);
        }
        var F = new c(n);
        l = x({}, B, l);
        s(l, function (h, d) {
          var c = /^(POST|PUT|PATCH)$/i.test(h.method);
          f[d] = function (b, d, k, w) {
            var q = {}, n, l, y;
            switch (arguments.length) {
            case 4:
              y = w, l = k;
            case 3:
            case 2:
              if (u(d)) {
                if (u(b)) {
                  l = b;
                  y = d;
                  break;
                }
                l = d;
                y = k;
              } else {
                q = b;
                n = d;
                l = k;
                break;
              }
            case 1:
              u(b) ? l = b : c ? n = b : q = b;
              break;
            case 0:
              break;
            default:
              throw v('badargs', arguments.length);
            }
            var t = this instanceof f, m = t ? n : h.isArray ? [] : new f(n), z = {}, B = h.interceptor && h.interceptor.response || e, C = h.interceptor && h.interceptor.responseError || A;
            s(h, function (a, b) {
              'params' != b && ('isArray' != b && 'interceptor' != b) && (z[b] = G(a));
            });
            c && (z.data = n);
            F.setUrlParams(z, x({}, r(n, h.params || {}), q), h.url);
            q = p(z).then(function (b) {
              var d = b.data, k = m.$promise;
              if (d) {
                if (a.isArray(d) !== !!h.isArray)
                  throw v('badcfg', h.isArray ? 'array' : 'object', a.isArray(d) ? 'array' : 'object');
                h.isArray ? (m.length = 0, s(d, function (b) {
                  'object' === typeof b ? m.push(new f(b)) : m.push(b);
                })) : (D(d, m), m.$promise = k);
              }
              m.$resolved = !0;
              b.resource = m;
              return b;
            }, function (b) {
              m.$resolved = !0;
              (y || E)(b);
              return g.reject(b);
            });
            q = q.then(function (b) {
              var a = B(b);
              (l || E)(a, b.headers);
              return a;
            }, C);
            return t ? q : (m.$promise = q, m.$resolved = !1, m);
          };
          f.prototype['$' + d] = function (b, a, k) {
            u(b) && (k = a, a = b, b = {});
            b = f[d].call(this, b, this, a, k);
            return b.$promise || b;
          };
        });
        f.bind = function (a) {
          return t(n, x({}, w, a), l);
        };
        return f;
      }
      var B = {
          get: { method: 'GET' },
          save: { method: 'POST' },
          query: {
            method: 'GET',
            isArray: !0
          },
          remove: { method: 'DELETE' },
          'delete': { method: 'DELETE' }
        }, E = a.noop, s = a.forEach, x = a.extend, G = a.copy, u = a.isFunction;
      c.prototype = {
        setUrlParams: function (c, g, l) {
          var r = this, e = l || r.template, f, p, h = r.urlParams = {};
          s(e.split(/\W/), function (a) {
            if ('hasOwnProperty' === a)
              throw v('badname');
            !/^\d+$/.test(a) && (a && RegExp('(^|[^\\\\]):' + a + '(\\W|$)').test(e)) && (h[a] = !0);
          });
          e = e.replace(/\\:/g, ':');
          g = g || {};
          s(r.urlParams, function (d, c) {
            f = g.hasOwnProperty(c) ? g[c] : r.defaults[c];
            a.isDefined(f) && null !== f ? (p = encodeURIComponent(f).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, '%20').replace(/%26/gi, '&').replace(/%3D/gi, '=').replace(/%2B/gi, '+'), e = e.replace(RegExp(':' + c + '(\\W|$)', 'g'), function (a, c) {
              return p + c;
            })) : e = e.replace(RegExp('(/?):' + c + '(\\W|$)', 'g'), function (a, c, d) {
              return '/' == d.charAt(0) ? d : c + d;
            });
          });
          e = e.replace(/\/+$/, '') || '/';
          e = e.replace(/\/\.(?=\w+($|\?))/, '.');
          c.url = e.replace(/\/\\\./, '/.');
          s(g, function (a, e) {
            r.urlParams[e] || (c.params = c.params || {}, c.params[e] = a);
          });
        }
      };
      return t;
    }
  ]);
}(window, window.angular));
/*
 AngularJS v1.2.25
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function (q, g, r) {
  'use strict';
  function F(a) {
    var d = [];
    t(d, g.noop).chars(a);
    return d.join('');
  }
  function m(a) {
    var d = {};
    a = a.split(',');
    var c;
    for (c = 0; c < a.length; c++)
      d[a[c]] = !0;
    return d;
  }
  function G(a, d) {
    function c(a, b, c, h) {
      b = g.lowercase(b);
      if (u[b])
        for (; f.last() && v[f.last()];)
          e('', f.last());
      w[b] && f.last() == b && e('', b);
      (h = x[b] || !!h) || f.push(b);
      var n = {};
      c.replace(H, function (a, b, d, c, e) {
        n[b] = s(d || c || e || '');
      });
      d.start && d.start(b, n, h);
    }
    function e(a, b) {
      var c = 0, e;
      if (b = g.lowercase(b))
        for (c = f.length - 1; 0 <= c && f[c] != b; c--);
      if (0 <= c) {
        for (e = f.length - 1; e >= c; e--)
          d.end && d.end(f[e]);
        f.length = c;
      }
    }
    'string' !== typeof a && (a = null === a || 'undefined' === typeof a ? '' : '' + a);
    var b, l, f = [], n = a, h;
    for (f.last = function () {
        return f[f.length - 1];
      }; a;) {
      h = '';
      l = !0;
      if (f.last() && y[f.last()])
        a = a.replace(RegExp('(.*)<\\s*\\/\\s*' + f.last() + '[^>]*>', 'i'), function (a, b) {
          b = b.replace(I, '$1').replace(J, '$1');
          d.chars && d.chars(s(b));
          return '';
        }), e('', f.last());
      else {
        if (0 === a.indexOf('<!--'))
          b = a.indexOf('--', 4), 0 <= b && a.lastIndexOf('-->', b) === b && (d.comment && d.comment(a.substring(4, b)), a = a.substring(b + 3), l = !1);
        else if (z.test(a)) {
          if (b = a.match(z))
            a = a.replace(b[0], ''), l = !1;
        } else if (K.test(a)) {
          if (b = a.match(A))
            a = a.substring(b[0].length), b[0].replace(A, e), l = !1;
        } else
          L.test(a) && ((b = a.match(B)) ? (b[4] && (a = a.substring(b[0].length), b[0].replace(B, c)), l = !1) : (h += '<', a = a.substring(1)));
        l && (b = a.indexOf('<'), h += 0 > b ? a : a.substring(0, b), a = 0 > b ? '' : a.substring(b), d.chars && d.chars(s(h)));
      }
      if (a == n)
        throw M('badparse', a);
      n = a;
    }
    e();
  }
  function s(a) {
    if (!a)
      return '';
    var d = N.exec(a);
    a = d[1];
    var c = d[3];
    if (d = d[2])
      p.innerHTML = d.replace(/</g, '&lt;'), d = 'textContent' in p ? p.textContent : p.innerText;
    return a + d + c;
  }
  function C(a) {
    return a.replace(/&/g, '&amp;').replace(O, function (a) {
      var c = a.charCodeAt(0);
      a = a.charCodeAt(1);
      return '&#' + (1024 * (c - 55296) + (a - 56320) + 65536) + ';';
    }).replace(P, function (a) {
      return '&#' + a.charCodeAt(0) + ';';
    }).replace(/</g, '&lt;').replace(/>/g, '&gt;');
  }
  function t(a, d) {
    var c = !1, e = g.bind(a, a.push);
    return {
      start: function (a, l, f) {
        a = g.lowercase(a);
        !c && y[a] && (c = a);
        c || !0 !== D[a] || (e('<'), e(a), g.forEach(l, function (c, f) {
          var k = g.lowercase(f), l = 'img' === a && 'src' === k || 'background' === k;
          !0 !== Q[k] || !0 === E[k] && !d(c, l) || (e(' '), e(f), e('="'), e(C(c)), e('"'));
        }), e(f ? '/>' : '>'));
      },
      end: function (a) {
        a = g.lowercase(a);
        c || !0 !== D[a] || (e('</'), e(a), e('>'));
        a == c && (c = !1);
      },
      chars: function (a) {
        c || e(C(a));
      }
    };
  }
  var M = g.$$minErr('$sanitize'), B = /^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/, A = /^<\/\s*([\w:-]+)[^>]*>/, H = /([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g, L = /^</, K = /^<\//, I = /\x3c!--(.*?)--\x3e/g, z = /<!DOCTYPE([^>]*?)>/i, J = /<!\[CDATA\[(.*?)]]\x3e/g, O = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g, P = /([^\#-~| |!])/g, x = m('area,br,col,hr,img,wbr');
  q = m('colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr');
  r = m('rp,rt');
  var w = g.extend({}, r, q), u = g.extend({}, q, m('address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul')), v = g.extend({}, r, m('a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var')), y = m('script,style'), D = g.extend({}, x, u, v, w), E = m('background,cite,href,longdesc,src,usemap'), Q = g.extend({}, E, m('abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width')), p = document.createElement('pre'), N = /^(\s*)([\s\S]*?)(\s*)$/;
  g.module('ngSanitize', []).provider('$sanitize', function () {
    this.$get = [
      '$$sanitizeUri',
      function (a) {
        return function (d) {
          var c = [];
          G(d, t(c, function (c, b) {
            return !/^unsafe/.test(a(c, b));
          }));
          return c.join('');
        };
      }
    ];
  });
  g.module('ngSanitize').filter('linky', [
    '$sanitize',
    function (a) {
      var d = /((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/, c = /^mailto:/;
      return function (e, b) {
        function l(a) {
          a && k.push(F(a));
        }
        function f(a, c) {
          k.push('<a ');
          g.isDefined(b) && (k.push('target="'), k.push(b), k.push('" '));
          k.push('href="');
          k.push(a);
          k.push('">');
          l(c);
          k.push('</a>');
        }
        if (!e)
          return e;
        for (var n, h = e, k = [], m, p; n = h.match(d);)
          m = n[0], n[2] == n[3] && (m = 'mailto:' + m), p = n.index, l(h.substr(0, p)), f(m, n[0].replace(c, '')), h = h.substring(p + n[0].length);
        l(h);
        return a(k.join(''));
      };
    }
  ]);
}(window, window.angular));
(function () {
  angular.module('socialLinks', []).factory('socialLinker', [
    '$window',
    '$location',
    function ($window, $location) {
      return function (urlFactory) {
        return function (scope, element, attrs) {
          var currentUrl, handler, popupWinAttrs, url;
          currentUrl = attrs.customUrl || $location.absUrl();
          url = urlFactory(scope, currentUrl);
          popupWinAttrs = 'status=no, width=' + (scope.socialWidth || 640) + ', height=' + (scope.socialWidth || 480) + ', resizable=yes, toolbar=no, menubar=no, scrollbars=no, location=no, directories=no';
          if (element[0].nodeName === 'A' && (attrs.href == null || attrs.href === '')) {
            element.attr('href', url);
          }
          element.attr('rel', 'nofollow');
          handler = function (e) {
            var win;
            e.preventDefault();
            url = urlFactory(scope, currentUrl);
            return win = $window.open(url, 'popupwindow', popupWinAttrs).focus();
          };
          element.on('click', handler);
          return scope.$on('$destroy', function () {
            return element.off('click', handler);
          });
        };
      };
    }
  ]).directive('socialFacebook', [
    'socialLinker',
    function (linker) {
      return {
        restrict: 'ACEM',
        scope: true,
        link: linker(function (scope, url) {
          var shareUrl;
          shareUrl = ['https://facebook.com/sharer.php?'];
          shareUrl.push('u=' + encodeURIComponent(url));
          return shareUrl.join('');
        })
      };
    }
  ]).directive('socialTwitter', [
    'socialLinker',
    function (linker) {
      return {
        restrict: 'ACEM',
        scope: { status: '@status' },
        link: linker(function (scope, url) {
          scope.status || (scope.status = 'Check this out! - ' + url);
          return 'https://twitter.com/intent/tweet?text=' + encodeURIComponent(scope.status);
        })
      };
    }
  ]).directive('socialGplus', [
    'socialLinker',
    function (linker) {
      return {
        restrict: 'ACEM',
        scope: true,
        link: linker(function (scope, url) {
          return 'https://plus.google.com/share?url=' + encodeURIComponent(url);
        })
      };
    }
  ]).directive('socialPinterest', [
    'socialLinker',
    function (linker) {
      return {
        restrict: 'ACEM',
        scope: {
          media: '@media',
          description: '@description'
        },
        link: linker(function (scope, url) {
          return 'http://pinterest.com/pin/create/button/?url=' + encodeURIComponent(url) + '&amp;media=' + encodeURIComponent(scope.media) + '&amp;description=' + encodeURIComponent(scope.description);
        })
      };
    }
  ]).directive('socialStumbleupon', [
    'socialLinker',
    function (linker) {
      return {
        restrict: 'ACEM',
        scope: true,
        link: linker(function (scope, url) {
          return 'https://stumbleupon.com/submit?url=' + encodeURIComponent(url);
        })
      };
    }
  ]).directive('socialLinkedin', [
    'socialLinker',
    function (linker) {
      return {
        restrict: 'ACEM',
        scope: true,
        link: linker(function (scope, url) {
          return 'https://linkedin.com/shareArticle?url=' + encodeURIComponent(url);
        })
      };
    }
  ]).directive('socialReddit', [
    'socialLinker',
    function (linker) {
      return {
        restrict: 'ACEM',
        scope: true,
        link: linker(function (scope, url) {
          return 'https://www.reddit.com/submit?url=' + encodeURIComponent(url);
        })
      };
    }
  ]);
}.call(this));
/*!
 * angular-translate - v2.5.2 - 2014-12-10
 * http://github.com/angular-translate/angular-translate
 * Copyright (c) 2014 ; Licensed MIT
 */
angular.module('pascalprecht.translate').factory('$translateCookieStorage', [
  '$cookieStore',
  function (a) {
    var b = {
        get: function (b) {
          return a.get(b);
        },
        set: function (b, c) {
          a.put(b, c);
        },
        put: function (b, c) {
          a.put(b, c);
        }
      };
    return b;
  }
]);
/*!
 * Bootstrap v3.2.0 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if ('undefined' == typeof jQuery)
  throw new Error('Bootstrap\'s JavaScript requires jQuery');
+function (a) {
  'use strict';
  function b() {
    var a = document.createElement('bootstrap'), b = {
        WebkitTransition: 'webkitTransitionEnd',
        MozTransition: 'transitionend',
        OTransition: 'oTransitionEnd otransitionend',
        transition: 'transitionend'
      };
    for (var c in b)
      if (void 0 !== a.style[c])
        return { end: b[c] };
    return !1;
  }
  a.fn.emulateTransitionEnd = function (b) {
    var c = !1, d = this;
    a(this).one('bsTransitionEnd', function () {
      c = !0;
    });
    var e = function () {
      c || a(d).trigger(a.support.transition.end);
    };
    return setTimeout(e, b), this;
  }, a(function () {
    a.support.transition = b(), a.support.transition && (a.event.special.bsTransitionEnd = {
      bindType: a.support.transition.end,
      delegateType: a.support.transition.end,
      handle: function (b) {
        return a(b.target).is(this) ? b.handleObj.handler.apply(this, arguments) : void 0;
      }
    });
  });
}(jQuery), +function (a) {
  'use strict';
  function b(b) {
    return this.each(function () {
      var c = a(this), e = c.data('bs.alert');
      e || c.data('bs.alert', e = new d(this)), 'string' == typeof b && e[b].call(c);
    });
  }
  var c = '[data-dismiss="alert"]', d = function (b) {
      a(b).on('click', c, this.close);
    };
  d.VERSION = '3.2.0', d.prototype.close = function (b) {
    function c() {
      f.detach().trigger('closed.bs.alert').remove();
    }
    var d = a(this), e = d.attr('data-target');
    e || (e = d.attr('href'), e = e && e.replace(/.*(?=#[^\s]*$)/, ''));
    var f = a(e);
    b && b.preventDefault(), f.length || (f = d.hasClass('alert') ? d : d.parent()), f.trigger(b = a.Event('close.bs.alert')), b.isDefaultPrevented() || (f.removeClass('in'), a.support.transition && f.hasClass('fade') ? f.one('bsTransitionEnd', c).emulateTransitionEnd(150) : c());
  };
  var e = a.fn.alert;
  a.fn.alert = b, a.fn.alert.Constructor = d, a.fn.alert.noConflict = function () {
    return a.fn.alert = e, this;
  }, a(document).on('click.bs.alert.data-api', c, d.prototype.close);
}(jQuery), +function (a) {
  'use strict';
  function b(b) {
    return this.each(function () {
      var d = a(this), e = d.data('bs.button'), f = 'object' == typeof b && b;
      e || d.data('bs.button', e = new c(this, f)), 'toggle' == b ? e.toggle() : b && e.setState(b);
    });
  }
  var c = function (b, d) {
    this.$element = a(b), this.options = a.extend({}, c.DEFAULTS, d), this.isLoading = !1;
  };
  c.VERSION = '3.2.0', c.DEFAULTS = { loadingText: 'loading...' }, c.prototype.setState = function (b) {
    var c = 'disabled', d = this.$element, e = d.is('input') ? 'val' : 'html', f = d.data();
    b += 'Text', null == f.resetText && d.data('resetText', d[e]()), d[e](null == f[b] ? this.options[b] : f[b]), setTimeout(a.proxy(function () {
      'loadingText' == b ? (this.isLoading = !0, d.addClass(c).attr(c, c)) : this.isLoading && (this.isLoading = !1, d.removeClass(c).removeAttr(c));
    }, this), 0);
  }, c.prototype.toggle = function () {
    var a = !0, b = this.$element.closest('[data-toggle="buttons"]');
    if (b.length) {
      var c = this.$element.find('input');
      'radio' == c.prop('type') && (c.prop('checked') && this.$element.hasClass('active') ? a = !1 : b.find('.active').removeClass('active')), a && c.prop('checked', !this.$element.hasClass('active')).trigger('change');
    }
    a && this.$element.toggleClass('active');
  };
  var d = a.fn.button;
  a.fn.button = b, a.fn.button.Constructor = c, a.fn.button.noConflict = function () {
    return a.fn.button = d, this;
  }, a(document).on('click.bs.button.data-api', '[data-toggle^="button"]', function (c) {
    var d = a(c.target);
    d.hasClass('btn') || (d = d.closest('.btn')), b.call(d, 'toggle'), c.preventDefault();
  });
}(jQuery), +function (a) {
  'use strict';
  function b(b) {
    return this.each(function () {
      var d = a(this), e = d.data('bs.carousel'), f = a.extend({}, c.DEFAULTS, d.data(), 'object' == typeof b && b), g = 'string' == typeof b ? b : f.slide;
      e || d.data('bs.carousel', e = new c(this, f)), 'number' == typeof b ? e.to(b) : g ? e[g]() : f.interval && e.pause().cycle();
    });
  }
  var c = function (b, c) {
    this.$element = a(b).on('keydown.bs.carousel', a.proxy(this.keydown, this)), this.$indicators = this.$element.find('.carousel-indicators'), this.options = c, this.paused = this.sliding = this.interval = this.$active = this.$items = null, 'hover' == this.options.pause && this.$element.on('mouseenter.bs.carousel', a.proxy(this.pause, this)).on('mouseleave.bs.carousel', a.proxy(this.cycle, this));
  };
  c.VERSION = '3.2.0', c.DEFAULTS = {
    interval: 5000,
    pause: 'hover',
    wrap: !0
  }, c.prototype.keydown = function (a) {
    switch (a.which) {
    case 37:
      this.prev();
      break;
    case 39:
      this.next();
      break;
    default:
      return;
    }
    a.preventDefault();
  }, c.prototype.cycle = function (b) {
    return b || (this.paused = !1), this.interval && clearInterval(this.interval), this.options.interval && !this.paused && (this.interval = setInterval(a.proxy(this.next, this), this.options.interval)), this;
  }, c.prototype.getItemIndex = function (a) {
    return this.$items = a.parent().children('.item'), this.$items.index(a || this.$active);
  }, c.prototype.to = function (b) {
    var c = this, d = this.getItemIndex(this.$active = this.$element.find('.item.active'));
    return b > this.$items.length - 1 || 0 > b ? void 0 : this.sliding ? this.$element.one('slid.bs.carousel', function () {
      c.to(b);
    }) : d == b ? this.pause().cycle() : this.slide(b > d ? 'next' : 'prev', a(this.$items[b]));
  }, c.prototype.pause = function (b) {
    return b || (this.paused = !0), this.$element.find('.next, .prev').length && a.support.transition && (this.$element.trigger(a.support.transition.end), this.cycle(!0)), this.interval = clearInterval(this.interval), this;
  }, c.prototype.next = function () {
    return this.sliding ? void 0 : this.slide('next');
  }, c.prototype.prev = function () {
    return this.sliding ? void 0 : this.slide('prev');
  }, c.prototype.slide = function (b, c) {
    var d = this.$element.find('.item.active'), e = c || d[b](), f = this.interval, g = 'next' == b ? 'left' : 'right', h = 'next' == b ? 'first' : 'last', i = this;
    if (!e.length) {
      if (!this.options.wrap)
        return;
      e = this.$element.find('.item')[h]();
    }
    if (e.hasClass('active'))
      return this.sliding = !1;
    var j = e[0], k = a.Event('slide.bs.carousel', {
        relatedTarget: j,
        direction: g
      });
    if (this.$element.trigger(k), !k.isDefaultPrevented()) {
      if (this.sliding = !0, f && this.pause(), this.$indicators.length) {
        this.$indicators.find('.active').removeClass('active');
        var l = a(this.$indicators.children()[this.getItemIndex(e)]);
        l && l.addClass('active');
      }
      var m = a.Event('slid.bs.carousel', {
          relatedTarget: j,
          direction: g
        });
      return a.support.transition && this.$element.hasClass('slide') ? (e.addClass(b), e[0].offsetWidth, d.addClass(g), e.addClass(g), d.one('bsTransitionEnd', function () {
        e.removeClass([
          b,
          g
        ].join(' ')).addClass('active'), d.removeClass([
          'active',
          g
        ].join(' ')), i.sliding = !1, setTimeout(function () {
          i.$element.trigger(m);
        }, 0);
      }).emulateTransitionEnd(1000 * d.css('transition-duration').slice(0, -1))) : (d.removeClass('active'), e.addClass('active'), this.sliding = !1, this.$element.trigger(m)), f && this.cycle(), this;
    }
  };
  var d = a.fn.carousel;
  a.fn.carousel = b, a.fn.carousel.Constructor = c, a.fn.carousel.noConflict = function () {
    return a.fn.carousel = d, this;
  }, a(document).on('click.bs.carousel.data-api', '[data-slide], [data-slide-to]', function (c) {
    var d, e = a(this), f = a(e.attr('data-target') || (d = e.attr('href')) && d.replace(/.*(?=#[^\s]+$)/, ''));
    if (f.hasClass('carousel')) {
      var g = a.extend({}, f.data(), e.data()), h = e.attr('data-slide-to');
      h && (g.interval = !1), b.call(f, g), h && f.data('bs.carousel').to(h), c.preventDefault();
    }
  }), a(window).on('load', function () {
    a('[data-ride="carousel"]').each(function () {
      var c = a(this);
      b.call(c, c.data());
    });
  });
}(jQuery), +function (a) {
  'use strict';
  function b(b) {
    return this.each(function () {
      var d = a(this), e = d.data('bs.collapse'), f = a.extend({}, c.DEFAULTS, d.data(), 'object' == typeof b && b);
      !e && f.toggle && 'show' == b && (b = !b), e || d.data('bs.collapse', e = new c(this, f)), 'string' == typeof b && e[b]();
    });
  }
  var c = function (b, d) {
    this.$element = a(b), this.options = a.extend({}, c.DEFAULTS, d), this.transitioning = null, this.options.parent && (this.$parent = a(this.options.parent)), this.options.toggle && this.toggle();
  };
  c.VERSION = '3.2.0', c.DEFAULTS = { toggle: !0 }, c.prototype.dimension = function () {
    var a = this.$element.hasClass('width');
    return a ? 'width' : 'height';
  }, c.prototype.show = function () {
    if (!this.transitioning && !this.$element.hasClass('in')) {
      var c = a.Event('show.bs.collapse');
      if (this.$element.trigger(c), !c.isDefaultPrevented()) {
        var d = this.$parent && this.$parent.find('> .panel > .in');
        if (d && d.length) {
          var e = d.data('bs.collapse');
          if (e && e.transitioning)
            return;
          b.call(d, 'hide'), e || d.data('bs.collapse', null);
        }
        var f = this.dimension();
        this.$element.removeClass('collapse').addClass('collapsing')[f](0), this.transitioning = 1;
        var g = function () {
          this.$element.removeClass('collapsing').addClass('collapse in')[f](''), this.transitioning = 0, this.$element.trigger('shown.bs.collapse');
        };
        if (!a.support.transition)
          return g.call(this);
        var h = a.camelCase([
            'scroll',
            f
          ].join('-'));
        this.$element.one('bsTransitionEnd', a.proxy(g, this)).emulateTransitionEnd(350)[f](this.$element[0][h]);
      }
    }
  }, c.prototype.hide = function () {
    if (!this.transitioning && this.$element.hasClass('in')) {
      var b = a.Event('hide.bs.collapse');
      if (this.$element.trigger(b), !b.isDefaultPrevented()) {
        var c = this.dimension();
        this.$element[c](this.$element[c]())[0].offsetHeight, this.$element.addClass('collapsing').removeClass('collapse').removeClass('in'), this.transitioning = 1;
        var d = function () {
          this.transitioning = 0, this.$element.trigger('hidden.bs.collapse').removeClass('collapsing').addClass('collapse');
        };
        return a.support.transition ? void this.$element[c](0).one('bsTransitionEnd', a.proxy(d, this)).emulateTransitionEnd(350) : d.call(this);
      }
    }
  }, c.prototype.toggle = function () {
    this[this.$element.hasClass('in') ? 'hide' : 'show']();
  };
  var d = a.fn.collapse;
  a.fn.collapse = b, a.fn.collapse.Constructor = c, a.fn.collapse.noConflict = function () {
    return a.fn.collapse = d, this;
  }, a(document).on('click.bs.collapse.data-api', '[data-toggle="collapse"]', function (c) {
    var d, e = a(this), f = e.attr('data-target') || c.preventDefault() || (d = e.attr('href')) && d.replace(/.*(?=#[^\s]+$)/, ''), g = a(f), h = g.data('bs.collapse'), i = h ? 'toggle' : e.data(), j = e.attr('data-parent'), k = j && a(j);
    h && h.transitioning || (k && k.find('[data-toggle="collapse"][data-parent="' + j + '"]').not(e).addClass('collapsed'), e[g.hasClass('in') ? 'addClass' : 'removeClass']('collapsed')), b.call(g, i);
  });
}(jQuery), +function (a) {
  'use strict';
  function b(b) {
    b && 3 === b.which || (a(e).remove(), a(f).each(function () {
      var d = c(a(this)), e = { relatedTarget: this };
      d.hasClass('open') && (d.trigger(b = a.Event('hide.bs.dropdown', e)), b.isDefaultPrevented() || d.removeClass('open').trigger('hidden.bs.dropdown', e));
    }));
  }
  function c(b) {
    var c = b.attr('data-target');
    c || (c = b.attr('href'), c = c && /#[A-Za-z]/.test(c) && c.replace(/.*(?=#[^\s]*$)/, ''));
    var d = c && a(c);
    return d && d.length ? d : b.parent();
  }
  function d(b) {
    return this.each(function () {
      var c = a(this), d = c.data('bs.dropdown');
      d || c.data('bs.dropdown', d = new g(this)), 'string' == typeof b && d[b].call(c);
    });
  }
  var e = '.dropdown-backdrop', f = '[data-toggle="dropdown"]', g = function (b) {
      a(b).on('click.bs.dropdown', this.toggle);
    };
  g.VERSION = '3.2.0', g.prototype.toggle = function (d) {
    var e = a(this);
    if (!e.is('.disabled, :disabled')) {
      var f = c(e), g = f.hasClass('open');
      if (b(), !g) {
        'ontouchstart' in document.documentElement && !f.closest('.navbar-nav').length && a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on('click', b);
        var h = { relatedTarget: this };
        if (f.trigger(d = a.Event('show.bs.dropdown', h)), d.isDefaultPrevented())
          return;
        e.trigger('focus'), f.toggleClass('open').trigger('shown.bs.dropdown', h);
      }
      return !1;
    }
  }, g.prototype.keydown = function (b) {
    if (/(38|40|27)/.test(b.keyCode)) {
      var d = a(this);
      if (b.preventDefault(), b.stopPropagation(), !d.is('.disabled, :disabled')) {
        var e = c(d), g = e.hasClass('open');
        if (!g || g && 27 == b.keyCode)
          return 27 == b.which && e.find(f).trigger('focus'), d.trigger('click');
        var h = ' li:not(.divider):visible a', i = e.find('[role="menu"]' + h + ', [role="listbox"]' + h);
        if (i.length) {
          var j = i.index(i.filter(':focus'));
          38 == b.keyCode && j > 0 && j--, 40 == b.keyCode && j < i.length - 1 && j++, ~j || (j = 0), i.eq(j).trigger('focus');
        }
      }
    }
  };
  var h = a.fn.dropdown;
  a.fn.dropdown = d, a.fn.dropdown.Constructor = g, a.fn.dropdown.noConflict = function () {
    return a.fn.dropdown = h, this;
  }, a(document).on('click.bs.dropdown.data-api', b).on('click.bs.dropdown.data-api', '.dropdown form', function (a) {
    a.stopPropagation();
  }).on('click.bs.dropdown.data-api', f, g.prototype.toggle).on('keydown.bs.dropdown.data-api', f + ', [role="menu"], [role="listbox"]', g.prototype.keydown);
}(jQuery), +function (a) {
  'use strict';
  function b(b, d) {
    return this.each(function () {
      var e = a(this), f = e.data('bs.modal'), g = a.extend({}, c.DEFAULTS, e.data(), 'object' == typeof b && b);
      f || e.data('bs.modal', f = new c(this, g)), 'string' == typeof b ? f[b](d) : g.show && f.show(d);
    });
  }
  var c = function (b, c) {
    this.options = c, this.$body = a(document.body), this.$element = a(b), this.$backdrop = this.isShown = null, this.scrollbarWidth = 0, this.options.remote && this.$element.find('.modal-content').load(this.options.remote, a.proxy(function () {
      this.$element.trigger('loaded.bs.modal');
    }, this));
  };
  c.VERSION = '3.2.0', c.DEFAULTS = {
    backdrop: !0,
    keyboard: !0,
    show: !0
  }, c.prototype.toggle = function (a) {
    return this.isShown ? this.hide() : this.show(a);
  }, c.prototype.show = function (b) {
    var c = this, d = a.Event('show.bs.modal', { relatedTarget: b });
    this.$element.trigger(d), this.isShown || d.isDefaultPrevented() || (this.isShown = !0, this.checkScrollbar(), this.$body.addClass('modal-open'), this.setScrollbar(), this.escape(), this.$element.on('click.dismiss.bs.modal', '[data-dismiss="modal"]', a.proxy(this.hide, this)), this.backdrop(function () {
      var d = a.support.transition && c.$element.hasClass('fade');
      c.$element.parent().length || c.$element.appendTo(c.$body), c.$element.show().scrollTop(0), d && c.$element[0].offsetWidth, c.$element.addClass('in').attr('aria-hidden', !1), c.enforceFocus();
      var e = a.Event('shown.bs.modal', { relatedTarget: b });
      d ? c.$element.find('.modal-dialog').one('bsTransitionEnd', function () {
        c.$element.trigger('focus').trigger(e);
      }).emulateTransitionEnd(300) : c.$element.trigger('focus').trigger(e);
    }));
  }, c.prototype.hide = function (b) {
    b && b.preventDefault(), b = a.Event('hide.bs.modal'), this.$element.trigger(b), this.isShown && !b.isDefaultPrevented() && (this.isShown = !1, this.$body.removeClass('modal-open'), this.resetScrollbar(), this.escape(), a(document).off('focusin.bs.modal'), this.$element.removeClass('in').attr('aria-hidden', !0).off('click.dismiss.bs.modal'), a.support.transition && this.$element.hasClass('fade') ? this.$element.one('bsTransitionEnd', a.proxy(this.hideModal, this)).emulateTransitionEnd(300) : this.hideModal());
  }, c.prototype.enforceFocus = function () {
    a(document).off('focusin.bs.modal').on('focusin.bs.modal', a.proxy(function (a) {
      this.$element[0] === a.target || this.$element.has(a.target).length || this.$element.trigger('focus');
    }, this));
  }, c.prototype.escape = function () {
    this.isShown && this.options.keyboard ? this.$element.on('keyup.dismiss.bs.modal', a.proxy(function (a) {
      27 == a.which && this.hide();
    }, this)) : this.isShown || this.$element.off('keyup.dismiss.bs.modal');
  }, c.prototype.hideModal = function () {
    var a = this;
    this.$element.hide(), this.backdrop(function () {
      a.$element.trigger('hidden.bs.modal');
    });
  }, c.prototype.removeBackdrop = function () {
    this.$backdrop && this.$backdrop.remove(), this.$backdrop = null;
  }, c.prototype.backdrop = function (b) {
    var c = this, d = this.$element.hasClass('fade') ? 'fade' : '';
    if (this.isShown && this.options.backdrop) {
      var e = a.support.transition && d;
      if (this.$backdrop = a('<div class="modal-backdrop ' + d + '" />').appendTo(this.$body), this.$element.on('click.dismiss.bs.modal', a.proxy(function (a) {
          a.target === a.currentTarget && ('static' == this.options.backdrop ? this.$element[0].focus.call(this.$element[0]) : this.hide.call(this));
        }, this)), e && this.$backdrop[0].offsetWidth, this.$backdrop.addClass('in'), !b)
        return;
      e ? this.$backdrop.one('bsTransitionEnd', b).emulateTransitionEnd(150) : b();
    } else if (!this.isShown && this.$backdrop) {
      this.$backdrop.removeClass('in');
      var f = function () {
        c.removeBackdrop(), b && b();
      };
      a.support.transition && this.$element.hasClass('fade') ? this.$backdrop.one('bsTransitionEnd', f).emulateTransitionEnd(150) : f();
    } else
      b && b();
  }, c.prototype.checkScrollbar = function () {
    document.body.clientWidth >= window.innerWidth || (this.scrollbarWidth = this.scrollbarWidth || this.measureScrollbar());
  }, c.prototype.setScrollbar = function () {
    var a = parseInt(this.$body.css('padding-right') || 0, 10);
    this.scrollbarWidth && this.$body.css('padding-right', a + this.scrollbarWidth);
  }, c.prototype.resetScrollbar = function () {
    this.$body.css('padding-right', '');
  }, c.prototype.measureScrollbar = function () {
    var a = document.createElement('div');
    a.className = 'modal-scrollbar-measure', this.$body.append(a);
    var b = a.offsetWidth - a.clientWidth;
    return this.$body[0].removeChild(a), b;
  };
  var d = a.fn.modal;
  a.fn.modal = b, a.fn.modal.Constructor = c, a.fn.modal.noConflict = function () {
    return a.fn.modal = d, this;
  }, a(document).on('click.bs.modal.data-api', '[data-toggle="modal"]', function (c) {
    var d = a(this), e = d.attr('href'), f = a(d.attr('data-target') || e && e.replace(/.*(?=#[^\s]+$)/, '')), g = f.data('bs.modal') ? 'toggle' : a.extend({ remote: !/#/.test(e) && e }, f.data(), d.data());
    d.is('a') && c.preventDefault(), f.one('show.bs.modal', function (a) {
      a.isDefaultPrevented() || f.one('hidden.bs.modal', function () {
        d.is(':visible') && d.trigger('focus');
      });
    }), b.call(f, g, this);
  });
}(jQuery), +function (a) {
  'use strict';
  function b(b) {
    return this.each(function () {
      var d = a(this), e = d.data('bs.tooltip'), f = 'object' == typeof b && b;
      (e || 'destroy' != b) && (e || d.data('bs.tooltip', e = new c(this, f)), 'string' == typeof b && e[b]());
    });
  }
  var c = function (a, b) {
    this.type = this.options = this.enabled = this.timeout = this.hoverState = this.$element = null, this.init('tooltip', a, b);
  };
  c.VERSION = '3.2.0', c.DEFAULTS = {
    animation: !0,
    placement: 'top',
    selector: !1,
    template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
    trigger: 'hover focus',
    title: '',
    delay: 0,
    html: !1,
    container: !1,
    viewport: {
      selector: 'body',
      padding: 0
    }
  }, c.prototype.init = function (b, c, d) {
    this.enabled = !0, this.type = b, this.$element = a(c), this.options = this.getOptions(d), this.$viewport = this.options.viewport && a(this.options.viewport.selector || this.options.viewport);
    for (var e = this.options.trigger.split(' '), f = e.length; f--;) {
      var g = e[f];
      if ('click' == g)
        this.$element.on('click.' + this.type, this.options.selector, a.proxy(this.toggle, this));
      else if ('manual' != g) {
        var h = 'hover' == g ? 'mouseenter' : 'focusin', i = 'hover' == g ? 'mouseleave' : 'focusout';
        this.$element.on(h + '.' + this.type, this.options.selector, a.proxy(this.enter, this)), this.$element.on(i + '.' + this.type, this.options.selector, a.proxy(this.leave, this));
      }
    }
    this.options.selector ? this._options = a.extend({}, this.options, {
      trigger: 'manual',
      selector: ''
    }) : this.fixTitle();
  }, c.prototype.getDefaults = function () {
    return c.DEFAULTS;
  }, c.prototype.getOptions = function (b) {
    return b = a.extend({}, this.getDefaults(), this.$element.data(), b), b.delay && 'number' == typeof b.delay && (b.delay = {
      show: b.delay,
      hide: b.delay
    }), b;
  }, c.prototype.getDelegateOptions = function () {
    var b = {}, c = this.getDefaults();
    return this._options && a.each(this._options, function (a, d) {
      c[a] != d && (b[a] = d);
    }), b;
  }, c.prototype.enter = function (b) {
    var c = b instanceof this.constructor ? b : a(b.currentTarget).data('bs.' + this.type);
    return c || (c = new this.constructor(b.currentTarget, this.getDelegateOptions()), a(b.currentTarget).data('bs.' + this.type, c)), clearTimeout(c.timeout), c.hoverState = 'in', c.options.delay && c.options.delay.show ? void (c.timeout = setTimeout(function () {
      'in' == c.hoverState && c.show();
    }, c.options.delay.show)) : c.show();
  }, c.prototype.leave = function (b) {
    var c = b instanceof this.constructor ? b : a(b.currentTarget).data('bs.' + this.type);
    return c || (c = new this.constructor(b.currentTarget, this.getDelegateOptions()), a(b.currentTarget).data('bs.' + this.type, c)), clearTimeout(c.timeout), c.hoverState = 'out', c.options.delay && c.options.delay.hide ? void (c.timeout = setTimeout(function () {
      'out' == c.hoverState && c.hide();
    }, c.options.delay.hide)) : c.hide();
  }, c.prototype.show = function () {
    var b = a.Event('show.bs.' + this.type);
    if (this.hasContent() && this.enabled) {
      this.$element.trigger(b);
      var c = a.contains(document.documentElement, this.$element[0]);
      if (b.isDefaultPrevented() || !c)
        return;
      var d = this, e = this.tip(), f = this.getUID(this.type);
      this.setContent(), e.attr('id', f), this.$element.attr('aria-describedby', f), this.options.animation && e.addClass('fade');
      var g = 'function' == typeof this.options.placement ? this.options.placement.call(this, e[0], this.$element[0]) : this.options.placement, h = /\s?auto?\s?/i, i = h.test(g);
      i && (g = g.replace(h, '') || 'top'), e.detach().css({
        top: 0,
        left: 0,
        display: 'block'
      }).addClass(g).data('bs.' + this.type, this), this.options.container ? e.appendTo(this.options.container) : e.insertAfter(this.$element);
      var j = this.getPosition(), k = e[0].offsetWidth, l = e[0].offsetHeight;
      if (i) {
        var m = g, n = this.$element.parent(), o = this.getPosition(n);
        g = 'bottom' == g && j.top + j.height + l - o.scroll > o.height ? 'top' : 'top' == g && j.top - o.scroll - l < 0 ? 'bottom' : 'right' == g && j.right + k > o.width ? 'left' : 'left' == g && j.left - k < o.left ? 'right' : g, e.removeClass(m).addClass(g);
      }
      var p = this.getCalculatedOffset(g, j, k, l);
      this.applyPlacement(p, g);
      var q = function () {
        d.$element.trigger('shown.bs.' + d.type), d.hoverState = null;
      };
      a.support.transition && this.$tip.hasClass('fade') ? e.one('bsTransitionEnd', q).emulateTransitionEnd(150) : q();
    }
  }, c.prototype.applyPlacement = function (b, c) {
    var d = this.tip(), e = d[0].offsetWidth, f = d[0].offsetHeight, g = parseInt(d.css('margin-top'), 10), h = parseInt(d.css('margin-left'), 10);
    isNaN(g) && (g = 0), isNaN(h) && (h = 0), b.top = b.top + g, b.left = b.left + h, a.offset.setOffset(d[0], a.extend({
      using: function (a) {
        d.css({
          top: Math.round(a.top),
          left: Math.round(a.left)
        });
      }
    }, b), 0), d.addClass('in');
    var i = d[0].offsetWidth, j = d[0].offsetHeight;
    'top' == c && j != f && (b.top = b.top + f - j);
    var k = this.getViewportAdjustedDelta(c, b, i, j);
    k.left ? b.left += k.left : b.top += k.top;
    var l = k.left ? 2 * k.left - e + i : 2 * k.top - f + j, m = k.left ? 'left' : 'top', n = k.left ? 'offsetWidth' : 'offsetHeight';
    d.offset(b), this.replaceArrow(l, d[0][n], m);
  }, c.prototype.replaceArrow = function (a, b, c) {
    this.arrow().css(c, a ? 50 * (1 - a / b) + '%' : '');
  }, c.prototype.setContent = function () {
    var a = this.tip(), b = this.getTitle();
    a.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](b), a.removeClass('fade in top bottom left right');
  }, c.prototype.hide = function () {
    function b() {
      'in' != c.hoverState && d.detach(), c.$element.trigger('hidden.bs.' + c.type);
    }
    var c = this, d = this.tip(), e = a.Event('hide.bs.' + this.type);
    return this.$element.removeAttr('aria-describedby'), this.$element.trigger(e), e.isDefaultPrevented() ? void 0 : (d.removeClass('in'), a.support.transition && this.$tip.hasClass('fade') ? d.one('bsTransitionEnd', b).emulateTransitionEnd(150) : b(), this.hoverState = null, this);
  }, c.prototype.fixTitle = function () {
    var a = this.$element;
    (a.attr('title') || 'string' != typeof a.attr('data-original-title')) && a.attr('data-original-title', a.attr('title') || '').attr('title', '');
  }, c.prototype.hasContent = function () {
    return this.getTitle();
  }, c.prototype.getPosition = function (b) {
    b = b || this.$element;
    var c = b[0], d = 'BODY' == c.tagName;
    return a.extend({}, 'function' == typeof c.getBoundingClientRect ? c.getBoundingClientRect() : null, {
      scroll: d ? document.documentElement.scrollTop || document.body.scrollTop : b.scrollTop(),
      width: d ? a(window).width() : b.outerWidth(),
      height: d ? a(window).height() : b.outerHeight()
    }, d ? {
      top: 0,
      left: 0
    } : b.offset());
  }, c.prototype.getCalculatedOffset = function (a, b, c, d) {
    return 'bottom' == a ? {
      top: b.top + b.height,
      left: b.left + b.width / 2 - c / 2
    } : 'top' == a ? {
      top: b.top - d,
      left: b.left + b.width / 2 - c / 2
    } : 'left' == a ? {
      top: b.top + b.height / 2 - d / 2,
      left: b.left - c
    } : {
      top: b.top + b.height / 2 - d / 2,
      left: b.left + b.width
    };
  }, c.prototype.getViewportAdjustedDelta = function (a, b, c, d) {
    var e = {
        top: 0,
        left: 0
      };
    if (!this.$viewport)
      return e;
    var f = this.options.viewport && this.options.viewport.padding || 0, g = this.getPosition(this.$viewport);
    if (/right|left/.test(a)) {
      var h = b.top - f - g.scroll, i = b.top + f - g.scroll + d;
      h < g.top ? e.top = g.top - h : i > g.top + g.height && (e.top = g.top + g.height - i);
    } else {
      var j = b.left - f, k = b.left + f + c;
      j < g.left ? e.left = g.left - j : k > g.width && (e.left = g.left + g.width - k);
    }
    return e;
  }, c.prototype.getTitle = function () {
    var a, b = this.$element, c = this.options;
    return a = b.attr('data-original-title') || ('function' == typeof c.title ? c.title.call(b[0]) : c.title);
  }, c.prototype.getUID = function (a) {
    do
      a += ~~(1000000 * Math.random());
    while (document.getElementById(a));
    return a;
  }, c.prototype.tip = function () {
    return this.$tip = this.$tip || a(this.options.template);
  }, c.prototype.arrow = function () {
    return this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow');
  }, c.prototype.validate = function () {
    this.$element[0].parentNode || (this.hide(), this.$element = null, this.options = null);
  }, c.prototype.enable = function () {
    this.enabled = !0;
  }, c.prototype.disable = function () {
    this.enabled = !1;
  }, c.prototype.toggleEnabled = function () {
    this.enabled = !this.enabled;
  }, c.prototype.toggle = function (b) {
    var c = this;
    b && (c = a(b.currentTarget).data('bs.' + this.type), c || (c = new this.constructor(b.currentTarget, this.getDelegateOptions()), a(b.currentTarget).data('bs.' + this.type, c))), c.tip().hasClass('in') ? c.leave(c) : c.enter(c);
  }, c.prototype.destroy = function () {
    clearTimeout(this.timeout), this.hide().$element.off('.' + this.type).removeData('bs.' + this.type);
  };
  var d = a.fn.tooltip;
  a.fn.tooltip = b, a.fn.tooltip.Constructor = c, a.fn.tooltip.noConflict = function () {
    return a.fn.tooltip = d, this;
  };
}(jQuery), +function (a) {
  'use strict';
  function b(b) {
    return this.each(function () {
      var d = a(this), e = d.data('bs.popover'), f = 'object' == typeof b && b;
      (e || 'destroy' != b) && (e || d.data('bs.popover', e = new c(this, f)), 'string' == typeof b && e[b]());
    });
  }
  var c = function (a, b) {
    this.init('popover', a, b);
  };
  if (!a.fn.tooltip)
    throw new Error('Popover requires tooltip.js');
  c.VERSION = '3.2.0', c.DEFAULTS = a.extend({}, a.fn.tooltip.Constructor.DEFAULTS, {
    placement: 'right',
    trigger: 'click',
    content: '',
    template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
  }), c.prototype = a.extend({}, a.fn.tooltip.Constructor.prototype), c.prototype.constructor = c, c.prototype.getDefaults = function () {
    return c.DEFAULTS;
  }, c.prototype.setContent = function () {
    var a = this.tip(), b = this.getTitle(), c = this.getContent();
    a.find('.popover-title')[this.options.html ? 'html' : 'text'](b), a.find('.popover-content').empty()[this.options.html ? 'string' == typeof c ? 'html' : 'append' : 'text'](c), a.removeClass('fade top bottom left right in'), a.find('.popover-title').html() || a.find('.popover-title').hide();
  }, c.prototype.hasContent = function () {
    return this.getTitle() || this.getContent();
  }, c.prototype.getContent = function () {
    var a = this.$element, b = this.options;
    return a.attr('data-content') || ('function' == typeof b.content ? b.content.call(a[0]) : b.content);
  }, c.prototype.arrow = function () {
    return this.$arrow = this.$arrow || this.tip().find('.arrow');
  }, c.prototype.tip = function () {
    return this.$tip || (this.$tip = a(this.options.template)), this.$tip;
  };
  var d = a.fn.popover;
  a.fn.popover = b, a.fn.popover.Constructor = c, a.fn.popover.noConflict = function () {
    return a.fn.popover = d, this;
  };
}(jQuery), +function (a) {
  'use strict';
  function b(c, d) {
    var e = a.proxy(this.process, this);
    this.$body = a('body'), this.$scrollElement = a(a(c).is('body') ? window : c), this.options = a.extend({}, b.DEFAULTS, d), this.selector = (this.options.target || '') + ' .nav li > a', this.offsets = [], this.targets = [], this.activeTarget = null, this.scrollHeight = 0, this.$scrollElement.on('scroll.bs.scrollspy', e), this.refresh(), this.process();
  }
  function c(c) {
    return this.each(function () {
      var d = a(this), e = d.data('bs.scrollspy'), f = 'object' == typeof c && c;
      e || d.data('bs.scrollspy', e = new b(this, f)), 'string' == typeof c && e[c]();
    });
  }
  b.VERSION = '3.2.0', b.DEFAULTS = { offset: 10 }, b.prototype.getScrollHeight = function () {
    return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight);
  }, b.prototype.refresh = function () {
    var b = 'offset', c = 0;
    a.isWindow(this.$scrollElement[0]) || (b = 'position', c = this.$scrollElement.scrollTop()), this.offsets = [], this.targets = [], this.scrollHeight = this.getScrollHeight();
    var d = this;
    this.$body.find(this.selector).map(function () {
      var d = a(this), e = d.data('target') || d.attr('href'), f = /^#./.test(e) && a(e);
      return f && f.length && f.is(':visible') && [[
          f[b]().top + c,
          e
        ]] || null;
    }).sort(function (a, b) {
      return a[0] - b[0];
    }).each(function () {
      d.offsets.push(this[0]), d.targets.push(this[1]);
    });
  }, b.prototype.process = function () {
    var a, b = this.$scrollElement.scrollTop() + this.options.offset, c = this.getScrollHeight(), d = this.options.offset + c - this.$scrollElement.height(), e = this.offsets, f = this.targets, g = this.activeTarget;
    if (this.scrollHeight != c && this.refresh(), b >= d)
      return g != (a = f[f.length - 1]) && this.activate(a);
    if (g && b <= e[0])
      return g != (a = f[0]) && this.activate(a);
    for (a = e.length; a--;)
      g != f[a] && b >= e[a] && (!e[a + 1] || b <= e[a + 1]) && this.activate(f[a]);
  }, b.prototype.activate = function (b) {
    this.activeTarget = b, a(this.selector).parentsUntil(this.options.target, '.active').removeClass('active');
    var c = this.selector + '[data-target="' + b + '"],' + this.selector + '[href="' + b + '"]', d = a(c).parents('li').addClass('active');
    d.parent('.dropdown-menu').length && (d = d.closest('li.dropdown').addClass('active')), d.trigger('activate.bs.scrollspy');
  };
  var d = a.fn.scrollspy;
  a.fn.scrollspy = c, a.fn.scrollspy.Constructor = b, a.fn.scrollspy.noConflict = function () {
    return a.fn.scrollspy = d, this;
  }, a(window).on('load.bs.scrollspy.data-api', function () {
    a('[data-spy="scroll"]').each(function () {
      var b = a(this);
      c.call(b, b.data());
    });
  });
}(jQuery), +function (a) {
  'use strict';
  function b(b) {
    return this.each(function () {
      var d = a(this), e = d.data('bs.tab');
      e || d.data('bs.tab', e = new c(this)), 'string' == typeof b && e[b]();
    });
  }
  var c = function (b) {
    this.element = a(b);
  };
  c.VERSION = '3.2.0', c.prototype.show = function () {
    var b = this.element, c = b.closest('ul:not(.dropdown-menu)'), d = b.data('target');
    if (d || (d = b.attr('href'), d = d && d.replace(/.*(?=#[^\s]*$)/, '')), !b.parent('li').hasClass('active')) {
      var e = c.find('.active:last a')[0], f = a.Event('show.bs.tab', { relatedTarget: e });
      if (b.trigger(f), !f.isDefaultPrevented()) {
        var g = a(d);
        this.activate(b.closest('li'), c), this.activate(g, g.parent(), function () {
          b.trigger({
            type: 'shown.bs.tab',
            relatedTarget: e
          });
        });
      }
    }
  }, c.prototype.activate = function (b, c, d) {
    function e() {
      f.removeClass('active').find('> .dropdown-menu > .active').removeClass('active'), b.addClass('active'), g ? (b[0].offsetWidth, b.addClass('in')) : b.removeClass('fade'), b.parent('.dropdown-menu') && b.closest('li.dropdown').addClass('active'), d && d();
    }
    var f = c.find('> .active'), g = d && a.support.transition && f.hasClass('fade');
    g ? f.one('bsTransitionEnd', e).emulateTransitionEnd(150) : e(), f.removeClass('in');
  };
  var d = a.fn.tab;
  a.fn.tab = b, a.fn.tab.Constructor = c, a.fn.tab.noConflict = function () {
    return a.fn.tab = d, this;
  }, a(document).on('click.bs.tab.data-api', '[data-toggle="tab"], [data-toggle="pill"]', function (c) {
    c.preventDefault(), b.call(a(this), 'show');
  });
}(jQuery), +function (a) {
  'use strict';
  function b(b) {
    return this.each(function () {
      var d = a(this), e = d.data('bs.affix'), f = 'object' == typeof b && b;
      e || d.data('bs.affix', e = new c(this, f)), 'string' == typeof b && e[b]();
    });
  }
  var c = function (b, d) {
    this.options = a.extend({}, c.DEFAULTS, d), this.$target = a(this.options.target).on('scroll.bs.affix.data-api', a.proxy(this.checkPosition, this)).on('click.bs.affix.data-api', a.proxy(this.checkPositionWithEventLoop, this)), this.$element = a(b), this.affixed = this.unpin = this.pinnedOffset = null, this.checkPosition();
  };
  c.VERSION = '3.2.0', c.RESET = 'affix affix-top affix-bottom', c.DEFAULTS = {
    offset: 0,
    target: window
  }, c.prototype.getPinnedOffset = function () {
    if (this.pinnedOffset)
      return this.pinnedOffset;
    this.$element.removeClass(c.RESET).addClass('affix');
    var a = this.$target.scrollTop(), b = this.$element.offset();
    return this.pinnedOffset = b.top - a;
  }, c.prototype.checkPositionWithEventLoop = function () {
    setTimeout(a.proxy(this.checkPosition, this), 1);
  }, c.prototype.checkPosition = function () {
    if (this.$element.is(':visible')) {
      var b = a(document).height(), d = this.$target.scrollTop(), e = this.$element.offset(), f = this.options.offset, g = f.top, h = f.bottom;
      'object' != typeof f && (h = g = f), 'function' == typeof g && (g = f.top(this.$element)), 'function' == typeof h && (h = f.bottom(this.$element));
      var i = null != this.unpin && d + this.unpin <= e.top ? !1 : null != h && e.top + this.$element.height() >= b - h ? 'bottom' : null != g && g >= d ? 'top' : !1;
      if (this.affixed !== i) {
        null != this.unpin && this.$element.css('top', '');
        var j = 'affix' + (i ? '-' + i : ''), k = a.Event(j + '.bs.affix');
        this.$element.trigger(k), k.isDefaultPrevented() || (this.affixed = i, this.unpin = 'bottom' == i ? this.getPinnedOffset() : null, this.$element.removeClass(c.RESET).addClass(j).trigger(a.Event(j.replace('affix', 'affixed'))), 'bottom' == i && this.$element.offset({ top: b - this.$element.height() - h }));
      }
    }
  };
  var d = a.fn.affix;
  a.fn.affix = b, a.fn.affix.Constructor = c, a.fn.affix.noConflict = function () {
    return a.fn.affix = d, this;
  }, a(window).on('load', function () {
    a('[data-spy="affix"]').each(function () {
      var c = a(this), d = c.data();
      d.offset = d.offset || {}, d.offsetBottom && (d.offset.bottom = d.offsetBottom), d.offsetTop && (d.offset.top = d.offsetTop), b.call(c, d);
    });
  });
}(jQuery);
(function () {
  angular.module('MyApp', []).directive('wallopSlider', function () {
    return {
      template: '<div class="wallop-slider {{animationClass}}"><ul class="wallop-slider__list"><li class="wallop-slider__item {{itemClasses[$index]}}" ng-repeat="i in images"><img src="{{i}}"></li></ul><button ng-show="images.length>1" class="wallop-slider__btn wallop-slider__btn--previous btn btn--previous" ng-disabled="prevDisabled" ng-click="onPrevButtonClicked()">Previous</button><button ng-show="images.length>1" class="wallop-slider__btn wallop-slider__btn--next btn btn--next" ng-disabled="nextDisabled" ng-click="onNextButtonClicked()">Next</button></div>',
      restrict: 'EA',
      transclude: true,
      replace: false,
      scope: {
        images: '=',
        animation: '@',
        currentItemIndex: '=',
        onNext: '&',
        onPrevious: '&'
      },
      controller: [
        '$scope',
        '$timeout',
        function ($scope, $timeout) {
          $scope.itemClasses = [];
          $scope.$watch('images', function (images) {
            if (images.length) {
              _goTo(0);
            }
          });
          // set animation class corresponding to animation defined in CSS. e.g. rotate, slide
          if ($scope.animation) {
            $scope.animationClass = 'wallop-slider--' + $scope.animation;
          }
          var _displayOptions = {
              btnPreviousClass: 'wallop-slider__btn--previous',
              btnNextClass: 'wallop-slider__btn--next',
              itemClass: 'wallop-slider__item',
              currentItemClass: 'wallop-slider__item--current',
              showPreviousClass: 'wallop-slider__item--show-previous',
              showNextClass: 'wallop-slider__item--show-next',
              hidePreviousClass: 'wallop-slider__item--hide-previous',
              hideNextClass: 'wallop-slider__item--hide-next'
            };
          function updateClasses() {
            if ($scope.itemClasses.length !== $scope.images.length) {
              $scope.itemClasses = [];
              for (var i = 0; i < $scope.images.length; i++) {
                $scope.itemClasses.push('');
              }
            }
          }
          function _nextDisabled() {
            return $scope.currentItemIndex + 1 === $scope.images.length;
          }
          function _prevDisabled() {
            return !$scope.currentItemIndex;
          }
          function _updatePagination() {
            $scope.nextDisabled = _nextDisabled();
            $scope.prevDisabled = _prevDisabled();
          }
          function _clearClasses() {
            for (var i = 0; i < $scope.images.length; i++) {
              $scope.itemClasses[i] = '';
            }
          }
          // go to slide
          function _goTo(index) {
            if (index >= $scope.images.length || index < 0 || index === $scope.currentItemIndex) {
              if (!index) {
                $scope.itemClasses[0] = _displayOptions.currentItemClass;
              }
              return;
            }
            _clearClasses();
            $scope.itemClasses[$scope.currentItemIndex] = index > $scope.currentItemIndex ? _displayOptions.hidePreviousClass : _displayOptions.hideNextClass;
            var currentClass = index > $scope.currentItemIndex ? _displayOptions.showNextClass : _displayOptions.showPreviousClass;
            $scope.itemClasses[index] = _displayOptions.currentItemClass + ' ' + currentClass;
            $scope.currentItemIndex = index;
            _updatePagination();
          }
          // button event handlers
          // consider using the ng-tap directive to remove delay
          $scope.onPrevButtonClicked = function () {
            _goTo($scope.currentItemIndex - 1);
          };
          $scope.onNextButtonClicked = function () {
            _goTo($scope.currentItemIndex + 1);
          };
          $scope.$watch('currentItemIndex', function (newVal, oldVal) {
            if (oldVal > newVal) {
              if (typeof $scope.onPrevious === 'function') {
                $scope.onPrevious();
              }
            } else {
              if (typeof $scope.onNext === 'function') {
                $scope.onNext();
              }
            }
          });
        }
      ]
    };
  });
}());
/*
Copyright (c) 2003-2014, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.md or http://ckeditor.com/license
*/
(function () {
  if (window.CKEDITOR && window.CKEDITOR.dom)
    return;
  window.CKEDITOR || (window.CKEDITOR = function () {
    var a = /(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i, e = {
        timestamp: 'EAPE',
        version: '4.4.6',
        revision: '08188c4',
        rnd: Math.floor(900 * Math.random()) + 100,
        _: {
          pending: [],
          basePathSrcPattern: a
        },
        status: 'unloaded',
        basePath: function () {
          var f = window.CKEDITOR_BASEPATH || '';
          if (!f)
            for (var d = document.getElementsByTagName('script'), c = 0; c < d.length; c++) {
              var b = d[c].src.match(a);
              if (b) {
                f = b[1];
                break;
              }
            }
          -1 == f.indexOf(':/') && '//' != f.slice(0, 2) && (f = 0 === f.indexOf('/') ? location.href.match(/^.*?:\/\/[^\/]*/)[0] + f : location.href.match(/^[^\?]*\/(?:)/)[0] + f);
          if (!f)
            throw 'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';
          return f;
        }(),
        getUrl: function (a) {
          -1 == a.indexOf(':/') && 0 !== a.indexOf('/') && (a = this.basePath + a);
          this.timestamp && ('/' != a.charAt(a.length - 1) && !/[&?]t=/.test(a)) && (a += (0 <= a.indexOf('?') ? '&' : '?') + 't=' + this.timestamp);
          return a;
        },
        domReady: function () {
          function a() {
            try {
              document.addEventListener ? (document.removeEventListener('DOMContentLoaded', a, !1), d()) : document.attachEvent && 'complete' === document.readyState && (document.detachEvent('onreadystatechange', a), d());
            } catch (c) {
            }
          }
          function d() {
            for (var a; a = c.shift();)
              a();
          }
          var c = [];
          return function (d) {
            function b() {
              try {
                document.documentElement.doScroll('left');
              } catch (m) {
                setTimeout(b, 1);
                return;
              }
              a();
            }
            c.push(d);
            'complete' === document.readyState && setTimeout(a, 1);
            if (1 == c.length)
              if (document.addEventListener)
                document.addEventListener('DOMContentLoaded', a, !1), window.addEventListener('load', a, !1);
              else if (document.attachEvent) {
                document.attachEvent('onreadystatechange', a);
                window.attachEvent('onload', a);
                d = !1;
                try {
                  d = !window.frameElement;
                } catch (e) {
                }
                document.documentElement.doScroll && d && b();
              }
          };
        }()
      }, b = window.CKEDITOR_GETURL;
    if (b) {
      var c = e.getUrl;
      e.getUrl = function (a) {
        return b.call(e, a) || c.call(e, a);
      };
    }
    return e;
  }());
  CKEDITOR.event || (CKEDITOR.event = function () {
  }, CKEDITOR.event.implementOn = function (a) {
    var e = CKEDITOR.event.prototype, b;
    for (b in e)
      a[b] == null && (a[b] = e[b]);
  }, CKEDITOR.event.prototype = function () {
    function a(a) {
      var f = e(this);
      return f[a] || (f[a] = new b(a));
    }
    var e = function (a) {
        a = a.getPrivate && a.getPrivate() || a._ || (a._ = {});
        return a.events || (a.events = {});
      }, b = function (a) {
        this.name = a;
        this.listeners = [];
      };
    b.prototype = {
      getListenerIndex: function (a) {
        for (var f = 0, d = this.listeners; f < d.length; f++)
          if (d[f].fn == a)
            return f;
        return -1;
      }
    };
    return {
      define: function (b, f) {
        var d = a.call(this, b);
        CKEDITOR.tools.extend(d, f, true);
      },
      on: function (b, f, d, e, l) {
        function i(a, m, t, j) {
          a = {
            name: b,
            sender: this,
            editor: a,
            data: m,
            listenerData: e,
            stop: t,
            cancel: j,
            removeListener: g
          };
          return f.call(d, a) === false ? false : a.data;
        }
        function g() {
          t.removeListener(b, f);
        }
        var m = a.call(this, b);
        if (m.getListenerIndex(f) < 0) {
          m = m.listeners;
          d || (d = this);
          isNaN(l) && (l = 10);
          var t = this;
          i.fn = f;
          i.priority = l;
          for (var s = m.length - 1; s >= 0; s--)
            if (m[s].priority <= l) {
              m.splice(s + 1, 0, i);
              return { removeListener: g };
            }
          m.unshift(i);
        }
        return { removeListener: g };
      },
      once: function () {
        var a = Array.prototype.slice.call(arguments), f = a[1];
        a[1] = function (a) {
          a.removeListener();
          return f.apply(this, arguments);
        };
        return this.on.apply(this, a);
      },
      capture: function () {
        CKEDITOR.event.useCapture = 1;
        var a = this.on.apply(this, arguments);
        CKEDITOR.event.useCapture = 0;
        return a;
      },
      fire: function () {
        var a = 0, f = function () {
            a = 1;
          }, d = 0, b = function () {
            d = 1;
          };
        return function (l, i, g) {
          var m = e(this)[l], l = a, t = d;
          a = d = 0;
          if (m) {
            var s = m.listeners;
            if (s.length)
              for (var s = s.slice(0), y, p = 0; p < s.length; p++) {
                if (m.errorProof)
                  try {
                    y = s[p].call(this, g, i, f, b);
                  } catch (q) {
                  }
                else
                  y = s[p].call(this, g, i, f, b);
                y === false ? d = 1 : typeof y != 'undefined' && (i = y);
                if (a || d)
                  break;
              }
          }
          i = d ? false : typeof i == 'undefined' ? true : i;
          a = l;
          d = t;
          return i;
        };
      }(),
      fireOnce: function (a, f, d) {
        f = this.fire(a, f, d);
        delete e(this)[a];
        return f;
      },
      removeListener: function (a, f) {
        var d = e(this)[a];
        if (d) {
          var b = d.getListenerIndex(f);
          b >= 0 && d.listeners.splice(b, 1);
        }
      },
      removeAllListeners: function () {
        var a = e(this), f;
        for (f in a)
          delete a[f];
      },
      hasListeners: function (a) {
        return (a = e(this)[a]) && a.listeners.length > 0;
      }
    };
  }());
  CKEDITOR.editor || (CKEDITOR.editor = function () {
    CKEDITOR._.pending.push([
      this,
      arguments
    ]);
    CKEDITOR.event.call(this);
  }, CKEDITOR.editor.prototype.fire = function (a, e) {
    a in {
      instanceReady: 1,
      loaded: 1
    } && (this[a] = true);
    return CKEDITOR.event.prototype.fire.call(this, a, e, this);
  }, CKEDITOR.editor.prototype.fireOnce = function (a, e) {
    a in {
      instanceReady: 1,
      loaded: 1
    } && (this[a] = true);
    return CKEDITOR.event.prototype.fireOnce.call(this, a, e, this);
  }, CKEDITOR.event.implementOn(CKEDITOR.editor.prototype));
  CKEDITOR.env || (CKEDITOR.env = function () {
    var a = navigator.userAgent.toLowerCase(), e = {
        ie: a.indexOf('trident/') > -1,
        webkit: a.indexOf(' applewebkit/') > -1,
        air: a.indexOf(' adobeair/') > -1,
        mac: a.indexOf('macintosh') > -1,
        quirks: document.compatMode == 'BackCompat' && (!document.documentMode || document.documentMode < 10),
        mobile: a.indexOf('mobile') > -1,
        iOS: /(ipad|iphone|ipod)/.test(a),
        isCustomDomain: function () {
          if (!this.ie)
            return false;
          var a = document.domain, d = window.location.hostname;
          return a != d && a != '[' + d + ']';
        },
        secure: location.protocol == 'https:'
      };
    e.gecko = navigator.product == 'Gecko' && !e.webkit && !e.ie;
    if (e.webkit)
      a.indexOf('chrome') > -1 ? e.chrome = true : e.safari = true;
    var b = 0;
    if (e.ie) {
      b = e.quirks || !document.documentMode ? parseFloat(a.match(/msie (\d+)/)[1]) : document.documentMode;
      e.ie9Compat = b == 9;
      e.ie8Compat = b == 8;
      e.ie7Compat = b == 7;
      e.ie6Compat = b < 7 || e.quirks;
    }
    if (e.gecko) {
      var c = a.match(/rv:([\d\.]+)/);
      if (c) {
        c = c[1].split('.');
        b = c[0] * 10000 + (c[1] || 0) * 100 + (c[2] || 0) * 1;
      }
    }
    e.air && (b = parseFloat(a.match(/ adobeair\/(\d+)/)[1]));
    e.webkit && (b = parseFloat(a.match(/ applewebkit\/(\d+)/)[1]));
    e.version = b;
    e.isCompatible = e.iOS && b >= 534 || !e.mobile && (e.ie && b > 6 || e.gecko && b >= 20000 || e.air && b >= 1 || e.webkit && b >= 522 || false);
    e.hidpi = window.devicePixelRatio >= 2;
    e.needsBrFiller = e.gecko || e.webkit || e.ie && b > 10;
    e.needsNbspFiller = e.ie && b < 11;
    e.cssClass = 'cke_browser_' + (e.ie ? 'ie' : e.gecko ? 'gecko' : e.webkit ? 'webkit' : 'unknown');
    if (e.quirks)
      e.cssClass = e.cssClass + ' cke_browser_quirks';
    if (e.ie)
      e.cssClass = e.cssClass + (' cke_browser_ie' + (e.quirks ? '6 cke_browser_iequirks' : e.version));
    if (e.air)
      e.cssClass = e.cssClass + ' cke_browser_air';
    if (e.iOS)
      e.cssClass = e.cssClass + ' cke_browser_ios';
    if (e.hidpi)
      e.cssClass = e.cssClass + ' cke_hidpi';
    return e;
  }());
  'unloaded' == CKEDITOR.status && function () {
    CKEDITOR.event.implementOn(CKEDITOR);
    CKEDITOR.loadFullCore = function () {
      if (CKEDITOR.status != 'basic_ready')
        CKEDITOR.loadFullCore._load = 1;
      else {
        delete CKEDITOR.loadFullCore;
        var a = document.createElement('script');
        a.type = 'text/javascript';
        a.src = CKEDITOR.basePath + 'ckeditor.js';
        document.getElementsByTagName('head')[0].appendChild(a);
      }
    };
    CKEDITOR.loadFullCoreTimeout = 0;
    CKEDITOR.add = function (a) {
      (this._.pending || (this._.pending = [])).push(a);
    };
    (function () {
      CKEDITOR.domReady(function () {
        var a = CKEDITOR.loadFullCore, e = CKEDITOR.loadFullCoreTimeout;
        if (a) {
          CKEDITOR.status = 'basic_ready';
          a && a._load ? a() : e && setTimeout(function () {
            CKEDITOR.loadFullCore && CKEDITOR.loadFullCore();
          }, e * 1000);
        }
      });
    }());
    CKEDITOR.status = 'basic_loaded';
  }();
  CKEDITOR.dom = {};
  (function () {
    var a = [], e = CKEDITOR.env.gecko ? '-moz-' : CKEDITOR.env.webkit ? '-webkit-' : CKEDITOR.env.ie ? '-ms-' : '', b = /&/g, c = />/g, f = /</g, d = /"/g, h = /&amp;/g, l = /&gt;/g, i = /&lt;/g, g = /&quot;/g;
    CKEDITOR.on('reset', function () {
      a = [];
    });
    CKEDITOR.tools = {
      arrayCompare: function (a, f) {
        if (!a && !f)
          return true;
        if (!a || !f || a.length != f.length)
          return false;
        for (var d = 0; d < a.length; d++)
          if (a[d] != f[d])
            return false;
        return true;
      },
      clone: function (a) {
        var f;
        if (a && a instanceof Array) {
          f = [];
          for (var d = 0; d < a.length; d++)
            f[d] = CKEDITOR.tools.clone(a[d]);
          return f;
        }
        if (a === null || typeof a != 'object' || a instanceof String || a instanceof Number || a instanceof Boolean || a instanceof Date || a instanceof RegExp || a.nodeType || a.window === a)
          return a;
        f = new a.constructor();
        for (d in a)
          f[d] = CKEDITOR.tools.clone(a[d]);
        return f;
      },
      capitalize: function (a, f) {
        return a.charAt(0).toUpperCase() + (f ? a.slice(1) : a.slice(1).toLowerCase());
      },
      extend: function (a) {
        var f = arguments.length, d, b;
        if (typeof (d = arguments[f - 1]) == 'boolean')
          f--;
        else if (typeof (d = arguments[f - 2]) == 'boolean') {
          b = arguments[f - 1];
          f = f - 2;
        }
        for (var c = 1; c < f; c++) {
          var e = arguments[c], j;
          for (j in e)
            if (d === true || a[j] == null)
              if (!b || j in b)
                a[j] = e[j];
        }
        return a;
      },
      prototypedCopy: function (a) {
        var f = function () {
        };
        f.prototype = a;
        return new f();
      },
      copy: function (a) {
        var f = {}, d;
        for (d in a)
          f[d] = a[d];
        return f;
      },
      isArray: function (a) {
        return Object.prototype.toString.call(a) == '[object Array]';
      },
      isEmpty: function (a) {
        for (var f in a)
          if (a.hasOwnProperty(f))
            return false;
        return true;
      },
      cssVendorPrefix: function (a, f, d) {
        if (d)
          return e + a + ':' + f + ';' + a + ':' + f;
        d = {};
        d[a] = f;
        d[e + a] = f;
        return d;
      },
      cssStyleToDomStyle: function () {
        var a = document.createElement('div').style, f = typeof a.cssFloat != 'undefined' ? 'cssFloat' : typeof a.styleFloat != 'undefined' ? 'styleFloat' : 'float';
        return function (a) {
          return a == 'float' ? f : a.replace(/-./g, function (a) {
            return a.substr(1).toUpperCase();
          });
        };
      }(),
      buildStyleHtml: function (a) {
        for (var a = [].concat(a), f, d = [], b = 0; b < a.length; b++)
          if (f = a[b])
            /@import|[{}]/.test(f) ? d.push('<style>' + f + '</style>') : d.push('<link type="text/css" rel=stylesheet href="' + f + '">');
        return d.join('');
      },
      htmlEncode: function (a) {
        return ('' + a).replace(b, '&amp;').replace(c, '&gt;').replace(f, '&lt;');
      },
      htmlDecode: function (a) {
        return a.replace(h, '&').replace(l, '>').replace(i, '<');
      },
      htmlEncodeAttr: function (a) {
        return a.replace(d, '&quot;').replace(f, '&lt;').replace(c, '&gt;');
      },
      htmlDecodeAttr: function (a) {
        return a.replace(g, '"').replace(i, '<').replace(l, '>');
      },
      getNextNumber: function () {
        var a = 0;
        return function () {
          return ++a;
        };
      }(),
      getNextId: function () {
        return 'cke_' + this.getNextNumber();
      },
      override: function (a, f) {
        var d = f(a);
        d.prototype = a.prototype;
        return d;
      },
      setTimeout: function (a, f, d, b, c) {
        c || (c = window);
        d || (d = c);
        return c.setTimeout(function () {
          b ? a.apply(d, [].concat(b)) : a.apply(d);
        }, f || 0);
      },
      trim: function () {
        var a = /(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;
        return function (f) {
          return f.replace(a, '');
        };
      }(),
      ltrim: function () {
        var a = /^[ \t\n\r]+/g;
        return function (f) {
          return f.replace(a, '');
        };
      }(),
      rtrim: function () {
        var a = /[ \t\n\r]+$/g;
        return function (f) {
          return f.replace(a, '');
        };
      }(),
      indexOf: function (a, f) {
        if (typeof f == 'function')
          for (var d = 0, b = a.length; d < b; d++) {
            if (f(a[d]))
              return d;
          }
        else {
          if (a.indexOf)
            return a.indexOf(f);
          d = 0;
          for (b = a.length; d < b; d++)
            if (a[d] === f)
              return d;
        }
        return -1;
      },
      search: function (a, f) {
        var d = CKEDITOR.tools.indexOf(a, f);
        return d >= 0 ? a[d] : null;
      },
      bind: function (a, f) {
        return function () {
          return a.apply(f, arguments);
        };
      },
      createClass: function (a) {
        var f = a.$, d = a.base, b = a.privates || a._, c = a.proto, a = a.statics;
        !f && (f = function () {
          d && this.base.apply(this, arguments);
        });
        if (b)
          var e = f, f = function () {
              var a = this._ || (this._ = {}), f;
              for (f in b) {
                var d = b[f];
                a[f] = typeof d == 'function' ? CKEDITOR.tools.bind(d, this) : d;
              }
              e.apply(this, arguments);
            };
        if (d) {
          f.prototype = this.prototypedCopy(d.prototype);
          f.prototype.constructor = f;
          f.base = d;
          f.baseProto = d.prototype;
          f.prototype.base = function () {
            this.base = d.prototype.base;
            d.apply(this, arguments);
            this.base = arguments.callee;
          };
        }
        c && this.extend(f.prototype, c, true);
        a && this.extend(f, a, true);
        return f;
      },
      addFunction: function (f, d) {
        return a.push(function () {
          return f.apply(d || this, arguments);
        }) - 1;
      },
      removeFunction: function (f) {
        a[f] = null;
      },
      callFunction: function (f) {
        var d = a[f];
        return d && d.apply(window, Array.prototype.slice.call(arguments, 1));
      },
      cssLength: function () {
        var a = /^-?\d+\.?\d*px$/, f;
        return function (d) {
          f = CKEDITOR.tools.trim(d + '') + 'px';
          return a.test(f) ? f : d || '';
        };
      }(),
      convertToPx: function () {
        var a;
        return function (f) {
          if (!a) {
            a = CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>', CKEDITOR.document);
            CKEDITOR.document.getBody().append(a);
          }
          if (!/%$/.test(f)) {
            a.setStyle('width', f);
            return a.$.clientWidth;
          }
          return f;
        };
      }(),
      repeat: function (a, f) {
        return Array(f + 1).join(a);
      },
      tryThese: function () {
        for (var a, f = 0, d = arguments.length; f < d; f++) {
          var b = arguments[f];
          try {
            a = b();
            break;
          } catch (c) {
          }
        }
        return a;
      },
      genKey: function () {
        return Array.prototype.slice.call(arguments).join('-');
      },
      defer: function (a) {
        return function () {
          var f = arguments, d = this;
          window.setTimeout(function () {
            a.apply(d, f);
          }, 0);
        };
      },
      normalizeCssText: function (a, f) {
        var d = [], b, c = CKEDITOR.tools.parseCssText(a, true, f);
        for (b in c)
          d.push(b + ':' + c[b]);
        d.sort();
        return d.length ? d.join(';') + ';' : '';
      },
      convertRgbToHex: function (a) {
        return a.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi, function (a, f, d, b) {
          a = [
            f,
            d,
            b
          ];
          for (f = 0; f < 3; f++)
            a[f] = ('0' + parseInt(a[f], 10).toString(16)).slice(-2);
          return '#' + a.join('');
        });
      },
      parseCssText: function (a, f, d) {
        var b = {};
        if (d) {
          d = new CKEDITOR.dom.element('span');
          d.setAttribute('style', a);
          a = CKEDITOR.tools.convertRgbToHex(d.getAttribute('style') || '');
        }
        if (!a || a == ';')
          return b;
        a.replace(/&quot;/g, '"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g, function (a, d, m) {
          if (f) {
            d = d.toLowerCase();
            d == 'font-family' && (m = m.toLowerCase().replace(/["']/g, '').replace(/\s*,\s*/g, ','));
            m = CKEDITOR.tools.trim(m);
          }
          b[d] = m;
        });
        return b;
      },
      writeCssText: function (a, f) {
        var d, b = [];
        for (d in a)
          b.push(d + ':' + a[d]);
        f && b.sort();
        return b.join('; ');
      },
      objectCompare: function (a, f, d) {
        var b;
        if (!a && !f)
          return true;
        if (!a || !f)
          return false;
        for (b in a)
          if (a[b] != f[b])
            return false;
        if (!d)
          for (b in f)
            if (a[b] != f[b])
              return false;
        return true;
      },
      objectKeys: function (a) {
        var f = [], d;
        for (d in a)
          f.push(d);
        return f;
      },
      convertArrayToObject: function (a, f) {
        var d = {};
        arguments.length == 1 && (f = true);
        for (var b = 0, c = a.length; b < c; ++b)
          d[a[b]] = f;
        return d;
      },
      fixDomain: function () {
        for (var a;;)
          try {
            a = window.parent.document.domain;
            break;
          } catch (f) {
            a = a ? a.replace(/.+?(?:\.|$)/, '') : document.domain;
            if (!a)
              break;
            document.domain = a;
          }
        return !!a;
      },
      eventsBuffer: function (a, f) {
        function d() {
          c = new Date().getTime();
          b = false;
          f();
        }
        var b, c = 0;
        return {
          input: function () {
            if (!b) {
              var f = new Date().getTime() - c;
              f < a ? b = setTimeout(d, a - f) : d();
            }
          },
          reset: function () {
            b && clearTimeout(b);
            b = c = 0;
          }
        };
      },
      enableHtml5Elements: function (a, f) {
        for (var d = [
              'abbr',
              'article',
              'aside',
              'audio',
              'bdi',
              'canvas',
              'data',
              'datalist',
              'details',
              'figcaption',
              'figure',
              'footer',
              'header',
              'hgroup',
              'mark',
              'meter',
              'nav',
              'output',
              'progress',
              'section',
              'summary',
              'time',
              'video'
            ], b = d.length, c; b--;) {
          c = a.createElement(d[b]);
          f && a.appendChild(c);
        }
      },
      checkIfAnyArrayItemMatches: function (a, f) {
        for (var d = 0, b = a.length; d < b; ++d)
          if (a[d].match(f))
            return true;
        return false;
      },
      checkIfAnyObjectPropertyMatches: function (a, f) {
        for (var d in a)
          if (d.match(f))
            return true;
        return false;
      },
      transparentImageData: 'data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=='
    };
  }());
  CKEDITOR.dtd = function () {
    var a = CKEDITOR.tools.extend, e = function (a, f) {
        for (var d = CKEDITOR.tools.clone(a), b = 1; b < arguments.length; b++) {
          var f = arguments[b], c;
          for (c in f)
            delete d[c];
        }
        return d;
      }, b = {}, c = {}, f = {
        address: 1,
        article: 1,
        aside: 1,
        blockquote: 1,
        details: 1,
        div: 1,
        dl: 1,
        fieldset: 1,
        figure: 1,
        footer: 1,
        form: 1,
        h1: 1,
        h2: 1,
        h3: 1,
        h4: 1,
        h5: 1,
        h6: 1,
        header: 1,
        hgroup: 1,
        hr: 1,
        main: 1,
        menu: 1,
        nav: 1,
        ol: 1,
        p: 1,
        pre: 1,
        section: 1,
        table: 1,
        ul: 1
      }, d = {
        command: 1,
        link: 1,
        meta: 1,
        noscript: 1,
        script: 1,
        style: 1
      }, h = {}, l = { '#': 1 }, i = {
        center: 1,
        dir: 1,
        noframes: 1
      };
    a(b, {
      a: 1,
      abbr: 1,
      area: 1,
      audio: 1,
      b: 1,
      bdi: 1,
      bdo: 1,
      br: 1,
      button: 1,
      canvas: 1,
      cite: 1,
      code: 1,
      command: 1,
      datalist: 1,
      del: 1,
      dfn: 1,
      em: 1,
      embed: 1,
      i: 1,
      iframe: 1,
      img: 1,
      input: 1,
      ins: 1,
      kbd: 1,
      keygen: 1,
      label: 1,
      map: 1,
      mark: 1,
      meter: 1,
      noscript: 1,
      object: 1,
      output: 1,
      progress: 1,
      q: 1,
      ruby: 1,
      s: 1,
      samp: 1,
      script: 1,
      select: 1,
      small: 1,
      span: 1,
      strong: 1,
      sub: 1,
      sup: 1,
      textarea: 1,
      time: 1,
      u: 1,
      'var': 1,
      video: 1,
      wbr: 1
    }, l, {
      acronym: 1,
      applet: 1,
      basefont: 1,
      big: 1,
      font: 1,
      isindex: 1,
      strike: 1,
      style: 1,
      tt: 1
    });
    a(c, f, b, i);
    e = {
      a: e(b, {
        a: 1,
        button: 1
      }),
      abbr: b,
      address: c,
      area: h,
      article: c,
      aside: c,
      audio: a({
        source: 1,
        track: 1
      }, c),
      b: b,
      base: h,
      bdi: b,
      bdo: b,
      blockquote: c,
      body: c,
      br: h,
      button: e(b, {
        a: 1,
        button: 1
      }),
      canvas: b,
      caption: c,
      cite: b,
      code: b,
      col: h,
      colgroup: { col: 1 },
      command: h,
      datalist: a({ option: 1 }, b),
      dd: c,
      del: b,
      details: a({ summary: 1 }, c),
      dfn: b,
      div: c,
      dl: {
        dt: 1,
        dd: 1
      },
      dt: c,
      em: b,
      embed: h,
      fieldset: a({ legend: 1 }, c),
      figcaption: c,
      figure: a({ figcaption: 1 }, c),
      footer: c,
      form: c,
      h1: b,
      h2: b,
      h3: b,
      h4: b,
      h5: b,
      h6: b,
      head: a({
        title: 1,
        base: 1
      }, d),
      header: c,
      hgroup: {
        h1: 1,
        h2: 1,
        h3: 1,
        h4: 1,
        h5: 1,
        h6: 1
      },
      hr: h,
      html: a({
        head: 1,
        body: 1
      }, c, d),
      i: b,
      iframe: l,
      img: h,
      input: h,
      ins: b,
      kbd: b,
      keygen: h,
      label: b,
      legend: b,
      li: c,
      link: h,
      main: c,
      map: c,
      mark: b,
      menu: a({ li: 1 }, c),
      meta: h,
      meter: e(b, { meter: 1 }),
      nav: c,
      noscript: a({
        link: 1,
        meta: 1,
        style: 1
      }, b),
      object: a({ param: 1 }, b),
      ol: { li: 1 },
      optgroup: { option: 1 },
      option: l,
      output: b,
      p: b,
      param: h,
      pre: b,
      progress: e(b, { progress: 1 }),
      q: b,
      rp: b,
      rt: b,
      ruby: a({
        rp: 1,
        rt: 1
      }, b),
      s: b,
      samp: b,
      script: l,
      section: c,
      select: {
        optgroup: 1,
        option: 1
      },
      small: b,
      source: h,
      span: b,
      strong: b,
      style: l,
      sub: b,
      summary: b,
      sup: b,
      table: {
        caption: 1,
        colgroup: 1,
        thead: 1,
        tfoot: 1,
        tbody: 1,
        tr: 1
      },
      tbody: { tr: 1 },
      td: c,
      textarea: l,
      tfoot: { tr: 1 },
      th: c,
      thead: { tr: 1 },
      time: e(b, { time: 1 }),
      title: l,
      tr: {
        th: 1,
        td: 1
      },
      track: h,
      u: b,
      ul: { li: 1 },
      'var': b,
      video: a({
        source: 1,
        track: 1
      }, c),
      wbr: h,
      acronym: b,
      applet: a({ param: 1 }, c),
      basefont: h,
      big: b,
      center: c,
      dialog: h,
      dir: { li: 1 },
      font: b,
      isindex: h,
      noframes: c,
      strike: b,
      tt: b
    };
    a(e, {
      $block: a({
        audio: 1,
        dd: 1,
        dt: 1,
        figcaption: 1,
        li: 1,
        video: 1
      }, f, i),
      $blockLimit: {
        article: 1,
        aside: 1,
        audio: 1,
        body: 1,
        caption: 1,
        details: 1,
        dir: 1,
        div: 1,
        dl: 1,
        fieldset: 1,
        figcaption: 1,
        figure: 1,
        footer: 1,
        form: 1,
        header: 1,
        hgroup: 1,
        main: 1,
        menu: 1,
        nav: 1,
        ol: 1,
        section: 1,
        table: 1,
        td: 1,
        th: 1,
        tr: 1,
        ul: 1,
        video: 1
      },
      $cdata: {
        script: 1,
        style: 1
      },
      $editable: {
        address: 1,
        article: 1,
        aside: 1,
        blockquote: 1,
        body: 1,
        details: 1,
        div: 1,
        fieldset: 1,
        figcaption: 1,
        footer: 1,
        form: 1,
        h1: 1,
        h2: 1,
        h3: 1,
        h4: 1,
        h5: 1,
        h6: 1,
        header: 1,
        hgroup: 1,
        main: 1,
        nav: 1,
        p: 1,
        pre: 1,
        section: 1
      },
      $empty: {
        area: 1,
        base: 1,
        basefont: 1,
        br: 1,
        col: 1,
        command: 1,
        dialog: 1,
        embed: 1,
        hr: 1,
        img: 1,
        input: 1,
        isindex: 1,
        keygen: 1,
        link: 1,
        meta: 1,
        param: 1,
        source: 1,
        track: 1,
        wbr: 1
      },
      $inline: b,
      $list: {
        dl: 1,
        ol: 1,
        ul: 1
      },
      $listItem: {
        dd: 1,
        dt: 1,
        li: 1
      },
      $nonBodyContent: a({
        body: 1,
        head: 1,
        html: 1
      }, e.head),
      $nonEditable: {
        applet: 1,
        audio: 1,
        button: 1,
        embed: 1,
        iframe: 1,
        map: 1,
        object: 1,
        option: 1,
        param: 1,
        script: 1,
        textarea: 1,
        video: 1
      },
      $object: {
        applet: 1,
        audio: 1,
        button: 1,
        hr: 1,
        iframe: 1,
        img: 1,
        input: 1,
        object: 1,
        select: 1,
        table: 1,
        textarea: 1,
        video: 1
      },
      $removeEmpty: {
        abbr: 1,
        acronym: 1,
        b: 1,
        bdi: 1,
        bdo: 1,
        big: 1,
        cite: 1,
        code: 1,
        del: 1,
        dfn: 1,
        em: 1,
        font: 1,
        i: 1,
        ins: 1,
        label: 1,
        kbd: 1,
        mark: 1,
        meter: 1,
        output: 1,
        q: 1,
        ruby: 1,
        s: 1,
        samp: 1,
        small: 1,
        span: 1,
        strike: 1,
        strong: 1,
        sub: 1,
        sup: 1,
        time: 1,
        tt: 1,
        u: 1,
        'var': 1
      },
      $tabIndex: {
        a: 1,
        area: 1,
        button: 1,
        input: 1,
        object: 1,
        select: 1,
        textarea: 1
      },
      $tableContent: {
        caption: 1,
        col: 1,
        colgroup: 1,
        tbody: 1,
        td: 1,
        tfoot: 1,
        th: 1,
        thead: 1,
        tr: 1
      },
      $transparent: {
        a: 1,
        audio: 1,
        canvas: 1,
        del: 1,
        ins: 1,
        map: 1,
        noscript: 1,
        object: 1,
        video: 1
      },
      $intermediate: {
        caption: 1,
        colgroup: 1,
        dd: 1,
        dt: 1,
        figcaption: 1,
        legend: 1,
        li: 1,
        optgroup: 1,
        option: 1,
        rp: 1,
        rt: 1,
        summary: 1,
        tbody: 1,
        td: 1,
        tfoot: 1,
        th: 1,
        thead: 1,
        tr: 1
      }
    });
    return e;
  }();
  CKEDITOR.dom.event = function (a) {
    this.$ = a;
  };
  CKEDITOR.dom.event.prototype = {
    getKey: function () {
      return this.$.keyCode || this.$.which;
    },
    getKeystroke: function () {
      var a = this.getKey();
      if (this.$.ctrlKey || this.$.metaKey)
        a = a + CKEDITOR.CTRL;
      this.$.shiftKey && (a = a + CKEDITOR.SHIFT);
      this.$.altKey && (a = a + CKEDITOR.ALT);
      return a;
    },
    preventDefault: function (a) {
      var e = this.$;
      e.preventDefault ? e.preventDefault() : e.returnValue = false;
      a && this.stopPropagation();
    },
    stopPropagation: function () {
      var a = this.$;
      a.stopPropagation ? a.stopPropagation() : a.cancelBubble = true;
    },
    getTarget: function () {
      var a = this.$.target || this.$.srcElement;
      return a ? new CKEDITOR.dom.node(a) : null;
    },
    getPhase: function () {
      return this.$.eventPhase || 2;
    },
    getPageOffset: function () {
      var a = this.getTarget().getDocument().$;
      return {
        x: this.$.pageX || this.$.clientX + (a.documentElement.scrollLeft || a.body.scrollLeft),
        y: this.$.pageY || this.$.clientY + (a.documentElement.scrollTop || a.body.scrollTop)
      };
    }
  };
  CKEDITOR.CTRL = 1114112;
  CKEDITOR.SHIFT = 2228224;
  CKEDITOR.ALT = 4456448;
  CKEDITOR.EVENT_PHASE_CAPTURING = 1;
  CKEDITOR.EVENT_PHASE_AT_TARGET = 2;
  CKEDITOR.EVENT_PHASE_BUBBLING = 3;
  CKEDITOR.dom.domObject = function (a) {
    if (a)
      this.$ = a;
  };
  CKEDITOR.dom.domObject.prototype = function () {
    var a = function (a, b) {
      return function (c) {
        typeof CKEDITOR != 'undefined' && a.fire(b, new CKEDITOR.dom.event(c));
      };
    };
    return {
      getPrivate: function () {
        var a;
        if (!(a = this.getCustomData('_')))
          this.setCustomData('_', a = {});
        return a;
      },
      on: function (e) {
        var b = this.getCustomData('_cke_nativeListeners');
        if (!b) {
          b = {};
          this.setCustomData('_cke_nativeListeners', b);
        }
        if (!b[e]) {
          b = b[e] = a(this, e);
          this.$.addEventListener ? this.$.addEventListener(e, b, !!CKEDITOR.event.useCapture) : this.$.attachEvent && this.$.attachEvent('on' + e, b);
        }
        return CKEDITOR.event.prototype.on.apply(this, arguments);
      },
      removeListener: function (a) {
        CKEDITOR.event.prototype.removeListener.apply(this, arguments);
        if (!this.hasListeners(a)) {
          var b = this.getCustomData('_cke_nativeListeners'), c = b && b[a];
          if (c) {
            this.$.removeEventListener ? this.$.removeEventListener(a, c, false) : this.$.detachEvent && this.$.detachEvent('on' + a, c);
            delete b[a];
          }
        }
      },
      removeAllListeners: function () {
        var a = this.getCustomData('_cke_nativeListeners'), b;
        for (b in a) {
          var c = a[b];
          this.$.detachEvent ? this.$.detachEvent('on' + b, c) : this.$.removeEventListener && this.$.removeEventListener(b, c, false);
          delete a[b];
        }
        CKEDITOR.event.prototype.removeAllListeners.call(this);
      }
    };
  }();
  (function (a) {
    var e = {};
    CKEDITOR.on('reset', function () {
      e = {};
    });
    a.equals = function (a) {
      try {
        return a && a.$ === this.$;
      } catch (c) {
        return false;
      }
    };
    a.setCustomData = function (a, c) {
      var f = this.getUniqueId();
      (e[f] || (e[f] = {}))[a] = c;
      return this;
    };
    a.getCustomData = function (a) {
      var c = this.$['data-cke-expando'];
      return (c = c && e[c]) && a in c ? c[a] : null;
    };
    a.removeCustomData = function (a) {
      var c = this.$['data-cke-expando'], c = c && e[c], f, d;
      if (c) {
        f = c[a];
        d = a in c;
        delete c[a];
      }
      return d ? f : null;
    };
    a.clearCustomData = function () {
      this.removeAllListeners();
      var a = this.$['data-cke-expando'];
      a && delete e[a];
    };
    a.getUniqueId = function () {
      return this.$['data-cke-expando'] || (this.$['data-cke-expando'] = CKEDITOR.tools.getNextNumber());
    };
    CKEDITOR.event.implementOn(a);
  }(CKEDITOR.dom.domObject.prototype));
  CKEDITOR.dom.node = function (a) {
    return a ? new CKEDITOR.dom[a.nodeType == CKEDITOR.NODE_DOCUMENT ? 'document' : a.nodeType == CKEDITOR.NODE_ELEMENT ? 'element' : a.nodeType == CKEDITOR.NODE_TEXT ? 'text' : a.nodeType == CKEDITOR.NODE_COMMENT ? 'comment' : a.nodeType == CKEDITOR.NODE_DOCUMENT_FRAGMENT ? 'documentFragment' : 'domObject'](a) : this;
  };
  CKEDITOR.dom.node.prototype = new CKEDITOR.dom.domObject();
  CKEDITOR.NODE_ELEMENT = 1;
  CKEDITOR.NODE_DOCUMENT = 9;
  CKEDITOR.NODE_TEXT = 3;
  CKEDITOR.NODE_COMMENT = 8;
  CKEDITOR.NODE_DOCUMENT_FRAGMENT = 11;
  CKEDITOR.POSITION_IDENTICAL = 0;
  CKEDITOR.POSITION_DISCONNECTED = 1;
  CKEDITOR.POSITION_FOLLOWING = 2;
  CKEDITOR.POSITION_PRECEDING = 4;
  CKEDITOR.POSITION_IS_CONTAINED = 8;
  CKEDITOR.POSITION_CONTAINS = 16;
  CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype, {
    appendTo: function (a, e) {
      a.append(this, e);
      return a;
    },
    clone: function (a, e) {
      var b = this.$.cloneNode(a), c = function (f) {
          f['data-cke-expando'] && (f['data-cke-expando'] = false);
          if (f.nodeType == CKEDITOR.NODE_ELEMENT) {
            e || f.removeAttribute('id', false);
            if (a)
              for (var f = f.childNodes, d = 0; d < f.length; d++)
                c(f[d]);
          }
        };
      c(b);
      return new CKEDITOR.dom.node(b);
    },
    hasPrevious: function () {
      return !!this.$.previousSibling;
    },
    hasNext: function () {
      return !!this.$.nextSibling;
    },
    insertAfter: function (a) {
      a.$.parentNode.insertBefore(this.$, a.$.nextSibling);
      return a;
    },
    insertBefore: function (a) {
      a.$.parentNode.insertBefore(this.$, a.$);
      return a;
    },
    insertBeforeMe: function (a) {
      this.$.parentNode.insertBefore(a.$, this.$);
      return a;
    },
    getAddress: function (a) {
      for (var e = [], b = this.getDocument().$.documentElement, c = this.$; c && c != b;) {
        var f = c.parentNode;
        f && e.unshift(this.getIndex.call({ $: c }, a));
        c = f;
      }
      return e;
    },
    getDocument: function () {
      return new CKEDITOR.dom.document(this.$.ownerDocument || this.$.parentNode.ownerDocument);
    },
    getIndex: function (a) {
      function e(a, f) {
        var b = f ? a.nextSibling : a.previousSibling;
        return !b || b.nodeType != CKEDITOR.NODE_TEXT ? null : b.nodeValue ? b : e(b, f);
      }
      var b = this.$, c = -1, f;
      if (!this.$.parentNode || a && b.nodeType == CKEDITOR.NODE_TEXT && !b.nodeValue && !e(b) && !e(b, true))
        return -1;
      do
        if (!a || !(b != this.$ && b.nodeType == CKEDITOR.NODE_TEXT && (f || !b.nodeValue))) {
          c++;
          f = b.nodeType == CKEDITOR.NODE_TEXT;
        }
      while (b = b.previousSibling);
      return c;
    },
    getNextSourceNode: function (a, e, b) {
      if (b && !b.call)
        var c = b, b = function (a) {
            return !a.equals(c);
          };
      var a = !a && this.getFirst && this.getFirst(), f;
      if (!a) {
        if (this.type == CKEDITOR.NODE_ELEMENT && b && b(this, true) === false)
          return null;
        a = this.getNext();
      }
      for (; !a && (f = (f || this).getParent());) {
        if (b && b(f, true) === false)
          return null;
        a = f.getNext();
      }
      return !a || b && b(a) === false ? null : e && e != a.type ? a.getNextSourceNode(false, e, b) : a;
    },
    getPreviousSourceNode: function (a, e, b) {
      if (b && !b.call)
        var c = b, b = function (a) {
            return !a.equals(c);
          };
      var a = !a && this.getLast && this.getLast(), f;
      if (!a) {
        if (this.type == CKEDITOR.NODE_ELEMENT && b && b(this, true) === false)
          return null;
        a = this.getPrevious();
      }
      for (; !a && (f = (f || this).getParent());) {
        if (b && b(f, true) === false)
          return null;
        a = f.getPrevious();
      }
      return !a || b && b(a) === false ? null : e && a.type != e ? a.getPreviousSourceNode(false, e, b) : a;
    },
    getPrevious: function (a) {
      var e = this.$, b;
      do
        b = (e = e.previousSibling) && e.nodeType != 10 && new CKEDITOR.dom.node(e);
      while (b && a && !a(b));
      return b;
    },
    getNext: function (a) {
      var e = this.$, b;
      do
        b = (e = e.nextSibling) && new CKEDITOR.dom.node(e);
      while (b && a && !a(b));
      return b;
    },
    getParent: function (a) {
      var e = this.$.parentNode;
      return e && (e.nodeType == CKEDITOR.NODE_ELEMENT || a && e.nodeType == CKEDITOR.NODE_DOCUMENT_FRAGMENT) ? new CKEDITOR.dom.node(e) : null;
    },
    getParents: function (a) {
      var e = this, b = [];
      do
        b[a ? 'push' : 'unshift'](e);
      while (e = e.getParent());
      return b;
    },
    getCommonAncestor: function (a) {
      if (a.equals(this))
        return this;
      if (a.contains && a.contains(this))
        return a;
      var e = this.contains ? this : this.getParent();
      do
        if (e.contains(a))
          return e;
      while (e = e.getParent());
      return null;
    },
    getPosition: function (a) {
      var e = this.$, b = a.$;
      if (e.compareDocumentPosition)
        return e.compareDocumentPosition(b);
      if (e == b)
        return CKEDITOR.POSITION_IDENTICAL;
      if (this.type == CKEDITOR.NODE_ELEMENT && a.type == CKEDITOR.NODE_ELEMENT) {
        if (e.contains) {
          if (e.contains(b))
            return CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_PRECEDING;
          if (b.contains(e))
            return CKEDITOR.POSITION_IS_CONTAINED + CKEDITOR.POSITION_FOLLOWING;
        }
        if ('sourceIndex' in e)
          return e.sourceIndex < 0 || b.sourceIndex < 0 ? CKEDITOR.POSITION_DISCONNECTED : e.sourceIndex < b.sourceIndex ? CKEDITOR.POSITION_PRECEDING : CKEDITOR.POSITION_FOLLOWING;
      }
      for (var e = this.getAddress(), a = a.getAddress(), b = Math.min(e.length, a.length), c = 0; c <= b - 1; c++)
        if (e[c] != a[c]) {
          if (c < b)
            return e[c] < a[c] ? CKEDITOR.POSITION_PRECEDING : CKEDITOR.POSITION_FOLLOWING;
          break;
        }
      return e.length < a.length ? CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_PRECEDING : CKEDITOR.POSITION_IS_CONTAINED + CKEDITOR.POSITION_FOLLOWING;
    },
    getAscendant: function (a, e) {
      var b = this.$, c, f;
      if (!e)
        b = b.parentNode;
      if (typeof a == 'function') {
        f = true;
        c = a;
      } else {
        f = false;
        c = function (f) {
          f = typeof f.nodeName == 'string' ? f.nodeName.toLowerCase() : '';
          return typeof a == 'string' ? f == a : f in a;
        };
      }
      for (; b;) {
        if (c(f ? new CKEDITOR.dom.node(b) : b))
          return new CKEDITOR.dom.node(b);
        try {
          b = b.parentNode;
        } catch (d) {
          b = null;
        }
      }
      return null;
    },
    hasAscendant: function (a, e) {
      var b = this.$;
      if (!e)
        b = b.parentNode;
      for (; b;) {
        if (b.nodeName && b.nodeName.toLowerCase() == a)
          return true;
        b = b.parentNode;
      }
      return false;
    },
    move: function (a, e) {
      a.append(this.remove(), e);
    },
    remove: function (a) {
      var e = this.$, b = e.parentNode;
      if (b) {
        if (a)
          for (; a = e.firstChild;)
            b.insertBefore(e.removeChild(a), e);
        b.removeChild(e);
      }
      return this;
    },
    replace: function (a) {
      this.insertBefore(a);
      a.remove();
    },
    trim: function () {
      this.ltrim();
      this.rtrim();
    },
    ltrim: function () {
      for (var a; this.getFirst && (a = this.getFirst());) {
        if (a.type == CKEDITOR.NODE_TEXT) {
          var e = CKEDITOR.tools.ltrim(a.getText()), b = a.getLength();
          if (e) {
            if (e.length < b) {
              a.split(b - e.length);
              this.$.removeChild(this.$.firstChild);
            }
          } else {
            a.remove();
            continue;
          }
        }
        break;
      }
    },
    rtrim: function () {
      for (var a; this.getLast && (a = this.getLast());) {
        if (a.type == CKEDITOR.NODE_TEXT) {
          var e = CKEDITOR.tools.rtrim(a.getText()), b = a.getLength();
          if (e) {
            if (e.length < b) {
              a.split(e.length);
              this.$.lastChild.parentNode.removeChild(this.$.lastChild);
            }
          } else {
            a.remove();
            continue;
          }
        }
        break;
      }
      if (CKEDITOR.env.needsBrFiller)
        (a = this.$.lastChild) && (a.type == 1 && a.nodeName.toLowerCase() == 'br') && a.parentNode.removeChild(a);
    },
    isReadOnly: function () {
      var a = this;
      this.type != CKEDITOR.NODE_ELEMENT && (a = this.getParent());
      if (a && typeof a.$.isContentEditable != 'undefined')
        return !(a.$.isContentEditable || a.data('cke-editable'));
      for (; a;) {
        if (a.data('cke-editable'))
          break;
        if (a.getAttribute('contentEditable') == 'false')
          return true;
        if (a.getAttribute('contentEditable') == 'true')
          break;
        a = a.getParent();
      }
      return !a;
    }
  });
  CKEDITOR.dom.window = function (a) {
    CKEDITOR.dom.domObject.call(this, a);
  };
  CKEDITOR.dom.window.prototype = new CKEDITOR.dom.domObject();
  CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype, {
    focus: function () {
      this.$.focus();
    },
    getViewPaneSize: function () {
      var a = this.$.document, e = a.compatMode == 'CSS1Compat';
      return {
        width: (e ? a.documentElement.clientWidth : a.body.clientWidth) || 0,
        height: (e ? a.documentElement.clientHeight : a.body.clientHeight) || 0
      };
    },
    getScrollPosition: function () {
      var a = this.$;
      if ('pageXOffset' in a)
        return {
          x: a.pageXOffset || 0,
          y: a.pageYOffset || 0
        };
      a = a.document;
      return {
        x: a.documentElement.scrollLeft || a.body.scrollLeft || 0,
        y: a.documentElement.scrollTop || a.body.scrollTop || 0
      };
    },
    getFrame: function () {
      var a = this.$.frameElement;
      return a ? new CKEDITOR.dom.element.get(a) : null;
    }
  });
  CKEDITOR.dom.document = function (a) {
    CKEDITOR.dom.domObject.call(this, a);
  };
  CKEDITOR.dom.document.prototype = new CKEDITOR.dom.domObject();
  CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype, {
    type: CKEDITOR.NODE_DOCUMENT,
    appendStyleSheet: function (a) {
      if (this.$.createStyleSheet)
        this.$.createStyleSheet(a);
      else {
        var e = new CKEDITOR.dom.element('link');
        e.setAttributes({
          rel: 'stylesheet',
          type: 'text/css',
          href: a
        });
        this.getHead().append(e);
      }
    },
    appendStyleText: function (a) {
      if (this.$.createStyleSheet) {
        var e = this.$.createStyleSheet('');
        e.cssText = a;
      } else {
        var b = new CKEDITOR.dom.element('style', this);
        b.append(new CKEDITOR.dom.text(a, this));
        this.getHead().append(b);
      }
      return e || b.$.sheet;
    },
    createElement: function (a, e) {
      var b = new CKEDITOR.dom.element(a, this);
      if (e) {
        e.attributes && b.setAttributes(e.attributes);
        e.styles && b.setStyles(e.styles);
      }
      return b;
    },
    createText: function (a) {
      return new CKEDITOR.dom.text(a, this);
    },
    focus: function () {
      this.getWindow().focus();
    },
    getActive: function () {
      var a;
      try {
        a = this.$.activeElement;
      } catch (e) {
        return null;
      }
      return new CKEDITOR.dom.element(a);
    },
    getById: function (a) {
      return (a = this.$.getElementById(a)) ? new CKEDITOR.dom.element(a) : null;
    },
    getByAddress: function (a, e) {
      for (var b = this.$.documentElement, c = 0; b && c < a.length; c++) {
        var f = a[c];
        if (e)
          for (var d = -1, h = 0; h < b.childNodes.length; h++) {
            var l = b.childNodes[h];
            if (!(e === true && l.nodeType == 3 && l.previousSibling && l.previousSibling.nodeType == 3)) {
              d++;
              if (d == f) {
                b = l;
                break;
              }
            }
          }
        else
          b = b.childNodes[f];
      }
      return b ? new CKEDITOR.dom.node(b) : null;
    },
    getElementsByTag: function (a, e) {
      !(CKEDITOR.env.ie && document.documentMode <= 8) && e && (a = e + ':' + a);
      return new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(a));
    },
    getHead: function () {
      var a = this.$.getElementsByTagName('head')[0];
      return a = a ? new CKEDITOR.dom.element(a) : this.getDocumentElement().append(new CKEDITOR.dom.element('head'), true);
    },
    getBody: function () {
      return new CKEDITOR.dom.element(this.$.body);
    },
    getDocumentElement: function () {
      return new CKEDITOR.dom.element(this.$.documentElement);
    },
    getWindow: function () {
      return new CKEDITOR.dom.window(this.$.parentWindow || this.$.defaultView);
    },
    write: function (a) {
      this.$.open('text/html', 'replace');
      CKEDITOR.env.ie && (a = a.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i, '$&\n<script data-cke-temp="1">(' + CKEDITOR.tools.fixDomain + ')();</script>'));
      this.$.write(a);
      this.$.close();
    },
    find: function (a) {
      return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(a));
    },
    findOne: function (a) {
      return (a = this.$.querySelector(a)) ? new CKEDITOR.dom.element(a) : null;
    },
    _getHtml5ShivFrag: function () {
      var a = this.getCustomData('html5ShivFrag');
      if (!a) {
        a = this.$.createDocumentFragment();
        CKEDITOR.tools.enableHtml5Elements(a, true);
        this.setCustomData('html5ShivFrag', a);
      }
      return a;
    }
  });
  CKEDITOR.dom.nodeList = function (a) {
    this.$ = a;
  };
  CKEDITOR.dom.nodeList.prototype = {
    count: function () {
      return this.$.length;
    },
    getItem: function (a) {
      if (a < 0 || a >= this.$.length)
        return null;
      return (a = this.$[a]) ? new CKEDITOR.dom.node(a) : null;
    }
  };
  CKEDITOR.dom.element = function (a, e) {
    typeof a == 'string' && (a = (e ? e.$ : document).createElement(a));
    CKEDITOR.dom.domObject.call(this, a);
  };
  CKEDITOR.dom.element.get = function (a) {
    return (a = typeof a == 'string' ? document.getElementById(a) || document.getElementsByName(a)[0] : a) && (a.$ ? a : new CKEDITOR.dom.element(a));
  };
  CKEDITOR.dom.element.prototype = new CKEDITOR.dom.node();
  CKEDITOR.dom.element.createFromHtml = function (a, e) {
    var b = new CKEDITOR.dom.element('div', e);
    b.setHtml(a);
    return b.getFirst().remove();
  };
  CKEDITOR.dom.element.setMarker = function (a, e, b, c) {
    var f = e.getCustomData('list_marker_id') || e.setCustomData('list_marker_id', CKEDITOR.tools.getNextNumber()).getCustomData('list_marker_id'), d = e.getCustomData('list_marker_names') || e.setCustomData('list_marker_names', {}).getCustomData('list_marker_names');
    a[f] = e;
    d[b] = 1;
    return e.setCustomData(b, c);
  };
  CKEDITOR.dom.element.clearAllMarkers = function (a) {
    for (var e in a)
      CKEDITOR.dom.element.clearMarkers(a, a[e], 1);
  };
  CKEDITOR.dom.element.clearMarkers = function (a, e, b) {
    var c = e.getCustomData('list_marker_names'), f = e.getCustomData('list_marker_id'), d;
    for (d in c)
      e.removeCustomData(d);
    e.removeCustomData('list_marker_names');
    if (b) {
      e.removeCustomData('list_marker_id');
      delete a[f];
    }
  };
  (function () {
    function a(a) {
      var d = true;
      if (!a.$.id) {
        a.$.id = 'cke_tmp_' + CKEDITOR.tools.getNextNumber();
        d = false;
      }
      return function () {
        d || a.removeAttribute('id');
      };
    }
    function e(a, d) {
      return '#' + a.$.id + ' ' + d.split(/,\s*/).join(', #' + a.$.id + ' ');
    }
    function b(a) {
      for (var d = 0, b = 0, e = c[a].length; b < e; b++)
        d = d + (parseInt(this.getComputedStyle(c[a][b]) || 0, 10) || 0);
      return d;
    }
    CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype, {
      type: CKEDITOR.NODE_ELEMENT,
      addClass: function (a) {
        var d = this.$.className;
        d && (RegExp('(?:^|\\s)' + a + '(?:\\s|$)', '').test(d) || (d = d + (' ' + a)));
        this.$.className = d || a;
        return this;
      },
      removeClass: function (a) {
        var d = this.getAttribute('class');
        if (d) {
          a = RegExp('(?:^|\\s+)' + a + '(?=\\s|$)', 'i');
          if (a.test(d))
            (d = d.replace(a, '').replace(/^\s+/, '')) ? this.setAttribute('class', d) : this.removeAttribute('class');
        }
        return this;
      },
      hasClass: function (a) {
        return RegExp('(?:^|\\s+)' + a + '(?=\\s|$)', '').test(this.getAttribute('class'));
      },
      append: function (a, d) {
        typeof a == 'string' && (a = this.getDocument().createElement(a));
        d ? this.$.insertBefore(a.$, this.$.firstChild) : this.$.appendChild(a.$);
        return a;
      },
      appendHtml: function (a) {
        if (this.$.childNodes.length) {
          var d = new CKEDITOR.dom.element('div', this.getDocument());
          d.setHtml(a);
          d.moveChildren(this);
        } else
          this.setHtml(a);
      },
      appendText: function (a) {
        this.$.text != null ? this.$.text = this.$.text + a : this.append(new CKEDITOR.dom.text(a));
      },
      appendBogus: function (a) {
        if (a || CKEDITOR.env.needsBrFiller) {
          for (a = this.getLast(); a && a.type == CKEDITOR.NODE_TEXT && !CKEDITOR.tools.rtrim(a.getText());)
            a = a.getPrevious();
          if (!a || !a.is || !a.is('br')) {
            a = this.getDocument().createElement('br');
            CKEDITOR.env.gecko && a.setAttribute('type', '_moz');
            this.append(a);
          }
        }
      },
      breakParent: function (a) {
        var d = new CKEDITOR.dom.range(this.getDocument());
        d.setStartAfter(this);
        d.setEndAfter(a);
        a = d.extractContents();
        d.insertNode(this.remove());
        a.insertAfterNode(this);
      },
      contains: CKEDITOR.env.ie || CKEDITOR.env.webkit ? function (a) {
        var d = this.$;
        return a.type != CKEDITOR.NODE_ELEMENT ? d.contains(a.getParent().$) : d != a.$ && d.contains(a.$);
      } : function (a) {
        return !!(this.$.compareDocumentPosition(a.$) & 16);
      },
      focus: function () {
        function a() {
          try {
            this.$.focus();
          } catch (f) {
          }
        }
        return function (d) {
          d ? CKEDITOR.tools.setTimeout(a, 100, this) : a.call(this);
        };
      }(),
      getHtml: function () {
        var a = this.$.innerHTML;
        return CKEDITOR.env.ie ? a.replace(/<\?[^>]*>/g, '') : a;
      },
      getOuterHtml: function () {
        if (this.$.outerHTML)
          return this.$.outerHTML.replace(/<\?[^>]*>/, '');
        var a = this.$.ownerDocument.createElement('div');
        a.appendChild(this.$.cloneNode(true));
        return a.innerHTML;
      },
      getClientRect: function () {
        var a = CKEDITOR.tools.extend({}, this.$.getBoundingClientRect());
        !a.width && (a.width = a.right - a.left);
        !a.height && (a.height = a.bottom - a.top);
        return a;
      },
      setHtml: CKEDITOR.env.ie && CKEDITOR.env.version < 9 ? function (a) {
        try {
          var d = this.$;
          if (this.getParent())
            return d.innerHTML = a;
          var b = this.getDocument()._getHtml5ShivFrag();
          b.appendChild(d);
          d.innerHTML = a;
          b.removeChild(d);
          return a;
        } catch (c) {
          this.$.innerHTML = '';
          d = new CKEDITOR.dom.element('body', this.getDocument());
          d.$.innerHTML = a;
          for (d = d.getChildren(); d.count();)
            this.append(d.getItem(0));
          return a;
        }
      } : function (a) {
        return this.$.innerHTML = a;
      },
      setText: function () {
        var a = document.createElement('p');
        a.innerHTML = 'x';
        a = a.textContent;
        return function (d) {
          this.$[a ? 'textContent' : 'innerText'] = d;
        };
      }(),
      getAttribute: function () {
        var a = function (a) {
          return this.$.getAttribute(a, 2);
        };
        return CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) ? function (a) {
          switch (a) {
          case 'class':
            a = 'className';
            break;
          case 'http-equiv':
            a = 'httpEquiv';
            break;
          case 'name':
            return this.$.name;
          case 'tabindex':
            a = this.$.getAttribute(a, 2);
            a !== 0 && this.$.tabIndex === 0 && (a = null);
            return a;
          case 'checked':
            a = this.$.attributes.getNamedItem(a);
            return (a.specified ? a.nodeValue : this.$.checked) ? 'checked' : null;
          case 'hspace':
          case 'value':
            return this.$[a];
          case 'style':
            return this.$.style.cssText;
          case 'contenteditable':
          case 'contentEditable':
            return this.$.attributes.getNamedItem('contentEditable').specified ? this.$.getAttribute('contentEditable') : null;
          }
          return this.$.getAttribute(a, 2);
        } : a;
      }(),
      getChildren: function () {
        return new CKEDITOR.dom.nodeList(this.$.childNodes);
      },
      getComputedStyle: CKEDITOR.env.ie ? function (a) {
        return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(a)];
      } : function (a) {
        var d = this.getWindow().$.getComputedStyle(this.$, null);
        return d ? d.getPropertyValue(a) : '';
      },
      getDtd: function () {
        var a = CKEDITOR.dtd[this.getName()];
        this.getDtd = function () {
          return a;
        };
        return a;
      },
      getElementsByTag: CKEDITOR.dom.document.prototype.getElementsByTag,
      getTabIndex: CKEDITOR.env.ie ? function () {
        var a = this.$.tabIndex;
        a === 0 && (!CKEDITOR.dtd.$tabIndex[this.getName()] && parseInt(this.getAttribute('tabindex'), 10) !== 0) && (a = -1);
        return a;
      } : CKEDITOR.env.webkit ? function () {
        var a = this.$.tabIndex;
        if (a === void 0) {
          a = parseInt(this.getAttribute('tabindex'), 10);
          isNaN(a) && (a = -1);
        }
        return a;
      } : function () {
        return this.$.tabIndex;
      },
      getText: function () {
        return this.$.textContent || this.$.innerText || '';
      },
      getWindow: function () {
        return this.getDocument().getWindow();
      },
      getId: function () {
        return this.$.id || null;
      },
      getNameAtt: function () {
        return this.$.name || null;
      },
      getName: function () {
        var a = this.$.nodeName.toLowerCase();
        if (CKEDITOR.env.ie && document.documentMode <= 8) {
          var d = this.$.scopeName;
          d != 'HTML' && (a = d.toLowerCase() + ':' + a);
        }
        this.getName = function () {
          return a;
        };
        return this.getName();
      },
      getValue: function () {
        return this.$.value;
      },
      getFirst: function (a) {
        var d = this.$.firstChild;
        (d = d && new CKEDITOR.dom.node(d)) && (a && !a(d)) && (d = d.getNext(a));
        return d;
      },
      getLast: function (a) {
        var d = this.$.lastChild;
        (d = d && new CKEDITOR.dom.node(d)) && (a && !a(d)) && (d = d.getPrevious(a));
        return d;
      },
      getStyle: function (a) {
        return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)];
      },
      is: function () {
        var a = this.getName();
        if (typeof arguments[0] == 'object')
          return !!arguments[0][a];
        for (var d = 0; d < arguments.length; d++)
          if (arguments[d] == a)
            return true;
        return false;
      },
      isEditable: function (a) {
        var d = this.getName();
        if (this.isReadOnly() || this.getComputedStyle('display') == 'none' || this.getComputedStyle('visibility') == 'hidden' || CKEDITOR.dtd.$nonEditable[d] || CKEDITOR.dtd.$empty[d] || this.is('a') && (this.data('cke-saved-name') || this.hasAttribute('name')) && !this.getChildCount())
          return false;
        if (a !== false) {
          a = CKEDITOR.dtd[d] || CKEDITOR.dtd.span;
          return !(!a || !a['#']);
        }
        return true;
      },
      isIdentical: function (a) {
        var d = this.clone(0, 1), a = a.clone(0, 1);
        d.removeAttributes([
          '_moz_dirty',
          'data-cke-expando',
          'data-cke-saved-href',
          'data-cke-saved-name'
        ]);
        a.removeAttributes([
          '_moz_dirty',
          'data-cke-expando',
          'data-cke-saved-href',
          'data-cke-saved-name'
        ]);
        if (d.$.isEqualNode) {
          d.$.style.cssText = CKEDITOR.tools.normalizeCssText(d.$.style.cssText);
          a.$.style.cssText = CKEDITOR.tools.normalizeCssText(a.$.style.cssText);
          return d.$.isEqualNode(a.$);
        }
        d = d.getOuterHtml();
        a = a.getOuterHtml();
        if (CKEDITOR.env.ie && CKEDITOR.env.version < 9 && this.is('a')) {
          var b = this.getParent();
          if (b.type == CKEDITOR.NODE_ELEMENT) {
            b = b.clone();
            b.setHtml(d);
            d = b.getHtml();
            b.setHtml(a);
            a = b.getHtml();
          }
        }
        return d == a;
      },
      isVisible: function () {
        var a = (this.$.offsetHeight || this.$.offsetWidth) && this.getComputedStyle('visibility') != 'hidden', d, b;
        if (a && CKEDITOR.env.webkit) {
          d = this.getWindow();
          if (!d.equals(CKEDITOR.document.getWindow()) && (b = d.$.frameElement))
            a = new CKEDITOR.dom.element(b).isVisible();
        }
        return !!a;
      },
      isEmptyInlineRemoveable: function () {
        if (!CKEDITOR.dtd.$removeEmpty[this.getName()])
          return false;
        for (var a = this.getChildren(), d = 0, b = a.count(); d < b; d++) {
          var c = a.getItem(d);
          if (!(c.type == CKEDITOR.NODE_ELEMENT && c.data('cke-bookmark')) && (c.type == CKEDITOR.NODE_ELEMENT && !c.isEmptyInlineRemoveable() || c.type == CKEDITOR.NODE_TEXT && CKEDITOR.tools.trim(c.getText())))
            return false;
        }
        return true;
      },
      hasAttributes: CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) ? function () {
        for (var a = this.$.attributes, d = 0; d < a.length; d++) {
          var b = a[d];
          switch (b.nodeName) {
          case 'class':
            if (this.getAttribute('class'))
              return true;
          case 'data-cke-expando':
            continue;
          default:
            if (b.specified)
              return true;
          }
        }
        return false;
      } : function () {
        var a = this.$.attributes, d = a.length, b = {
            'data-cke-expando': 1,
            _moz_dirty: 1
          };
        return d > 0 && (d > 2 || !b[a[0].nodeName] || d == 2 && !b[a[1].nodeName]);
      },
      hasAttribute: function () {
        function a(d) {
          var f = this.$.attributes.getNamedItem(d);
          if (this.getName() == 'input')
            switch (d) {
            case 'class':
              return this.$.className.length > 0;
            case 'checked':
              return !!this.$.checked;
            case 'value':
              d = this.getAttribute('type');
              return d == 'checkbox' || d == 'radio' ? this.$.value != 'on' : !!this.$.value;
            }
          return !f ? false : f.specified;
        }
        return CKEDITOR.env.ie ? CKEDITOR.env.version < 8 ? function (d) {
          return d == 'name' ? !!this.$.name : a.call(this, d);
        } : a : function (a) {
          return !!this.$.attributes.getNamedItem(a);
        };
      }(),
      hide: function () {
        this.setStyle('display', 'none');
      },
      moveChildren: function (a, d) {
        var b = this.$, a = a.$;
        if (b != a) {
          var c;
          if (d)
            for (; c = b.lastChild;)
              a.insertBefore(b.removeChild(c), a.firstChild);
          else
            for (; c = b.firstChild;)
              a.appendChild(b.removeChild(c));
        }
      },
      mergeSiblings: function () {
        function a(d, b, f) {
          if (b && b.type == CKEDITOR.NODE_ELEMENT) {
            for (var c = []; b.data('cke-bookmark') || b.isEmptyInlineRemoveable();) {
              c.push(b);
              b = f ? b.getNext() : b.getPrevious();
              if (!b || b.type != CKEDITOR.NODE_ELEMENT)
                return;
            }
            if (d.isIdentical(b)) {
              for (var e = f ? d.getLast() : d.getFirst(); c.length;)
                c.shift().move(d, !f);
              b.moveChildren(d, !f);
              b.remove();
              e && e.type == CKEDITOR.NODE_ELEMENT && e.mergeSiblings();
            }
          }
        }
        return function (d) {
          if (d === false || CKEDITOR.dtd.$removeEmpty[this.getName()] || this.is('a')) {
            a(this, this.getNext(), true);
            a(this, this.getPrevious());
          }
        };
      }(),
      show: function () {
        this.setStyles({
          display: '',
          visibility: ''
        });
      },
      setAttribute: function () {
        var a = function (a, b) {
          this.$.setAttribute(a, b);
          return this;
        };
        return CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) ? function (d, b) {
          d == 'class' ? this.$.className = b : d == 'style' ? this.$.style.cssText = b : d == 'tabindex' ? this.$.tabIndex = b : d == 'checked' ? this.$.checked = b : d == 'contenteditable' ? a.call(this, 'contentEditable', b) : a.apply(this, arguments);
          return this;
        } : CKEDITOR.env.ie8Compat && CKEDITOR.env.secure ? function (d, b) {
          if (d == 'src' && b.match(/^http:\/\//))
            try {
              a.apply(this, arguments);
            } catch (c) {
            }
          else
            a.apply(this, arguments);
          return this;
        } : a;
      }(),
      setAttributes: function (a) {
        for (var d in a)
          this.setAttribute(d, a[d]);
        return this;
      },
      setValue: function (a) {
        this.$.value = a;
        return this;
      },
      removeAttribute: function () {
        var a = function (a) {
          this.$.removeAttribute(a);
        };
        return CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) ? function (a) {
          a == 'class' ? a = 'className' : a == 'tabindex' ? a = 'tabIndex' : a == 'contenteditable' && (a = 'contentEditable');
          this.$.removeAttribute(a);
        } : a;
      }(),
      removeAttributes: function (a) {
        if (CKEDITOR.tools.isArray(a))
          for (var b = 0; b < a.length; b++)
            this.removeAttribute(a[b]);
        else
          for (b in a)
            a.hasOwnProperty(b) && this.removeAttribute(b);
      },
      removeStyle: function (a) {
        var b = this.$.style;
        if (!b.removeProperty && (a == 'border' || a == 'margin' || a == 'padding')) {
          var c = [
              'top',
              'left',
              'right',
              'bottom'
            ], e;
          a == 'border' && (e = [
            'color',
            'style',
            'width'
          ]);
          for (var b = [], i = 0; i < c.length; i++)
            if (e)
              for (var g = 0; g < e.length; g++)
                b.push([
                  a,
                  c[i],
                  e[g]
                ].join('-'));
            else
              b.push([
                a,
                c[i]
              ].join('-'));
          for (a = 0; a < b.length; a++)
            this.removeStyle(b[a]);
        } else {
          b.removeProperty ? b.removeProperty(a) : b.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(a));
          this.$.style.cssText || this.removeAttribute('style');
        }
      },
      setStyle: function (a, b) {
        this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)] = b;
        return this;
      },
      setStyles: function (a) {
        for (var b in a)
          this.setStyle(b, a[b]);
        return this;
      },
      setOpacity: function (a) {
        if (CKEDITOR.env.ie && CKEDITOR.env.version < 9) {
          a = Math.round(a * 100);
          this.setStyle('filter', a >= 100 ? '' : 'progid:DXImageTransform.Microsoft.Alpha(opacity=' + a + ')');
        } else
          this.setStyle('opacity', a);
      },
      unselectable: function () {
        this.setStyles(CKEDITOR.tools.cssVendorPrefix('user-select', 'none'));
        if (CKEDITOR.env.ie) {
          this.setAttribute('unselectable', 'on');
          for (var a, b = this.getElementsByTag('*'), c = 0, e = b.count(); c < e; c++) {
            a = b.getItem(c);
            a.setAttribute('unselectable', 'on');
          }
        }
      },
      getPositionedAncestor: function () {
        for (var a = this; a.getName() != 'html';) {
          if (a.getComputedStyle('position') != 'static')
            return a;
          a = a.getParent();
        }
        return null;
      },
      getDocumentPosition: function (a) {
        var b = 0, c = 0, e = this.getDocument(), i = e.getBody(), g = e.$.compatMode == 'BackCompat';
        if (document.documentElement.getBoundingClientRect) {
          var m = this.$.getBoundingClientRect(), t = e.$.documentElement, s = t.clientTop || i.$.clientTop || 0, y = t.clientLeft || i.$.clientLeft || 0, p = true;
          if (CKEDITOR.env.ie) {
            p = e.getDocumentElement().contains(this);
            e = e.getBody().contains(this);
            p = g && e || !g && p;
          }
          if (p) {
            b = m.left + (!g && t.scrollLeft || i.$.scrollLeft);
            b = b - y;
            c = m.top + (!g && t.scrollTop || i.$.scrollTop);
            c = c - s;
          }
        } else {
          i = this;
          for (e = null; i && !(i.getName() == 'body' || i.getName() == 'html');) {
            b = b + (i.$.offsetLeft - i.$.scrollLeft);
            c = c + (i.$.offsetTop - i.$.scrollTop);
            if (!i.equals(this)) {
              b = b + (i.$.clientLeft || 0);
              c = c + (i.$.clientTop || 0);
            }
            for (; e && !e.equals(i);) {
              b = b - e.$.scrollLeft;
              c = c - e.$.scrollTop;
              e = e.getParent();
            }
            e = i;
            i = (m = i.$.offsetParent) ? new CKEDITOR.dom.element(m) : null;
          }
        }
        if (a) {
          i = this.getWindow();
          e = a.getWindow();
          if (!i.equals(e) && i.$.frameElement) {
            a = new CKEDITOR.dom.element(i.$.frameElement).getDocumentPosition(a);
            b = b + a.x;
            c = c + a.y;
          }
        }
        if (!document.documentElement.getBoundingClientRect && CKEDITOR.env.gecko && !g) {
          b = b + (this.$.clientLeft ? 1 : 0);
          c = c + (this.$.clientTop ? 1 : 0);
        }
        return {
          x: b,
          y: c
        };
      },
      scrollIntoView: function (a) {
        var b = this.getParent();
        if (b) {
          do {
            (b.$.clientWidth && b.$.clientWidth < b.$.scrollWidth || b.$.clientHeight && b.$.clientHeight < b.$.scrollHeight) && !b.is('body') && this.scrollIntoParent(b, a, 1);
            if (b.is('html')) {
              var c = b.getWindow();
              try {
                var e = c.$.frameElement;
                e && (b = new CKEDITOR.dom.element(e));
              } catch (i) {
              }
            }
          } while (b = b.getParent());
        }
      },
      scrollIntoParent: function (a, b, c) {
        var e, i, g, m;
        function t(b, d) {
          if (/body|html/.test(a.getName()))
            a.getWindow().$.scrollBy(b, d);
          else {
            a.$.scrollLeft = a.$.scrollLeft + b;
            a.$.scrollTop = a.$.scrollTop + d;
          }
        }
        function s(a, b) {
          var d = {
              x: 0,
              y: 0
            };
          if (!a.is(p ? 'body' : 'html')) {
            var c = a.$.getBoundingClientRect();
            d.x = c.left;
            d.y = c.top;
          }
          c = a.getWindow();
          if (!c.equals(b)) {
            c = s(CKEDITOR.dom.element.get(c.$.frameElement), b);
            d.x = d.x + c.x;
            d.y = d.y + c.y;
          }
          return d;
        }
        function y(a, b) {
          return parseInt(a.getComputedStyle('margin-' + b) || 0, 10) || 0;
        }
        !a && (a = this.getWindow());
        g = a.getDocument();
        var p = g.$.compatMode == 'BackCompat';
        a instanceof CKEDITOR.dom.window && (a = p ? g.getBody() : g.getDocumentElement());
        g = a.getWindow();
        i = s(this, g);
        var q = s(a, g), j = this.$.offsetHeight;
        e = this.$.offsetWidth;
        var u = a.$.clientHeight, v = a.$.clientWidth;
        g = i.x - y(this, 'left') - q.x || 0;
        m = i.y - y(this, 'top') - q.y || 0;
        e = i.x + e + y(this, 'right') - (q.x + v) || 0;
        i = i.y + j + y(this, 'bottom') - (q.y + u) || 0;
        if (m < 0 || i > 0)
          t(0, b === true ? m : b === false ? i : m < 0 ? m : i);
        if (c && (g < 0 || e > 0))
          t(g < 0 ? g : e, 0);
      },
      setState: function (a, b, c) {
        b = b || 'cke';
        switch (a) {
        case CKEDITOR.TRISTATE_ON:
          this.addClass(b + '_on');
          this.removeClass(b + '_off');
          this.removeClass(b + '_disabled');
          c && this.setAttribute('aria-pressed', true);
          c && this.removeAttribute('aria-disabled');
          break;
        case CKEDITOR.TRISTATE_DISABLED:
          this.addClass(b + '_disabled');
          this.removeClass(b + '_off');
          this.removeClass(b + '_on');
          c && this.setAttribute('aria-disabled', true);
          c && this.removeAttribute('aria-pressed');
          break;
        default:
          this.addClass(b + '_off');
          this.removeClass(b + '_on');
          this.removeClass(b + '_disabled');
          c && this.removeAttribute('aria-pressed');
          c && this.removeAttribute('aria-disabled');
        }
      },
      getFrameDocument: function () {
        var a = this.$;
        try {
          a.contentWindow.document;
        } catch (b) {
          a.src = a.src;
        }
        return a && new CKEDITOR.dom.document(a.contentWindow.document);
      },
      copyAttributes: function (a, b) {
        for (var c = this.$.attributes, b = b || {}, e = 0; e < c.length; e++) {
          var i = c[e], g = i.nodeName.toLowerCase(), m;
          if (!(g in b))
            if (g == 'checked' && (m = this.getAttribute(g)))
              a.setAttribute(g, m);
            else if (!CKEDITOR.env.ie || this.hasAttribute(g)) {
              m = this.getAttribute(g);
              if (m === null)
                m = i.nodeValue;
              a.setAttribute(g, m);
            }
        }
        if (this.$.style.cssText !== '')
          a.$.style.cssText = this.$.style.cssText;
      },
      renameNode: function (a) {
        if (this.getName() != a) {
          var b = this.getDocument(), a = new CKEDITOR.dom.element(a, b);
          this.copyAttributes(a);
          this.moveChildren(a);
          this.getParent() && this.$.parentNode.replaceChild(a.$, this.$);
          a.$['data-cke-expando'] = this.$['data-cke-expando'];
          this.$ = a.$;
          delete this.getName;
        }
      },
      getChild: function () {
        function a(b, c) {
          var f = b.childNodes;
          if (c >= 0 && c < f.length)
            return f[c];
        }
        return function (b) {
          var c = this.$;
          if (b.slice)
            for (; b.length > 0 && c;)
              c = a(c, b.shift());
          else
            c = a(c, b);
          return c ? new CKEDITOR.dom.node(c) : null;
        };
      }(),
      getChildCount: function () {
        return this.$.childNodes.length;
      },
      disableContextMenu: function () {
        this.on('contextmenu', function (a) {
          a.data.getTarget().hasClass('cke_enable_context_menu') || a.data.preventDefault();
        });
      },
      getDirection: function (a) {
        return a ? this.getComputedStyle('direction') || this.getDirection() || this.getParent() && this.getParent().getDirection(1) || this.getDocument().$.dir || 'ltr' : this.getStyle('direction') || this.getAttribute('dir');
      },
      data: function (a, b) {
        a = 'data-' + a;
        if (b === void 0)
          return this.getAttribute(a);
        b === false ? this.removeAttribute(a) : this.setAttribute(a, b);
        return null;
      },
      getEditor: function () {
        var a = CKEDITOR.instances, b, c;
        for (b in a) {
          c = a[b];
          if (c.element.equals(this) && c.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO)
            return c;
        }
        return null;
      },
      find: function (b) {
        var c = a(this), b = new CKEDITOR.dom.nodeList(this.$.querySelectorAll(e(this, b)));
        c();
        return b;
      },
      findOne: function (b) {
        var c = a(this), b = this.$.querySelector(e(this, b));
        c();
        return b ? new CKEDITOR.dom.element(b) : null;
      },
      forEach: function (a, b, c) {
        if (!c && (!b || this.type == b))
          var e = a(this);
        if (e !== false)
          for (var c = this.getChildren(), i = 0; i < c.count(); i++) {
            e = c.getItem(i);
            e.type == CKEDITOR.NODE_ELEMENT ? e.forEach(a, b) : (!b || e.type == b) && a(e);
          }
      }
    });
    var c = {
        width: [
          'border-left-width',
          'border-right-width',
          'padding-left',
          'padding-right'
        ],
        height: [
          'border-top-width',
          'border-bottom-width',
          'padding-top',
          'padding-bottom'
        ]
      };
    CKEDITOR.dom.element.prototype.setSize = function (a, c, e) {
      if (typeof c == 'number') {
        if (e && (!CKEDITOR.env.ie || !CKEDITOR.env.quirks))
          c = c - b.call(this, a);
        this.setStyle(a, c + 'px');
      }
    };
    CKEDITOR.dom.element.prototype.getSize = function (a, c) {
      var e = Math.max(this.$['offset' + CKEDITOR.tools.capitalize(a)], this.$['client' + CKEDITOR.tools.capitalize(a)]) || 0;
      c && (e = e - b.call(this, a));
      return e;
    };
  }());
  CKEDITOR.dom.documentFragment = function (a) {
    a = a || CKEDITOR.document;
    this.$ = a.type == CKEDITOR.NODE_DOCUMENT ? a.$.createDocumentFragment() : a;
  };
  CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype, CKEDITOR.dom.element.prototype, {
    type: CKEDITOR.NODE_DOCUMENT_FRAGMENT,
    insertAfterNode: function (a) {
      a = a.$;
      a.parentNode.insertBefore(this.$, a.nextSibling);
    }
  }, !0, {
    append: 1,
    appendBogus: 1,
    getFirst: 1,
    getLast: 1,
    getParent: 1,
    getNext: 1,
    getPrevious: 1,
    appendTo: 1,
    moveChildren: 1,
    insertBefore: 1,
    insertAfterNode: 1,
    replace: 1,
    trim: 1,
    type: 1,
    ltrim: 1,
    rtrim: 1,
    getDocument: 1,
    getChildCount: 1,
    getChild: 1,
    getChildren: 1
  });
  (function () {
    function a(a, b) {
      var c = this.range;
      if (this._.end)
        return null;
      if (!this._.start) {
        this._.start = 1;
        if (c.collapsed) {
          this.end();
          return null;
        }
        c.optimize();
      }
      var d, f = c.startContainer;
      d = c.endContainer;
      var m = c.startOffset, e = c.endOffset, h, E = this.guard, k = this.type, n = a ? 'getPreviousSourceNode' : 'getNextSourceNode';
      if (!a && !this._.guardLTR) {
        var r = d.type == CKEDITOR.NODE_ELEMENT ? d : d.getParent(), o = d.type == CKEDITOR.NODE_ELEMENT ? d.getChild(e) : d.getNext();
        this._.guardLTR = function (a, b) {
          return (!b || !r.equals(a)) && (!o || !a.equals(o)) && (a.type != CKEDITOR.NODE_ELEMENT || !b || !a.equals(c.root));
        };
      }
      if (a && !this._.guardRTL) {
        var g = f.type == CKEDITOR.NODE_ELEMENT ? f : f.getParent(), D = f.type == CKEDITOR.NODE_ELEMENT ? m ? f.getChild(m - 1) : null : f.getPrevious();
        this._.guardRTL = function (a, b) {
          return (!b || !g.equals(a)) && (!D || !a.equals(D)) && (a.type != CKEDITOR.NODE_ELEMENT || !b || !a.equals(c.root));
        };
      }
      var i = a ? this._.guardRTL : this._.guardLTR;
      h = E ? function (a, b) {
        return i(a, b) === false ? false : E(a, b);
      } : i;
      if (this.current)
        d = this.current[n](false, k, h);
      else {
        if (a)
          d.type == CKEDITOR.NODE_ELEMENT && (d = e > 0 ? d.getChild(e - 1) : h(d, true) === false ? null : d.getPreviousSourceNode(true, k, h));
        else {
          d = f;
          if (d.type == CKEDITOR.NODE_ELEMENT && !(d = d.getChild(m)))
            d = h(f, true) === false ? null : f.getNextSourceNode(true, k, h);
        }
        d && h(d) === false && (d = null);
      }
      for (; d && !this._.end;) {
        this.current = d;
        if (!this.evaluator || this.evaluator(d) !== false) {
          if (!b)
            return d;
        } else if (b && this.evaluator)
          return false;
        d = d[n](false, k, h);
      }
      this.end();
      return this.current = null;
    }
    function e(b) {
      for (var c, d = null; c = a.call(this, b);)
        d = c;
      return d;
    }
    function b(a) {
      if (g(a))
        return false;
      if (a.type == CKEDITOR.NODE_TEXT)
        return true;
      if (a.type == CKEDITOR.NODE_ELEMENT) {
        if (a.is(CKEDITOR.dtd.$inline) || a.is('hr') || a.getAttribute('contenteditable') == 'false')
          return true;
        var b;
        if (b = !CKEDITOR.env.needsBrFiller)
          if (b = a.is(m))
            a: {
              b = 0;
              for (var c = a.getChildCount(); b < c; ++b)
                if (!g(a.getChild(b))) {
                  b = false;
                  break a;
                }
              b = true;
            }
        if (b)
          return true;
      }
      return false;
    }
    CKEDITOR.dom.walker = CKEDITOR.tools.createClass({
      $: function (a) {
        this.range = a;
        this._ = {};
      },
      proto: {
        end: function () {
          this._.end = 1;
        },
        next: function () {
          return a.call(this);
        },
        previous: function () {
          return a.call(this, 1);
        },
        checkForward: function () {
          return a.call(this, 0, 1) !== false;
        },
        checkBackward: function () {
          return a.call(this, 1, 1) !== false;
        },
        lastForward: function () {
          return e.call(this);
        },
        lastBackward: function () {
          return e.call(this, 1);
        },
        reset: function () {
          delete this.current;
          this._ = {};
        }
      }
    });
    var c = {
        block: 1,
        'list-item': 1,
        table: 1,
        'table-row-group': 1,
        'table-header-group': 1,
        'table-footer-group': 1,
        'table-row': 1,
        'table-column-group': 1,
        'table-column': 1,
        'table-cell': 1,
        'table-caption': 1
      }, f = {
        absolute: 1,
        fixed: 1
      };
    CKEDITOR.dom.element.prototype.isBlockBoundary = function (a) {
      return this.getComputedStyle('float') == 'none' && !(this.getComputedStyle('position') in f) && c[this.getComputedStyle('display')] ? true : !!(this.is(CKEDITOR.dtd.$block) || a && this.is(a));
    };
    CKEDITOR.dom.walker.blockBoundary = function (a) {
      return function (b) {
        return !(b.type == CKEDITOR.NODE_ELEMENT && b.isBlockBoundary(a));
      };
    };
    CKEDITOR.dom.walker.listItemBoundary = function () {
      return this.blockBoundary({ br: 1 });
    };
    CKEDITOR.dom.walker.bookmark = function (a, b) {
      function c(a) {
        return a && a.getName && a.getName() == 'span' && a.data('cke-bookmark');
      }
      return function (d) {
        var f, m;
        f = d && d.type != CKEDITOR.NODE_ELEMENT && (m = d.getParent()) && c(m);
        f = a ? f : f || c(d);
        return !!(b ^ f);
      };
    };
    CKEDITOR.dom.walker.whitespaces = function (a) {
      return function (b) {
        var c;
        b && b.type == CKEDITOR.NODE_TEXT && (c = !CKEDITOR.tools.trim(b.getText()) || CKEDITOR.env.webkit && b.getText() == '\u200b');
        return !!(a ^ c);
      };
    };
    CKEDITOR.dom.walker.invisible = function (a) {
      var b = CKEDITOR.dom.walker.whitespaces(), c = CKEDITOR.env.webkit ? 1 : 0;
      return function (d) {
        if (b(d))
          d = 1;
        else {
          d.type == CKEDITOR.NODE_TEXT && (d = d.getParent());
          d = d.$.offsetWidth <= c;
        }
        return !!(a ^ d);
      };
    };
    CKEDITOR.dom.walker.nodeType = function (a, b) {
      return function (c) {
        return !!(b ^ c.type == a);
      };
    };
    CKEDITOR.dom.walker.bogus = function (a) {
      function b(a) {
        return !h(a) && !l(a);
      }
      return function (c) {
        var f = CKEDITOR.env.needsBrFiller ? c.is && c.is('br') : c.getText && d.test(c.getText());
        if (f) {
          f = c.getParent();
          c = c.getNext(b);
          f = f.isBlockBoundary() && (!c || c.type == CKEDITOR.NODE_ELEMENT && c.isBlockBoundary());
        }
        return !!(a ^ f);
      };
    };
    CKEDITOR.dom.walker.temp = function (a) {
      return function (b) {
        b.type != CKEDITOR.NODE_ELEMENT && (b = b.getParent());
        b = b && b.hasAttribute('data-cke-temp');
        return !!(a ^ b);
      };
    };
    var d = /^[\t\r\n ]*(?:&nbsp;|\xa0)$/, h = CKEDITOR.dom.walker.whitespaces(), l = CKEDITOR.dom.walker.bookmark(), i = CKEDITOR.dom.walker.temp();
    CKEDITOR.dom.walker.ignored = function (a) {
      return function (b) {
        b = h(b) || l(b) || i(b);
        return !!(a ^ b);
      };
    };
    var g = CKEDITOR.dom.walker.ignored(), m = function (a) {
        var b = {}, c;
        for (c in a)
          CKEDITOR.dtd[c]['#'] && (b[c] = 1);
        return b;
      }(CKEDITOR.dtd.$block);
    CKEDITOR.dom.walker.editable = function (a) {
      return function (c) {
        return !!(a ^ b(c));
      };
    };
    CKEDITOR.dom.element.prototype.getBogus = function () {
      var a = this;
      do
        a = a.getPreviousSourceNode();
      while (l(a) || h(a) || a.type == CKEDITOR.NODE_ELEMENT && a.is(CKEDITOR.dtd.$inline) && !a.is(CKEDITOR.dtd.$empty));
      return a && (CKEDITOR.env.needsBrFiller ? a.is && a.is('br') : a.getText && d.test(a.getText())) ? a : false;
    };
  }());
  CKEDITOR.dom.range = function (a) {
    this.endOffset = this.endContainer = this.startOffset = this.startContainer = null;
    this.collapsed = true;
    var e = a instanceof CKEDITOR.dom.document;
    this.document = e ? a : a.getDocument();
    this.root = e ? a.getBody() : a;
  };
  (function () {
    function a() {
      var a = false, b = CKEDITOR.dom.walker.whitespaces(), c = CKEDITOR.dom.walker.bookmark(true), f = CKEDITOR.dom.walker.bogus();
      return function (e) {
        if (c(e) || b(e))
          return true;
        if (f(e) && !a)
          return a = true;
        return e.type == CKEDITOR.NODE_TEXT && (e.hasAscendant('pre') || CKEDITOR.tools.trim(e.getText()).length) || e.type == CKEDITOR.NODE_ELEMENT && !e.is(d) ? false : true;
      };
    }
    function e(a) {
      var b = CKEDITOR.dom.walker.whitespaces(), c = CKEDITOR.dom.walker.bookmark(1);
      return function (d) {
        return c(d) || b(d) ? true : !a && h(d) || d.type == CKEDITOR.NODE_ELEMENT && d.is(CKEDITOR.dtd.$removeEmpty);
      };
    }
    function b(a) {
      return function () {
        var b;
        return this[a ? 'getPreviousNode' : 'getNextNode'](function (a) {
          !b && g(a) && (b = a);
          return i(a) && !(h(a) && a.equals(b));
        });
      };
    }
    var c = function (a) {
        a.collapsed = a.startContainer && a.endContainer && a.startContainer.equals(a.endContainer) && a.startOffset == a.endOffset;
      }, f = function (a, b, c, d) {
        a.optimizeBookmark();
        var f = a.startContainer, e = a.endContainer, j = a.startOffset, u = a.endOffset, h, g;
        if (e.type == CKEDITOR.NODE_TEXT)
          e = e.split(u);
        else if (e.getChildCount() > 0)
          if (u >= e.getChildCount()) {
            e = e.append(a.document.createText(''));
            g = true;
          } else
            e = e.getChild(u);
        if (f.type == CKEDITOR.NODE_TEXT) {
          f.split(j);
          f.equals(e) && (e = f.getNext());
        } else if (j)
          if (j >= f.getChildCount()) {
            f = f.append(a.document.createText(''));
            h = true;
          } else
            f = f.getChild(j).getPrevious();
        else {
          f = f.append(a.document.createText(''), 1);
          h = true;
        }
        var j = f.getParents(), u = e.getParents(), k, n, r;
        for (k = 0; k < j.length; k++) {
          n = j[k];
          r = u[k];
          if (!n.equals(r))
            break;
        }
        for (var o = c, i, D, l, z = k; z < j.length; z++) {
          i = j[z];
          o && !i.equals(f) && (D = o.append(i.clone()));
          for (i = i.getNext(); i;) {
            if (i.equals(u[z]) || i.equals(e))
              break;
            l = i.getNext();
            if (b == 2)
              o.append(i.clone(true));
            else {
              i.remove();
              b == 1 && o.append(i);
            }
            i = l;
          }
          o && (o = D);
        }
        o = c;
        for (c = k; c < u.length; c++) {
          i = u[c];
          b > 0 && !i.equals(e) && (D = o.append(i.clone()));
          if (!j[c] || i.$.parentNode != j[c].$.parentNode)
            for (i = i.getPrevious(); i;) {
              if (i.equals(j[c]) || i.equals(f))
                break;
              l = i.getPrevious();
              if (b == 2)
                o.$.insertBefore(i.$.cloneNode(true), o.$.firstChild);
              else {
                i.remove();
                b == 1 && o.$.insertBefore(i.$, o.$.firstChild);
              }
              i = l;
            }
          o && (o = D);
        }
        if (b == 2) {
          n = a.startContainer;
          if (n.type == CKEDITOR.NODE_TEXT) {
            n.$.data = n.$.data + n.$.nextSibling.data;
            n.$.parentNode.removeChild(n.$.nextSibling);
          }
          a = a.endContainer;
          if (a.type == CKEDITOR.NODE_TEXT && a.$.nextSibling) {
            a.$.data = a.$.data + a.$.nextSibling.data;
            a.$.parentNode.removeChild(a.$.nextSibling);
          }
        } else {
          if (n && r && (f.$.parentNode != n.$.parentNode || e.$.parentNode != r.$.parentNode)) {
            b = r.getIndex();
            h && r.$.parentNode == f.$.parentNode && b--;
            if (d && n.type == CKEDITOR.NODE_ELEMENT) {
              d = CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>', a.document);
              d.insertAfter(n);
              n.mergeSiblings(false);
              a.moveToBookmark({ startNode: d });
            } else
              a.setStart(r.getParent(), b);
          }
          a.collapse(true);
        }
        h && f.remove();
        g && e.$.parentNode && e.remove();
      }, d = {
        abbr: 1,
        acronym: 1,
        b: 1,
        bdo: 1,
        big: 1,
        cite: 1,
        code: 1,
        del: 1,
        dfn: 1,
        em: 1,
        font: 1,
        i: 1,
        ins: 1,
        label: 1,
        kbd: 1,
        q: 1,
        samp: 1,
        small: 1,
        span: 1,
        strike: 1,
        strong: 1,
        sub: 1,
        sup: 1,
        tt: 1,
        u: 1,
        'var': 1
      }, h = CKEDITOR.dom.walker.bogus(), l = /^[\t\r\n ]*(?:&nbsp;|\xa0)$/, i = CKEDITOR.dom.walker.editable(), g = CKEDITOR.dom.walker.ignored(true);
    CKEDITOR.dom.range.prototype = {
      clone: function () {
        var a = new CKEDITOR.dom.range(this.root);
        a._setStartContainer(this.startContainer);
        a.startOffset = this.startOffset;
        a._setEndContainer(this.endContainer);
        a.endOffset = this.endOffset;
        a.collapsed = this.collapsed;
        return a;
      },
      collapse: function (a) {
        if (a) {
          this._setEndContainer(this.startContainer);
          this.endOffset = this.startOffset;
        } else {
          this._setStartContainer(this.endContainer);
          this.startOffset = this.endOffset;
        }
        this.collapsed = true;
      },
      cloneContents: function () {
        var a = new CKEDITOR.dom.documentFragment(this.document);
        this.collapsed || f(this, 2, a);
        return a;
      },
      deleteContents: function (a) {
        this.collapsed || f(this, 0, null, a);
      },
      extractContents: function (a) {
        var b = new CKEDITOR.dom.documentFragment(this.document);
        this.collapsed || f(this, 1, b, a);
        return b;
      },
      createBookmark: function (a) {
        var b, c, d, f, e = this.collapsed;
        b = this.document.createElement('span');
        b.data('cke-bookmark', 1);
        b.setStyle('display', 'none');
        b.setHtml('&nbsp;');
        if (a) {
          d = 'cke_bm_' + CKEDITOR.tools.getNextNumber();
          b.setAttribute('id', d + (e ? 'C' : 'S'));
        }
        if (!e) {
          c = b.clone();
          c.setHtml('&nbsp;');
          a && c.setAttribute('id', d + 'E');
          f = this.clone();
          f.collapse();
          f.insertNode(c);
        }
        f = this.clone();
        f.collapse(true);
        f.insertNode(b);
        if (c) {
          this.setStartAfter(b);
          this.setEndBefore(c);
        } else
          this.moveToPosition(b, CKEDITOR.POSITION_AFTER_END);
        return {
          startNode: a ? d + (e ? 'C' : 'S') : b,
          endNode: a ? d + 'E' : c,
          serializable: a,
          collapsed: e
        };
      },
      createBookmark2: function () {
        function a(c) {
          var d = c.container, f = c.offset, e;
          e = d;
          var m = f;
          e = e.type != CKEDITOR.NODE_ELEMENT || m === 0 || m == e.getChildCount() ? 0 : e.getChild(m - 1).type == CKEDITOR.NODE_TEXT && e.getChild(m).type == CKEDITOR.NODE_TEXT;
          if (e) {
            d = d.getChild(f - 1);
            f = d.getLength();
          }
          d.type == CKEDITOR.NODE_ELEMENT && f > 1 && (f = d.getChild(f - 1).getIndex(true) + 1);
          if (d.type == CKEDITOR.NODE_TEXT) {
            e = d;
            for (m = 0; (e = e.getPrevious()) && e.type == CKEDITOR.NODE_TEXT;)
              m = m + e.getLength();
            e = m;
            if (d.getText())
              f = f + e;
            else {
              m = d.getPrevious(b);
              if (e) {
                f = e;
                d = m ? m.getNext() : d.getParent().getFirst();
              } else {
                d = d.getParent();
                f = m ? m.getIndex(true) + 1 : 0;
              }
            }
          }
          c.container = d;
          c.offset = f;
        }
        var b = CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT, true);
        return function (b) {
          var c = this.collapsed, d = {
              container: this.startContainer,
              offset: this.startOffset
            }, f = {
              container: this.endContainer,
              offset: this.endOffset
            };
          if (b) {
            a(d);
            c || a(f);
          }
          return {
            start: d.container.getAddress(b),
            end: c ? null : f.container.getAddress(b),
            startOffset: d.offset,
            endOffset: f.offset,
            normalized: b,
            collapsed: c,
            is2: true
          };
        };
      }(),
      moveToBookmark: function (a) {
        if (a.is2) {
          var b = this.document.getByAddress(a.start, a.normalized), c = a.startOffset, d = a.end && this.document.getByAddress(a.end, a.normalized), a = a.endOffset;
          this.setStart(b, c);
          d ? this.setEnd(d, a) : this.collapse(true);
        } else {
          b = (c = a.serializable) ? this.document.getById(a.startNode) : a.startNode;
          a = c ? this.document.getById(a.endNode) : a.endNode;
          this.setStartBefore(b);
          b.remove();
          if (a) {
            this.setEndBefore(a);
            a.remove();
          } else
            this.collapse(true);
        }
      },
      getBoundaryNodes: function () {
        var a = this.startContainer, b = this.endContainer, c = this.startOffset, d = this.endOffset, f;
        if (a.type == CKEDITOR.NODE_ELEMENT) {
          f = a.getChildCount();
          if (f > c)
            a = a.getChild(c);
          else if (f < 1)
            a = a.getPreviousSourceNode();
          else {
            for (a = a.$; a.lastChild;)
              a = a.lastChild;
            a = new CKEDITOR.dom.node(a);
            a = a.getNextSourceNode() || a;
          }
        }
        if (b.type == CKEDITOR.NODE_ELEMENT) {
          f = b.getChildCount();
          if (f > d)
            b = b.getChild(d).getPreviousSourceNode(true);
          else if (f < 1)
            b = b.getPreviousSourceNode();
          else {
            for (b = b.$; b.lastChild;)
              b = b.lastChild;
            b = new CKEDITOR.dom.node(b);
          }
        }
        a.getPosition(b) & CKEDITOR.POSITION_FOLLOWING && (a = b);
        return {
          startNode: a,
          endNode: b
        };
      },
      getCommonAncestor: function (a, b) {
        var c = this.startContainer, d = this.endContainer, c = c.equals(d) ? a && c.type == CKEDITOR.NODE_ELEMENT && this.startOffset == this.endOffset - 1 ? c.getChild(this.startOffset) : c : c.getCommonAncestor(d);
        return b && !c.is ? c.getParent() : c;
      },
      optimize: function () {
        var a = this.startContainer, b = this.startOffset;
        a.type != CKEDITOR.NODE_ELEMENT && (b ? b >= a.getLength() && this.setStartAfter(a) : this.setStartBefore(a));
        a = this.endContainer;
        b = this.endOffset;
        a.type != CKEDITOR.NODE_ELEMENT && (b ? b >= a.getLength() && this.setEndAfter(a) : this.setEndBefore(a));
      },
      optimizeBookmark: function () {
        var a = this.startContainer, b = this.endContainer;
        a.is && (a.is('span') && a.data('cke-bookmark')) && this.setStartAt(a, CKEDITOR.POSITION_BEFORE_START);
        b && (b.is && b.is('span') && b.data('cke-bookmark')) && this.setEndAt(b, CKEDITOR.POSITION_AFTER_END);
      },
      trim: function (a, b) {
        var c = this.startContainer, d = this.startOffset, f = this.collapsed;
        if ((!a || f) && c && c.type == CKEDITOR.NODE_TEXT) {
          if (d)
            if (d >= c.getLength()) {
              d = c.getIndex() + 1;
              c = c.getParent();
            } else {
              var e = c.split(d), d = c.getIndex() + 1, c = c.getParent();
              if (this.startContainer.equals(this.endContainer))
                this.setEnd(e, this.endOffset - this.startOffset);
              else if (c.equals(this.endContainer))
                this.endOffset = this.endOffset + 1;
            }
          else {
            d = c.getIndex();
            c = c.getParent();
          }
          this.setStart(c, d);
          if (f) {
            this.collapse(true);
            return;
          }
        }
        c = this.endContainer;
        d = this.endOffset;
        if (!b && !f && c && c.type == CKEDITOR.NODE_TEXT) {
          if (d) {
            d >= c.getLength() || c.split(d);
            d = c.getIndex() + 1;
          } else
            d = c.getIndex();
          c = c.getParent();
          this.setEnd(c, d);
        }
      },
      enlarge: function (a, b) {
        function c(a) {
          return a && a.type == CKEDITOR.NODE_ELEMENT && a.hasAttribute('contenteditable') ? null : a;
        }
        var d = RegExp(/[^\s\ufeff]/);
        switch (a) {
        case CKEDITOR.ENLARGE_INLINE:
          var f = 1;
        case CKEDITOR.ENLARGE_ELEMENT:
          if (this.collapsed)
            break;
          var e = this.getCommonAncestor(), j = this.root, h, i, g, k, n, r = false, o, l;
          o = this.startContainer;
          var D = this.startOffset;
          if (o.type == CKEDITOR.NODE_TEXT) {
            if (D) {
              o = !CKEDITOR.tools.trim(o.substring(0, D)).length && o;
              r = !!o;
            }
            if (o && !(k = o.getPrevious()))
              g = o.getParent();
          } else {
            D && (k = o.getChild(D - 1) || o.getLast());
            k || (g = o);
          }
          for (g = c(g); g || k;) {
            if (g && !k) {
              !n && g.equals(e) && (n = true);
              if (f ? g.isBlockBoundary() : !j.contains(g))
                break;
              if (!r || g.getComputedStyle('display') != 'inline') {
                r = false;
                n ? h = g : this.setStartBefore(g);
              }
              k = g.getPrevious();
            }
            for (; k;) {
              o = false;
              if (k.type == CKEDITOR.NODE_COMMENT)
                k = k.getPrevious();
              else {
                if (k.type == CKEDITOR.NODE_TEXT) {
                  l = k.getText();
                  d.test(l) && (k = null);
                  o = /[\s\ufeff]$/.test(l);
                } else if ((k.$.offsetWidth > (CKEDITOR.env.webkit ? 1 : 0) || b && k.is('br')) && !k.data('cke-bookmark'))
                  if (r && CKEDITOR.dtd.$removeEmpty[k.getName()]) {
                    l = k.getText();
                    if (d.test(l))
                      k = null;
                    else
                      for (var D = k.$.getElementsByTagName('*'), J = 0, z; z = D[J++];)
                        if (!CKEDITOR.dtd.$removeEmpty[z.nodeName.toLowerCase()]) {
                          k = null;
                          break;
                        }
                    k && (o = !!l.length);
                  } else
                    k = null;
                o && (r ? n ? h = g : g && this.setStartBefore(g) : r = true);
                if (k) {
                  o = k.getPrevious();
                  if (!g && !o) {
                    g = k;
                    k = null;
                    break;
                  }
                  k = o;
                } else
                  g = null;
              }
            }
            g && (g = c(g.getParent()));
          }
          o = this.endContainer;
          D = this.endOffset;
          g = k = null;
          n = r = false;
          var L = function (a, b) {
            var c = new CKEDITOR.dom.range(j);
            c.setStart(a, b);
            c.setEndAt(j, CKEDITOR.POSITION_BEFORE_END);
            var c = new CKEDITOR.dom.walker(c), f;
            for (c.guard = function (a) {
                return !(a.type == CKEDITOR.NODE_ELEMENT && a.isBlockBoundary());
              }; f = c.next();) {
              if (f.type != CKEDITOR.NODE_TEXT)
                return false;
              l = f != a ? f.getText() : f.substring(b);
              if (d.test(l))
                return false;
            }
            return true;
          };
          if (o.type == CKEDITOR.NODE_TEXT)
            if (CKEDITOR.tools.trim(o.substring(D)).length)
              r = true;
            else {
              r = !o.getLength();
              if (D == o.getLength()) {
                if (!(k = o.getNext()))
                  g = o.getParent();
              } else
                L(o, D) && (g = o.getParent());
            }
          else
            (k = o.getChild(D)) || (g = o);
          for (; g || k;) {
            if (g && !k) {
              !n && g.equals(e) && (n = true);
              if (f ? g.isBlockBoundary() : !j.contains(g))
                break;
              if (!r || g.getComputedStyle('display') != 'inline') {
                r = false;
                n ? i = g : g && this.setEndAfter(g);
              }
              k = g.getNext();
            }
            for (; k;) {
              o = false;
              if (k.type == CKEDITOR.NODE_TEXT) {
                l = k.getText();
                L(k, 0) || (k = null);
                o = /^[\s\ufeff]/.test(l);
              } else if (k.type == CKEDITOR.NODE_ELEMENT) {
                if ((k.$.offsetWidth > 0 || b && k.is('br')) && !k.data('cke-bookmark'))
                  if (r && CKEDITOR.dtd.$removeEmpty[k.getName()]) {
                    l = k.getText();
                    if (d.test(l))
                      k = null;
                    else {
                      D = k.$.getElementsByTagName('*');
                      for (J = 0; z = D[J++];)
                        if (!CKEDITOR.dtd.$removeEmpty[z.nodeName.toLowerCase()]) {
                          k = null;
                          break;
                        }
                    }
                    k && (o = !!l.length);
                  } else
                    k = null;
              } else
                o = 1;
              o && r && (n ? i = g : this.setEndAfter(g));
              if (k) {
                o = k.getNext();
                if (!g && !o) {
                  g = k;
                  k = null;
                  break;
                }
                k = o;
              } else
                g = null;
            }
            g && (g = c(g.getParent()));
          }
          if (h && i) {
            e = h.contains(i) ? i : h;
            this.setStartBefore(e);
            this.setEndAfter(e);
          }
          break;
        case CKEDITOR.ENLARGE_BLOCK_CONTENTS:
        case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:
          g = new CKEDITOR.dom.range(this.root);
          j = this.root;
          g.setStartAt(j, CKEDITOR.POSITION_AFTER_START);
          g.setEnd(this.startContainer, this.startOffset);
          g = new CKEDITOR.dom.walker(g);
          var B, w, H = CKEDITOR.dom.walker.blockBoundary(a == CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS ? { br: 1 } : null), C = null, A = function (a) {
              if (a.type == CKEDITOR.NODE_ELEMENT && a.getAttribute('contenteditable') == 'false')
                if (C) {
                  if (C.equals(a)) {
                    C = null;
                    return;
                  }
                } else
                  C = a;
              else if (C)
                return;
              var b = H(a);
              b || (B = a);
              return b;
            }, f = function (a) {
              var b = A(a);
              !b && (a.is && a.is('br')) && (w = a);
              return b;
            };
          g.guard = A;
          g = g.lastBackward();
          B = B || j;
          this.setStartAt(B, !B.is('br') && (!g && this.checkStartOfBlock() || g && B.contains(g)) ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_AFTER_END);
          if (a == CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS) {
            g = this.clone();
            g = new CKEDITOR.dom.walker(g);
            var x = CKEDITOR.dom.walker.whitespaces(), F = CKEDITOR.dom.walker.bookmark();
            g.evaluator = function (a) {
              return !x(a) && !F(a);
            };
            if ((g = g.previous()) && g.type == CKEDITOR.NODE_ELEMENT && g.is('br'))
              break;
          }
          g = this.clone();
          g.collapse();
          g.setEndAt(j, CKEDITOR.POSITION_BEFORE_END);
          g = new CKEDITOR.dom.walker(g);
          g.guard = a == CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS ? f : A;
          B = C = w = null;
          g = g.lastForward();
          B = B || j;
          this.setEndAt(B, !g && this.checkEndOfBlock() || g && B.contains(g) ? CKEDITOR.POSITION_BEFORE_END : CKEDITOR.POSITION_BEFORE_START);
          w && this.setEndAfter(w);
        }
      },
      shrink: function (a, b, c) {
        if (!this.collapsed) {
          var a = a || CKEDITOR.SHRINK_TEXT, d = this.clone(), f = this.startContainer, e = this.endContainer, j = this.startOffset, g = this.endOffset, h = 1, i = 1;
          if (f && f.type == CKEDITOR.NODE_TEXT)
            if (j)
              if (j >= f.getLength())
                d.setStartAfter(f);
              else {
                d.setStartBefore(f);
                h = 0;
              }
            else
              d.setStartBefore(f);
          if (e && e.type == CKEDITOR.NODE_TEXT)
            if (g)
              if (g >= e.getLength())
                d.setEndAfter(e);
              else {
                d.setEndAfter(e);
                i = 0;
              }
            else
              d.setEndBefore(e);
          var d = new CKEDITOR.dom.walker(d), k = CKEDITOR.dom.walker.bookmark();
          d.evaluator = function (b) {
            return b.type == (a == CKEDITOR.SHRINK_ELEMENT ? CKEDITOR.NODE_ELEMENT : CKEDITOR.NODE_TEXT);
          };
          var n;
          d.guard = function (b, d) {
            if (k(b))
              return true;
            if (a == CKEDITOR.SHRINK_ELEMENT && b.type == CKEDITOR.NODE_TEXT || d && b.equals(n) || c === false && b.type == CKEDITOR.NODE_ELEMENT && b.isBlockBoundary() || b.type == CKEDITOR.NODE_ELEMENT && b.hasAttribute('contenteditable'))
              return false;
            !d && b.type == CKEDITOR.NODE_ELEMENT && (n = b);
            return true;
          };
          if (h)
            (f = d[a == CKEDITOR.SHRINK_ELEMENT ? 'lastForward' : 'next']()) && this.setStartAt(f, b ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_START);
          if (i) {
            d.reset();
            (d = d[a == CKEDITOR.SHRINK_ELEMENT ? 'lastBackward' : 'previous']()) && this.setEndAt(d, b ? CKEDITOR.POSITION_BEFORE_END : CKEDITOR.POSITION_AFTER_END);
          }
          return !(!h && !i);
        }
      },
      insertNode: function (a) {
        this.optimizeBookmark();
        this.trim(false, true);
        var b = this.startContainer, c = b.getChild(this.startOffset);
        c ? a.insertBefore(c) : b.append(a);
        a.getParent() && a.getParent().equals(this.endContainer) && this.endOffset++;
        this.setStartBefore(a);
      },
      moveToPosition: function (a, b) {
        this.setStartAt(a, b);
        this.collapse(true);
      },
      moveToRange: function (a) {
        this.setStart(a.startContainer, a.startOffset);
        this.setEnd(a.endContainer, a.endOffset);
      },
      selectNodeContents: function (a) {
        this.setStart(a, 0);
        this.setEnd(a, a.type == CKEDITOR.NODE_TEXT ? a.getLength() : a.getChildCount());
      },
      setStart: function (a, b) {
        if (a.type == CKEDITOR.NODE_ELEMENT && CKEDITOR.dtd.$empty[a.getName()]) {
          b = a.getIndex();
          a = a.getParent();
        }
        this._setStartContainer(a);
        this.startOffset = b;
        if (!this.endContainer) {
          this._setEndContainer(a);
          this.endOffset = b;
        }
        c(this);
      },
      setEnd: function (a, b) {
        if (a.type == CKEDITOR.NODE_ELEMENT && CKEDITOR.dtd.$empty[a.getName()]) {
          b = a.getIndex() + 1;
          a = a.getParent();
        }
        this._setEndContainer(a);
        this.endOffset = b;
        if (!this.startContainer) {
          this._setStartContainer(a);
          this.startOffset = b;
        }
        c(this);
      },
      setStartAfter: function (a) {
        this.setStart(a.getParent(), a.getIndex() + 1);
      },
      setStartBefore: function (a) {
        this.setStart(a.getParent(), a.getIndex());
      },
      setEndAfter: function (a) {
        this.setEnd(a.getParent(), a.getIndex() + 1);
      },
      setEndBefore: function (a) {
        this.setEnd(a.getParent(), a.getIndex());
      },
      setStartAt: function (a, b) {
        switch (b) {
        case CKEDITOR.POSITION_AFTER_START:
          this.setStart(a, 0);
          break;
        case CKEDITOR.POSITION_BEFORE_END:
          a.type == CKEDITOR.NODE_TEXT ? this.setStart(a, a.getLength()) : this.setStart(a, a.getChildCount());
          break;
        case CKEDITOR.POSITION_BEFORE_START:
          this.setStartBefore(a);
          break;
        case CKEDITOR.POSITION_AFTER_END:
          this.setStartAfter(a);
        }
        c(this);
      },
      setEndAt: function (a, b) {
        switch (b) {
        case CKEDITOR.POSITION_AFTER_START:
          this.setEnd(a, 0);
          break;
        case CKEDITOR.POSITION_BEFORE_END:
          a.type == CKEDITOR.NODE_TEXT ? this.setEnd(a, a.getLength()) : this.setEnd(a, a.getChildCount());
          break;
        case CKEDITOR.POSITION_BEFORE_START:
          this.setEndBefore(a);
          break;
        case CKEDITOR.POSITION_AFTER_END:
          this.setEndAfter(a);
        }
        c(this);
      },
      fixBlock: function (a, b) {
        var c = this.createBookmark(), d = this.document.createElement(b);
        this.collapse(a);
        this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);
        this.extractContents().appendTo(d);
        d.trim();
        d.appendBogus();
        this.insertNode(d);
        this.moveToBookmark(c);
        return d;
      },
      splitBlock: function (a) {
        var b = new CKEDITOR.dom.elementPath(this.startContainer, this.root), c = new CKEDITOR.dom.elementPath(this.endContainer, this.root), d = b.block, f = c.block, e = null;
        if (!b.blockLimit.equals(c.blockLimit))
          return null;
        if (a != 'br') {
          if (!d) {
            d = this.fixBlock(true, a);
            f = new CKEDITOR.dom.elementPath(this.endContainer, this.root).block;
          }
          f || (f = this.fixBlock(false, a));
        }
        a = d && this.checkStartOfBlock();
        b = f && this.checkEndOfBlock();
        this.deleteContents();
        if (d && d.equals(f))
          if (b) {
            e = new CKEDITOR.dom.elementPath(this.startContainer, this.root);
            this.moveToPosition(f, CKEDITOR.POSITION_AFTER_END);
            f = null;
          } else if (a) {
            e = new CKEDITOR.dom.elementPath(this.startContainer, this.root);
            this.moveToPosition(d, CKEDITOR.POSITION_BEFORE_START);
            d = null;
          } else {
            f = this.splitElement(d);
            d.is('ul', 'ol') || d.appendBogus();
          }
        return {
          previousBlock: d,
          nextBlock: f,
          wasStartOfBlock: a,
          wasEndOfBlock: b,
          elementPath: e
        };
      },
      splitElement: function (a) {
        if (!this.collapsed)
          return null;
        this.setEndAt(a, CKEDITOR.POSITION_BEFORE_END);
        var b = this.extractContents(), c = a.clone(false);
        b.appendTo(c);
        c.insertAfter(a);
        this.moveToPosition(a, CKEDITOR.POSITION_AFTER_END);
        return c;
      },
      removeEmptyBlocksAtEnd: function () {
        function a(d) {
          return function (a) {
            return b(a) || (c(a) || a.type == CKEDITOR.NODE_ELEMENT && a.isEmptyInlineRemoveable()) || d.is('table') && a.is('caption') ? false : true;
          };
        }
        var b = CKEDITOR.dom.walker.whitespaces(), c = CKEDITOR.dom.walker.bookmark(false);
        return function (b) {
          for (var c = this.createBookmark(), d = this[b ? 'endPath' : 'startPath'](), f = d.block || d.blockLimit, e; f && !f.equals(d.root) && !f.getFirst(a(f));) {
            e = f.getParent();
            this[b ? 'setEndAt' : 'setStartAt'](f, CKEDITOR.POSITION_AFTER_END);
            f.remove(1);
            f = e;
          }
          this.moveToBookmark(c);
        };
      }(),
      startPath: function () {
        return new CKEDITOR.dom.elementPath(this.startContainer, this.root);
      },
      endPath: function () {
        return new CKEDITOR.dom.elementPath(this.endContainer, this.root);
      },
      checkBoundaryOfElement: function (a, b) {
        var c = b == CKEDITOR.START, d = this.clone();
        d.collapse(c);
        d[c ? 'setStartAt' : 'setEndAt'](a, c ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_END);
        d = new CKEDITOR.dom.walker(d);
        d.evaluator = e(c);
        return d[c ? 'checkBackward' : 'checkForward']();
      },
      checkStartOfBlock: function () {
        var b = this.startContainer, c = this.startOffset;
        if (CKEDITOR.env.ie && c && b.type == CKEDITOR.NODE_TEXT) {
          b = CKEDITOR.tools.ltrim(b.substring(0, c));
          l.test(b) && this.trim(0, 1);
        }
        this.trim();
        b = new CKEDITOR.dom.elementPath(this.startContainer, this.root);
        c = this.clone();
        c.collapse(true);
        c.setStartAt(b.block || b.blockLimit, CKEDITOR.POSITION_AFTER_START);
        b = new CKEDITOR.dom.walker(c);
        b.evaluator = a();
        return b.checkBackward();
      },
      checkEndOfBlock: function () {
        var b = this.endContainer, c = this.endOffset;
        if (CKEDITOR.env.ie && b.type == CKEDITOR.NODE_TEXT) {
          b = CKEDITOR.tools.rtrim(b.substring(c));
          l.test(b) && this.trim(1, 0);
        }
        this.trim();
        b = new CKEDITOR.dom.elementPath(this.endContainer, this.root);
        c = this.clone();
        c.collapse(false);
        c.setEndAt(b.block || b.blockLimit, CKEDITOR.POSITION_BEFORE_END);
        b = new CKEDITOR.dom.walker(c);
        b.evaluator = a();
        return b.checkForward();
      },
      getPreviousNode: function (a, b, c) {
        var d = this.clone();
        d.collapse(1);
        d.setStartAt(c || this.root, CKEDITOR.POSITION_AFTER_START);
        c = new CKEDITOR.dom.walker(d);
        c.evaluator = a;
        c.guard = b;
        return c.previous();
      },
      getNextNode: function (a, b, c) {
        var d = this.clone();
        d.collapse();
        d.setEndAt(c || this.root, CKEDITOR.POSITION_BEFORE_END);
        c = new CKEDITOR.dom.walker(d);
        c.evaluator = a;
        c.guard = b;
        return c.next();
      },
      checkReadOnly: function () {
        function a(b, c) {
          for (; b;) {
            if (b.type == CKEDITOR.NODE_ELEMENT) {
              if (b.getAttribute('contentEditable') == 'false' && !b.data('cke-editable'))
                return 0;
              if (b.is('html') || b.getAttribute('contentEditable') == 'true' && (b.contains(c) || b.equals(c)))
                break;
            }
            b = b.getParent();
          }
          return 1;
        }
        return function () {
          var b = this.startContainer, c = this.endContainer;
          return !(a(b, c) && a(c, b));
        };
      }(),
      moveToElementEditablePosition: function (a, b) {
        if (a.type == CKEDITOR.NODE_ELEMENT && !a.isEditable(false)) {
          this.moveToPosition(a, b ? CKEDITOR.POSITION_AFTER_END : CKEDITOR.POSITION_BEFORE_START);
          return true;
        }
        for (var c = 0; a;) {
          if (a.type == CKEDITOR.NODE_TEXT) {
            b && this.endContainer && this.checkEndOfBlock() && l.test(a.getText()) ? this.moveToPosition(a, CKEDITOR.POSITION_BEFORE_START) : this.moveToPosition(a, b ? CKEDITOR.POSITION_AFTER_END : CKEDITOR.POSITION_BEFORE_START);
            c = 1;
            break;
          }
          if (a.type == CKEDITOR.NODE_ELEMENT)
            if (a.isEditable()) {
              this.moveToPosition(a, b ? CKEDITOR.POSITION_BEFORE_END : CKEDITOR.POSITION_AFTER_START);
              c = 1;
            } else if (b && a.is('br') && this.endContainer && this.checkEndOfBlock())
              this.moveToPosition(a, CKEDITOR.POSITION_BEFORE_START);
            else if (a.getAttribute('contenteditable') == 'false' && a.is(CKEDITOR.dtd.$block)) {
              this.setStartBefore(a);
              this.setEndAfter(a);
              return true;
            }
          var d = a, f = c, e = void 0;
          d.type == CKEDITOR.NODE_ELEMENT && d.isEditable(false) && (e = d[b ? 'getLast' : 'getFirst'](g));
          !f && !e && (e = d[b ? 'getPrevious' : 'getNext'](g));
          a = e;
        }
        return !!c;
      },
      moveToClosestEditablePosition: function (a, b) {
        var c = new CKEDITOR.dom.range(this.root), d = 0, f, e = [
            CKEDITOR.POSITION_AFTER_END,
            CKEDITOR.POSITION_BEFORE_START
          ];
        c.moveToPosition(a, e[b ? 0 : 1]);
        if (a.is(CKEDITOR.dtd.$block)) {
          if (f = c[b ? 'getNextEditableNode' : 'getPreviousEditableNode']()) {
            d = 1;
            if (f.type == CKEDITOR.NODE_ELEMENT && f.is(CKEDITOR.dtd.$block) && f.getAttribute('contenteditable') == 'false') {
              c.setStartAt(f, CKEDITOR.POSITION_BEFORE_START);
              c.setEndAt(f, CKEDITOR.POSITION_AFTER_END);
            } else
              c.moveToPosition(f, e[b ? 1 : 0]);
          }
        } else
          d = 1;
        d && this.moveToRange(c);
        return !!d;
      },
      moveToElementEditStart: function (a) {
        return this.moveToElementEditablePosition(a);
      },
      moveToElementEditEnd: function (a) {
        return this.moveToElementEditablePosition(a, true);
      },
      getEnclosedNode: function () {
        var a = this.clone();
        a.optimize();
        if (a.startContainer.type != CKEDITOR.NODE_ELEMENT || a.endContainer.type != CKEDITOR.NODE_ELEMENT)
          return null;
        var a = new CKEDITOR.dom.walker(a), b = CKEDITOR.dom.walker.bookmark(false, true), c = CKEDITOR.dom.walker.whitespaces(true);
        a.evaluator = function (a) {
          return c(a) && b(a);
        };
        var d = a.next();
        a.reset();
        return d && d.equals(a.previous()) ? d : null;
      },
      getTouchedStartNode: function () {
        var a = this.startContainer;
        return this.collapsed || a.type != CKEDITOR.NODE_ELEMENT ? a : a.getChild(this.startOffset) || a;
      },
      getTouchedEndNode: function () {
        var a = this.endContainer;
        return this.collapsed || a.type != CKEDITOR.NODE_ELEMENT ? a : a.getChild(this.endOffset - 1) || a;
      },
      getNextEditableNode: b(),
      getPreviousEditableNode: b(1),
      scrollIntoView: function () {
        var a = new CKEDITOR.dom.element.createFromHtml('<span>&nbsp;</span>', this.document), b, c, d, f = this.clone();
        f.optimize();
        if (d = f.startContainer.type == CKEDITOR.NODE_TEXT) {
          c = f.startContainer.getText();
          b = f.startContainer.split(f.startOffset);
          a.insertAfter(f.startContainer);
        } else
          f.insertNode(a);
        a.scrollIntoView();
        if (d) {
          f.startContainer.setText(c);
          b.remove();
        }
        a.remove();
      },
      _setStartContainer: function (a) {
        this.startContainer = a;
      },
      _setEndContainer: function (a) {
        this.endContainer = a;
      }
    };
  }());
  CKEDITOR.POSITION_AFTER_START = 1;
  CKEDITOR.POSITION_BEFORE_END = 2;
  CKEDITOR.POSITION_BEFORE_START = 3;
  CKEDITOR.POSITION_AFTER_END = 4;
  CKEDITOR.ENLARGE_ELEMENT = 1;
  CKEDITOR.ENLARGE_BLOCK_CONTENTS = 2;
  CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS = 3;
  CKEDITOR.ENLARGE_INLINE = 4;
  CKEDITOR.START = 1;
  CKEDITOR.END = 2;
  CKEDITOR.SHRINK_ELEMENT = 1;
  CKEDITOR.SHRINK_TEXT = 2;
  'use strict';
  (function () {
    function a(a) {
      if (!(arguments.length < 1)) {
        this.range = a;
        this.forceBrBreak = 0;
        this.enlargeBr = 1;
        this.enforceRealBlocks = 0;
        this._ || (this._ = {});
      }
    }
    function e(a) {
      var b = [];
      a.forEach(function (a) {
        if (a.getAttribute('contenteditable') == 'true') {
          b.push(a);
          return false;
        }
      }, CKEDITOR.NODE_ELEMENT, true);
      return b;
    }
    function b(a, c, d, f) {
      a: {
        f == null && (f = e(d));
        for (var h; h = f.shift();)
          if (h.getDtd().p) {
            f = {
              element: h,
              remaining: f
            };
            break a;
          }
        f = null;
      }
      if (!f)
        return 0;
      if ((h = CKEDITOR.filter.instances[f.element.data('cke-filter')]) && !h.check(c))
        return b(a, c, d, f.remaining);
      c = new CKEDITOR.dom.range(f.element);
      c.selectNodeContents(f.element);
      c = c.createIterator();
      c.enlargeBr = a.enlargeBr;
      c.enforceRealBlocks = a.enforceRealBlocks;
      c.activeFilter = c.filter = h;
      a._.nestedEditable = {
        element: f.element,
        container: d,
        remaining: f.remaining,
        iterator: c
      };
      return 1;
    }
    function c(a, b, c) {
      if (!b)
        return false;
      a = a.clone();
      a.collapse(!c);
      return a.checkBoundaryOfElement(b, c ? CKEDITOR.START : CKEDITOR.END);
    }
    var f = /^[\r\n\t ]+$/, d = CKEDITOR.dom.walker.bookmark(false, true), h = CKEDITOR.dom.walker.whitespaces(true), l = function (a) {
        return d(a) && h(a);
      }, i = {
        dd: 1,
        dt: 1,
        li: 1
      };
    a.prototype = {
      getNextParagraph: function (a) {
        var e, h, s, y, p, a = a || 'p';
        if (this._.nestedEditable) {
          if (e = this._.nestedEditable.iterator.getNextParagraph(a)) {
            this.activeFilter = this._.nestedEditable.iterator.activeFilter;
            return e;
          }
          this.activeFilter = this.filter;
          if (b(this, a, this._.nestedEditable.container, this._.nestedEditable.remaining)) {
            this.activeFilter = this._.nestedEditable.iterator.activeFilter;
            return this._.nestedEditable.iterator.getNextParagraph(a);
          }
          this._.nestedEditable = null;
        }
        if (!this.range.root.getDtd()[a])
          return null;
        if (!this._.started) {
          var q = this.range.clone();
          h = q.startPath();
          var j = q.endPath(), u = !q.collapsed && c(q, h.block), v = !q.collapsed && c(q, j.block, 1);
          q.shrink(CKEDITOR.SHRINK_ELEMENT, true);
          u && q.setStartAt(h.block, CKEDITOR.POSITION_BEFORE_END);
          v && q.setEndAt(j.block, CKEDITOR.POSITION_AFTER_START);
          h = q.endContainer.hasAscendant('pre', true) || q.startContainer.hasAscendant('pre', true);
          q.enlarge(this.forceBrBreak && !h || !this.enlargeBr ? CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS : CKEDITOR.ENLARGE_BLOCK_CONTENTS);
          if (!q.collapsed) {
            h = new CKEDITOR.dom.walker(q.clone());
            j = CKEDITOR.dom.walker.bookmark(true, true);
            h.evaluator = j;
            this._.nextNode = h.next();
            h = new CKEDITOR.dom.walker(q.clone());
            h.evaluator = j;
            h = h.previous();
            this._.lastNode = h.getNextSourceNode(true, null, q.root);
            if (this._.lastNode && this._.lastNode.type == CKEDITOR.NODE_TEXT && !CKEDITOR.tools.trim(this._.lastNode.getText()) && this._.lastNode.getParent().isBlockBoundary()) {
              j = this.range.clone();
              j.moveToPosition(this._.lastNode, CKEDITOR.POSITION_AFTER_END);
              if (j.checkEndOfBlock()) {
                j = new CKEDITOR.dom.elementPath(j.endContainer, j.root);
                this._.lastNode = (j.block || j.blockLimit).getNextSourceNode(true);
              }
            }
            if (!this._.lastNode || !q.root.contains(this._.lastNode)) {
              this._.lastNode = this._.docEndMarker = q.document.createText('');
              this._.lastNode.insertAfter(h);
            }
            q = null;
          }
          this._.started = 1;
          h = q;
        }
        j = this._.nextNode;
        q = this._.lastNode;
        for (this._.nextNode = null; j;) {
          var u = 0, v = j.hasAscendant('pre'), E = j.type != CKEDITOR.NODE_ELEMENT, k = 0;
          if (E)
            j.type == CKEDITOR.NODE_TEXT && f.test(j.getText()) && (E = 0);
          else {
            var n = j.getName();
            if (CKEDITOR.dtd.$block[n] && j.getAttribute('contenteditable') == 'false') {
              e = j;
              b(this, a, e);
              break;
            } else if (j.isBlockBoundary(this.forceBrBreak && !v && { br: 1 })) {
              if (n == 'br')
                E = 1;
              else if (!h && !j.getChildCount() && n != 'hr') {
                e = j;
                s = j.equals(q);
                break;
              }
              if (h) {
                h.setEndAt(j, CKEDITOR.POSITION_BEFORE_START);
                if (n != 'br')
                  this._.nextNode = j;
              }
              u = 1;
            } else {
              if (j.getFirst()) {
                if (!h) {
                  h = this.range.clone();
                  h.setStartAt(j, CKEDITOR.POSITION_BEFORE_START);
                }
                j = j.getFirst();
                continue;
              }
              E = 1;
            }
          }
          if (E && !h) {
            h = this.range.clone();
            h.setStartAt(j, CKEDITOR.POSITION_BEFORE_START);
          }
          s = (!u || E) && j.equals(q);
          if (h && !u)
            for (; !j.getNext(l) && !s;) {
              n = j.getParent();
              if (n.isBlockBoundary(this.forceBrBreak && !v && { br: 1 })) {
                u = 1;
                E = 0;
                s || n.equals(q);
                h.setEndAt(n, CKEDITOR.POSITION_BEFORE_END);
                break;
              }
              j = n;
              E = 1;
              s = j.equals(q);
              k = 1;
            }
          E && h.setEndAt(j, CKEDITOR.POSITION_AFTER_END);
          j = this._getNextSourceNode(j, k, q);
          if ((s = !j) || u && h)
            break;
        }
        if (!e) {
          if (!h) {
            this._.docEndMarker && this._.docEndMarker.remove();
            return this._.nextNode = null;
          }
          e = new CKEDITOR.dom.elementPath(h.startContainer, h.root);
          j = e.blockLimit;
          u = {
            div: 1,
            th: 1,
            td: 1
          };
          e = e.block;
          if (!e && j && !this.enforceRealBlocks && u[j.getName()] && h.checkStartOfBlock() && h.checkEndOfBlock() && !j.equals(h.root))
            e = j;
          else if (!e || this.enforceRealBlocks && e.is(i)) {
            e = this.range.document.createElement(a);
            h.extractContents().appendTo(e);
            e.trim();
            h.insertNode(e);
            y = p = true;
          } else if (e.getName() != 'li') {
            if (!h.checkStartOfBlock() || !h.checkEndOfBlock()) {
              e = e.clone(false);
              h.extractContents().appendTo(e);
              e.trim();
              p = h.splitBlock();
              y = !p.wasStartOfBlock;
              p = !p.wasEndOfBlock;
              h.insertNode(e);
            }
          } else if (!s)
            this._.nextNode = e.equals(q) ? null : this._getNextSourceNode(h.getBoundaryNodes().endNode, 1, q);
        }
        if (y)
          (y = e.getPrevious()) && y.type == CKEDITOR.NODE_ELEMENT && (y.getName() == 'br' ? y.remove() : y.getLast() && y.getLast().$.nodeName.toLowerCase() == 'br' && y.getLast().remove());
        if (p)
          (y = e.getLast()) && y.type == CKEDITOR.NODE_ELEMENT && y.getName() == 'br' && (!CKEDITOR.env.needsBrFiller || y.getPrevious(d) || y.getNext(d)) && y.remove();
        if (!this._.nextNode)
          this._.nextNode = s || e.equals(q) || !q ? null : this._getNextSourceNode(e, 1, q);
        return e;
      },
      _getNextSourceNode: function (a, b, c) {
        function f(a) {
          return !(a.equals(c) || a.equals(e));
        }
        for (var e = this.range.root, a = a.getNextSourceNode(b, null, f); !d(a);)
          a = a.getNextSourceNode(b, null, f);
        return a;
      }
    };
    CKEDITOR.dom.range.prototype.createIterator = function () {
      return new a(this);
    };
  }());
  CKEDITOR.command = function (a, e) {
    this.uiItems = [];
    this.exec = function (b) {
      if (this.state == CKEDITOR.TRISTATE_DISABLED || !this.checkAllowed())
        return false;
      this.editorFocus && a.focus();
      return this.fire('exec') === false ? true : e.exec.call(this, a, b) !== false;
    };
    this.refresh = function (a, b) {
      if (!this.readOnly && a.readOnly)
        return true;
      if (this.context && !b.isContextFor(this.context)) {
        this.disable();
        return true;
      }
      if (!this.checkAllowed(true)) {
        this.disable();
        return true;
      }
      this.startDisabled || this.enable();
      this.modes && !this.modes[a.mode] && this.disable();
      return this.fire('refresh', {
        editor: a,
        path: b
      }) === false ? true : e.refresh && e.refresh.apply(this, arguments) !== false;
    };
    var b;
    this.checkAllowed = function (c) {
      return !c && typeof b == 'boolean' ? b : b = a.activeFilter.checkFeature(this);
    };
    CKEDITOR.tools.extend(this, e, {
      modes: { wysiwyg: 1 },
      editorFocus: 1,
      contextSensitive: !!e.context,
      state: CKEDITOR.TRISTATE_DISABLED
    });
    CKEDITOR.event.call(this);
  };
  CKEDITOR.command.prototype = {
    enable: function () {
      this.state == CKEDITOR.TRISTATE_DISABLED && this.checkAllowed() && this.setState(!this.preserveState || typeof this.previousState == 'undefined' ? CKEDITOR.TRISTATE_OFF : this.previousState);
    },
    disable: function () {
      this.setState(CKEDITOR.TRISTATE_DISABLED);
    },
    setState: function (a) {
      if (this.state == a || a != CKEDITOR.TRISTATE_DISABLED && !this.checkAllowed())
        return false;
      this.previousState = this.state;
      this.state = a;
      this.fire('state');
      return true;
    },
    toggleState: function () {
      this.state == CKEDITOR.TRISTATE_OFF ? this.setState(CKEDITOR.TRISTATE_ON) : this.state == CKEDITOR.TRISTATE_ON && this.setState(CKEDITOR.TRISTATE_OFF);
    }
  };
  CKEDITOR.event.implementOn(CKEDITOR.command.prototype);
  CKEDITOR.ENTER_P = 1;
  CKEDITOR.ENTER_BR = 2;
  CKEDITOR.ENTER_DIV = 3;
  CKEDITOR.config = {
    customConfig: 'config.js',
    autoUpdateElement: !0,
    language: '',
    defaultLanguage: 'en',
    contentsLangDirection: '',
    enterMode: CKEDITOR.ENTER_P,
    forceEnterMode: !1,
    shiftEnterMode: CKEDITOR.ENTER_BR,
    docType: '<!DOCTYPE html>',
    bodyId: '',
    bodyClass: '',
    fullPage: !1,
    height: 200,
    extraPlugins: '',
    removePlugins: '',
    protectedSource: [],
    tabIndex: 0,
    width: '',
    baseFloatZIndex: 10000,
    blockedKeystrokes: [
      CKEDITOR.CTRL + 66,
      CKEDITOR.CTRL + 73,
      CKEDITOR.CTRL + 85
    ]
  };
  (function () {
    function a(a, b, c, d, f) {
      var e, n, a = [];
      for (e in b) {
        n = b[e];
        n = typeof n == 'boolean' ? {} : typeof n == 'function' ? { match: n } : L(n);
        if (e.charAt(0) != '$')
          n.elements = e;
        if (c)
          n.featureName = c.toLowerCase();
        var j = n;
        j.elements = h(j.elements, /\s+/) || null;
        j.propertiesOnly = j.propertiesOnly || j.elements === true;
        var k = /\s*,\s*/, r = void 0;
        for (r in C) {
          j[r] = h(j[r], k) || null;
          var x = j, o = A[r], w = h(j[A[r]], k), p = j[r], g = [], i = true, F = void 0;
          w ? i = false : w = {};
          for (F in p)
            if (F.charAt(0) == '!') {
              F = F.slice(1);
              g.push(F);
              w[F] = true;
              i = false;
            }
          for (; F = g.pop();) {
            p[F] = p['!' + F];
            delete p['!' + F];
          }
          x[o] = (i ? false : w) || null;
        }
        j.match = j.match || null;
        d.push(n);
        a.push(n);
      }
      for (var b = f.elements, f = f.generic, D, c = 0, d = a.length; c < d; ++c) {
        e = L(a[c]);
        n = e.classes === true || e.styles === true || e.attributes === true;
        j = e;
        r = o = k = void 0;
        for (k in C)
          j[k] = u(j[k]);
        x = true;
        for (r in A) {
          k = A[r];
          o = j[k];
          w = [];
          p = void 0;
          for (p in o)
            p.indexOf('*') > -1 ? w.push(RegExp('^' + p.replace(/\*/g, '.*') + '$')) : w.push(p);
          o = w;
          if (o.length) {
            j[k] = o;
            x = false;
          }
        }
        j.nothingRequired = x;
        j.noProperties = !(j.attributes || j.classes || j.styles);
        if (e.elements === true || e.elements === null)
          f[n ? 'unshift' : 'push'](e);
        else {
          j = e.elements;
          delete e.elements;
          for (D in j)
            if (b[D])
              b[D][n ? 'unshift' : 'push'](e);
            else
              b[D] = [e];
        }
      }
    }
    function e(a, c, d, f) {
      if (!a.match || a.match(c))
        if (f || l(a, c)) {
          if (!a.propertiesOnly)
            d.valid = true;
          if (!d.allAttributes)
            d.allAttributes = b(a.attributes, c.attributes, d.validAttributes);
          if (!d.allStyles)
            d.allStyles = b(a.styles, c.styles, d.validStyles);
          if (!d.allClasses) {
            a = a.classes;
            c = c.classes;
            f = d.validClasses;
            if (a)
              if (a === true)
                a = true;
              else {
                for (var e = 0, n = c.length, j; e < n; ++e) {
                  j = c[e];
                  f[j] || (f[j] = a(j));
                }
                a = false;
              }
            else
              a = false;
            d.allClasses = a;
          }
        }
    }
    function b(a, b, c) {
      if (!a)
        return false;
      if (a === true)
        return true;
      for (var d in b)
        c[d] || (c[d] = a(d));
      return false;
    }
    function c(a, b, c) {
      if (!a.match || a.match(b)) {
        if (a.noProperties)
          return false;
        c.hadInvalidAttribute = f(a.attributes, b.attributes) || c.hadInvalidAttribute;
        c.hadInvalidStyle = f(a.styles, b.styles) || c.hadInvalidStyle;
        a = a.classes;
        b = b.classes;
        if (a) {
          for (var d = false, e = a === true, n = b.length; n--;)
            if (e || a(b[n])) {
              b.splice(n, 1);
              d = true;
            }
          a = d;
        } else
          a = false;
        c.hadInvalidClass = a || c.hadInvalidClass;
      }
    }
    function f(a, b) {
      if (!a)
        return false;
      var c = false, d = a === true, f;
      for (f in b)
        if (d || a(f)) {
          delete b[f];
          c = true;
        }
      return c;
    }
    function d(a, b, c) {
      if (a.disabled || a.customConfig && !c || !b)
        return false;
      a._.cachedChecks = {};
      return true;
    }
    function h(a, b) {
      if (!a)
        return false;
      if (a === true)
        return a;
      if (typeof a == 'string') {
        a = B(a);
        return a == '*' ? true : CKEDITOR.tools.convertArrayToObject(a.split(b));
      }
      if (CKEDITOR.tools.isArray(a))
        return a.length ? CKEDITOR.tools.convertArrayToObject(a) : false;
      var c = {}, d = 0, f;
      for (f in a) {
        c[f] = a[f];
        d++;
      }
      return d ? c : false;
    }
    function l(a, b) {
      if (a.nothingRequired)
        return true;
      var c, d, f, e;
      if (f = a.requiredClasses) {
        e = b.classes;
        for (c = 0; c < f.length; ++c) {
          d = f[c];
          if (typeof d == 'string') {
            if (CKEDITOR.tools.indexOf(e, d) == -1)
              return false;
          } else if (!CKEDITOR.tools.checkIfAnyArrayItemMatches(e, d))
            return false;
        }
      }
      return i(b.styles, a.requiredStyles) && i(b.attributes, a.requiredAttributes);
    }
    function i(a, b) {
      if (!b)
        return true;
      for (var c = 0, d; c < b.length; ++c) {
        d = b[c];
        if (typeof d == 'string') {
          if (!(d in a))
            return false;
        } else if (!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(a, d))
          return false;
      }
      return true;
    }
    function g(a) {
      if (!a)
        return {};
      for (var a = a.split(/\s*,\s*/).sort(), b = {}; a.length;)
        b[a.shift()] = w;
      return b;
    }
    function m(a) {
      for (var b, c, d, f, e = {}, n = 1, a = B(a); b = a.match(x);) {
        if (c = b[2]) {
          d = t(c, 'styles');
          f = t(c, 'attrs');
          c = t(c, 'classes');
        } else
          d = f = c = null;
        e['$' + n++] = {
          elements: b[1],
          classes: c,
          styles: d,
          attributes: f
        };
        a = a.slice(b[0].length);
      }
      return e;
    }
    function t(a, b) {
      var c = a.match(F[b]);
      return c ? B(c[1]) : null;
    }
    function s(a) {
      var b = a.styleBackup = a.attributes.style, c = a.classBackup = a.attributes['class'];
      if (!a.styles)
        a.styles = CKEDITOR.tools.parseCssText(b || '', 1);
      if (!a.classes)
        a.classes = c ? c.split(/\s+/) : [];
    }
    function y(a, b, d, f) {
      var k = 0, r;
      if (f.toHtml)
        b.name = b.name.replace(G, '$1');
      if (f.doCallbacks && a.elementCallbacks) {
        a:
          for (var x = a.elementCallbacks, h = 0, o = x.length, w; h < o; ++h)
            if (w = x[h](b)) {
              r = w;
              break a;
            }
        if (r)
          return r;
      }
      if (f.doTransform)
        if (r = a._.transformations[b.name]) {
          s(b);
          for (x = 0; x < r.length; ++x)
            n(a, b, r[x]);
          q(b);
        }
      if (f.doFilter) {
        a: {
          x = b.name;
          h = a._;
          a = h.allowedRules.elements[x];
          r = h.allowedRules.generic;
          x = h.disallowedRules.elements[x];
          h = h.disallowedRules.generic;
          o = f.skipRequired;
          w = {
            valid: false,
            validAttributes: {},
            validClasses: {},
            validStyles: {},
            allAttributes: false,
            allClasses: false,
            allStyles: false,
            hadInvalidAttribute: false,
            hadInvalidClass: false,
            hadInvalidStyle: false
          };
          var p, g;
          if (!a && !r)
            a = null;
          else {
            s(b);
            if (x) {
              p = 0;
              for (g = x.length; p < g; ++p)
                if (c(x[p], b, w) === false) {
                  a = null;
                  break a;
                }
            }
            if (h) {
              p = 0;
              for (g = h.length; p < g; ++p)
                c(h[p], b, w);
            }
            if (a) {
              p = 0;
              for (g = a.length; p < g; ++p)
                e(a[p], b, w, o);
            }
            if (r) {
              p = 0;
              for (g = r.length; p < g; ++p)
                e(r[p], b, w, o);
            }
            a = w;
          }
        }
        if (!a) {
          d.push(b);
          return z;
        }
        if (!a.valid) {
          d.push(b);
          return z;
        }
        g = a.validAttributes;
        var i = a.validStyles;
        r = a.validClasses;
        var x = b.attributes, F = b.styles, h = b.classes, o = b.classBackup, C = b.styleBackup, u, A, D = [];
        w = [];
        var v = /^data-cke-/;
        p = false;
        delete x.style;
        delete x['class'];
        delete b.classBackup;
        delete b.styleBackup;
        if (!a.allAttributes)
          for (u in x)
            if (!g[u])
              if (v.test(u)) {
                if (u != (A = u.replace(/^data-cke-saved-/, '')) && !g[A]) {
                  delete x[u];
                  p = true;
                }
              } else {
                delete x[u];
                p = true;
              }
        if (!a.allStyles || a.hadInvalidStyle) {
          for (u in F)
            a.allStyles || i[u] ? D.push(u + ':' + F[u]) : p = true;
          if (D.length)
            x.style = D.sort().join('; ');
        } else if (C)
          x.style = C;
        if (!a.allClasses || a.hadInvalidClass) {
          for (u = 0; u < h.length; ++u)
            (a.allClasses || r[h[u]]) && w.push(h[u]);
          w.length && (x['class'] = w.sort().join(' '));
          o && w.length < o.split(/\s+/).length && (p = true);
        } else
          o && (x['class'] = o);
        p && (k = z);
        if (!f.skipFinalValidation && !j(b)) {
          d.push(b);
          return z;
        }
      }
      if (f.toHtml)
        b.name = b.name.replace($, 'cke:$1');
      return k;
    }
    function p(a) {
      var b = [], c;
      for (c in a)
        c.indexOf('*') > -1 && b.push(c.replace(/\*/g, '.*'));
      return b.length ? RegExp('^(?:' + b.join('|') + ')$') : null;
    }
    function q(a) {
      var b = a.attributes, c;
      delete b.style;
      delete b['class'];
      if (c = CKEDITOR.tools.writeCssText(a.styles, true))
        b.style = c;
      a.classes.length && (b['class'] = a.classes.sort().join(' '));
    }
    function j(a) {
      switch (a.name) {
      case 'a':
        if (!a.children.length && !a.attributes.name)
          return false;
        break;
      case 'img':
        if (!a.attributes.src)
          return false;
      }
      return true;
    }
    function u(a) {
      if (!a)
        return false;
      if (a === true)
        return true;
      var b = p(a);
      return function (c) {
        return c in a || b && c.match(b);
      };
    }
    function v() {
      return new CKEDITOR.htmlParser.element('br');
    }
    function E(a) {
      return a.type == CKEDITOR.NODE_ELEMENT && (a.name == 'br' || J.$block[a.name]);
    }
    function k(a, b, c) {
      var d = a.name;
      if (J.$empty[d] || !a.children.length)
        if (d == 'hr' && b == 'br')
          a.replaceWith(v());
        else {
          a.parent && c.push({
            check: 'it',
            el: a.parent
          });
          a.remove();
        }
      else if (J.$block[d] || d == 'tr')
        if (b == 'br') {
          if (a.previous && !E(a.previous)) {
            b = v();
            b.insertBefore(a);
          }
          if (a.next && !E(a.next)) {
            b = v();
            b.insertAfter(a);
          }
          a.replaceWithChildren();
        } else {
          var d = a.children, f;
          b: {
            f = J[b];
            for (var e = 0, n = d.length, j; e < n; ++e) {
              j = d[e];
              if (j.type == CKEDITOR.NODE_ELEMENT && !f[j.name]) {
                f = false;
                break b;
              }
            }
            f = true;
          }
          if (f) {
            a.name = b;
            a.attributes = {};
            c.push({
              check: 'parent-down',
              el: a
            });
          } else {
            f = a.parent;
            for (var e = f.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT || f.name == 'body', k, r, n = d.length; n > 0;) {
              j = d[--n];
              if (e && (j.type == CKEDITOR.NODE_TEXT || j.type == CKEDITOR.NODE_ELEMENT && J.$inline[j.name])) {
                if (!k) {
                  k = new CKEDITOR.htmlParser.element(b);
                  k.insertAfter(a);
                  c.push({
                    check: 'parent-down',
                    el: k
                  });
                }
                k.add(j, 0);
              } else {
                k = null;
                r = J[f.name] || J.span;
                j.insertAfter(a);
                f.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT && (j.type == CKEDITOR.NODE_ELEMENT && !r[j.name]) && c.push({
                  check: 'el-up',
                  el: j
                });
              }
            }
            a.remove();
          }
        }
      else if (d == 'style')
        a.remove();
      else {
        a.parent && c.push({
          check: 'it',
          el: a.parent
        });
        a.replaceWithChildren();
      }
    }
    function n(a, b, c) {
      var d, f;
      for (d = 0; d < c.length; ++d) {
        f = c[d];
        if ((!f.check || a.check(f.check, false)) && (!f.left || f.left(b))) {
          f.right(b, aa);
          break;
        }
      }
    }
    function r(a, b) {
      var c = b.getDefinition(), d = c.attributes, f = c.styles, e, n, j, k;
      if (a.name != c.element)
        return false;
      for (e in d)
        if (e == 'class') {
          c = d[e].split(/\s+/);
          for (j = a.classes.join('|'); k = c.pop();)
            if (j.indexOf(k) == -1)
              return false;
        } else if (a.attributes[e] != d[e])
          return false;
      for (n in f)
        if (a.styles[n] != f[n])
          return false;
      return true;
    }
    function o(a, b) {
      var c, d;
      if (typeof a == 'string')
        c = a;
      else if (a instanceof CKEDITOR.style)
        d = a;
      else {
        c = a[0];
        d = a[1];
      }
      return [{
          element: c,
          left: d,
          right: function (a, c) {
            c.transform(a, b);
          }
        }];
    }
    function M(a) {
      return function (b) {
        return r(b, a);
      };
    }
    function D(a) {
      return function (b, c) {
        c[a](b);
      };
    }
    var J = CKEDITOR.dtd, z = 1, L = CKEDITOR.tools.copy, B = CKEDITOR.tools.trim, w = 'cke-test', H = [
        '',
        'p',
        'br',
        'div'
      ];
    CKEDITOR.FILTER_SKIP_TREE = 2;
    CKEDITOR.filter = function (a) {
      this.allowedContent = [];
      this.disallowedContent = [];
      this.elementCallbacks = null;
      this.disabled = false;
      this.editor = null;
      this.id = CKEDITOR.tools.getNextNumber();
      this._ = {
        allowedRules: {
          elements: {},
          generic: []
        },
        disallowedRules: {
          elements: {},
          generic: []
        },
        transformations: {},
        cachedTests: {}
      };
      CKEDITOR.filter.instances[this.id] = this;
      if (a instanceof CKEDITOR.editor) {
        a = this.editor = a;
        this.customConfig = true;
        var b = a.config.allowedContent;
        if (b === true)
          this.disabled = true;
        else {
          if (!b)
            this.customConfig = false;
          this.allow(b, 'config', 1);
          this.allow(a.config.extraAllowedContent, 'extra', 1);
          this.allow(H[a.enterMode] + ' ' + H[a.shiftEnterMode], 'default', 1);
          this.disallow(a.config.disallowedContent);
        }
      } else {
        this.customConfig = false;
        this.allow(a, 'default', 1);
      }
    };
    CKEDITOR.filter.instances = {};
    CKEDITOR.filter.prototype = {
      allow: function (b, c, f) {
        if (!d(this, b, f))
          return false;
        var e, n;
        if (typeof b == 'string')
          b = m(b);
        else if (b instanceof CKEDITOR.style) {
          if (b.toAllowedContentRules)
            return this.allow(b.toAllowedContentRules(this.editor), c, f);
          e = b.getDefinition();
          b = {};
          f = e.attributes;
          b[e.element] = e = {
            styles: e.styles,
            requiredStyles: e.styles && CKEDITOR.tools.objectKeys(e.styles)
          };
          if (f) {
            f = L(f);
            e.classes = f['class'] ? f['class'].split(/\s+/) : null;
            e.requiredClasses = e.classes;
            delete f['class'];
            e.attributes = f;
            e.requiredAttributes = f && CKEDITOR.tools.objectKeys(f);
          }
        } else if (CKEDITOR.tools.isArray(b)) {
          for (e = 0; e < b.length; ++e)
            n = this.allow(b[e], c, f);
          return n;
        }
        a(this, b, c, this.allowedContent, this._.allowedRules);
        return true;
      },
      applyTo: function (a, b, c, d) {
        if (this.disabled)
          return false;
        var f = this, e = [], n = this.editor && this.editor.config.protectedSource, r, x = false, h = {
            doFilter: !c,
            doTransform: true,
            doCallbacks: true,
            toHtml: b
          };
        a.forEach(function (a) {
          if (a.type == CKEDITOR.NODE_ELEMENT) {
            if (a.attributes['data-cke-filter'] == 'off')
              return false;
            if (!b || !(a.name == 'span' && ~CKEDITOR.tools.objectKeys(a.attributes).join('|').indexOf('data-cke-'))) {
              r = y(f, a, e, h);
              if (r & z)
                x = true;
              else if (r & 2)
                return false;
            }
          } else if (a.type == CKEDITOR.NODE_COMMENT && a.value.match(/^\{cke_protected\}(?!\{C\})/)) {
            var c;
            a: {
              var d = decodeURIComponent(a.value.replace(/^\{cke_protected\}/, ''));
              c = [];
              var j, k, o;
              if (n)
                for (k = 0; k < n.length; ++k)
                  if ((o = d.match(n[k])) && o[0].length == d.length) {
                    c = true;
                    break a;
                  }
              d = CKEDITOR.htmlParser.fragment.fromHtml(d);
              d.children.length == 1 && (j = d.children[0]).type == CKEDITOR.NODE_ELEMENT && y(f, j, c, h);
              c = !c.length;
            }
            c || e.push(a);
          }
        }, null, true);
        e.length && (x = true);
        for (var o, a = [], d = H[d || (this.editor ? this.editor.enterMode : CKEDITOR.ENTER_P)], p; c = e.pop();)
          c.type == CKEDITOR.NODE_ELEMENT ? k(c, d, a) : c.remove();
        for (; o = a.pop();) {
          c = o.el;
          if (c.parent) {
            p = J[c.parent.name] || J.span;
            switch (o.check) {
            case 'it':
              J.$removeEmpty[c.name] && !c.children.length ? k(c, d, a) : j(c) || k(c, d, a);
              break;
            case 'el-up':
              c.parent.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT && !p[c.name] && k(c, d, a);
              break;
            case 'parent-down':
              c.parent.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT && !p[c.name] && k(c.parent, d, a);
            }
          }
        }
        return x;
      },
      checkFeature: function (a) {
        if (this.disabled || !a)
          return true;
        a.toFeature && (a = a.toFeature(this.editor));
        return !a.requiredContent || this.check(a.requiredContent);
      },
      disable: function () {
        this.disabled = true;
      },
      disallow: function (b) {
        if (!d(this, b, true))
          return false;
        typeof b == 'string' && (b = m(b));
        a(this, b, null, this.disallowedContent, this._.disallowedRules);
        return true;
      },
      addContentForms: function (a) {
        if (!this.disabled && a) {
          var b, c, d = [], f;
          for (b = 0; b < a.length && !f; ++b) {
            c = a[b];
            if ((typeof c == 'string' || c instanceof CKEDITOR.style) && this.check(c))
              f = c;
          }
          if (f) {
            for (b = 0; b < a.length; ++b)
              d.push(o(a[b], f));
            this.addTransformations(d);
          }
        }
      },
      addElementCallback: function (a) {
        if (!this.elementCallbacks)
          this.elementCallbacks = [];
        this.elementCallbacks.push(a);
      },
      addFeature: function (a) {
        if (this.disabled || !a)
          return true;
        a.toFeature && (a = a.toFeature(this.editor));
        this.allow(a.allowedContent, a.name);
        this.addTransformations(a.contentTransformations);
        this.addContentForms(a.contentForms);
        return a.requiredContent && (this.customConfig || this.disallowedContent.length) ? this.check(a.requiredContent) : true;
      },
      addTransformations: function (a) {
        var b, c;
        if (!this.disabled && a) {
          var d = this._.transformations, f;
          for (f = 0; f < a.length; ++f) {
            b = a[f];
            var e = void 0, n = void 0, j = void 0, k = void 0, r = void 0, x = void 0;
            c = [];
            for (n = 0; n < b.length; ++n) {
              j = b[n];
              if (typeof j == 'string') {
                j = j.split(/\s*:\s*/);
                k = j[0];
                r = null;
                x = j[1];
              } else {
                k = j.check;
                r = j.left;
                x = j.right;
              }
              if (!e) {
                e = j;
                e = e.element ? e.element : k ? k.match(/^([a-z0-9]+)/i)[0] : e.left.getDefinition().element;
              }
              r instanceof CKEDITOR.style && (r = M(r));
              c.push({
                check: k == e ? null : k,
                left: r,
                right: typeof x == 'string' ? D(x) : x
              });
            }
            b = e;
            d[b] || (d[b] = []);
            d[b].push(c);
          }
        }
      },
      check: function (a, b, c) {
        if (this.disabled)
          return true;
        if (CKEDITOR.tools.isArray(a)) {
          for (var d = a.length; d--;)
            if (this.check(a[d], b, c))
              return true;
          return false;
        }
        var f, e;
        if (typeof a == 'string') {
          e = a + '<' + (b === false ? '0' : '1') + (c ? '1' : '0') + '>';
          if (e in this._.cachedChecks)
            return this._.cachedChecks[e];
          d = m(a).$1;
          f = d.styles;
          var j = d.classes;
          d.name = d.elements;
          d.classes = j = j ? j.split(/\s*,\s*/) : [];
          d.styles = g(f);
          d.attributes = g(d.attributes);
          d.children = [];
          j.length && (d.attributes['class'] = j.join(' '));
          if (f)
            d.attributes.style = CKEDITOR.tools.writeCssText(d.styles);
          f = d;
        } else {
          d = a.getDefinition();
          f = d.styles;
          j = d.attributes || {};
          if (f) {
            f = L(f);
            j.style = CKEDITOR.tools.writeCssText(f, true);
          } else
            f = {};
          f = {
            name: d.element,
            attributes: j,
            classes: j['class'] ? j['class'].split(/\s+/) : [],
            styles: f,
            children: []
          };
        }
        var j = CKEDITOR.tools.clone(f), k = [], r;
        if (b !== false && (r = this._.transformations[f.name])) {
          for (d = 0; d < r.length; ++d)
            n(this, f, r[d]);
          q(f);
        }
        y(this, j, k, {
          doFilter: true,
          doTransform: b !== false,
          skipRequired: !c,
          skipFinalValidation: !c
        });
        b = k.length > 0 ? false : CKEDITOR.tools.objectCompare(f.attributes, j.attributes, true) ? true : false;
        typeof a == 'string' && (this._.cachedChecks[e] = b);
        return b;
      },
      getAllowedEnterMode: function () {
        var a = [
            'p',
            'div',
            'br'
          ], b = {
            p: CKEDITOR.ENTER_P,
            div: CKEDITOR.ENTER_DIV,
            br: CKEDITOR.ENTER_BR
          };
        return function (c, d) {
          var f = a.slice(), e;
          if (this.check(H[c]))
            return c;
          for (d || (f = f.reverse()); e = f.pop();)
            if (this.check(e))
              return b[e];
          return CKEDITOR.ENTER_BR;
        };
      }(),
      destroy: function () {
        delete CKEDITOR.filter.instances[this.id];
        delete this._;
        delete this.allowedContent;
        delete this.disallowedContent;
      }
    };
    var C = {
        styles: 1,
        attributes: 1,
        classes: 1
      }, A = {
        styles: 'requiredStyles',
        attributes: 'requiredAttributes',
        classes: 'requiredClasses'
      }, x = /^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i, F = {
        styles: /{([^}]+)}/,
        attrs: /\[([^\]]+)\]/,
        classes: /\(([^\)]+)\)/
      }, G = /^cke:(object|embed|param)$/, $ = /^(object|embed|param)$/, aa = CKEDITOR.filter.transformationsTools = {
        sizeToStyle: function (a) {
          this.lengthToStyle(a, 'width');
          this.lengthToStyle(a, 'height');
        },
        sizeToAttribute: function (a) {
          this.lengthToAttribute(a, 'width');
          this.lengthToAttribute(a, 'height');
        },
        lengthToStyle: function (a, b, c) {
          c = c || b;
          if (!(c in a.styles)) {
            var d = a.attributes[b];
            if (d) {
              /^\d+$/.test(d) && (d = d + 'px');
              a.styles[c] = d;
            }
          }
          delete a.attributes[b];
        },
        lengthToAttribute: function (a, b, c) {
          c = c || b;
          if (!(c in a.attributes)) {
            var d = a.styles[b], f = d && d.match(/^(\d+)(?:\.\d*)?px$/);
            f ? a.attributes[c] = f[1] : d == w && (a.attributes[c] = w);
          }
          delete a.styles[b];
        },
        alignmentToStyle: function (a) {
          if (!('float' in a.styles)) {
            var b = a.attributes.align;
            if (b == 'left' || b == 'right')
              a.styles['float'] = b;
          }
          delete a.attributes.align;
        },
        alignmentToAttribute: function (a) {
          if (!('align' in a.attributes)) {
            var b = a.styles['float'];
            if (b == 'left' || b == 'right')
              a.attributes.align = b;
          }
          delete a.styles['float'];
        },
        matchesStyle: r,
        transform: function (a, b) {
          if (typeof b == 'string')
            a.name = b;
          else {
            var c = b.getDefinition(), d = c.styles, f = c.attributes, e, j, n, k;
            a.name = c.element;
            for (e in f)
              if (e == 'class') {
                c = a.classes.join('|');
                for (n = f[e].split(/\s+/); k = n.pop();)
                  c.indexOf(k) == -1 && a.classes.push(k);
              } else
                a.attributes[e] = f[e];
            for (j in d)
              a.styles[j] = d[j];
          }
        }
      };
  }());
  (function () {
    CKEDITOR.focusManager = function (a) {
      if (a.focusManager)
        return a.focusManager;
      this.hasFocus = false;
      this.currentActive = null;
      this._ = { editor: a };
      return this;
    };
    CKEDITOR.focusManager._ = { blurDelay: 200 };
    CKEDITOR.focusManager.prototype = {
      focus: function (a) {
        this._.timer && clearTimeout(this._.timer);
        if (a)
          this.currentActive = a;
        if (!this.hasFocus && !this._.locked) {
          (a = CKEDITOR.currentInstance) && a.focusManager.blur(1);
          this.hasFocus = true;
          (a = this._.editor.container) && a.addClass('cke_focus');
          this._.editor.fire('focus');
        }
      },
      lock: function () {
        this._.locked = 1;
      },
      unlock: function () {
        delete this._.locked;
      },
      blur: function (a) {
        function e() {
          if (this.hasFocus) {
            this.hasFocus = false;
            var a = this._.editor.container;
            a && a.removeClass('cke_focus');
            this._.editor.fire('blur');
          }
        }
        if (!this._.locked) {
          this._.timer && clearTimeout(this._.timer);
          var b = CKEDITOR.focusManager._.blurDelay;
          a || !b ? e.call(this) : this._.timer = CKEDITOR.tools.setTimeout(function () {
            delete this._.timer;
            e.call(this);
          }, b, this);
        }
      },
      add: function (a, e) {
        var b = a.getCustomData('focusmanager');
        if (!b || b != this) {
          b && b.remove(a);
          var b = 'focus', c = 'blur';
          if (e)
            if (CKEDITOR.env.ie) {
              b = 'focusin';
              c = 'focusout';
            } else
              CKEDITOR.event.useCapture = 1;
          var f = {
              blur: function () {
                a.equals(this.currentActive) && this.blur();
              },
              focus: function () {
                this.focus(a);
              }
            };
          a.on(b, f.focus, this);
          a.on(c, f.blur, this);
          if (e)
            CKEDITOR.event.useCapture = 0;
          a.setCustomData('focusmanager', this);
          a.setCustomData('focusmanager_handlers', f);
        }
      },
      remove: function (a) {
        a.removeCustomData('focusmanager');
        var e = a.removeCustomData('focusmanager_handlers');
        a.removeListener('blur', e.blur);
        a.removeListener('focus', e.focus);
      }
    };
  }());
  CKEDITOR.keystrokeHandler = function (a) {
    if (a.keystrokeHandler)
      return a.keystrokeHandler;
    this.keystrokes = {};
    this.blockedKeystrokes = {};
    this._ = { editor: a };
    return this;
  };
  (function () {
    var a, e = function (b) {
        var b = b.data, f = b.getKeystroke(), d = this.keystrokes[f], e = this._.editor;
        a = e.fire('key', {
          keyCode: f,
          domEvent: b
        }) === false;
        if (!a) {
          d && (a = e.execCommand(d, { from: 'keystrokeHandler' }) !== false);
          a || (a = !!this.blockedKeystrokes[f]);
        }
        a && b.preventDefault(true);
        return !a;
      }, b = function (b) {
        if (a) {
          a = false;
          b.data.preventDefault(true);
        }
      };
    CKEDITOR.keystrokeHandler.prototype = {
      attach: function (a) {
        a.on('keydown', e, this);
        if (CKEDITOR.env.gecko && CKEDITOR.env.mac)
          a.on('keypress', b, this);
      }
    };
  }());
  (function () {
    CKEDITOR.lang = {
      languages: {
        af: 1,
        ar: 1,
        bg: 1,
        bn: 1,
        bs: 1,
        ca: 1,
        cs: 1,
        cy: 1,
        da: 1,
        de: 1,
        el: 1,
        'en-au': 1,
        'en-ca': 1,
        'en-gb': 1,
        en: 1,
        eo: 1,
        es: 1,
        et: 1,
        eu: 1,
        fa: 1,
        fi: 1,
        fo: 1,
        'fr-ca': 1,
        fr: 1,
        gl: 1,
        gu: 1,
        he: 1,
        hi: 1,
        hr: 1,
        hu: 1,
        id: 1,
        is: 1,
        it: 1,
        ja: 1,
        ka: 1,
        km: 1,
        ko: 1,
        ku: 1,
        lt: 1,
        lv: 1,
        mk: 1,
        mn: 1,
        ms: 1,
        nb: 1,
        nl: 1,
        no: 1,
        pl: 1,
        'pt-br': 1,
        pt: 1,
        ro: 1,
        ru: 1,
        si: 1,
        sk: 1,
        sl: 1,
        sq: 1,
        'sr-latn': 1,
        sr: 1,
        sv: 1,
        th: 1,
        tr: 1,
        tt: 1,
        ug: 1,
        uk: 1,
        vi: 1,
        'zh-cn': 1,
        zh: 1
      },
      rtl: {
        ar: 1,
        fa: 1,
        he: 1,
        ku: 1,
        ug: 1
      },
      load: function (a, e, b) {
        if (!a || !CKEDITOR.lang.languages[a])
          a = this.detect(e, a);
        var c = this, e = function () {
            c[a].dir = c.rtl[a] ? 'rtl' : 'ltr';
            b(a, c[a]);
          };
        this[a] ? e() : CKEDITOR.scriptLoader.load(CKEDITOR.getUrl('lang/' + a + '.js'), e, this);
      },
      detect: function (a, e) {
        var b = this.languages, e = e || navigator.userLanguage || navigator.language || a, c = e.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/), f = c[1], c = c[2];
        b[f + '-' + c] ? f = f + '-' + c : b[f] || (f = null);
        CKEDITOR.lang.detect = f ? function () {
          return f;
        } : function (a) {
          return a;
        };
        return f || a;
      }
    };
  }());
  CKEDITOR.scriptLoader = function () {
    var a = {}, e = {};
    return {
      load: function (b, c, f, d) {
        var h = typeof b == 'string';
        h && (b = [b]);
        f || (f = CKEDITOR);
        var l = b.length, i = [], g = [], m = function (a) {
            c && (h ? c.call(f, a) : c.call(f, i, g));
          };
        if (l === 0)
          m(true);
        else {
          var t = function (a, b) {
              (b ? i : g).push(a);
              if (--l <= 0) {
                d && CKEDITOR.document.getDocumentElement().removeStyle('cursor');
                m(b);
              }
            }, s = function (b, c) {
              a[b] = 1;
              var d = e[b];
              delete e[b];
              for (var f = 0; f < d.length; f++)
                d[f](b, c);
            }, y = function (b) {
              if (a[b])
                t(b, true);
              else {
                var d = e[b] || (e[b] = []);
                d.push(t);
                if (!(d.length > 1)) {
                  var f = new CKEDITOR.dom.element('script');
                  f.setAttributes({
                    type: 'text/javascript',
                    src: b
                  });
                  if (c)
                    if (CKEDITOR.env.ie && CKEDITOR.env.version < 11)
                      f.$.onreadystatechange = function () {
                        if (f.$.readyState == 'loaded' || f.$.readyState == 'complete') {
                          f.$.onreadystatechange = null;
                          s(b, true);
                        }
                      };
                    else {
                      f.$.onload = function () {
                        setTimeout(function () {
                          s(b, true);
                        }, 0);
                      };
                      f.$.onerror = function () {
                        s(b, false);
                      };
                    }
                  f.appendTo(CKEDITOR.document.getHead());
                }
              }
            };
          d && CKEDITOR.document.getDocumentElement().setStyle('cursor', 'wait');
          for (var p = 0; p < l; p++)
            y(b[p]);
        }
      },
      queue: function () {
        function a() {
          var b;
          (b = c[0]) && this.load(b.scriptUrl, b.callback, CKEDITOR, 0);
        }
        var c = [];
        return function (f, d) {
          var e = this;
          c.push({
            scriptUrl: f,
            callback: function () {
              d && d.apply(this, arguments);
              c.shift();
              a.call(e);
            }
          });
          c.length == 1 && a.call(this);
        };
      }()
    };
  }();
  CKEDITOR.resourceManager = function (a, e) {
    this.basePath = a;
    this.fileName = e;
    this.registered = {};
    this.loaded = {};
    this.externals = {};
    this._ = { waitingList: {} };
  };
  CKEDITOR.resourceManager.prototype = {
    add: function (a, e) {
      if (this.registered[a])
        throw '[CKEDITOR.resourceManager.add] The resource name "' + a + '" is already registered.';
      var b = this.registered[a] = e || {};
      b.name = a;
      b.path = this.getPath(a);
      CKEDITOR.fire(a + CKEDITOR.tools.capitalize(this.fileName) + 'Ready', b);
      return this.get(a);
    },
    get: function (a) {
      return this.registered[a] || null;
    },
    getPath: function (a) {
      var e = this.externals[a];
      return CKEDITOR.getUrl(e && e.dir || this.basePath + a + '/');
    },
    getFilePath: function (a) {
      var e = this.externals[a];
      return CKEDITOR.getUrl(this.getPath(a) + (e ? e.file : this.fileName + '.js'));
    },
    addExternal: function (a, e, b) {
      for (var a = a.split(','), c = 0; c < a.length; c++) {
        var f = a[c];
        b || (e = e.replace(/[^\/]+$/, function (a) {
          b = a;
          return '';
        }));
        this.externals[f] = {
          dir: e,
          file: b || this.fileName + '.js'
        };
      }
    },
    load: function (a, e, b) {
      CKEDITOR.tools.isArray(a) || (a = a ? [a] : []);
      for (var c = this.loaded, f = this.registered, d = [], h = {}, l = {}, i = 0; i < a.length; i++) {
        var g = a[i];
        if (g)
          if (!c[g] && !f[g]) {
            var m = this.getFilePath(g);
            d.push(m);
            m in h || (h[m] = []);
            h[m].push(g);
          } else
            l[g] = this.get(g);
      }
      CKEDITOR.scriptLoader.load(d, function (a, d) {
        if (d.length)
          throw '[CKEDITOR.resourceManager.load] Resource name "' + h[d[0]].join(',') + '" was not found at "' + d[0] + '".';
        for (var f = 0; f < a.length; f++)
          for (var p = h[a[f]], g = 0; g < p.length; g++) {
            var j = p[g];
            l[j] = this.get(j);
            c[j] = 1;
          }
        e.call(b, l);
      }, this);
    }
  };
  CKEDITOR.plugins = new CKEDITOR.resourceManager('plugins/', 'plugin');
  CKEDITOR.plugins.load = CKEDITOR.tools.override(CKEDITOR.plugins.load, function (a) {
    var e = {};
    return function (b, c, f) {
      var d = {}, h = function (b) {
          a.call(this, b, function (a) {
            CKEDITOR.tools.extend(d, a);
            var b = [], m;
            for (m in a) {
              var l = a[m], s = l && l.requires;
              if (!e[m]) {
                if (l.icons)
                  for (var y = l.icons.split(','), p = y.length; p--;)
                    CKEDITOR.skin.addIcon(y[p], l.path + 'icons/' + (CKEDITOR.env.hidpi && l.hidpi ? 'hidpi/' : '') + y[p] + '.png');
                e[m] = 1;
              }
              if (s) {
                s.split && (s = s.split(','));
                for (l = 0; l < s.length; l++)
                  d[s[l]] || b.push(s[l]);
              }
            }
            if (b.length)
              h.call(this, b);
            else {
              for (m in d) {
                l = d[m];
                if (l.onLoad && !l.onLoad._called) {
                  l.onLoad() === false && delete d[m];
                  l.onLoad._called = 1;
                }
              }
              c && c.call(f || window, d);
            }
          }, this);
        };
      h.call(this, b);
    };
  });
  CKEDITOR.plugins.setLang = function (a, e, b) {
    var c = this.get(a), a = c.langEntries || (c.langEntries = {}), c = c.lang || (c.lang = []);
    c.split && (c = c.split(','));
    CKEDITOR.tools.indexOf(c, e) == -1 && c.push(e);
    a[e] = b;
  };
  CKEDITOR.ui = function (a) {
    if (a.ui)
      return a.ui;
    this.items = {};
    this.instances = {};
    this.editor = a;
    this._ = { handlers: {} };
    return this;
  };
  CKEDITOR.ui.prototype = {
    add: function (a, e, b) {
      b.name = a.toLowerCase();
      var c = this.items[a] = {
          type: e,
          command: b.command || null,
          args: Array.prototype.slice.call(arguments, 2)
        };
      CKEDITOR.tools.extend(c, b);
    },
    get: function (a) {
      return this.instances[a];
    },
    create: function (a) {
      var e = this.items[a], b = e && this._.handlers[e.type], c = e && e.command && this.editor.getCommand(e.command), b = b && b.create.apply(this, e.args);
      this.instances[a] = b;
      c && c.uiItems.push(b);
      if (b && !b.type)
        b.type = e.type;
      return b;
    },
    addHandler: function (a, e) {
      this._.handlers[a] = e;
    },
    space: function (a) {
      return CKEDITOR.document.getById(this.spaceId(a));
    },
    spaceId: function (a) {
      return this.editor.id + '_' + a;
    }
  };
  CKEDITOR.event.implementOn(CKEDITOR.ui);
  (function () {
    function a(a, c, d) {
      CKEDITOR.event.call(this);
      a = a && CKEDITOR.tools.clone(a);
      if (c !== void 0) {
        if (c instanceof CKEDITOR.dom.element) {
          if (!d)
            throw Error('One of the element modes must be specified.');
        } else
          throw Error('Expect element of type CKEDITOR.dom.element.');
        if (CKEDITOR.env.ie && CKEDITOR.env.quirks && d == CKEDITOR.ELEMENT_MODE_INLINE)
          throw Error('Inline element mode is not supported on IE quirks.');
        if (!(d == CKEDITOR.ELEMENT_MODE_INLINE ? c.is(CKEDITOR.dtd.$editable) || c.is('textarea') : d == CKEDITOR.ELEMENT_MODE_REPLACE ? !c.is(CKEDITOR.dtd.$nonBodyContent) : 1))
          throw Error('The specified element mode is not supported on element: "' + c.getName() + '".');
        this.element = c;
        this.elementMode = d;
        this.name = this.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO && (c.getId() || c.getNameAtt());
      } else
        this.elementMode = CKEDITOR.ELEMENT_MODE_NONE;
      this._ = {};
      this.commands = {};
      this.templates = {};
      this.name = this.name || e();
      this.id = CKEDITOR.tools.getNextId();
      this.status = 'unloaded';
      this.config = CKEDITOR.tools.prototypedCopy(CKEDITOR.config);
      this.ui = new CKEDITOR.ui(this);
      this.focusManager = new CKEDITOR.focusManager(this);
      this.keystrokeHandler = new CKEDITOR.keystrokeHandler(this);
      this.on('readOnly', b);
      this.on('selectionChange', function (a) {
        f(this, a.data.path);
      });
      this.on('activeFilterChange', function () {
        f(this, this.elementPath(), true);
      });
      this.on('mode', b);
      this.on('instanceReady', function () {
        this.config.startupFocus && this.focus();
      });
      CKEDITOR.fire('instanceCreated', null, this);
      CKEDITOR.add(this);
      CKEDITOR.tools.setTimeout(function () {
        h(this, a);
      }, 0, this);
    }
    function e() {
      do
        var a = 'editor' + ++s;
      while (CKEDITOR.instances[a]);
      return a;
    }
    function b() {
      var a = this.commands, b;
      for (b in a)
        c(this, a[b]);
    }
    function c(a, b) {
      b[b.startDisabled ? 'disable' : a.readOnly && !b.readOnly ? 'disable' : b.modes[a.mode] ? 'enable' : 'disable']();
    }
    function f(a, b, c) {
      if (b) {
        var d, f, e = a.commands;
        for (f in e) {
          d = e[f];
          (c || d.contextSensitive) && d.refresh(a, b);
        }
      }
    }
    function d(a) {
      var b = a.config.customConfig;
      if (!b)
        return false;
      var b = CKEDITOR.getUrl(b), c = y[b] || (y[b] = {});
      if (c.fn) {
        c.fn.call(a, a.config);
        (CKEDITOR.getUrl(a.config.customConfig) == b || !d(a)) && a.fireOnce('customConfigLoaded');
      } else
        CKEDITOR.scriptLoader.queue(b, function () {
          c.fn = CKEDITOR.editorConfig ? CKEDITOR.editorConfig : function () {
          };
          d(a);
        });
      return true;
    }
    function h(a, b) {
      a.on('customConfigLoaded', function () {
        if (b) {
          if (b.on)
            for (var c in b.on)
              a.on(c, b.on[c]);
          CKEDITOR.tools.extend(a.config, b, true);
          delete a.config.on;
        }
        c = a.config;
        a.readOnly = !(!c.readOnly && !(a.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? a.element.is('textarea') ? a.element.hasAttribute('disabled') : a.element.isReadOnly() : a.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE && a.element.hasAttribute('disabled')));
        a.blockless = a.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? !(a.element.is('textarea') || CKEDITOR.dtd[a.element.getName()].p) : false;
        a.tabIndex = c.tabIndex || a.element && a.element.getAttribute('tabindex') || 0;
        a.activeEnterMode = a.enterMode = a.blockless ? CKEDITOR.ENTER_BR : c.enterMode;
        a.activeShiftEnterMode = a.shiftEnterMode = a.blockless ? CKEDITOR.ENTER_BR : c.shiftEnterMode;
        if (c.skin)
          CKEDITOR.skinName = c.skin;
        a.fireOnce('configLoaded');
        a.dataProcessor = new CKEDITOR.htmlDataProcessor(a);
        a.filter = a.activeFilter = new CKEDITOR.filter(a);
        l(a);
      });
      if (b && b.customConfig != null)
        a.config.customConfig = b.customConfig;
      d(a) || a.fireOnce('customConfigLoaded');
    }
    function l(a) {
      CKEDITOR.skin.loadPart('editor', function () {
        i(a);
      });
    }
    function i(a) {
      CKEDITOR.lang.load(a.config.language, a.config.defaultLanguage, function (b, c) {
        var d = a.config.title;
        a.langCode = b;
        a.lang = CKEDITOR.tools.prototypedCopy(c);
        a.title = typeof d == 'string' || d === false ? d : [
          a.lang.editor,
          a.name
        ].join(', ');
        if (!a.config.contentsLangDirection)
          a.config.contentsLangDirection = a.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? a.element.getDirection(1) : a.lang.dir;
        a.fire('langLoaded');
        g(a);
      });
    }
    function g(a) {
      a.getStylesSet(function (b) {
        a.once('loaded', function () {
          a.fire('stylesSet', { styles: b });
        }, null, null, 1);
        m(a);
      });
    }
    function m(a) {
      var b = a.config, c = b.plugins, d = b.extraPlugins, f = b.removePlugins;
      if (d)
        var e = RegExp('(?:^|,)(?:' + d.replace(/\s*,\s*/g, '|') + ')(?=,|$)', 'g'), c = c.replace(e, ''), c = c + (',' + d);
      if (f)
        var k = RegExp('(?:^|,)(?:' + f.replace(/\s*,\s*/g, '|') + ')(?=,|$)', 'g'), c = c.replace(k, '');
      CKEDITOR.env.air && (c = c + ',adobeair');
      CKEDITOR.plugins.load(c.split(','), function (c) {
        var d = [], f = [], e = [];
        a.plugins = c;
        for (var j in c) {
          var h = c[j], g = h.lang, i = null, u = h.requires, w;
          CKEDITOR.tools.isArray(u) && (u = u.join(','));
          if (u && (w = u.match(k)))
            for (; u = w.pop();)
              CKEDITOR.tools.setTimeout(function (a, b) {
                throw Error('Plugin "' + a.replace(',', '') + '" cannot be removed from the plugins list, because it\'s required by "' + b + '" plugin.');
              }, 0, null, [
                u,
                j
              ]);
          if (g && !a.lang[j]) {
            g.split && (g = g.split(','));
            if (CKEDITOR.tools.indexOf(g, a.langCode) >= 0)
              i = a.langCode;
            else {
              i = a.langCode.replace(/-.*/, '');
              i = i != a.langCode && CKEDITOR.tools.indexOf(g, i) >= 0 ? i : CKEDITOR.tools.indexOf(g, 'en') >= 0 ? 'en' : g[0];
            }
            if (!h.langEntries || !h.langEntries[i])
              e.push(CKEDITOR.getUrl(h.path + 'lang/' + i + '.js'));
            else {
              a.lang[j] = h.langEntries[i];
              i = null;
            }
          }
          f.push(i);
          d.push(h);
        }
        CKEDITOR.scriptLoader.load(e, function () {
          for (var c = [
                'beforeInit',
                'init',
                'afterInit'
              ], e = 0; e < c.length; e++)
            for (var n = 0; n < d.length; n++) {
              var j = d[n];
              e === 0 && (f[n] && j.lang && j.langEntries) && (a.lang[j.name] = j.langEntries[f[n]]);
              if (j[c[e]])
                j[c[e]](a);
            }
          a.fireOnce('pluginsLoaded');
          b.keystrokes && a.setKeystroke(a.config.keystrokes);
          for (n = 0; n < a.config.blockedKeystrokes.length; n++)
            a.keystrokeHandler.blockedKeystrokes[a.config.blockedKeystrokes[n]] = 1;
          a.status = 'loaded';
          a.fireOnce('loaded');
          CKEDITOR.fire('instanceLoaded', null, a);
        });
      });
    }
    function t() {
      var a = this.element;
      if (a && this.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO) {
        var b = this.getData();
        this.config.htmlEncodeOutput && (b = CKEDITOR.tools.htmlEncode(b));
        a.is('textarea') ? a.setValue(b) : a.setHtml(b);
        return true;
      }
      return false;
    }
    a.prototype = CKEDITOR.editor.prototype;
    CKEDITOR.editor = a;
    var s = 0, y = {};
    CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
      addCommand: function (a, b) {
        b.name = a.toLowerCase();
        var d = new CKEDITOR.command(this, b);
        this.mode && c(this, d);
        return this.commands[a] = d;
      },
      _attachToForm: function () {
        function a(d) {
          b.updateElement();
          b._.required && (!c.getValue() && b.fire('required') === false) && d.data.preventDefault();
        }
        var b = this, c = b.element, d = new CKEDITOR.dom.element(c.$.form);
        if (c.is('textarea') && d) {
          d.on('submit', a);
          if (d.$.submit && d.$.submit.call && d.$.submit.apply)
            d.$.submit = CKEDITOR.tools.override(d.$.submit, function (b) {
              return function () {
                a();
                b.apply ? b.apply(this) : b();
              };
            });
          b.on('destroy', function () {
            d.removeListener('submit', a);
          });
        }
      },
      destroy: function (a) {
        this.fire('beforeDestroy');
        !a && t.call(this);
        this.editable(null);
        this.filter.destroy();
        delete this.filter;
        delete this.activeFilter;
        this.status = 'destroyed';
        this.fire('destroy');
        this.removeAllListeners();
        CKEDITOR.remove(this);
        CKEDITOR.fire('instanceDestroyed', null, this);
      },
      elementPath: function (a) {
        if (!a) {
          a = this.getSelection();
          if (!a)
            return null;
          a = a.getStartElement();
        }
        return a ? new CKEDITOR.dom.elementPath(a, this.editable()) : null;
      },
      createRange: function () {
        var a = this.editable();
        return a ? new CKEDITOR.dom.range(a) : null;
      },
      execCommand: function (a, b) {
        var c = this.getCommand(a), d = {
            name: a,
            commandData: b,
            command: c
          };
        if (c && c.state != CKEDITOR.TRISTATE_DISABLED && this.fire('beforeCommandExec', d) !== false) {
          d.returnValue = c.exec(d.commandData);
          if (!c.async && this.fire('afterCommandExec', d) !== false)
            return d.returnValue;
        }
        return false;
      },
      getCommand: function (a) {
        return this.commands[a];
      },
      getData: function (a) {
        !a && this.fire('beforeGetData');
        var b = this._.data;
        if (typeof b != 'string')
          b = (b = this.element) && this.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE ? b.is('textarea') ? b.getValue() : b.getHtml() : '';
        b = { dataValue: b };
        !a && this.fire('getData', b);
        return b.dataValue;
      },
      getSnapshot: function () {
        var a = this.fire('getSnapshot');
        if (typeof a != 'string') {
          var b = this.element;
          b && this.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE && (a = b.is('textarea') ? b.getValue() : b.getHtml());
        }
        return a;
      },
      loadSnapshot: function (a) {
        this.fire('loadSnapshot', a);
      },
      setData: function (a, b, c) {
        var d = true, f = b;
        if (b && typeof b == 'object') {
          c = b.internal;
          f = b.callback;
          d = !b.noSnapshot;
        }
        !c && d && this.fire('saveSnapshot');
        if (f || !c)
          this.once('dataReady', function (a) {
            !c && d && this.fire('saveSnapshot');
            f && f.call(a.editor);
          });
        a = { dataValue: a };
        !c && this.fire('setData', a);
        this._.data = a.dataValue;
        !c && this.fire('afterSetData', a);
      },
      setReadOnly: function (a) {
        a = a == null || a;
        if (this.readOnly != a) {
          this.readOnly = a;
          this.keystrokeHandler.blockedKeystrokes[8] = +a;
          this.editable().setReadOnly(a);
          this.fire('readOnly');
        }
      },
      insertHtml: function (a, b) {
        this.fire('insertHtml', {
          dataValue: a,
          mode: b
        });
      },
      insertText: function (a) {
        this.fire('insertText', a);
      },
      insertElement: function (a) {
        this.fire('insertElement', a);
      },
      focus: function () {
        this.fire('beforeFocus');
      },
      checkDirty: function () {
        return this.status == 'ready' && this._.previousValue !== this.getSnapshot();
      },
      resetDirty: function () {
        this._.previousValue = this.getSnapshot();
      },
      updateElement: function () {
        return t.call(this);
      },
      setKeystroke: function () {
        for (var a = this.keystrokeHandler.keystrokes, b = CKEDITOR.tools.isArray(arguments[0]) ? arguments[0] : [[].slice.call(arguments, 0)], c, d, f = b.length; f--;) {
          c = b[f];
          d = 0;
          if (CKEDITOR.tools.isArray(c)) {
            d = c[1];
            c = c[0];
          }
          d ? a[c] = d : delete a[c];
        }
      },
      addFeature: function (a) {
        return this.filter.addFeature(a);
      },
      setActiveFilter: function (a) {
        if (!a)
          a = this.filter;
        if (this.activeFilter !== a) {
          this.activeFilter = a;
          this.fire('activeFilterChange');
          a === this.filter ? this.setActiveEnterMode(null, null) : this.setActiveEnterMode(a.getAllowedEnterMode(this.enterMode), a.getAllowedEnterMode(this.shiftEnterMode, true));
        }
      },
      setActiveEnterMode: function (a, b) {
        a = a ? this.blockless ? CKEDITOR.ENTER_BR : a : this.enterMode;
        b = b ? this.blockless ? CKEDITOR.ENTER_BR : b : this.shiftEnterMode;
        if (this.activeEnterMode != a || this.activeShiftEnterMode != b) {
          this.activeEnterMode = a;
          this.activeShiftEnterMode = b;
          this.fire('activeEnterModeChange');
        }
      }
    });
  }());
  CKEDITOR.ELEMENT_MODE_NONE = 0;
  CKEDITOR.ELEMENT_MODE_REPLACE = 1;
  CKEDITOR.ELEMENT_MODE_APPENDTO = 2;
  CKEDITOR.ELEMENT_MODE_INLINE = 3;
  CKEDITOR.htmlParser = function () {
    this._ = { htmlPartsRegex: /<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\>)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g };
  };
  (function () {
    var a = /([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g, e = {
        checked: 1,
        compact: 1,
        declare: 1,
        defer: 1,
        disabled: 1,
        ismap: 1,
        multiple: 1,
        nohref: 1,
        noresize: 1,
        noshade: 1,
        nowrap: 1,
        readonly: 1,
        selected: 1
      };
    CKEDITOR.htmlParser.prototype = {
      onTagOpen: function () {
      },
      onTagClose: function () {
      },
      onText: function () {
      },
      onCDATA: function () {
      },
      onComment: function () {
      },
      parse: function (b) {
        for (var c, f, d = 0, h; c = this._.htmlPartsRegex.exec(b);) {
          f = c.index;
          if (f > d) {
            d = b.substring(d, f);
            if (h)
              h.push(d);
            else
              this.onText(d);
          }
          d = this._.htmlPartsRegex.lastIndex;
          if (f = c[1]) {
            f = f.toLowerCase();
            if (h && CKEDITOR.dtd.$cdata[f]) {
              this.onCDATA(h.join(''));
              h = null;
            }
            if (!h) {
              this.onTagClose(f);
              continue;
            }
          }
          if (h)
            h.push(c[0]);
          else if (f = c[3]) {
            f = f.toLowerCase();
            if (!/="/.test(f)) {
              var l = {}, i, g = c[4];
              c = !!c[5];
              if (g)
                for (; i = a.exec(g);) {
                  var m = i[1].toLowerCase();
                  i = i[2] || i[3] || i[4] || '';
                  l[m] = !i && e[m] ? m : CKEDITOR.tools.htmlDecodeAttr(i);
                }
              this.onTagOpen(f, l, c);
              !h && CKEDITOR.dtd.$cdata[f] && (h = []);
            }
          } else if (f = c[2])
            this.onComment(f);
        }
        if (b.length > d)
          this.onText(b.substring(d, b.length));
      }
    };
  }());
  CKEDITOR.htmlParser.basicWriter = CKEDITOR.tools.createClass({
    $: function () {
      this._ = { output: [] };
    },
    proto: {
      openTag: function (a) {
        this._.output.push('<', a);
      },
      openTagClose: function (a, e) {
        e ? this._.output.push(' />') : this._.output.push('>');
      },
      attribute: function (a, e) {
        typeof e == 'string' && (e = CKEDITOR.tools.htmlEncodeAttr(e));
        this._.output.push(' ', a, '="', e, '"');
      },
      closeTag: function (a) {
        this._.output.push('</', a, '>');
      },
      text: function (a) {
        this._.output.push(a);
      },
      comment: function (a) {
        this._.output.push('<!--', a, '-->');
      },
      write: function (a) {
        this._.output.push(a);
      },
      reset: function () {
        this._.output = [];
        this._.indent = false;
      },
      getHtml: function (a) {
        var e = this._.output.join('');
        a && this.reset();
        return e;
      }
    }
  });
  'use strict';
  (function () {
    CKEDITOR.htmlParser.node = function () {
    };
    CKEDITOR.htmlParser.node.prototype = {
      remove: function () {
        var a = this.parent.children, e = CKEDITOR.tools.indexOf(a, this), b = this.previous, c = this.next;
        b && (b.next = c);
        c && (c.previous = b);
        a.splice(e, 1);
        this.parent = null;
      },
      replaceWith: function (a) {
        var e = this.parent.children, b = CKEDITOR.tools.indexOf(e, this), c = a.previous = this.previous, f = a.next = this.next;
        c && (c.next = a);
        f && (f.previous = a);
        e[b] = a;
        a.parent = this.parent;
        this.parent = null;
      },
      insertAfter: function (a) {
        var e = a.parent.children, b = CKEDITOR.tools.indexOf(e, a), c = a.next;
        e.splice(b + 1, 0, this);
        this.next = a.next;
        this.previous = a;
        a.next = this;
        c && (c.previous = this);
        this.parent = a.parent;
      },
      insertBefore: function (a) {
        var e = a.parent.children, b = CKEDITOR.tools.indexOf(e, a);
        e.splice(b, 0, this);
        this.next = a;
        (this.previous = a.previous) && (a.previous.next = this);
        a.previous = this;
        this.parent = a.parent;
      },
      getAscendant: function (a) {
        var e = typeof a == 'function' ? a : typeof a == 'string' ? function (b) {
            return b.name == a;
          } : function (b) {
            return b.name in a;
          }, b = this.parent;
        for (; b && b.type == CKEDITOR.NODE_ELEMENT;) {
          if (e(b))
            return b;
          b = b.parent;
        }
        return null;
      },
      wrapWith: function (a) {
        this.replaceWith(a);
        a.add(this);
        return a;
      },
      getIndex: function () {
        return CKEDITOR.tools.indexOf(this.parent.children, this);
      },
      getFilterContext: function (a) {
        return a || {};
      }
    };
  }());
  'use strict';
  CKEDITOR.htmlParser.comment = function (a) {
    this.value = a;
    this._ = { isBlockLike: false };
  };
  CKEDITOR.htmlParser.comment.prototype = CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node(), {
    type: CKEDITOR.NODE_COMMENT,
    filter: function (a, e) {
      var b = this.value;
      if (!(b = a.onComment(e, b, this))) {
        this.remove();
        return false;
      }
      if (typeof b != 'string') {
        this.replaceWith(b);
        return false;
      }
      this.value = b;
      return true;
    },
    writeHtml: function (a, e) {
      e && this.filter(e);
      a.comment(this.value);
    }
  });
  'use strict';
  (function () {
    CKEDITOR.htmlParser.text = function (a) {
      this.value = a;
      this._ = { isBlockLike: false };
    };
    CKEDITOR.htmlParser.text.prototype = CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node(), {
      type: CKEDITOR.NODE_TEXT,
      filter: function (a, e) {
        if (!(this.value = a.onText(e, this.value, this))) {
          this.remove();
          return false;
        }
      },
      writeHtml: function (a, e) {
        e && this.filter(e);
        a.text(this.value);
      }
    });
  }());
  'use strict';
  (function () {
    CKEDITOR.htmlParser.cdata = function (a) {
      this.value = a;
    };
    CKEDITOR.htmlParser.cdata.prototype = CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node(), {
      type: CKEDITOR.NODE_TEXT,
      filter: function () {
      },
      writeHtml: function (a) {
        a.write(this.value);
      }
    });
  }());
  'use strict';
  CKEDITOR.htmlParser.fragment = function () {
    this.children = [];
    this.parent = null;
    this._ = {
      isBlockLike: true,
      hasInlineStarted: false
    };
  };
  (function () {
    function a(a) {
      return a.attributes['data-cke-survive'] ? false : a.name == 'a' && a.attributes.href || CKEDITOR.dtd.$removeEmpty[a.name];
    }
    var e = CKEDITOR.tools.extend({
        table: 1,
        ul: 1,
        ol: 1,
        dl: 1
      }, CKEDITOR.dtd.table, CKEDITOR.dtd.ul, CKEDITOR.dtd.ol, CKEDITOR.dtd.dl), b = {
        ol: 1,
        ul: 1
      }, c = CKEDITOR.tools.extend({}, { html: 1 }, CKEDITOR.dtd.html, CKEDITOR.dtd.body, CKEDITOR.dtd.head, {
        style: 1,
        script: 1
      }), f = {
        ul: 'li',
        ol: 'li',
        dl: 'dd',
        table: 'tbody',
        tbody: 'tr',
        thead: 'tr',
        tfoot: 'tr',
        tr: 'td'
      };
    CKEDITOR.htmlParser.fragment.fromHtml = function (d, h, l) {
      function i(a) {
        var b;
        if (j.length > 0)
          for (var c = 0; c < j.length; c++) {
            var d = j[c], f = d.name, e = CKEDITOR.dtd[f], k = v.name && CKEDITOR.dtd[v.name];
            if ((!k || k[f]) && (!a || !e || e[a] || !CKEDITOR.dtd[a])) {
              if (!b) {
                g();
                b = 1;
              }
              d = d.clone();
              d.parent = v;
              v = d;
              j.splice(c, 1);
              c--;
            } else if (f == v.name) {
              t(v, v.parent, 1);
              c--;
            }
          }
      }
      function g() {
        for (; u.length;)
          t(u.shift(), v);
      }
      function m(a) {
        if (a._.isBlockLike && a.name != 'pre' && a.name != 'textarea') {
          var b = a.children.length, c = a.children[b - 1], d;
          if (c && c.type == CKEDITOR.NODE_TEXT)
            (d = CKEDITOR.tools.rtrim(c.value)) ? c.value = d : a.children.length = b - 1;
        }
      }
      function t(b, c, d) {
        var c = c || v || q, f = v;
        if (b.previous === void 0) {
          if (s(c, b)) {
            v = c;
            p.onTagOpen(l, {});
            b.returnPoint = c = v;
          }
          m(b);
          (!a(b) || b.children.length) && c.add(b);
          b.name == 'pre' && (k = false);
          b.name == 'textarea' && (E = false);
        }
        if (b.returnPoint) {
          v = b.returnPoint;
          delete b.returnPoint;
        } else
          v = d ? c : f;
      }
      function s(a, b) {
        if ((a == q || a.name == 'body') && l && (!a.name || CKEDITOR.dtd[a.name][l])) {
          var c, d;
          return (c = b.attributes && (d = b.attributes['data-cke-real-element-type']) ? d : b.name) && c in CKEDITOR.dtd.$inline && !(c in CKEDITOR.dtd.head) && !b.isOrphan || b.type == CKEDITOR.NODE_TEXT;
        }
      }
      function y(a, b) {
        return a in CKEDITOR.dtd.$listItem || a in CKEDITOR.dtd.$tableContent ? a == b || a == 'dt' && b == 'dd' || a == 'dd' && b == 'dt' : false;
      }
      var p = new CKEDITOR.htmlParser(), q = h instanceof CKEDITOR.htmlParser.element ? h : typeof h == 'string' ? new CKEDITOR.htmlParser.element(h) : new CKEDITOR.htmlParser.fragment(), j = [], u = [], v = q, E = q.name == 'textarea', k = q.name == 'pre';
      p.onTagOpen = function (d, f, h, l) {
        f = new CKEDITOR.htmlParser.element(d, f);
        if (f.isUnknown && h)
          f.isEmpty = true;
        f.isOptionalClose = l;
        if (a(f))
          j.push(f);
        else {
          if (d == 'pre')
            k = true;
          else {
            if (d == 'br' && k) {
              v.add(new CKEDITOR.htmlParser.text('\n'));
              return;
            }
            d == 'textarea' && (E = true);
          }
          if (d == 'br')
            u.push(f);
          else {
            for (;;) {
              l = (h = v.name) ? CKEDITOR.dtd[h] || (v._.isBlockLike ? CKEDITOR.dtd.div : CKEDITOR.dtd.span) : c;
              if (!f.isUnknown && !v.isUnknown && !l[d])
                if (v.isOptionalClose)
                  p.onTagClose(h);
                else if (d in b && h in b) {
                  h = v.children;
                  (h = h[h.length - 1]) && h.name == 'li' || t(h = new CKEDITOR.htmlParser.element('li'), v);
                  !f.returnPoint && (f.returnPoint = v);
                  v = h;
                } else if (d in CKEDITOR.dtd.$listItem && !y(d, h))
                  p.onTagOpen(d == 'li' ? 'ul' : 'dl', {}, 0, 1);
                else if (h in e && !y(d, h)) {
                  !f.returnPoint && (f.returnPoint = v);
                  v = v.parent;
                } else {
                  h in CKEDITOR.dtd.$inline && j.unshift(v);
                  if (v.parent)
                    t(v, v.parent, 1);
                  else {
                    f.isOrphan = 1;
                    break;
                  }
                }
              else
                break;
            }
            i(d);
            g();
            f.parent = v;
            f.isEmpty ? t(f) : v = f;
          }
        }
      };
      p.onTagClose = function (a) {
        for (var b = j.length - 1; b >= 0; b--)
          if (a == j[b].name) {
            j.splice(b, 1);
            return;
          }
        for (var c = [], d = [], f = v; f != q && f.name != a;) {
          f._.isBlockLike || d.unshift(f);
          c.push(f);
          f = f.returnPoint || f.parent;
        }
        if (f != q) {
          for (b = 0; b < c.length; b++) {
            var e = c[b];
            t(e, e.parent);
          }
          v = f;
          f._.isBlockLike && g();
          t(f, f.parent);
          if (f == v)
            v = v.parent;
          j = j.concat(d);
        }
        a == 'body' && (l = false);
      };
      p.onText = function (a) {
        if ((!v._.hasInlineStarted || u.length) && !k && !E) {
          a = CKEDITOR.tools.ltrim(a);
          if (a.length === 0)
            return;
        }
        var b = v.name, d = b ? CKEDITOR.dtd[b] || (v._.isBlockLike ? CKEDITOR.dtd.div : CKEDITOR.dtd.span) : c;
        if (!E && !d['#'] && b in e) {
          p.onTagOpen(f[b] || '');
          p.onText(a);
        } else {
          g();
          i();
          !k && !E && (a = a.replace(/[\t\r\n ]{2,}|[\t\r\n]/g, ' '));
          a = new CKEDITOR.htmlParser.text(a);
          if (s(v, a))
            this.onTagOpen(l, {}, 0, 1);
          v.add(a);
        }
      };
      p.onCDATA = function (a) {
        v.add(new CKEDITOR.htmlParser.cdata(a));
      };
      p.onComment = function (a) {
        g();
        i();
        v.add(new CKEDITOR.htmlParser.comment(a));
      };
      p.parse(d);
      for (g(); v != q;)
        t(v, v.parent, 1);
      m(q);
      return q;
    };
    CKEDITOR.htmlParser.fragment.prototype = {
      type: CKEDITOR.NODE_DOCUMENT_FRAGMENT,
      add: function (a, b) {
        isNaN(b) && (b = this.children.length);
        var c = b > 0 ? this.children[b - 1] : null;
        if (c) {
          if (a._.isBlockLike && c.type == CKEDITOR.NODE_TEXT) {
            c.value = CKEDITOR.tools.rtrim(c.value);
            if (c.value.length === 0) {
              this.children.pop();
              this.add(a);
              return;
            }
          }
          c.next = a;
        }
        a.previous = c;
        a.parent = this;
        this.children.splice(b, 0, a);
        if (!this._.hasInlineStarted)
          this._.hasInlineStarted = a.type == CKEDITOR.NODE_TEXT || a.type == CKEDITOR.NODE_ELEMENT && !a._.isBlockLike;
      },
      filter: function (a, b) {
        b = this.getFilterContext(b);
        a.onRoot(b, this);
        this.filterChildren(a, false, b);
      },
      filterChildren: function (a, b, c) {
        if (this.childrenFilteredBy != a.id) {
          c = this.getFilterContext(c);
          if (b && !this.parent)
            a.onRoot(c, this);
          this.childrenFilteredBy = a.id;
          for (b = 0; b < this.children.length; b++)
            this.children[b].filter(a, c) === false && b--;
        }
      },
      writeHtml: function (a, b) {
        b && this.filter(b);
        this.writeChildrenHtml(a);
      },
      writeChildrenHtml: function (a, b, c) {
        var f = this.getFilterContext();
        if (c && !this.parent && b)
          b.onRoot(f, this);
        b && this.filterChildren(b, false, f);
        b = 0;
        c = this.children;
        for (f = c.length; b < f; b++)
          c[b].writeHtml(a);
      },
      forEach: function (a, b, c) {
        if (!c && (!b || this.type == b))
          var f = a(this);
        if (f !== false)
          for (var c = this.children, e = 0; e < c.length; e++) {
            f = c[e];
            f.type == CKEDITOR.NODE_ELEMENT ? f.forEach(a, b) : (!b || f.type == b) && a(f);
          }
      },
      getFilterContext: function (a) {
        return a || {};
      }
    };
  }());
  'use strict';
  (function () {
    function a() {
      this.rules = [];
    }
    function e(b, c, f, d) {
      var e, l;
      for (e in c) {
        (l = b[e]) || (l = b[e] = new a());
        l.add(c[e], f, d);
      }
    }
    CKEDITOR.htmlParser.filter = CKEDITOR.tools.createClass({
      $: function (b) {
        this.id = CKEDITOR.tools.getNextNumber();
        this.elementNameRules = new a();
        this.attributeNameRules = new a();
        this.elementsRules = {};
        this.attributesRules = {};
        this.textRules = new a();
        this.commentRules = new a();
        this.rootRules = new a();
        b && this.addRules(b, 10);
      },
      proto: {
        addRules: function (a, c) {
          var f;
          if (typeof c == 'number')
            f = c;
          else if (c && 'priority' in c)
            f = c.priority;
          typeof f != 'number' && (f = 10);
          typeof c != 'object' && (c = {});
          a.elementNames && this.elementNameRules.addMany(a.elementNames, f, c);
          a.attributeNames && this.attributeNameRules.addMany(a.attributeNames, f, c);
          a.elements && e(this.elementsRules, a.elements, f, c);
          a.attributes && e(this.attributesRules, a.attributes, f, c);
          a.text && this.textRules.add(a.text, f, c);
          a.comment && this.commentRules.add(a.comment, f, c);
          a.root && this.rootRules.add(a.root, f, c);
        },
        applyTo: function (a) {
          a.filter(this);
        },
        onElementName: function (a, c) {
          return this.elementNameRules.execOnName(a, c);
        },
        onAttributeName: function (a, c) {
          return this.attributeNameRules.execOnName(a, c);
        },
        onText: function (a, c, f) {
          return this.textRules.exec(a, c, f);
        },
        onComment: function (a, c, f) {
          return this.commentRules.exec(a, c, f);
        },
        onRoot: function (a, c) {
          return this.rootRules.exec(a, c);
        },
        onElement: function (a, c) {
          for (var f = [
                this.elementsRules['^'],
                this.elementsRules[c.name],
                this.elementsRules.$
              ], d, e = 0; e < 3; e++)
            if (d = f[e]) {
              d = d.exec(a, c, this);
              if (d === false)
                return null;
              if (d && d != c)
                return this.onNode(a, d);
              if (c.parent && !c.name)
                break;
            }
          return c;
        },
        onNode: function (a, c) {
          var f = c.type;
          return f == CKEDITOR.NODE_ELEMENT ? this.onElement(a, c) : f == CKEDITOR.NODE_TEXT ? new CKEDITOR.htmlParser.text(this.onText(a, c.value)) : f == CKEDITOR.NODE_COMMENT ? new CKEDITOR.htmlParser.comment(this.onComment(a, c.value)) : null;
        },
        onAttribute: function (a, c, f, d) {
          return (f = this.attributesRules[f]) ? f.exec(a, d, c, this) : d;
        }
      }
    });
    CKEDITOR.htmlParser.filterRulesGroup = a;
    a.prototype = {
      add: function (a, c, f) {
        this.rules.splice(this.findIndex(c), 0, {
          value: a,
          priority: c,
          options: f
        });
      },
      addMany: function (a, c, f) {
        for (var d = [
              this.findIndex(c),
              0
            ], e = 0, l = a.length; e < l; e++)
          d.push({
            value: a[e],
            priority: c,
            options: f
          });
        this.rules.splice.apply(this.rules, d);
      },
      findIndex: function (a) {
        for (var c = this.rules, f = c.length - 1; f >= 0 && a < c[f].priority;)
          f--;
        return f + 1;
      },
      exec: function (a, c) {
        var f = c instanceof CKEDITOR.htmlParser.node || c instanceof CKEDITOR.htmlParser.fragment, d = Array.prototype.slice.call(arguments, 1), e = this.rules, l = e.length, i, g, m, t;
        for (t = 0; t < l; t++) {
          if (f) {
            i = c.type;
            g = c.name;
          }
          m = e[t];
          if (!(a.nonEditable && !m.options.applyToAll || a.nestedEditable && m.options.excludeNestedEditable)) {
            m = m.value.apply(null, d);
            if (m === false || f && m && (m.name != g || m.type != i))
              return m;
            m != null && (d[0] = c = m);
          }
        }
        return c;
      },
      execOnName: function (a, c) {
        for (var f = 0, d = this.rules, e = d.length, l; c && f < e; f++) {
          l = d[f];
          !(a.nonEditable && !l.options.applyToAll || a.nestedEditable && l.options.excludeNestedEditable) && (c = c.replace(l.value[0], l.value[1]));
        }
        return c;
      }
    };
  }());
  (function () {
    function a(a, e) {
      function n(a) {
        return a || CKEDITOR.env.needsNbspFiller ? new CKEDITOR.htmlParser.text('\xa0') : new CKEDITOR.htmlParser.element('br', { 'data-cke-bogus': 1 });
      }
      function r(a, f) {
        return function (e) {
          if (e.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT) {
            var j = [], k = b(e), x, r;
            if (k)
              for (w(k, 1) && j.push(k); k;) {
                if (d(k) && (x = c(k)) && w(x))
                  if ((r = c(x)) && !d(r))
                    j.push(x);
                  else {
                    n(o).insertAfter(x);
                    x.remove();
                  }
                k = k.previous;
              }
            for (k = 0; k < j.length; k++)
              j[k].remove();
            if (j = (typeof f == 'function' ? f(e) : f) !== false)
              if (!o && !CKEDITOR.env.needsBrFiller && e.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT)
                j = false;
              else if (!o && !CKEDITOR.env.needsBrFiller && (document.documentMode > 7 || e.name in CKEDITOR.dtd.tr || e.name in CKEDITOR.dtd.$listItem))
                j = false;
              else {
                j = b(e);
                j = !j || e.name == 'form' && j.name == 'input';
              }
            j && e.add(n(a));
          }
        };
      }
      function w(a, b) {
        if ((!o || CKEDITOR.env.needsBrFiller) && a.type == CKEDITOR.NODE_ELEMENT && a.name == 'br' && !a.attributes['data-cke-eol'])
          return true;
        var c;
        if (a.type == CKEDITOR.NODE_TEXT && (c = a.value.match(j))) {
          if (c.index) {
            new CKEDITOR.htmlParser.text(a.value.substring(0, c.index)).insertBefore(a);
            a.value = c[0];
          }
          if (!CKEDITOR.env.needsBrFiller && o && (!b || a.parent.name in i))
            return true;
          if (!o)
            if ((c = a.previous) && c.name == 'br' || !c || d(c))
              return true;
        }
        return false;
      }
      var g = { elements: {} }, o = e == 'html', i = CKEDITOR.tools.extend({}, k), C;
      for (C in i)
        '#' in v[C] || delete i[C];
      for (C in i)
        g.elements[C] = r(o, a.config.fillEmptyBlocks);
      g.root = r(o, false);
      g.elements.br = function (a) {
        return function (b) {
          if (b.parent.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT) {
            var e = b.attributes;
            if ('data-cke-bogus' in e || 'data-cke-eol' in e)
              delete e['data-cke-bogus'];
            else {
              for (e = b.next; e && f(e);)
                e = e.next;
              var j = c(b);
              !e && d(b.parent) ? h(b.parent, n(a)) : d(e) && (j && !d(j)) && n(a).insertBefore(e);
            }
          }
        };
      }(o);
      return g;
    }
    function e(a, b) {
      return a != CKEDITOR.ENTER_BR && b !== false ? a == CKEDITOR.ENTER_DIV ? 'div' : 'p' : false;
    }
    function b(a) {
      for (a = a.children[a.children.length - 1]; a && f(a);)
        a = a.previous;
      return a;
    }
    function c(a) {
      for (a = a.previous; a && f(a);)
        a = a.previous;
      return a;
    }
    function f(a) {
      return a.type == CKEDITOR.NODE_TEXT && !CKEDITOR.tools.trim(a.value) || a.type == CKEDITOR.NODE_ELEMENT && a.attributes['data-cke-bookmark'];
    }
    function d(a) {
      return a && (a.type == CKEDITOR.NODE_ELEMENT && a.name in k || a.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT);
    }
    function h(a, b) {
      var c = a.children[a.children.length - 1];
      a.children.push(b);
      b.parent = a;
      if (c) {
        c.next = b;
        b.previous = c;
      }
    }
    function l(a) {
      a = a.attributes;
      a.contenteditable != 'false' && (a['data-cke-editable'] = a.contenteditable ? 'true' : 1);
      a.contenteditable = 'false';
    }
    function i(a) {
      a = a.attributes;
      switch (a['data-cke-editable']) {
      case 'true':
        a.contenteditable = 'true';
        break;
      case '1':
        delete a.contenteditable;
      }
    }
    function g(a) {
      return a.replace(D, function (a, b, c) {
        return '<' + b + c.replace(J, function (a, b) {
          return z.test(b) && c.indexOf('data-cke-saved-' + b) == -1 ? ' data-cke-saved-' + a + ' data-cke-' + CKEDITOR.rnd + '-' + a : a;
        }) + '>';
      });
    }
    function m(a, b) {
      return a.replace(b, function (a, b, c) {
        a.indexOf('<textarea') === 0 && (a = b + y(c).replace(/</g, '&lt;').replace(/>/g, '&gt;') + '</textarea>');
        return '<cke:encoded>' + encodeURIComponent(a) + '</cke:encoded>';
      });
    }
    function t(a) {
      return a.replace(w, function (a, b) {
        return decodeURIComponent(b);
      });
    }
    function s(a) {
      return a.replace(/<\!--(?!{cke_protected})[\s\S]+?--\>/g, function (a) {
        return '<!--' + u + '{C}' + encodeURIComponent(a).replace(/--/g, '%2D%2D') + '-->';
      });
    }
    function y(a) {
      return a.replace(/<\!--\{cke_protected\}\{C\}([\s\S]+?)--\>/g, function (a, b) {
        return decodeURIComponent(b);
      });
    }
    function p(a, b) {
      var c = b._.dataStore;
      return a.replace(/<\!--\{cke_protected\}([\s\S]+?)--\>/g, function (a, b) {
        return decodeURIComponent(b);
      }).replace(/\{cke_protected_(\d+)\}/g, function (a, b) {
        return c && c[b] || '';
      });
    }
    function q(a, b) {
      for (var c = [], d = b.config.protectedSource, f = b._.dataStore || (b._.dataStore = { id: 1 }), e = /<\!--\{cke_temp(comment)?\}(\d*?)--\>/g, d = [
            /<script[\s\S]*?<\/script>/gi,
            /<noscript[\s\S]*?<\/noscript>/gi,
            /<meta[\s\S]*?\/?>/gi
          ].concat(d), a = a.replace(/<\!--[\s\S]*?--\>/g, function (a) {
            return '<!--{cke_tempcomment}' + (c.push(a) - 1) + '-->';
          }), j = 0; j < d.length; j++)
        a = a.replace(d[j], function (a) {
          a = a.replace(e, function (a, b, d) {
            return c[d];
          });
          return /cke_temp(comment)?/.test(a) ? a : '<!--{cke_temp}' + (c.push(a) - 1) + '-->';
        });
      a = a.replace(e, function (a, b, d) {
        return '<!--' + u + (b ? '{C}' : '') + encodeURIComponent(c[d]).replace(/--/g, '%2D%2D') + '-->';
      });
      a = a.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=>]+))+\s*>/g, function (a) {
        return a.replace(/<\!--\{cke_protected\}([^>]*)--\>/g, function (a, b) {
          f[f.id] = decodeURIComponent(b);
          return '{cke_protected_' + f.id++ + '}';
        });
      });
      return a = a.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g, function (a, c, d, f) {
        return '<' + c + d + '>' + p(y(f), b) + '</' + c + '>';
      });
    }
    CKEDITOR.htmlDataProcessor = function (b) {
      var c, d, f = this;
      this.editor = b;
      this.dataFilter = c = new CKEDITOR.htmlParser.filter();
      this.htmlFilter = d = new CKEDITOR.htmlParser.filter();
      this.writer = new CKEDITOR.htmlParser.basicWriter();
      c.addRules(n);
      c.addRules(r, { applyToAll: true });
      c.addRules(a(b, 'data'), { applyToAll: true });
      d.addRules(o);
      d.addRules(M, { applyToAll: true });
      d.addRules(a(b, 'html'), { applyToAll: true });
      b.on('toHtml', function (a) {
        var a = a.data, c = a.dataValue, d, c = q(c, b), c = m(c, B), c = g(c), c = m(c, L), c = c.replace(H, '$1cke:$2'), c = c.replace(A, '<cke:$1$2></cke:$1>'), c = c.replace(/(<pre\b[^>]*>)(\r\n|\n)/g, '$1$2$2'), c = c.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi, '$1data-cke-' + CKEDITOR.rnd + '-$2');
        d = a.context || b.editable().getName();
        var f;
        if (CKEDITOR.env.ie && CKEDITOR.env.version < 9 && d == 'pre') {
          d = 'div';
          c = '<pre>' + c + '</pre>';
          f = 1;
        }
        d = b.document.createElement(d);
        d.setHtml('a' + c);
        c = d.getHtml().substr(1);
        c = c.replace(RegExp('data-cke-' + CKEDITOR.rnd + '-', 'ig'), '');
        f && (c = c.replace(/^<pre>|<\/pre>$/gi, ''));
        c = c.replace(C, '$1$2');
        c = t(c);
        c = y(c);
        d = a.fixForBody === false ? false : e(a.enterMode, b.config.autoParagraph);
        c = CKEDITOR.htmlParser.fragment.fromHtml(c, a.context, d);
        if (d) {
          f = c;
          if (!f.children.length && CKEDITOR.dtd[f.name][d]) {
            d = new CKEDITOR.htmlParser.element(d);
            f.add(d);
          }
        }
        a.dataValue = c;
      }, null, null, 5);
      b.on('toHtml', function (a) {
        a.data.filter.applyTo(a.data.dataValue, true, a.data.dontFilter, a.data.enterMode) && b.fire('dataFiltered');
      }, null, null, 6);
      b.on('toHtml', function (a) {
        a.data.dataValue.filterChildren(f.dataFilter, true);
      }, null, null, 10);
      b.on('toHtml', function (a) {
        var a = a.data, b = a.dataValue, c = new CKEDITOR.htmlParser.basicWriter();
        b.writeChildrenHtml(c);
        b = c.getHtml(true);
        a.dataValue = s(b);
      }, null, null, 15);
      b.on('toDataFormat', function (a) {
        var c = a.data.dataValue;
        a.data.enterMode != CKEDITOR.ENTER_BR && (c = c.replace(/^<br *\/?>/i, ''));
        a.data.dataValue = CKEDITOR.htmlParser.fragment.fromHtml(c, a.data.context, e(a.data.enterMode, b.config.autoParagraph));
      }, null, null, 5);
      b.on('toDataFormat', function (a) {
        a.data.dataValue.filterChildren(f.htmlFilter, true);
      }, null, null, 10);
      b.on('toDataFormat', function (a) {
        a.data.filter.applyTo(a.data.dataValue, false, true);
      }, null, null, 11);
      b.on('toDataFormat', function (a) {
        var c = a.data.dataValue, d = f.writer;
        d.reset();
        c.writeChildrenHtml(d);
        c = d.getHtml(true);
        c = y(c);
        c = p(c, b);
        a.data.dataValue = c;
      }, null, null, 15);
    };
    CKEDITOR.htmlDataProcessor.prototype = {
      toHtml: function (a, b, c, d) {
        var f = this.editor, e, j, k;
        if (b && typeof b == 'object') {
          e = b.context;
          c = b.fixForBody;
          d = b.dontFilter;
          j = b.filter;
          k = b.enterMode;
        } else
          e = b;
        !e && e !== null && (e = f.editable().getName());
        return f.fire('toHtml', {
          dataValue: a,
          context: e,
          fixForBody: c,
          dontFilter: d,
          filter: j || f.filter,
          enterMode: k || f.enterMode
        }).dataValue;
      },
      toDataFormat: function (a, b) {
        var c, d, f;
        if (b) {
          c = b.context;
          d = b.filter;
          f = b.enterMode;
        }
        !c && c !== null && (c = this.editor.editable().getName());
        return this.editor.fire('toDataFormat', {
          dataValue: a,
          filter: d || this.editor.filter,
          context: c,
          enterMode: f || this.editor.enterMode
        }).dataValue;
      }
    };
    var j = /(?:&nbsp;|\xa0)$/, u = '{cke_protected}', v = CKEDITOR.dtd, E = [
        'caption',
        'colgroup',
        'col',
        'thead',
        'tfoot',
        'tbody'
      ], k = CKEDITOR.tools.extend({}, v.$blockLimit, v.$block), n = {
        elements: {
          input: l,
          textarea: l
        }
      }, r = {
        attributeNames: [
          [
            /^on/,
            'data-cke-pa-on'
          ],
          [
            /^data-cke-expando$/,
            ''
          ]
        ]
      }, o = {
        elements: {
          embed: function (a) {
            var b = a.parent;
            if (b && b.name == 'object') {
              var c = b.attributes.width, b = b.attributes.height;
              if (c)
                a.attributes.width = c;
              if (b)
                a.attributes.height = b;
            }
          },
          a: function (a) {
            if (!a.children.length && !a.attributes.name && !a.attributes['data-cke-saved-name'])
              return false;
          }
        }
      }, M = {
        elementNames: [
          [
            /^cke:/,
            ''
          ],
          [
            /^\?xml:namespace$/,
            ''
          ]
        ],
        attributeNames: [
          [
            /^data-cke-(saved|pa)-/,
            ''
          ],
          [
            /^data-cke-.*/,
            ''
          ],
          [
            'hidefocus',
            ''
          ]
        ],
        elements: {
          $: function (a) {
            var b = a.attributes;
            if (b) {
              if (b['data-cke-temp'])
                return false;
              for (var c = [
                    'name',
                    'href',
                    'src'
                  ], d, f = 0; f < c.length; f++) {
                d = 'data-cke-saved-' + c[f];
                d in b && delete b[c[f]];
              }
            }
            return a;
          },
          table: function (a) {
            a.children.slice(0).sort(function (a, b) {
              var c, d;
              if (a.type == CKEDITOR.NODE_ELEMENT && b.type == a.type) {
                c = CKEDITOR.tools.indexOf(E, a.name);
                d = CKEDITOR.tools.indexOf(E, b.name);
              }
              if (!(c > -1 && d > -1 && c != d)) {
                c = a.parent ? a.getIndex() : -1;
                d = b.parent ? b.getIndex() : -1;
              }
              return c > d ? 1 : -1;
            });
          },
          param: function (a) {
            a.children = [];
            a.isEmpty = true;
            return a;
          },
          span: function (a) {
            a.attributes['class'] == 'Apple-style-span' && delete a.name;
          },
          html: function (a) {
            delete a.attributes.contenteditable;
            delete a.attributes['class'];
          },
          body: function (a) {
            delete a.attributes.spellcheck;
            delete a.attributes.contenteditable;
          },
          style: function (a) {
            var b = a.children[0];
            if (b && b.value)
              b.value = CKEDITOR.tools.trim(b.value);
            if (!a.attributes.type)
              a.attributes.type = 'text/css';
          },
          title: function (a) {
            var b = a.children[0];
            !b && h(a, b = new CKEDITOR.htmlParser.text());
            b.value = a.attributes['data-cke-title'] || '';
          },
          input: i,
          textarea: i
        },
        attributes: {
          'class': function (a) {
            return CKEDITOR.tools.ltrim(a.replace(/(?:^|\s+)cke_[^\s]*/g, '')) || false;
          }
        }
      };
    if (CKEDITOR.env.ie)
      M.attributes.style = function (a) {
        return a.replace(/(^|;)([^\:]+)/g, function (a) {
          return a.toLowerCase();
        });
      };
    var D = /<(a|area|img|input|source)\b([^>]*)>/gi, J = /([\w-]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi, z = /^(href|src|name)$/i, L = /(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi, B = /(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi, w = /<cke:encoded>([^<]*)<\/cke:encoded>/gi, H = /(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi, C = /(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi, A = /<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;
  }());
  'use strict';
  CKEDITOR.htmlParser.element = function (a, e) {
    this.name = a;
    this.attributes = e || {};
    this.children = [];
    var b = a || '', c = b.match(/^cke:(.*)/);
    c && (b = c[1]);
    b = !(!CKEDITOR.dtd.$nonBodyContent[b] && !CKEDITOR.dtd.$block[b] && !CKEDITOR.dtd.$listItem[b] && !CKEDITOR.dtd.$tableContent[b] && !(CKEDITOR.dtd.$nonEditable[b] || b == 'br'));
    this.isEmpty = !!CKEDITOR.dtd.$empty[a];
    this.isUnknown = !CKEDITOR.dtd[a];
    this._ = {
      isBlockLike: b,
      hasInlineStarted: this.isEmpty || !b
    };
  };
  CKEDITOR.htmlParser.cssStyle = function (a) {
    var e = {};
    ((a instanceof CKEDITOR.htmlParser.element ? a.attributes.style : a) || '').replace(/&quot;/g, '"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g, function (a, c, f) {
      c == 'font-family' && (f = f.replace(/["']/g, ''));
      e[c.toLowerCase()] = f;
    });
    return {
      rules: e,
      populate: function (a) {
        var c = this.toString();
        if (c)
          a instanceof CKEDITOR.dom.element ? a.setAttribute('style', c) : a instanceof CKEDITOR.htmlParser.element ? a.attributes.style = c : a.style = c;
      },
      toString: function () {
        var a = [], c;
        for (c in e)
          e[c] && a.push(c, ':', e[c], ';');
        return a.join('');
      }
    };
  };
  (function () {
    function a(a) {
      return function (b) {
        return b.type == CKEDITOR.NODE_ELEMENT && (typeof a == 'string' ? b.name == a : b.name in a);
      };
    }
    var e = function (a, b) {
        a = a[0];
        b = b[0];
        return a < b ? -1 : a > b ? 1 : 0;
      }, b = CKEDITOR.htmlParser.fragment.prototype;
    CKEDITOR.htmlParser.element.prototype = CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node(), {
      type: CKEDITOR.NODE_ELEMENT,
      add: b.add,
      clone: function () {
        return new CKEDITOR.htmlParser.element(this.name, this.attributes);
      },
      filter: function (a, b) {
        var d = this, e, l, b = d.getFilterContext(b);
        if (b.off)
          return true;
        if (!d.parent)
          a.onRoot(b, d);
        for (;;) {
          e = d.name;
          if (!(l = a.onElementName(b, e))) {
            this.remove();
            return false;
          }
          d.name = l;
          if (!(d = a.onElement(b, d))) {
            this.remove();
            return false;
          }
          if (d !== this) {
            this.replaceWith(d);
            return false;
          }
          if (d.name == e)
            break;
          if (d.type != CKEDITOR.NODE_ELEMENT) {
            this.replaceWith(d);
            return false;
          }
          if (!d.name) {
            this.replaceWithChildren();
            return false;
          }
        }
        e = d.attributes;
        var i, g;
        for (i in e) {
          g = i;
          for (l = e[i];;)
            if (g = a.onAttributeName(b, i))
              if (g != i) {
                delete e[i];
                i = g;
              } else
                break;
            else {
              delete e[i];
              break;
            }
          g && ((l = a.onAttribute(b, d, g, l)) === false ? delete e[g] : e[g] = l);
        }
        d.isEmpty || this.filterChildren(a, false, b);
        return true;
      },
      filterChildren: b.filterChildren,
      writeHtml: function (a, b) {
        b && this.filter(b);
        var d = this.name, h = [], l = this.attributes, i, g;
        a.openTag(d, l);
        for (i in l)
          h.push([
            i,
            l[i]
          ]);
        a.sortAttributes && h.sort(e);
        i = 0;
        for (g = h.length; i < g; i++) {
          l = h[i];
          a.attribute(l[0], l[1]);
        }
        a.openTagClose(d, this.isEmpty);
        this.writeChildrenHtml(a);
        this.isEmpty || a.closeTag(d);
      },
      writeChildrenHtml: b.writeChildrenHtml,
      replaceWithChildren: function () {
        for (var a = this.children, b = a.length; b;)
          a[--b].insertAfter(this);
        this.remove();
      },
      forEach: b.forEach,
      getFirst: function (b) {
        if (!b)
          return this.children.length ? this.children[0] : null;
        typeof b != 'function' && (b = a(b));
        for (var f = 0, d = this.children.length; f < d; ++f)
          if (b(this.children[f]))
            return this.children[f];
        return null;
      },
      getHtml: function () {
        var a = new CKEDITOR.htmlParser.basicWriter();
        this.writeChildrenHtml(a);
        return a.getHtml();
      },
      setHtml: function (a) {
        for (var a = this.children = CKEDITOR.htmlParser.fragment.fromHtml(a).children, b = 0, d = a.length; b < d; ++b)
          a[b].parent = this;
      },
      getOuterHtml: function () {
        var a = new CKEDITOR.htmlParser.basicWriter();
        this.writeHtml(a);
        return a.getHtml();
      },
      split: function (a) {
        for (var b = this.children.splice(a, this.children.length - a), d = this.clone(), e = 0; e < b.length; ++e)
          b[e].parent = d;
        d.children = b;
        if (b[0])
          b[0].previous = null;
        if (a > 0)
          this.children[a - 1].next = null;
        this.parent.add(d, this.getIndex() + 1);
        return d;
      },
      addClass: function (a) {
        if (!this.hasClass(a)) {
          var b = this.attributes['class'] || '';
          this.attributes['class'] = b + (b ? ' ' : '') + a;
        }
      },
      removeClass: function (a) {
        var b = this.attributes['class'];
        if (b)
          (b = CKEDITOR.tools.trim(b.replace(RegExp('(?:\\s+|^)' + a + '(?:\\s+|$)'), ' '))) ? this.attributes['class'] = b : delete this.attributes['class'];
      },
      hasClass: function (a) {
        var b = this.attributes['class'];
        return !b ? false : RegExp('(?:^|\\s)' + a + '(?=\\s|$)').test(b);
      },
      getFilterContext: function (a) {
        var b = [];
        a || (a = {
          off: false,
          nonEditable: false,
          nestedEditable: false
        });
        !a.off && this.attributes['data-cke-processor'] == 'off' && b.push('off', true);
        !a.nonEditable && this.attributes.contenteditable == 'false' ? b.push('nonEditable', true) : a.nonEditable && (!a.nestedEditable && this.attributes.contenteditable == 'true') && b.push('nestedEditable', true);
        if (b.length)
          for (var a = CKEDITOR.tools.copy(a), d = 0; d < b.length; d = d + 2)
            a[b[d]] = b[d + 1];
        return a;
      }
    }, true);
  }());
  (function () {
    var a = {}, e = /{([^}]+)}/g, b = /([\\'])/g, c = /\n/g, f = /\r/g;
    CKEDITOR.template = function (d) {
      if (a[d])
        this.output = a[d];
      else {
        var h = d.replace(b, '\\$1').replace(c, '\\n').replace(f, '\\r').replace(e, function (a, b) {
            return '\',data[\'' + b + '\']==undefined?\'{' + b + '}\':data[\'' + b + '\'],\'';
          });
        this.output = a[d] = Function('data', 'buffer', 'return buffer?buffer.push(\'' + h + '\'):[\'' + h + '\'].join(\'\');');
      }
    };
  }());
  delete CKEDITOR.loadFullCore;
  CKEDITOR.instances = {};
  CKEDITOR.document = new CKEDITOR.dom.document(document);
  CKEDITOR.add = function (a) {
    CKEDITOR.instances[a.name] = a;
    a.on('focus', function () {
      if (CKEDITOR.currentInstance != a) {
        CKEDITOR.currentInstance = a;
        CKEDITOR.fire('currentInstance');
      }
    });
    a.on('blur', function () {
      if (CKEDITOR.currentInstance == a) {
        CKEDITOR.currentInstance = null;
        CKEDITOR.fire('currentInstance');
      }
    });
    CKEDITOR.fire('instance', null, a);
  };
  CKEDITOR.remove = function (a) {
    delete CKEDITOR.instances[a.name];
  };
  (function () {
    var a = {};
    CKEDITOR.addTemplate = function (e, b) {
      var c = a[e];
      if (c)
        return c;
      c = {
        name: e,
        source: b
      };
      CKEDITOR.fire('template', c);
      return a[e] = new CKEDITOR.template(c.source);
    };
    CKEDITOR.getTemplate = function (e) {
      return a[e];
    };
  }());
  (function () {
    var a = [];
    CKEDITOR.addCss = function (e) {
      a.push(e);
    };
    CKEDITOR.getCss = function () {
      return a.join('\n');
    };
  }());
  CKEDITOR.on('instanceDestroyed', function () {
    CKEDITOR.tools.isEmpty(this.instances) && CKEDITOR.fire('reset');
  });
  CKEDITOR.TRISTATE_ON = 1;
  CKEDITOR.TRISTATE_OFF = 2;
  CKEDITOR.TRISTATE_DISABLED = 0;
  (function () {
    CKEDITOR.inline = function (a, e) {
      if (!CKEDITOR.env.isCompatible)
        return null;
      a = CKEDITOR.dom.element.get(a);
      if (a.getEditor())
        throw 'The editor instance "' + a.getEditor().name + '" is already attached to the provided element.';
      var b = new CKEDITOR.editor(e, a, CKEDITOR.ELEMENT_MODE_INLINE), c = a.is('textarea') ? a : null;
      if (c) {
        b.setData(c.getValue(), null, true);
        a = CKEDITOR.dom.element.createFromHtml('<div contenteditable="' + !!b.readOnly + '" class="cke_textarea_inline">' + c.getValue() + '</div>', CKEDITOR.document);
        a.insertAfter(c);
        c.hide();
        c.$.form && b._attachToForm();
      } else
        b.setData(a.getHtml(), null, true);
      b.on('loaded', function () {
        b.fire('uiReady');
        b.editable(a);
        b.container = a;
        b.setData(b.getData(1));
        b.resetDirty();
        b.fire('contentDom');
        b.mode = 'wysiwyg';
        b.fire('mode');
        b.status = 'ready';
        b.fireOnce('instanceReady');
        CKEDITOR.fire('instanceReady', null, b);
      }, null, null, 10000);
      b.on('destroy', function () {
        if (c) {
          b.container.clearCustomData();
          b.container.remove();
          c.show();
        }
        b.element.clearCustomData();
        delete b.element;
      });
      return b;
    };
    CKEDITOR.inlineAll = function () {
      var a, e, b;
      for (b in CKEDITOR.dtd.$editable)
        for (var c = CKEDITOR.document.getElementsByTag(b), f = 0, d = c.count(); f < d; f++) {
          a = c.getItem(f);
          if (a.getAttribute('contenteditable') == 'true') {
            e = {
              element: a,
              config: {}
            };
            CKEDITOR.fire('inline', e) !== false && CKEDITOR.inline(a, e.config);
          }
        }
    };
    CKEDITOR.domReady(function () {
      !CKEDITOR.disableAutoInline && CKEDITOR.inlineAll();
    });
  }());
  CKEDITOR.replaceClass = 'ckeditor';
  (function () {
    function a(a, f, d, h) {
      if (!CKEDITOR.env.isCompatible)
        return null;
      a = CKEDITOR.dom.element.get(a);
      if (a.getEditor())
        throw 'The editor instance "' + a.getEditor().name + '" is already attached to the provided element.';
      var l = new CKEDITOR.editor(f, a, h);
      if (h == CKEDITOR.ELEMENT_MODE_REPLACE) {
        a.setStyle('visibility', 'hidden');
        l._.required = a.hasAttribute('required');
        a.removeAttribute('required');
      }
      d && l.setData(d, null, true);
      l.on('loaded', function () {
        b(l);
        h == CKEDITOR.ELEMENT_MODE_REPLACE && (l.config.autoUpdateElement && a.$.form) && l._attachToForm();
        l.setMode(l.config.startupMode, function () {
          l.resetDirty();
          l.status = 'ready';
          l.fireOnce('instanceReady');
          CKEDITOR.fire('instanceReady', null, l);
        });
      });
      l.on('destroy', e);
      return l;
    }
    function e() {
      var a = this.container, b = this.element;
      if (a) {
        a.clearCustomData();
        a.remove();
      }
      if (b) {
        b.clearCustomData();
        if (this.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE) {
          b.show();
          this._.required && b.setAttribute('required', 'required');
        }
        delete this.element;
      }
    }
    function b(a) {
      var b = a.name, d = a.element, e = a.elementMode, l = a.fire('uiSpace', {
          space: 'top',
          html: ''
        }).html, i = a.fire('uiSpace', {
          space: 'bottom',
          html: ''
        }).html, g = new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} ' + CKEDITOR.env.cssClass + '"  dir="{langDir}" lang="{langCode}" role="application"' + (a.title ? ' aria-labelledby="cke_{name}_arialbl"' : '') + '>' + (a.title ? '<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>' : '') + '<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>'), b = CKEDITOR.dom.element.createFromHtml(g.output({
          id: a.id,
          name: b,
          langDir: a.lang.dir,
          langCode: a.langCode,
          voiceLabel: a.title,
          topHtml: l ? '<span id="' + a.ui.spaceId('top') + '" class="cke_top cke_reset_all" role="presentation" style="height:auto">' + l + '</span>' : '',
          contentId: a.ui.spaceId('contents'),
          bottomHtml: i ? '<span id="' + a.ui.spaceId('bottom') + '" class="cke_bottom cke_reset_all" role="presentation">' + i + '</span>' : '',
          outerEl: CKEDITOR.env.ie ? 'span' : 'div'
        }));
      if (e == CKEDITOR.ELEMENT_MODE_REPLACE) {
        d.hide();
        b.insertAfter(d);
      } else
        d.append(b);
      a.container = b;
      l && a.ui.space('top').unselectable();
      i && a.ui.space('bottom').unselectable();
      d = a.config.width;
      e = a.config.height;
      d && b.setStyle('width', CKEDITOR.tools.cssLength(d));
      e && a.ui.space('contents').setStyle('height', CKEDITOR.tools.cssLength(e));
      b.disableContextMenu();
      CKEDITOR.env.webkit && b.on('focus', function () {
        a.focus();
      });
      a.fireOnce('uiReady');
    }
    CKEDITOR.replace = function (b, f) {
      return a(b, f, null, CKEDITOR.ELEMENT_MODE_REPLACE);
    };
    CKEDITOR.appendTo = function (b, f, d) {
      return a(b, f, d, CKEDITOR.ELEMENT_MODE_APPENDTO);
    };
    CKEDITOR.replaceAll = function () {
      for (var a = document.getElementsByTagName('textarea'), b = 0; b < a.length; b++) {
        var d = null, e = a[b];
        if (e.name || e.id) {
          if (typeof arguments[0] == 'string') {
            if (!RegExp('(?:^|\\s)' + arguments[0] + '(?:$|\\s)').test(e.className))
              continue;
          } else if (typeof arguments[0] == 'function') {
            d = {};
            if (arguments[0](e, d) === false)
              continue;
          }
          this.replace(e, d);
        }
      }
    };
    CKEDITOR.editor.prototype.addMode = function (a, b) {
      (this._.modes || (this._.modes = {}))[a] = b;
    };
    CKEDITOR.editor.prototype.setMode = function (a, b) {
      var d = this, e = this._.modes;
      if (!(a == d.mode || !e || !e[a])) {
        d.fire('beforeSetMode', a);
        if (d.mode) {
          var l = d.checkDirty(), e = d._.previousModeData, i, g = 0;
          d.fire('beforeModeUnload');
          d.editable(0);
          d._.previousMode = d.mode;
          d._.previousModeData = i = d.getData(1);
          if (d.mode == 'source' && e == i) {
            d.fire('lockSnapshot', { forceUpdate: true });
            g = 1;
          }
          d.ui.space('contents').setHtml('');
          d.mode = '';
        } else
          d._.previousModeData = d.getData(1);
        this._.modes[a](function () {
          d.mode = a;
          l !== void 0 && !l && d.resetDirty();
          g ? d.fire('unlockSnapshot') : a == 'wysiwyg' && d.fire('saveSnapshot');
          setTimeout(function () {
            d.fire('mode');
            b && b.call(d);
          }, 0);
        });
      }
    };
    CKEDITOR.editor.prototype.resize = function (a, b, d, e) {
      var l = this.container, i = this.ui.space('contents'), g = CKEDITOR.env.webkit && this.document && this.document.getWindow().$.frameElement, e = e ? this.container.getFirst(function (a) {
          return a.type == CKEDITOR.NODE_ELEMENT && a.hasClass('cke_inner');
        }) : l;
      e.setSize('width', a, true);
      g && (g.style.width = '1%');
      i.setStyle('height', Math.max(b - (d ? 0 : (e.$.offsetHeight || 0) - (i.$.clientHeight || 0)), 0) + 'px');
      g && (g.style.width = '100%');
      this.fire('resize');
    };
    CKEDITOR.editor.prototype.getResizable = function (a) {
      return a ? this.ui.space('contents') : this.container;
    };
    CKEDITOR.domReady(function () {
      CKEDITOR.replaceClass && CKEDITOR.replaceAll(CKEDITOR.replaceClass);
    });
  }());
  CKEDITOR.config.startupMode = 'wysiwyg';
  (function () {
    function a(a) {
      var b = a.editor, d = a.data.path, f = d.blockLimit, k = a.data.selection, n = k.getRanges()[0], r;
      if (CKEDITOR.env.gecko || CKEDITOR.env.ie && CKEDITOR.env.needsBrFiller)
        if (k = e(k, d)) {
          k.appendBogus();
          r = CKEDITOR.env.ie;
        }
      if (h(b, d.block, f) && n.collapsed && !n.getCommonAncestor().isReadOnly()) {
        d = n.clone();
        d.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);
        f = new CKEDITOR.dom.walker(d);
        f.guard = function (a) {
          return !c(a) || a.type == CKEDITOR.NODE_COMMENT || a.isReadOnly();
        };
        if (!f.checkForward() || d.checkStartOfBlock() && d.checkEndOfBlock()) {
          b = n.fixBlock(true, b.activeEnterMode == CKEDITOR.ENTER_DIV ? 'div' : 'p');
          if (!CKEDITOR.env.needsBrFiller)
            (b = b.getFirst(c)) && (b.type == CKEDITOR.NODE_TEXT && CKEDITOR.tools.trim(b.getText()).match(/^(?:&nbsp;|\xa0)$/)) && b.remove();
          r = 1;
          a.cancel();
        }
      }
      r && n.select();
    }
    function e(a, b) {
      if (a.isFake)
        return 0;
      var d = b.block || b.blockLimit, e = d && d.getLast(c);
      if (d && d.isBlockBoundary() && (!e || !(e.type == CKEDITOR.NODE_ELEMENT && e.isBlockBoundary())) && !d.is('pre') && !d.getBogus())
        return d;
    }
    function b(a) {
      var b = a.data.getTarget();
      if (b.is('input')) {
        b = b.getAttribute('type');
        (b == 'submit' || b == 'reset') && a.data.preventDefault();
      }
    }
    function c(a) {
      return s(a) && y(a);
    }
    function f(a, b) {
      return function (c) {
        var d = CKEDITOR.dom.element.get(c.data.$.toElement || c.data.$.fromElement || c.data.$.relatedTarget);
        (!d || !b.equals(d) && !b.contains(d)) && a.call(this, c);
      };
    }
    function d(a) {
      function b(a) {
        return function (b, e) {
          e && (b.type == CKEDITOR.NODE_ELEMENT && b.is(f)) && (d = b);
          if (!e && c(b) && (!a || !m(b)))
            return false;
        };
      }
      var d, e = a.getRanges()[0], a = a.root, f = {
          table: 1,
          ul: 1,
          ol: 1,
          dl: 1
        };
      if (e.startPath().contains(f)) {
        var n = e.clone();
        n.collapse(1);
        n.setStartAt(a, CKEDITOR.POSITION_AFTER_START);
        a = new CKEDITOR.dom.walker(n);
        a.guard = b();
        a.checkBackward();
        if (d) {
          n = e.clone();
          n.collapse();
          n.setEndAt(d, CKEDITOR.POSITION_AFTER_END);
          a = new CKEDITOR.dom.walker(n);
          a.guard = b(true);
          d = false;
          a.checkForward();
          return d;
        }
      }
      return null;
    }
    function h(a, b, c) {
      return a.config.autoParagraph !== false && a.activeEnterMode != CKEDITOR.ENTER_BR && a.editable().equals(c) && !b || b && b.getAttribute('contenteditable') == 'true';
    }
    function l(a) {
      a.editor.focus();
      a.editor.fire('saveSnapshot');
    }
    function i(a) {
      var b = a.editor;
      b.getSelection().scrollIntoView();
      setTimeout(function () {
        b.fire('saveSnapshot');
      }, 0);
    }
    function g(a, b, c) {
      for (var d = a.getCommonAncestor(b), b = a = c ? b : a; (a = a.getParent()) && !d.equals(a) && a.getChildCount() == 1;)
        b = a;
      b.remove();
    }
    CKEDITOR.editable = CKEDITOR.tools.createClass({
      base: CKEDITOR.dom.element,
      $: function (a, b) {
        this.base(b.$ || b);
        this.editor = a;
        this.status = 'unloaded';
        this.hasFocus = false;
        this.setup();
      },
      proto: {
        focus: function () {
          var a;
          if (CKEDITOR.env.webkit && !this.hasFocus) {
            a = this.editor._.previousActive || this.getDocument().getActive();
            if (this.contains(a)) {
              a.focus();
              return;
            }
          }
          try {
            this.$[CKEDITOR.env.ie && this.getDocument().equals(CKEDITOR.document) ? 'setActive' : 'focus']();
          } catch (b) {
            if (!CKEDITOR.env.ie)
              throw b;
          }
          if (CKEDITOR.env.safari && !this.isInline()) {
            a = CKEDITOR.document.getActive();
            a.equals(this.getWindow().getFrame()) || this.getWindow().focus();
          }
        },
        on: function (a, b) {
          var c = Array.prototype.slice.call(arguments, 0);
          if (CKEDITOR.env.ie && /^focus|blur$/.exec(a)) {
            a = a == 'focus' ? 'focusin' : 'focusout';
            b = f(b, this);
            c[0] = a;
            c[1] = b;
          }
          return CKEDITOR.dom.element.prototype.on.apply(this, c);
        },
        attachListener: function (a) {
          !this._.listeners && (this._.listeners = []);
          var b = Array.prototype.slice.call(arguments, 1), b = a.on.apply(a, b);
          this._.listeners.push(b);
          return b;
        },
        clearListeners: function () {
          var a = this._.listeners;
          try {
            for (; a.length;)
              a.pop().removeListener();
          } catch (b) {
          }
        },
        restoreAttrs: function () {
          var a = this._.attrChanges, b, c;
          for (c in a)
            if (a.hasOwnProperty(c)) {
              b = a[c];
              b !== null ? this.setAttribute(c, b) : this.removeAttribute(c);
            }
        },
        attachClass: function (a) {
          var b = this.getCustomData('classes');
          if (!this.hasClass(a)) {
            !b && (b = []);
            b.push(a);
            this.setCustomData('classes', b);
            this.addClass(a);
          }
        },
        changeAttr: function (a, b) {
          var c = this.getAttribute(a);
          if (b !== c) {
            !this._.attrChanges && (this._.attrChanges = {});
            a in this._.attrChanges || (this._.attrChanges[a] = c);
            this.setAttribute(a, b);
          }
        },
        insertHtml: function (a, b) {
          l(this);
          p(this, b || 'html', a);
        },
        insertText: function (a) {
          l(this);
          var b = this.editor, c = b.getSelection().getStartElement().hasAscendant('pre', true) ? CKEDITOR.ENTER_BR : b.activeEnterMode, b = c == CKEDITOR.ENTER_BR, d = CKEDITOR.tools, a = d.htmlEncode(a.replace(/\r\n/g, '\n')), a = a.replace(/\t/g, '&nbsp;&nbsp; &nbsp;'), c = c == CKEDITOR.ENTER_P ? 'p' : 'div';
          if (!b) {
            var e = /\n{2}/g;
            if (e.test(a))
              var f = '<' + c + '>', r = '</' + c + '>', a = f + a.replace(e, function () {
                  return r + f;
                }) + r;
          }
          a = a.replace(/\n/g, '<br>');
          b || (a = a.replace(RegExp('<br>(?=</' + c + '>)'), function (a) {
            return d.repeat(a, 2);
          }));
          a = a.replace(/^ | $/g, '&nbsp;');
          a = a.replace(/(>|\s) /g, function (a, b) {
            return b + '&nbsp;';
          }).replace(/ (?=<)/g, '&nbsp;');
          p(this, 'text', a);
        },
        insertElement: function (a, b) {
          b ? this.insertElementIntoRange(a, b) : this.insertElementIntoSelection(a);
        },
        insertElementIntoRange: function (a, b) {
          var c = this.editor, d = c.config.enterMode, e = a.getName(), f = CKEDITOR.dtd.$block[e];
          if (b.checkReadOnly())
            return false;
          b.deleteContents(1);
          b.startContainer.type == CKEDITOR.NODE_ELEMENT && b.startContainer.is({
            tr: 1,
            table: 1,
            tbody: 1,
            thead: 1,
            tfoot: 1
          }) && q(b);
          var r, g;
          if (f)
            for (; (r = b.getCommonAncestor(0, 1)) && (g = CKEDITOR.dtd[r.getName()]) && (!g || !g[e]);)
              if (r.getName() in CKEDITOR.dtd.span)
                b.splitElement(r);
              else if (b.checkStartOfBlock() && b.checkEndOfBlock()) {
                b.setStartBefore(r);
                b.collapse(true);
                r.remove();
              } else
                b.splitBlock(d == CKEDITOR.ENTER_DIV ? 'div' : 'p', c.editable());
          b.insertNode(a);
          return true;
        },
        insertElementIntoSelection: function (a) {
          l(this);
          var b = this.editor, d = b.activeEnterMode, b = b.getSelection(), e = b.getRanges()[0], f = a.getName(), f = CKEDITOR.dtd.$block[f];
          if (this.insertElementIntoRange(a, e)) {
            e.moveToPosition(a, CKEDITOR.POSITION_AFTER_END);
            if (f)
              if ((f = a.getNext(function (a) {
                  return c(a) && !m(a);
                })) && f.type == CKEDITOR.NODE_ELEMENT && f.is(CKEDITOR.dtd.$block))
                f.getDtd()['#'] ? e.moveToElementEditStart(f) : e.moveToElementEditEnd(a);
              else if (!f && d != CKEDITOR.ENTER_BR) {
                f = e.fixBlock(true, d == CKEDITOR.ENTER_DIV ? 'div' : 'p');
                e.moveToElementEditStart(f);
              }
          }
          b.selectRanges([e]);
          i(this);
        },
        setData: function (a, b) {
          b || (a = this.editor.dataProcessor.toHtml(a));
          this.setHtml(a);
          this.fixInitialSelection();
          if (this.status == 'unloaded')
            this.status = 'ready';
          this.editor.fire('dataReady');
        },
        getData: function (a) {
          var b = this.getHtml();
          a || (b = this.editor.dataProcessor.toDataFormat(b));
          return b;
        },
        setReadOnly: function (a) {
          this.setAttribute('contenteditable', !a);
        },
        detach: function () {
          this.removeClass('cke_editable');
          this.status = 'detached';
          var a = this.editor;
          this._.detach();
          delete a.document;
          delete a.window;
        },
        isInline: function () {
          return this.getDocument().equals(CKEDITOR.document);
        },
        fixInitialSelection: function () {
          function a() {
            var b = c.getDocument().$, d = b.getSelection(), e;
            if (d.anchorNode && d.anchorNode == c.$)
              e = true;
            else if (CKEDITOR.env.webkit) {
              var f = c.getDocument().getActive();
              f && (f.equals(c) && !d.anchorNode) && (e = true);
            }
            if (e) {
              e = new CKEDITOR.dom.range(c);
              e.moveToElementEditStart(c);
              b = b.createRange();
              b.setStart(e.startContainer.$, e.startOffset);
              b.collapse(true);
              d.removeAllRanges();
              d.addRange(b);
            }
          }
          function b() {
            var a = c.getDocument().$, d = a.selection, e = c.getDocument().getActive();
            if (d.type == 'None' && e.equals(c)) {
              d = new CKEDITOR.dom.range(c);
              a = a.body.createTextRange();
              d.moveToElementEditStart(c);
              d = d.startContainer;
              d.type != CKEDITOR.NODE_ELEMENT && (d = d.getParent());
              a.moveToElementText(d.$);
              a.collapse(true);
              a.select();
            }
          }
          var c = this;
          if (CKEDITOR.env.ie && CKEDITOR.env.version < 9) {
            if (this.hasFocus) {
              this.focus();
              b();
            }
          } else if (this.hasFocus) {
            this.focus();
            a();
          } else
            this.once('focus', function () {
              a();
            }, null, null, -999);
        },
        setup: function () {
          var a = this.editor;
          this.attachListener(a, 'beforeGetData', function () {
            var b = this.getData();
            this.is('textarea') || a.config.ignoreEmptyParagraph !== false && (b = b.replace(t, function (a, b) {
              return b;
            }));
            a.setData(b, null, 1);
          }, this);
          this.attachListener(a, 'getSnapshot', function (a) {
            a.data = this.getData(1);
          }, this);
          this.attachListener(a, 'afterSetData', function () {
            this.setData(a.getData(1));
          }, this);
          this.attachListener(a, 'loadSnapshot', function (a) {
            this.setData(a.data, 1);
          }, this);
          this.attachListener(a, 'beforeFocus', function () {
            var b = a.getSelection();
            (b = b && b.getNative()) && b.type == 'Control' || this.focus();
          }, this);
          this.attachListener(a, 'insertHtml', function (a) {
            this.insertHtml(a.data.dataValue, a.data.mode);
          }, this);
          this.attachListener(a, 'insertElement', function (a) {
            this.insertElement(a.data);
          }, this);
          this.attachListener(a, 'insertText', function (a) {
            this.insertText(a.data);
          }, this);
          this.setReadOnly(a.readOnly);
          this.attachClass('cke_editable');
          this.attachClass(a.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? 'cke_editable_inline' : a.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE || a.elementMode == CKEDITOR.ELEMENT_MODE_APPENDTO ? 'cke_editable_themed' : '');
          this.attachClass('cke_contents_' + a.config.contentsLangDirection);
          a.keystrokeHandler.blockedKeystrokes[8] = +a.readOnly;
          a.keystrokeHandler.attach(this);
          this.on('blur', function () {
            this.hasFocus = false;
          }, null, null, -1);
          this.on('focus', function () {
            this.hasFocus = true;
          }, null, null, -1);
          a.focusManager.add(this);
          if (this.equals(CKEDITOR.document.getActive())) {
            this.hasFocus = true;
            a.once('contentDom', function () {
              a.focusManager.focus(this);
            }, this);
          }
          this.isInline() && this.changeAttr('tabindex', a.tabIndex);
          if (!this.is('textarea')) {
            a.document = this.getDocument();
            a.window = this.getWindow();
            var e = a.document;
            this.changeAttr('spellcheck', !a.config.disableNativeSpellChecker);
            var f = a.config.contentsLangDirection;
            this.getDirection(1) != f && this.changeAttr('dir', f);
            var h = CKEDITOR.getCss();
            if (h) {
              f = e.getHead();
              if (!f.getCustomData('stylesheet')) {
                h = e.appendStyleText(h);
                h = new CKEDITOR.dom.element(h.ownerNode || h.owningElement);
                f.setCustomData('stylesheet', h);
                h.data('cke-temp', 1);
              }
            }
            f = e.getCustomData('stylesheet_ref') || 0;
            e.setCustomData('stylesheet_ref', f + 1);
            this.setCustomData('cke_includeReadonly', !a.config.disableReadonlyStyling);
            this.attachListener(this, 'click', function (a) {
              var a = a.data, b = new CKEDITOR.dom.elementPath(a.getTarget(), this).contains('a');
              b && (a.$.button != 2 && b.isReadOnly()) && a.preventDefault();
            });
            var k = {
                8: 1,
                46: 1
              };
            this.attachListener(a, 'key', function (b) {
              if (a.readOnly)
                return true;
              var c = b.data.domEvent.getKey(), e;
              if (c in k) {
                var b = a.getSelection(), f, g = b.getRanges()[0], h = g.startPath(), i, m, l, c = c == 8;
                if (CKEDITOR.env.ie && CKEDITOR.env.version < 11 && (f = b.getSelectedElement()) || (f = d(b))) {
                  a.fire('saveSnapshot');
                  g.moveToPosition(f, CKEDITOR.POSITION_BEFORE_START);
                  f.remove();
                  g.select();
                  a.fire('saveSnapshot');
                  e = 1;
                } else if (g.collapsed)
                  if ((i = h.block) && (l = i[c ? 'getPrevious' : 'getNext'](s)) && l.type == CKEDITOR.NODE_ELEMENT && l.is('table') && g[c ? 'checkStartOfBlock' : 'checkEndOfBlock']()) {
                    a.fire('saveSnapshot');
                    g[c ? 'checkEndOfBlock' : 'checkStartOfBlock']() && i.remove();
                    g['moveToElementEdit' + (c ? 'End' : 'Start')](l);
                    g.select();
                    a.fire('saveSnapshot');
                    e = 1;
                  } else if (h.blockLimit && h.blockLimit.is('td') && (m = h.blockLimit.getAscendant('table')) && g.checkBoundaryOfElement(m, c ? CKEDITOR.START : CKEDITOR.END) && (l = m[c ? 'getPrevious' : 'getNext'](s))) {
                    a.fire('saveSnapshot');
                    g['moveToElementEdit' + (c ? 'End' : 'Start')](l);
                    g.checkStartOfBlock() && g.checkEndOfBlock() ? l.remove() : g.select();
                    a.fire('saveSnapshot');
                    e = 1;
                  } else if ((m = h.contains([
                      'td',
                      'th',
                      'caption'
                    ])) && g.checkBoundaryOfElement(m, c ? CKEDITOR.START : CKEDITOR.END))
                    e = 1;
              }
              return !e;
            });
            a.blockless && (CKEDITOR.env.ie && CKEDITOR.env.needsBrFiller) && this.attachListener(this, 'keyup', function (b) {
              if (b.data.getKeystroke() in k && !this.getFirst(c)) {
                this.appendBogus();
                b = a.createRange();
                b.moveToPosition(this, CKEDITOR.POSITION_AFTER_START);
                b.select();
              }
            });
            this.attachListener(this, 'dblclick', function (b) {
              if (a.readOnly)
                return false;
              b = { element: b.data.getTarget() };
              a.fire('doubleclick', b);
            });
            CKEDITOR.env.ie && this.attachListener(this, 'click', b);
            CKEDITOR.env.ie || this.attachListener(this, 'mousedown', function (b) {
              var c = b.data.getTarget();
              if (c.is('img', 'hr', 'input', 'textarea', 'select') && !c.isReadOnly()) {
                a.getSelection().selectElement(c);
                c.is('input', 'textarea', 'select') && b.data.preventDefault();
              }
            });
            CKEDITOR.env.gecko && this.attachListener(this, 'mouseup', function (b) {
              if (b.data.$.button == 2) {
                b = b.data.getTarget();
                if (!b.getOuterHtml().replace(t, '')) {
                  var c = a.createRange();
                  c.moveToElementEditStart(b);
                  c.select(true);
                }
              }
            });
            if (CKEDITOR.env.webkit) {
              this.attachListener(this, 'click', function (a) {
                a.data.getTarget().is('input', 'select') && a.data.preventDefault();
              });
              this.attachListener(this, 'mouseup', function (a) {
                a.data.getTarget().is('input', 'textarea') && a.data.preventDefault();
              });
            }
            CKEDITOR.env.webkit && this.attachListener(a, 'key', function (b) {
              b = b.data.domEvent.getKey();
              if (b in k) {
                var c = b == 8, d = a.getSelection().getRanges()[0], b = d.startPath();
                if (d.collapsed) {
                  var e;
                  a: {
                    var f = b.block;
                    if (f)
                      if (d[c ? 'checkStartOfBlock' : 'checkEndOfBlock']())
                        if (!d.moveToClosestEditablePosition(f, !c) || !d.collapsed)
                          e = false;
                        else {
                          if (d.startContainer.type == CKEDITOR.NODE_ELEMENT) {
                            var h = d.startContainer.getChild(d.startOffset - (c ? 1 : 0));
                            if (h && h.type == CKEDITOR.NODE_ELEMENT && h.is('hr')) {
                              a.fire('saveSnapshot');
                              h.remove();
                              e = true;
                              break a;
                            }
                          }
                          if ((d = d.startPath().block) && (!d || !d.contains(f))) {
                            a.fire('saveSnapshot');
                            var i;
                            (i = (c ? d : f).getBogus()) && i.remove();
                            e = a.getSelection();
                            i = e.createBookmarks();
                            (c ? f : d).moveChildren(c ? d : f, false);
                            b.lastElement.mergeSiblings();
                            g(f, d, !c);
                            e.selectBookmarks(i);
                            e = true;
                          }
                        }
                      else
                        e = false;
                    else
                      e = false;
                  }
                  if (!e)
                    return;
                } else {
                  c = d;
                  e = b.block;
                  i = c.endPath().block;
                  if (!e || !i || e.equals(i))
                    b = false;
                  else {
                    a.fire('saveSnapshot');
                    (f = e.getBogus()) && f.remove();
                    c.deleteContents();
                    if (i.getParent()) {
                      i.moveChildren(e, false);
                      b.lastElement.mergeSiblings();
                      g(e, i, true);
                    }
                    c = a.getSelection().getRanges()[0];
                    c.collapse(1);
                    c.select();
                    b = true;
                  }
                  if (!b)
                    return;
                }
                a.getSelection().scrollIntoView();
                a.fire('saveSnapshot');
                return false;
              }
            }, this, null, 100);
          }
        }
      },
      _: {
        detach: function () {
          this.editor.setData(this.editor.getData(), 0, 1);
          this.clearListeners();
          this.restoreAttrs();
          var a;
          if (a = this.removeCustomData('classes'))
            for (; a.length;)
              this.removeClass(a.pop());
          if (!this.is('textarea')) {
            a = this.getDocument();
            var b = a.getHead();
            if (b.getCustomData('stylesheet')) {
              var c = a.getCustomData('stylesheet_ref');
              if (--c)
                a.setCustomData('stylesheet_ref', c);
              else {
                a.removeCustomData('stylesheet_ref');
                b.removeCustomData('stylesheet').remove();
              }
            }
          }
          this.editor.fire('contentDomUnload');
          delete this.editor;
        }
      }
    });
    CKEDITOR.editor.prototype.editable = function (a) {
      var b = this._.editable;
      if (b && a)
        return 0;
      if (arguments.length)
        b = this._.editable = a ? a instanceof CKEDITOR.editable ? a : new CKEDITOR.editable(this, a) : (b && b.detach(), null);
      return b;
    };
    var m = CKEDITOR.dom.walker.bogus(), t = /(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi, s = CKEDITOR.dom.walker.whitespaces(true), y = CKEDITOR.dom.walker.bookmark(false, true);
    CKEDITOR.on('instanceLoaded', function (b) {
      var c = b.editor;
      c.on('insertElement', function (a) {
        a = a.data;
        if (a.type == CKEDITOR.NODE_ELEMENT && (a.is('input') || a.is('textarea'))) {
          a.getAttribute('contentEditable') != 'false' && a.data('cke-editable', a.hasAttribute('contenteditable') ? 'true' : '1');
          a.setAttribute('contentEditable', false);
        }
      });
      c.on('selectionChange', function (b) {
        if (!c.readOnly) {
          var d = c.getSelection();
          if (d && !d.isLocked) {
            d = c.checkDirty();
            c.fire('lockSnapshot');
            a(b);
            c.fire('unlockSnapshot');
            !d && c.resetDirty();
          }
        }
      });
    });
    CKEDITOR.on('instanceCreated', function (a) {
      var b = a.editor;
      b.on('mode', function () {
        var a = b.editable();
        if (a && a.isInline()) {
          var c = b.title;
          a.changeAttr('role', 'textbox');
          a.changeAttr('aria-label', c);
          c && a.changeAttr('title', c);
          var d = b.fire('ariaEditorHelpLabel', {}).label;
          if (d)
            if (c = this.ui.space(this.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? 'top' : 'contents')) {
              var e = CKEDITOR.tools.getNextId(), d = CKEDITOR.dom.element.createFromHtml('<span id="' + e + '" class="cke_voice_label">' + d + '</span>');
              c.append(d);
              a.changeAttr('aria-describedby', e);
            }
        }
      });
    });
    CKEDITOR.addCss('.cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}');
    var p = function () {
        function a(b) {
          return b.type == CKEDITOR.NODE_ELEMENT;
        }
        function b(c, d) {
          var e, f, k, n, h = [], i = d.range.startContainer;
          e = d.range.startPath();
          for (var i = g[i.getName()], o = 0, l = c.getChildren(), m = l.count(), D = -1, p = -1, M = 0, s = e.contains(g.$list); o < m; ++o) {
            e = l.getItem(o);
            if (a(e)) {
              k = e.getName();
              if (s && k in CKEDITOR.dtd.$list)
                h = h.concat(b(e, d));
              else {
                n = !!i[k];
                if (k == 'br' && e.data('cke-eol') && (!o || o == m - 1)) {
                  M = (f = o ? h[o - 1].node : l.getItem(o + 1)) && (!a(f) || !f.is('br'));
                  f = f && a(f) && g.$block[f.getName()];
                }
                D == -1 && !n && (D = o);
                n || (p = o);
                h.push({
                  isElement: 1,
                  isLineBreak: M,
                  isBlock: e.isBlockBoundary(),
                  hasBlockSibling: f,
                  node: e,
                  name: k,
                  allowed: n
                });
                f = M = 0;
              }
            } else
              h.push({
                isElement: 0,
                node: e,
                allowed: 1
              });
          }
          if (D > -1)
            h[D].firstNotAllowed = 1;
          if (p > -1)
            h[p].lastNotAllowed = 1;
          return h;
        }
        function d(b, c) {
          var e = [], f = b.getChildren(), k = f.count(), n, h = 0, i = g[c], o = !b.is(g.$inline) || b.is('br');
          for (o && e.push(' '); h < k; h++) {
            n = f.getItem(h);
            a(n) && !n.is(i) ? e = e.concat(d(n, c)) : e.push(n);
          }
          o && e.push(' ');
          return e;
        }
        function e(b) {
          return b && a(b) && (b.is(g.$removeEmpty) || b.is('a') && !b.isBlockBoundary());
        }
        function f(b, c, d, e) {
          var n = b.clone(), g, h;
          n.setEndAt(c, CKEDITOR.POSITION_BEFORE_END);
          if ((g = new CKEDITOR.dom.walker(n).next()) && a(g) && o[g.getName()] && (h = g.getPrevious()) && a(h) && !h.getParent().equals(b.startContainer) && d.contains(h) && e.contains(g) && g.isIdentical(h)) {
            g.moveChildren(h);
            g.remove();
            f(b, c, d, e);
          }
        }
        function n(b, c) {
          function d(b, c) {
            if (c.isBlock && c.isElement && !c.node.is('br') && a(b) && b.is('br')) {
              b.remove();
              return 1;
            }
          }
          var e = c.endContainer.getChild(c.endOffset), f = c.endContainer.getChild(c.endOffset - 1);
          e && d(e, b[b.length - 1]);
          if (f && d(f, b[0])) {
            c.setEnd(c.endContainer, c.endOffset - 1);
            c.collapse();
          }
        }
        var g = CKEDITOR.dtd, o = {
            p: 1,
            div: 1,
            h1: 1,
            h2: 1,
            h3: 1,
            h4: 1,
            h5: 1,
            h6: 1,
            ul: 1,
            ol: 1,
            li: 1,
            pre: 1,
            dl: 1,
            blockquote: 1
          }, l = {
            p: 1,
            div: 1,
            h1: 1,
            h2: 1,
            h3: 1,
            h4: 1,
            h5: 1,
            h6: 1
          }, m = CKEDITOR.tools.extend({}, g.$inline);
        delete m.br;
        return function (o, z, p) {
          var B = o.editor, w = B.getSelection().getRanges()[0], H = false;
          if (z == 'unfiltered_html') {
            z = 'html';
            H = true;
          }
          if (!w.checkReadOnly()) {
            var C = new CKEDITOR.dom.elementPath(w.startContainer, w.root).blockLimit || w.root, z = {
                type: z,
                dontFilter: H,
                editable: o,
                editor: B,
                range: w,
                blockLimit: C,
                mergeCandidates: [],
                zombies: []
              }, B = z.range, H = z.mergeCandidates, A, x, F, G;
            if (z.type == 'text' && B.shrink(CKEDITOR.SHRINK_ELEMENT, true, false)) {
              A = CKEDITOR.dom.element.createFromHtml('<span>&nbsp;</span>', B.document);
              B.insertNode(A);
              B.setStartAfter(A);
            }
            x = new CKEDITOR.dom.elementPath(B.startContainer);
            z.endPath = F = new CKEDITOR.dom.elementPath(B.endContainer);
            if (!B.collapsed) {
              var C = F.block || F.blockLimit, s = B.getCommonAncestor();
              C && (!C.equals(s) && !C.contains(s) && B.checkEndOfBlock()) && z.zombies.push(C);
              B.deleteContents();
            }
            for (; (G = a(B.startContainer) && B.startContainer.getChild(B.startOffset - 1)) && a(G) && G.isBlockBoundary() && x.contains(G);)
              B.moveToPosition(G, CKEDITOR.POSITION_BEFORE_END);
            f(B, z.blockLimit, x, F);
            if (A) {
              B.setEndBefore(A);
              B.collapse();
              A.remove();
            }
            A = B.startPath();
            if (C = A.contains(e, false, 1)) {
              B.splitElement(C);
              z.inlineStylesRoot = C;
              z.inlineStylesPeak = A.lastElement;
            }
            A = B.createBookmark();
            (C = A.startNode.getPrevious(c)) && a(C) && e(C) && H.push(C);
            (C = A.startNode.getNext(c)) && a(C) && e(C) && H.push(C);
            for (C = A.startNode; (C = C.getParent()) && e(C);)
              H.push(C);
            B.moveToBookmark(A);
            if (A = p) {
              A = z.range;
              if (z.type == 'text' && z.inlineStylesRoot) {
                G = z.inlineStylesPeak;
                B = G.getDocument().createText('{cke-peak}');
                for (H = z.inlineStylesRoot.getParent(); !G.equals(H);) {
                  B = B.appendTo(G.clone());
                  G = G.getParent();
                }
                p = B.getOuterHtml().split('{cke-peak}').join(p);
              }
              G = z.blockLimit.getName();
              if (/^\s+|\s+$/.test(p) && 'span' in CKEDITOR.dtd[G])
                var y = '<span data-cke-marker="1">&nbsp;</span>', p = y + p + y;
              p = z.editor.dataProcessor.toHtml(p, {
                context: null,
                fixForBody: false,
                dontFilter: z.dontFilter,
                filter: z.editor.activeFilter,
                enterMode: z.editor.activeEnterMode
              });
              G = A.document.createElement('body');
              G.setHtml(p);
              if (y) {
                G.getFirst().remove();
                G.getLast().remove();
              }
              if ((y = A.startPath().block) && !(y.getChildCount() == 1 && y.getBogus()))
                a: {
                  var t;
                  if (G.getChildCount() == 1 && a(t = G.getFirst()) && t.is(l)) {
                    y = t.getElementsByTag('*');
                    A = 0;
                    for (H = y.count(); A < H; A++) {
                      B = y.getItem(A);
                      if (!B.is(m))
                        break a;
                    }
                    t.moveChildren(t.getParent(1));
                    t.remove();
                  }
                }
              z.dataWrapper = G;
              A = p;
            }
            if (A) {
              t = z.range;
              var y = t.document, q, p = z.blockLimit;
              A = 0;
              var K;
              G = [];
              var I, Q, H = B = 0, N, S;
              x = t.startContainer;
              var C = z.endPath.elements[0], T;
              F = C.getPosition(x);
              s = !!C.getCommonAncestor(x) && F != CKEDITOR.POSITION_IDENTICAL && !(F & CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_IS_CONTAINED);
              x = b(z.dataWrapper, z);
              for (n(x, t); A < x.length; A++) {
                F = x[A];
                if (q = F.isLineBreak) {
                  q = t;
                  N = p;
                  var P = void 0, V = void 0;
                  if (F.hasBlockSibling)
                    q = 1;
                  else {
                    P = q.startContainer.getAscendant(g.$block, 1);
                    if (!P || !P.is({
                        div: 1,
                        p: 1
                      }))
                      q = 0;
                    else {
                      V = P.getPosition(N);
                      if (V == CKEDITOR.POSITION_IDENTICAL || V == CKEDITOR.POSITION_CONTAINS)
                        q = 0;
                      else {
                        N = q.splitElement(P);
                        q.moveToPosition(N, CKEDITOR.POSITION_AFTER_START);
                        q = 1;
                      }
                    }
                  }
                }
                if (q)
                  H = A > 0;
                else {
                  q = t.startPath();
                  if (!F.isBlock && h(z.editor, q.block, q.blockLimit) && (Q = z.editor.activeEnterMode != CKEDITOR.ENTER_BR && z.editor.config.autoParagraph !== false ? z.editor.activeEnterMode == CKEDITOR.ENTER_DIV ? 'div' : 'p' : false)) {
                    Q = y.createElement(Q);
                    Q.appendBogus();
                    t.insertNode(Q);
                    CKEDITOR.env.needsBrFiller && (K = Q.getBogus()) && K.remove();
                    t.moveToPosition(Q, CKEDITOR.POSITION_BEFORE_END);
                  }
                  if ((q = t.startPath().block) && !q.equals(I)) {
                    if (K = q.getBogus()) {
                      K.remove();
                      G.push(q);
                    }
                    I = q;
                  }
                  F.firstNotAllowed && (B = 1);
                  if (B && F.isElement) {
                    q = t.startContainer;
                    for (N = null; q && !g[q.getName()][F.name];) {
                      if (q.equals(p)) {
                        q = null;
                        break;
                      }
                      N = q;
                      q = q.getParent();
                    }
                    if (q) {
                      if (N) {
                        S = t.splitElement(N);
                        z.zombies.push(S);
                        z.zombies.push(N);
                      }
                    } else {
                      N = p.getName();
                      T = !A;
                      q = A == x.length - 1;
                      N = d(F.node, N);
                      for (var P = [], V = N.length, W = 0, Y = void 0, Z = 0, U = -1; W < V; W++) {
                        Y = N[W];
                        if (Y == ' ') {
                          if (!Z && (!T || W)) {
                            P.push(new CKEDITOR.dom.text(' '));
                            U = P.length;
                          }
                          Z = 1;
                        } else {
                          P.push(Y);
                          Z = 0;
                        }
                      }
                      q && U == P.length && P.pop();
                      T = P;
                    }
                  }
                  if (T) {
                    for (; q = T.pop();)
                      t.insertNode(q);
                    T = 0;
                  } else
                    t.insertNode(F.node);
                  if (F.lastNotAllowed && A < x.length - 1) {
                    (S = s ? C : S) && t.setEndAt(S, CKEDITOR.POSITION_AFTER_START);
                    B = 0;
                  }
                  t.collapse();
                }
              }
              z.dontMoveCaret = H;
              z.bogusNeededBlocks = G;
            }
            K = z.range;
            var O;
            S = z.bogusNeededBlocks;
            for (T = K.createBookmark(); I = z.zombies.pop();)
              if (I.getParent()) {
                Q = K.clone();
                Q.moveToElementEditStart(I);
                Q.removeEmptyBlocksAtEnd();
              }
            if (S)
              for (; I = S.pop();)
                CKEDITOR.env.needsBrFiller ? I.appendBogus() : I.append(K.document.createText('\xa0'));
            for (; I = z.mergeCandidates.pop();)
              I.mergeSiblings();
            K.moveToBookmark(T);
            if (!z.dontMoveCaret) {
              for (I = a(K.startContainer) && K.startContainer.getChild(K.startOffset - 1); I && a(I) && !I.is(g.$empty);) {
                if (I.isBlockBoundary())
                  K.moveToPosition(I, CKEDITOR.POSITION_BEFORE_END);
                else {
                  if (e(I) && I.getHtml().match(/(\s|&nbsp;)$/g)) {
                    O = null;
                    break;
                  }
                  O = K.clone();
                  O.moveToPosition(I, CKEDITOR.POSITION_BEFORE_END);
                }
                I = I.getLast(c);
              }
              O && K.moveToRange(O);
            }
            w.select();
            i(o);
          }
        };
      }(), q = function () {
        function a(b) {
          b = new CKEDITOR.dom.walker(b);
          b.guard = function (a, b) {
            if (b)
              return false;
            if (a.type == CKEDITOR.NODE_ELEMENT)
              return a.is(CKEDITOR.dtd.$tableContent);
          };
          b.evaluator = function (a) {
            return a.type == CKEDITOR.NODE_ELEMENT;
          };
          return b;
        }
        function b(a, c, d) {
          c = a.getDocument().createElement(c);
          a.append(c, d);
          return c;
        }
        function c(a) {
          var b = a.count(), d;
          for (b; b-- > 0;) {
            d = a.getItem(b);
            if (!CKEDITOR.tools.trim(d.getHtml())) {
              d.appendBogus();
              CKEDITOR.env.ie && (CKEDITOR.env.version < 9 && d.getChildCount()) && d.getFirst().remove();
            }
          }
        }
        return function (d) {
          var e = d.startContainer, f = e.getAscendant('table', 1), g = false;
          c(f.getElementsByTag('td'));
          c(f.getElementsByTag('th'));
          f = d.clone();
          f.setStart(e, 0);
          f = a(f).lastBackward();
          if (!f) {
            f = d.clone();
            f.setEndAt(e, CKEDITOR.POSITION_BEFORE_END);
            f = a(f).lastForward();
            g = true;
          }
          f || (f = e);
          if (f.is('table')) {
            d.setStartAt(f, CKEDITOR.POSITION_BEFORE_START);
            d.collapse(true);
            f.remove();
          } else {
            f.is({
              tbody: 1,
              thead: 1,
              tfoot: 1
            }) && (f = b(f, 'tr', g));
            f.is('tr') && (f = b(f, f.getParent().is('thead') ? 'th' : 'td', g));
            (e = f.getBogus()) && e.remove();
            d.moveToPosition(f, g ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_END);
          }
        };
      }();
  }());
  (function () {
    function a() {
      var a = this._.fakeSelection, b;
      if (a) {
        b = this.getSelection(1);
        if (!b || !b.isHidden()) {
          a.reset();
          a = 0;
        }
      }
      if (!a) {
        a = b || this.getSelection(1);
        if (!a || a.getType() == CKEDITOR.SELECTION_NONE)
          return;
      }
      this.fire('selectionCheck', a);
      b = this.elementPath();
      if (!b.compare(this._.selectionPreviousPath)) {
        if (CKEDITOR.env.webkit)
          this._.previousActive = this.document.getActive();
        this._.selectionPreviousPath = b;
        this.fire('selectionChange', {
          selection: a,
          path: b
        });
      }
    }
    function e() {
      p = true;
      if (!y) {
        b.call(this);
        y = CKEDITOR.tools.setTimeout(b, 200, this);
      }
    }
    function b() {
      y = null;
      if (p) {
        CKEDITOR.tools.setTimeout(a, 0, this);
        p = false;
      }
    }
    function c(a) {
      return q(a) || a.type == CKEDITOR.NODE_ELEMENT && !a.is(CKEDITOR.dtd.$empty) ? true : false;
    }
    function f(a) {
      function b(c, d) {
        return !c || c.type == CKEDITOR.NODE_TEXT ? false : a.clone()['moveToElementEdit' + (d ? 'End' : 'Start')](c);
      }
      if (!(a.root instanceof CKEDITOR.editable))
        return false;
      var d = a.startContainer, e = a.getPreviousNode(c, null, d), f = a.getNextNode(c, null, d);
      return b(e) || b(f, 1) || !e && !f && !(d.type == CKEDITOR.NODE_ELEMENT && d.isBlockBoundary() && d.getBogus()) ? true : false;
    }
    function d(a) {
      return a.getCustomData('cke-fillingChar');
    }
    function h(a, b) {
      var c = a && a.removeCustomData('cke-fillingChar');
      if (c) {
        if (b !== false) {
          var d, e = a.getDocument().getSelection().getNative(), f = e && e.type != 'None' && e.getRangeAt(0);
          if (c.getLength() > 1 && f && f.intersectsNode(c.$)) {
            d = i(e);
            f = e.focusNode == c.$ && e.focusOffset > 0;
            e.anchorNode == c.$ && e.anchorOffset > 0 && d[0].offset--;
            f && d[1].offset--;
          }
        }
        c.setText(l(c.getText()));
        d && g(a.getDocument().$, d);
      }
    }
    function l(a) {
      return a.replace(/\u200B( )?/g, function (a) {
        return a[1] ? '\xa0' : '';
      });
    }
    function i(a) {
      return [
        {
          node: a.anchorNode,
          offset: a.anchorOffset
        },
        {
          node: a.focusNode,
          offset: a.focusOffset
        }
      ];
    }
    function g(a, b) {
      var c = a.getSelection(), d = a.createRange();
      d.setStart(b[0].node, b[0].offset);
      d.collapse(true);
      c.removeAllRanges();
      c.addRange(d);
      c.extend(b[1].node, b[1].offset);
    }
    function m(a) {
      var b = CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="' + (CKEDITOR.env.ie ? 'display:none' : 'position:fixed;top:0;left:-1000px') + '">&nbsp;</div>', a.document);
      a.fire('lockSnapshot');
      a.editable().append(b);
      var c = a.getSelection(1), d = a.createRange(), e = c.root.on('selectionchange', function (a) {
          a.cancel();
        }, null, null, 0);
      d.setStartAt(b, CKEDITOR.POSITION_AFTER_START);
      d.setEndAt(b, CKEDITOR.POSITION_BEFORE_END);
      c.selectRanges([d]);
      e.removeListener();
      a.fire('unlockSnapshot');
      a._.hiddenSelectionContainer = b;
    }
    function t(a) {
      var b = {
          37: 1,
          39: 1,
          8: 1,
          46: 1
        };
      return function (c) {
        var d = c.data.getKeystroke();
        if (b[d]) {
          var e = a.getSelection().getRanges(), f = e[0];
          if (e.length == 1 && f.collapsed)
            if ((d = f[d < 38 ? 'getPreviousEditableNode' : 'getNextEditableNode']()) && d.type == CKEDITOR.NODE_ELEMENT && d.getAttribute('contenteditable') == 'false') {
              a.getSelection().fake(d);
              c.data.preventDefault();
              c.cancel();
            }
        }
      };
    }
    function s(a) {
      for (var b = 0; b < a.length; b++) {
        var c = a[b];
        c.getCommonAncestor().isReadOnly() && a.splice(b, 1);
        if (!c.collapsed) {
          if (c.startContainer.isReadOnly())
            for (var d = c.startContainer, e; d;) {
              if ((e = d.type == CKEDITOR.NODE_ELEMENT) && d.is('body') || !d.isReadOnly())
                break;
              e && d.getAttribute('contentEditable') == 'false' && c.setStartAfter(d);
              d = d.getParent();
            }
          d = c.startContainer;
          e = c.endContainer;
          var f = c.startOffset, g = c.endOffset, h = c.clone();
          d && d.type == CKEDITOR.NODE_TEXT && (f >= d.getLength() ? h.setStartAfter(d) : h.setStartBefore(d));
          e && e.type == CKEDITOR.NODE_TEXT && (g ? h.setEndAfter(e) : h.setEndBefore(e));
          d = new CKEDITOR.dom.walker(h);
          d.evaluator = function (d) {
            if (d.type == CKEDITOR.NODE_ELEMENT && d.isReadOnly()) {
              var e = c.clone();
              c.setEndBefore(d);
              c.collapsed && a.splice(b--, 1);
              if (!(d.getPosition(h.endContainer) & CKEDITOR.POSITION_CONTAINS)) {
                e.setStartAfter(d);
                e.collapsed || a.splice(b + 1, 0, e);
              }
              return true;
            }
            return false;
          };
          d.next();
        }
      }
      return a;
    }
    var y, p, q = CKEDITOR.dom.walker.invisible(1), j = function () {
        function a(b) {
          return function (a) {
            var c = a.editor.createRange();
            c.moveToClosestEditablePosition(a.selected, b) && a.editor.getSelection().selectRanges([c]);
            return false;
          };
        }
        function b(a) {
          return function (b) {
            var c = b.editor, d = c.createRange(), e;
            if (!(e = d.moveToClosestEditablePosition(b.selected, a)))
              e = d.moveToClosestEditablePosition(b.selected, !a);
            e && c.getSelection().selectRanges([d]);
            c.fire('saveSnapshot');
            b.selected.remove();
            if (!e) {
              d.moveToElementEditablePosition(c.editable());
              c.getSelection().selectRanges([d]);
            }
            c.fire('saveSnapshot');
            return false;
          };
        }
        var c = a(), d = a(1);
        return {
          37: c,
          38: c,
          39: d,
          40: d,
          8: b(),
          46: b(1)
        };
      }();
    CKEDITOR.on('instanceCreated', function (b) {
      function c() {
        var a = d.getSelection();
        a && a.removeAllRanges();
      }
      var d = b.editor;
      d.on('contentDom', function () {
        function b() {
          C = new CKEDITOR.dom.selection(d.getSelection());
          C.lock();
        }
        function c() {
          g.removeListener('mouseup', c);
          n.removeListener('mouseup', c);
          var a = CKEDITOR.document.$.selection, b = a.createRange();
          a.type != 'None' && b.parentElement().ownerDocument == f.$ && b.select();
        }
        var f = d.document, g = CKEDITOR.document, k = d.editable(), i = f.getBody(), n = f.getDocumentElement(), w = k.isInline(), j, C;
        CKEDITOR.env.gecko && k.attachListener(k, 'focus', function (a) {
          a.removeListener();
          if (j !== 0)
            if ((a = d.getSelection().getNative()) && a.isCollapsed && a.anchorNode == k.$) {
              a = d.createRange();
              a.moveToElementEditStart(k);
              a.select();
            }
        }, null, null, -2);
        k.attachListener(k, CKEDITOR.env.webkit ? 'DOMFocusIn' : 'focus', function () {
          j && CKEDITOR.env.webkit && (j = d._.previousActive && d._.previousActive.equals(f.getActive()));
          d.unlockSelection(j);
          j = 0;
        }, null, null, -1);
        k.attachListener(k, 'mousedown', function () {
          j = 0;
        });
        if (CKEDITOR.env.ie || w) {
          u ? k.attachListener(k, 'beforedeactivate', b, null, null, -1) : k.attachListener(d, 'selectionCheck', b, null, null, -1);
          k.attachListener(k, CKEDITOR.env.webkit ? 'DOMFocusOut' : 'blur', function () {
            d.lockSelection(C);
            j = 1;
          }, null, null, -1);
          k.attachListener(k, 'mousedown', function () {
            j = 0;
          });
        }
        if (CKEDITOR.env.ie && !w) {
          var A;
          k.attachListener(k, 'mousedown', function (a) {
            if (a.data.$.button == 2) {
              a = d.document.getSelection();
              if (!a || a.getType() == CKEDITOR.SELECTION_NONE)
                A = d.window.getScrollPosition();
            }
          });
          k.attachListener(k, 'mouseup', function (a) {
            if (a.data.$.button == 2 && A) {
              d.document.$.documentElement.scrollLeft = A.x;
              d.document.$.documentElement.scrollTop = A.y;
            }
            A = null;
          });
          if (f.$.compatMode != 'BackCompat') {
            if (CKEDITOR.env.ie7Compat || CKEDITOR.env.ie6Compat)
              n.on('mousedown', function (a) {
                function b(a) {
                  a = a.data.$;
                  if (d) {
                    var c = i.$.createTextRange();
                    try {
                      c.moveToPoint(a.clientX, a.clientY);
                    } catch (e) {
                    }
                    d.setEndPoint(f.compareEndPoints('StartToStart', c) < 0 ? 'EndToEnd' : 'StartToStart', c);
                    d.select();
                  }
                }
                function c() {
                  n.removeListener('mousemove', b);
                  g.removeListener('mouseup', c);
                  n.removeListener('mouseup', c);
                  d.select();
                }
                a = a.data;
                if (a.getTarget().is('html') && a.$.y < n.$.clientHeight && a.$.x < n.$.clientWidth) {
                  var d = i.$.createTextRange();
                  try {
                    d.moveToPoint(a.$.clientX, a.$.clientY);
                  } catch (e) {
                  }
                  var f = d.duplicate();
                  n.on('mousemove', b);
                  g.on('mouseup', c);
                  n.on('mouseup', c);
                }
              });
            if (CKEDITOR.env.version > 7 && CKEDITOR.env.version < 11)
              n.on('mousedown', function (a) {
                if (a.data.getTarget().is('html')) {
                  g.on('mouseup', c);
                  n.on('mouseup', c);
                }
              });
          }
        }
        k.attachListener(k, 'selectionchange', a, d);
        k.attachListener(k, 'keyup', e, d);
        k.attachListener(k, CKEDITOR.env.webkit ? 'DOMFocusIn' : 'focus', function () {
          d.forceNextSelectionCheck();
          d.selectionChange(1);
        });
        if (w && (CKEDITOR.env.webkit || CKEDITOR.env.gecko)) {
          var x;
          k.attachListener(k, 'mousedown', function () {
            x = 1;
          });
          k.attachListener(f.getDocumentElement(), 'mouseup', function () {
            x && e.call(d);
            x = 0;
          });
        } else
          k.attachListener(CKEDITOR.env.ie ? k : f.getDocumentElement(), 'mouseup', e, d);
        CKEDITOR.env.webkit && k.attachListener(f, 'keydown', function (a) {
          switch (a.data.getKey()) {
          case 13:
          case 33:
          case 34:
          case 35:
          case 36:
          case 37:
          case 39:
          case 8:
          case 45:
          case 46:
            h(k);
          }
        }, null, null, -1);
        k.attachListener(k, 'keydown', t(d), null, null, -1);
      });
      d.on('setData', function () {
        d.unlockSelection();
        CKEDITOR.env.webkit && c();
      });
      d.on('contentDomUnload', function () {
        d.unlockSelection();
      });
      if (CKEDITOR.env.ie9Compat)
        d.on('beforeDestroy', c, null, null, 9);
      d.on('dataReady', function () {
        delete d._.fakeSelection;
        delete d._.hiddenSelectionContainer;
        d.selectionChange(1);
      });
      d.on('loadSnapshot', function () {
        var a = CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT), b = d.editable().getLast(a);
        if (b && b.hasAttribute('data-cke-hidden-sel')) {
          b.remove();
          if (CKEDITOR.env.gecko)
            (a = d.editable().getFirst(a)) && (a.is('br') && a.getAttribute('_moz_editor_bogus_node')) && a.remove();
        }
      }, null, null, 100);
      d.on('key', function (a) {
        if (d.mode == 'wysiwyg') {
          var b = d.getSelection();
          if (b.isFake) {
            var c = j[a.data.keyCode];
            if (c)
              return c({
                editor: d,
                selected: b.getSelectedElement(),
                selection: b,
                keyEvent: a
              });
          }
        }
      });
    });
    CKEDITOR.on('instanceReady', function (a) {
      function b() {
        var a = e.editable();
        if (a)
          if (a = d(a)) {
            var c = e.document.$.getSelection();
            if (c.type != 'None' && (c.anchorNode == a.$ || c.focusNode == a.$))
              j = i(c);
            f = a.getText();
            a.setText(l(f));
          }
      }
      function c() {
        var a = e.editable();
        if (a)
          if (a = d(a)) {
            a.setText(f);
            if (j) {
              g(e.document.$, j);
              j = null;
            }
          }
      }
      var e = a.editor, f, j;
      if (CKEDITOR.env.webkit) {
        e.on('selectionChange', function () {
          var a = e.editable(), b = d(a);
          b && (b.getCustomData('ready') ? h(a) : b.setCustomData('ready', 1));
        }, null, null, -1);
        e.on('beforeSetMode', function () {
          h(e.editable());
        }, null, null, -1);
        e.on('beforeUndoImage', b);
        e.on('afterUndoImage', c);
        e.on('beforeGetData', b, null, null, 0);
        e.on('getData', c);
      }
    });
    CKEDITOR.editor.prototype.selectionChange = function (b) {
      (b ? a : e).call(this);
    };
    CKEDITOR.editor.prototype.getSelection = function (a) {
      if ((this._.savedSelection || this._.fakeSelection) && !a)
        return this._.savedSelection || this._.fakeSelection;
      return (a = this.editable()) && this.mode == 'wysiwyg' ? new CKEDITOR.dom.selection(a) : null;
    };
    CKEDITOR.editor.prototype.lockSelection = function (a) {
      a = a || this.getSelection(1);
      if (a.getType() != CKEDITOR.SELECTION_NONE) {
        !a.isLocked && a.lock();
        this._.savedSelection = a;
        return true;
      }
      return false;
    };
    CKEDITOR.editor.prototype.unlockSelection = function (a) {
      var b = this._.savedSelection;
      if (b) {
        b.unlock(a);
        delete this._.savedSelection;
        return true;
      }
      return false;
    };
    CKEDITOR.editor.prototype.forceNextSelectionCheck = function () {
      delete this._.selectionPreviousPath;
    };
    CKEDITOR.dom.document.prototype.getSelection = function () {
      return new CKEDITOR.dom.selection(this);
    };
    CKEDITOR.dom.range.prototype.select = function () {
      var a = this.root instanceof CKEDITOR.editable ? this.root.editor.getSelection() : new CKEDITOR.dom.selection(this.root);
      a.selectRanges([this]);
      return a;
    };
    CKEDITOR.SELECTION_NONE = 1;
    CKEDITOR.SELECTION_TEXT = 2;
    CKEDITOR.SELECTION_ELEMENT = 3;
    var u = typeof window.getSelection != 'function', v = 1;
    CKEDITOR.dom.selection = function (a) {
      if (a instanceof CKEDITOR.dom.selection)
        var b = a, a = a.root;
      var c = a instanceof CKEDITOR.dom.element;
      this.rev = b ? b.rev : v++;
      this.document = a instanceof CKEDITOR.dom.document ? a : a.getDocument();
      this.root = c ? a : this.document.getBody();
      this.isLocked = 0;
      this._ = { cache: {} };
      if (b) {
        CKEDITOR.tools.extend(this._.cache, b._.cache);
        this.isFake = b.isFake;
        this.isLocked = b.isLocked;
        return this;
      }
      var a = this.getNative(), d, e;
      if (a)
        if (a.getRangeAt)
          d = (e = a.rangeCount && a.getRangeAt(0)) && new CKEDITOR.dom.node(e.commonAncestorContainer);
        else {
          try {
            e = a.createRange();
          } catch (f) {
          }
          d = e && CKEDITOR.dom.element.get(e.item && e.item(0) || e.parentElement());
        }
      if (!d || !(d.type == CKEDITOR.NODE_ELEMENT || d.type == CKEDITOR.NODE_TEXT) || !this.root.equals(d) && !this.root.contains(d)) {
        this._.cache.type = CKEDITOR.SELECTION_NONE;
        this._.cache.startElement = null;
        this._.cache.selectedElement = null;
        this._.cache.selectedText = '';
        this._.cache.ranges = new CKEDITOR.dom.rangeList();
      }
      return this;
    };
    var E = {
        img: 1,
        hr: 1,
        li: 1,
        table: 1,
        tr: 1,
        td: 1,
        th: 1,
        embed: 1,
        object: 1,
        ol: 1,
        ul: 1,
        a: 1,
        input: 1,
        form: 1,
        select: 1,
        textarea: 1,
        button: 1,
        fieldset: 1,
        thead: 1,
        tfoot: 1
      };
    CKEDITOR.dom.selection.prototype = {
      getNative: function () {
        return this._.cache.nativeSel !== void 0 ? this._.cache.nativeSel : this._.cache.nativeSel = u ? this.document.$.selection : this.document.getWindow().$.getSelection();
      },
      getType: u ? function () {
        var a = this._.cache;
        if (a.type)
          return a.type;
        var b = CKEDITOR.SELECTION_NONE;
        try {
          var c = this.getNative(), d = c.type;
          if (d == 'Text')
            b = CKEDITOR.SELECTION_TEXT;
          if (d == 'Control')
            b = CKEDITOR.SELECTION_ELEMENT;
          if (c.createRange().parentElement())
            b = CKEDITOR.SELECTION_TEXT;
        } catch (e) {
        }
        return a.type = b;
      } : function () {
        var a = this._.cache;
        if (a.type)
          return a.type;
        var b = CKEDITOR.SELECTION_TEXT, c = this.getNative();
        if (!c || !c.rangeCount)
          b = CKEDITOR.SELECTION_NONE;
        else if (c.rangeCount == 1) {
          var c = c.getRangeAt(0), d = c.startContainer;
          if (d == c.endContainer && d.nodeType == 1 && c.endOffset - c.startOffset == 1 && E[d.childNodes[c.startOffset].nodeName.toLowerCase()])
            b = CKEDITOR.SELECTION_ELEMENT;
        }
        return a.type = b;
      },
      getRanges: function () {
        var a = u ? function () {
            function a(b) {
              return new CKEDITOR.dom.node(b).getIndex();
            }
            var b = function (b, c) {
              b = b.duplicate();
              b.collapse(c);
              var d = b.parentElement();
              if (!d.hasChildNodes())
                return {
                  container: d,
                  offset: 0
                };
              for (var e = d.children, f, g, h = b.duplicate(), k = 0, i = e.length - 1, j = -1, A, x; k <= i;) {
                j = Math.floor((k + i) / 2);
                f = e[j];
                h.moveToElementText(f);
                A = h.compareEndPoints('StartToStart', b);
                if (A > 0)
                  i = j - 1;
                else if (A < 0)
                  k = j + 1;
                else
                  return {
                    container: d,
                    offset: a(f)
                  };
              }
              if (j == -1 || j == e.length - 1 && A < 0) {
                h.moveToElementText(d);
                h.setEndPoint('StartToStart', b);
                h = h.text.replace(/(\r\n|\r)/g, '\n').length;
                e = d.childNodes;
                if (!h) {
                  f = e[e.length - 1];
                  return f.nodeType != CKEDITOR.NODE_TEXT ? {
                    container: d,
                    offset: e.length
                  } : {
                    container: f,
                    offset: f.nodeValue.length
                  };
                }
                for (d = e.length; h > 0 && d > 0;) {
                  g = e[--d];
                  if (g.nodeType == CKEDITOR.NODE_TEXT) {
                    x = g;
                    h = h - g.nodeValue.length;
                  }
                }
                return {
                  container: x,
                  offset: -h
                };
              }
              h.collapse(A > 0 ? true : false);
              h.setEndPoint(A > 0 ? 'StartToStart' : 'EndToStart', b);
              h = h.text.replace(/(\r\n|\r)/g, '\n').length;
              if (!h)
                return {
                  container: d,
                  offset: a(f) + (A > 0 ? 0 : 1)
                };
              for (; h > 0;)
                try {
                  g = f[A > 0 ? 'previousSibling' : 'nextSibling'];
                  if (g.nodeType == CKEDITOR.NODE_TEXT) {
                    h = h - g.nodeValue.length;
                    x = g;
                  }
                  f = g;
                } catch (l) {
                  return {
                    container: d,
                    offset: a(f)
                  };
                }
              return {
                container: x,
                offset: A > 0 ? -h : x.nodeValue.length + h
              };
            };
            return function () {
              var a = this.getNative(), c = a && a.createRange(), d = this.getType();
              if (!a)
                return [];
              if (d == CKEDITOR.SELECTION_TEXT) {
                a = new CKEDITOR.dom.range(this.root);
                d = b(c, true);
                a.setStart(new CKEDITOR.dom.node(d.container), d.offset);
                d = b(c);
                a.setEnd(new CKEDITOR.dom.node(d.container), d.offset);
                a.endContainer.getPosition(a.startContainer) & CKEDITOR.POSITION_PRECEDING && a.endOffset <= a.startContainer.getIndex() && a.collapse();
                return [a];
              }
              if (d == CKEDITOR.SELECTION_ELEMENT) {
                for (var d = [], e = 0; e < c.length; e++) {
                  for (var f = c.item(e), g = f.parentNode, h = 0, a = new CKEDITOR.dom.range(this.root); h < g.childNodes.length && g.childNodes[h] != f; h++);
                  a.setStart(new CKEDITOR.dom.node(g), h);
                  a.setEnd(new CKEDITOR.dom.node(g), h + 1);
                  d.push(a);
                }
                return d;
              }
              return [];
            };
          }() : function () {
            var a = [], b, c = this.getNative();
            if (!c)
              return a;
            for (var d = 0; d < c.rangeCount; d++) {
              var e = c.getRangeAt(d);
              b = new CKEDITOR.dom.range(this.root);
              b.setStart(new CKEDITOR.dom.node(e.startContainer), e.startOffset);
              b.setEnd(new CKEDITOR.dom.node(e.endContainer), e.endOffset);
              a.push(b);
            }
            return a;
          };
        return function (b) {
          var c = this._.cache, d = c.ranges;
          if (!d)
            c.ranges = d = new CKEDITOR.dom.rangeList(a.call(this));
          return !b ? d : s(new CKEDITOR.dom.rangeList(d.slice()));
        };
      }(),
      getStartElement: function () {
        var a = this._.cache;
        if (a.startElement !== void 0)
          return a.startElement;
        var b;
        switch (this.getType()) {
        case CKEDITOR.SELECTION_ELEMENT:
          return this.getSelectedElement();
        case CKEDITOR.SELECTION_TEXT:
          var c = this.getRanges()[0];
          if (c) {
            if (c.collapsed) {
              b = c.startContainer;
              b.type != CKEDITOR.NODE_ELEMENT && (b = b.getParent());
            } else {
              for (c.optimize();;) {
                b = c.startContainer;
                if (c.startOffset == (b.getChildCount ? b.getChildCount() : b.getLength()) && !b.isBlockBoundary())
                  c.setStartAfter(b);
                else
                  break;
              }
              b = c.startContainer;
              if (b.type != CKEDITOR.NODE_ELEMENT)
                return b.getParent();
              b = b.getChild(c.startOffset);
              if (!b || b.type != CKEDITOR.NODE_ELEMENT)
                b = c.startContainer;
              else
                for (c = b.getFirst(); c && c.type == CKEDITOR.NODE_ELEMENT;) {
                  b = c;
                  c = c.getFirst();
                }
            }
            b = b.$;
          }
        }
        return a.startElement = b ? new CKEDITOR.dom.element(b) : null;
      },
      getSelectedElement: function () {
        var a = this._.cache;
        if (a.selectedElement !== void 0)
          return a.selectedElement;
        var b = this, c = CKEDITOR.tools.tryThese(function () {
            return b.getNative().createRange().item(0);
          }, function () {
            for (var a = b.getRanges()[0].clone(), c, d, e = 2; e && (!(c = a.getEnclosedNode()) || !(c.type == CKEDITOR.NODE_ELEMENT && E[c.getName()] && (d = c))); e--)
              a.shrink(CKEDITOR.SHRINK_ELEMENT);
            return d && d.$;
          });
        return a.selectedElement = c ? new CKEDITOR.dom.element(c) : null;
      },
      getSelectedText: function () {
        var a = this._.cache;
        if (a.selectedText !== void 0)
          return a.selectedText;
        var b = this.getNative(), b = u ? b.type == 'Control' ? '' : b.createRange().text : b.toString();
        return a.selectedText = b;
      },
      lock: function () {
        this.getRanges();
        this.getStartElement();
        this.getSelectedElement();
        this.getSelectedText();
        this._.cache.nativeSel = null;
        this.isLocked = 1;
      },
      unlock: function (a) {
        if (this.isLocked) {
          if (a)
            var b = this.getSelectedElement(), c = !b && this.getRanges(), d = this.isFake;
          this.isLocked = 0;
          this.reset();
          if (a)
            (a = b || c[0] && c[0].getCommonAncestor()) && a.getAscendant('body', 1) && (d ? this.fake(b) : b ? this.selectElement(b) : this.selectRanges(c));
        }
      },
      reset: function () {
        this._.cache = {};
        this.isFake = 0;
        var a = this.root.editor;
        if (a && a._.fakeSelection && this.rev == a._.fakeSelection.rev) {
          delete a._.fakeSelection;
          var b = a._.hiddenSelectionContainer;
          if (b) {
            var c = a.checkDirty();
            a.fire('lockSnapshot');
            b.remove();
            a.fire('unlockSnapshot');
            !c && a.resetDirty();
          }
          delete a._.hiddenSelectionContainer;
        }
        this.rev = v++;
      },
      selectElement: function (a) {
        var b = new CKEDITOR.dom.range(this.root);
        b.setStartBefore(a);
        b.setEndAfter(a);
        this.selectRanges([b]);
      },
      selectRanges: function (a) {
        var b = this.root.editor, b = b && b._.hiddenSelectionContainer;
        this.reset();
        if (b)
          for (var b = this.root, c, d = 0; d < a.length; ++d) {
            c = a[d];
            if (c.endContainer.equals(b))
              c.endOffset = Math.min(c.endOffset, b.getChildCount());
          }
        if (a.length)
          if (this.isLocked) {
            var e = CKEDITOR.document.getActive();
            this.unlock();
            this.selectRanges(a);
            this.lock();
            e && !e.equals(this.root) && e.focus();
          } else {
            var g;
            a: {
              var i, j;
              if (a.length == 1 && !(j = a[0]).collapsed && (g = j.getEnclosedNode()) && g.type == CKEDITOR.NODE_ELEMENT) {
                j = j.clone();
                j.shrink(CKEDITOR.SHRINK_ELEMENT, true);
                if ((i = j.getEnclosedNode()) && i.type == CKEDITOR.NODE_ELEMENT)
                  g = i;
                if (g.getAttribute('contenteditable') == 'false')
                  break a;
              }
              g = void 0;
            }
            if (g)
              this.fake(g);
            else {
              if (u) {
                j = CKEDITOR.dom.walker.whitespaces(true);
                i = /\ufeff|\u00a0/;
                b = {
                  table: 1,
                  tbody: 1,
                  tr: 1
                };
                if (a.length > 1) {
                  g = a[a.length - 1];
                  a[0].setEnd(g.endContainer, g.endOffset);
                }
                g = a[0];
                var a = g.collapsed, l, m, w;
                if ((c = g.getEnclosedNode()) && c.type == CKEDITOR.NODE_ELEMENT && c.getName() in E && (!c.is('a') || !c.getText()))
                  try {
                    w = c.$.createControlRange();
                    w.addElement(c.$);
                    w.select();
                    return;
                  } catch (H) {
                  }
                if (g.startContainer.type == CKEDITOR.NODE_ELEMENT && g.startContainer.getName() in b || g.endContainer.type == CKEDITOR.NODE_ELEMENT && g.endContainer.getName() in b) {
                  g.shrink(CKEDITOR.NODE_ELEMENT, true);
                  a = g.collapsed;
                }
                w = g.createBookmark();
                b = w.startNode;
                if (!a)
                  e = w.endNode;
                w = g.document.$.body.createTextRange();
                w.moveToElementText(b.$);
                w.moveStart('character', 1);
                if (e) {
                  i = g.document.$.body.createTextRange();
                  i.moveToElementText(e.$);
                  w.setEndPoint('EndToEnd', i);
                  w.moveEnd('character', -1);
                } else {
                  l = b.getNext(j);
                  m = b.hasAscendant('pre');
                  l = !(l && l.getText && l.getText().match(i)) && (m || !b.hasPrevious() || b.getPrevious().is && b.getPrevious().is('br'));
                  m = g.document.createElement('span');
                  m.setHtml('&#65279;');
                  m.insertBefore(b);
                  l && g.document.createText('\ufeff').insertBefore(b);
                }
                g.setStartBefore(b);
                b.remove();
                if (a) {
                  if (l) {
                    w.moveStart('character', -1);
                    w.select();
                    g.document.$.selection.clear();
                  } else
                    w.select();
                  g.moveToPosition(m, CKEDITOR.POSITION_BEFORE_START);
                  m.remove();
                } else {
                  g.setEndBefore(e);
                  e.remove();
                  w.select();
                }
              } else {
                e = this.getNative();
                if (!e)
                  return;
                this.removeAllRanges();
                for (w = 0; w < a.length; w++) {
                  if (w < a.length - 1) {
                    l = a[w];
                    m = a[w + 1];
                    i = l.clone();
                    i.setStart(l.endContainer, l.endOffset);
                    i.setEnd(m.startContainer, m.startOffset);
                    if (!i.collapsed) {
                      i.shrink(CKEDITOR.NODE_ELEMENT, true);
                      g = i.getCommonAncestor();
                      i = i.getEnclosedNode();
                      if (g.isReadOnly() || i && i.isReadOnly()) {
                        m.setStart(l.startContainer, l.startOffset);
                        a.splice(w--, 1);
                        continue;
                      }
                    }
                  }
                  g = a[w];
                  m = this.document.$.createRange();
                  if (g.collapsed && CKEDITOR.env.webkit && f(g)) {
                    l = this.root;
                    h(l, false);
                    i = l.getDocument().createText('\u200b');
                    l.setCustomData('cke-fillingChar', i);
                    g.insertNode(i);
                    if ((l = i.getNext()) && !i.getPrevious() && l.type == CKEDITOR.NODE_ELEMENT && l.getName() == 'br') {
                      h(this.root);
                      g.moveToPosition(l, CKEDITOR.POSITION_BEFORE_START);
                    } else
                      g.moveToPosition(i, CKEDITOR.POSITION_AFTER_END);
                  }
                  m.setStart(g.startContainer.$, g.startOffset);
                  try {
                    m.setEnd(g.endContainer.$, g.endOffset);
                  } catch (C) {
                    if (C.toString().indexOf('NS_ERROR_ILLEGAL_VALUE') >= 0) {
                      g.collapse(1);
                      m.setEnd(g.endContainer.$, g.endOffset);
                    } else
                      throw C;
                  }
                  e.addRange(m);
                }
              }
              this.reset();
              this.root.fire('selectionchange');
            }
          }
      },
      fake: function (a) {
        var b = this.root.editor;
        this.reset();
        m(b);
        var c = this._.cache, d = new CKEDITOR.dom.range(this.root);
        d.setStartBefore(a);
        d.setEndAfter(a);
        c.ranges = new CKEDITOR.dom.rangeList(d);
        c.selectedElement = c.startElement = a;
        c.type = CKEDITOR.SELECTION_ELEMENT;
        c.selectedText = c.nativeSel = null;
        this.isFake = 1;
        this.rev = v++;
        b._.fakeSelection = this;
        this.root.fire('selectionchange');
      },
      isHidden: function () {
        var a = this.getCommonAncestor();
        a && a.type == CKEDITOR.NODE_TEXT && (a = a.getParent());
        return !(!a || !a.data('cke-hidden-sel'));
      },
      createBookmarks: function (a) {
        a = this.getRanges().createBookmarks(a);
        this.isFake && (a.isFake = 1);
        return a;
      },
      createBookmarks2: function (a) {
        a = this.getRanges().createBookmarks2(a);
        this.isFake && (a.isFake = 1);
        return a;
      },
      selectBookmarks: function (a) {
        for (var b = [], c = 0; c < a.length; c++) {
          var d = new CKEDITOR.dom.range(this.root);
          d.moveToBookmark(a[c]);
          b.push(d);
        }
        a.isFake ? this.fake(b[0].getEnclosedNode()) : this.selectRanges(b);
        return this;
      },
      getCommonAncestor: function () {
        var a = this.getRanges();
        return !a.length ? null : a[0].startContainer.getCommonAncestor(a[a.length - 1].endContainer);
      },
      scrollIntoView: function () {
        this.type != CKEDITOR.SELECTION_NONE && this.getRanges()[0].scrollIntoView();
      },
      removeAllRanges: function () {
        if (this.getType() != CKEDITOR.SELECTION_NONE) {
          var a = this.getNative();
          try {
            a && a[u ? 'empty' : 'removeAllRanges']();
          } catch (b) {
          }
          this.reset();
        }
      }
    };
  }());
  'use strict';
  CKEDITOR.STYLE_BLOCK = 1;
  CKEDITOR.STYLE_INLINE = 2;
  CKEDITOR.STYLE_OBJECT = 3;
  (function () {
    function a(a, b) {
      for (var c, d; a = a.getParent();) {
        if (a.equals(b))
          break;
        if (a.getAttribute('data-nostyle'))
          c = a;
        else if (!d) {
          var e = a.getAttribute('contentEditable');
          e == 'false' ? c = a : e == 'true' && (d = 1);
        }
      }
      return c;
    }
    function e(b) {
      var d = b.document;
      if (b.collapsed) {
        d = j(this, d);
        b.insertNode(d);
        b.moveToPosition(d, CKEDITOR.POSITION_BEFORE_END);
      } else {
        var f = this.element, g = this._.definition, h, i = g.ignoreReadonly, k = i || g.includeReadonly;
        k == null && (k = b.root.getCustomData('cke_includeReadonly'));
        var l = CKEDITOR.dtd[f];
        if (!l) {
          h = true;
          l = CKEDITOR.dtd.span;
        }
        b.enlarge(CKEDITOR.ENLARGE_INLINE, 1);
        b.trim();
        var m = b.createBookmark(), n = m.startNode, p = m.endNode, o = n, q;
        if (!i) {
          var t = b.getCommonAncestor(), i = a(n, t), t = a(p, t);
          i && (o = i.getNextSourceNode(true));
          t && (p = t);
        }
        for (o.getPosition(p) == CKEDITOR.POSITION_FOLLOWING && (o = 0); o;) {
          i = false;
          if (o.equals(p)) {
            o = null;
            i = true;
          } else {
            var s = o.type == CKEDITOR.NODE_ELEMENT ? o.getName() : null, t = s && o.getAttribute('contentEditable') == 'false', r = s && o.getAttribute('data-nostyle');
            if (s && o.data('cke-bookmark')) {
              o = o.getNextSourceNode(true);
              continue;
            }
            if (t && k && CKEDITOR.dtd.$block[s])
              for (var v = o, u = c(v), z = void 0, D = u.length, E = 0, v = D && new CKEDITOR.dom.range(v.getDocument()); E < D; ++E) {
                var z = u[E], M = CKEDITOR.filter.instances[z.data('cke-filter')];
                if (M ? M.check(this) : 1) {
                  v.selectNodeContents(z);
                  e.call(this, v);
                }
              }
            u = s ? !l[s] || r ? 0 : t && !k ? 0 : (o.getPosition(p) | L) == L && (!g.childRule || g.childRule(o)) : 1;
            if (u)
              if ((u = o.getParent()) && ((u.getDtd() || CKEDITOR.dtd.span)[f] || h) && (!g.parentRule || g.parentRule(u))) {
                if (!q && (!s || !CKEDITOR.dtd.$removeEmpty[s] || (o.getPosition(p) | L) == L)) {
                  q = b.clone();
                  q.setStartBefore(o);
                }
                s = o.type;
                if (s == CKEDITOR.NODE_TEXT || t || s == CKEDITOR.NODE_ELEMENT && !o.getChildCount()) {
                  for (var s = o, U; (i = !s.getNext(J)) && (U = s.getParent(), l[U.getName()]) && (U.getPosition(n) | B) == B && (!g.childRule || g.childRule(U));)
                    s = U;
                  q.setEndAfter(s);
                }
              } else
                i = true;
            else
              i = true;
            o = o.getNextSourceNode(r || t);
          }
          if (i && q && !q.collapsed) {
            for (var i = j(this, d), t = i.hasAttributes(), r = q.getCommonAncestor(), s = {}, u = {}, z = {}, D = {}, O, R, X; i && r;) {
              if (r.getName() == f) {
                for (O in g.attributes)
                  if (!D[O] && (X = r.getAttribute(R)))
                    i.getAttribute(O) == X ? u[O] = 1 : D[O] = 1;
                for (R in g.styles)
                  if (!z[R] && (X = r.getStyle(R)))
                    i.getStyle(R) == X ? s[R] = 1 : z[R] = 1;
              }
              r = r.getParent();
            }
            for (O in u)
              i.removeAttribute(O);
            for (R in s)
              i.removeStyle(R);
            t && !i.hasAttributes() && (i = null);
            if (i) {
              q.extractContents().appendTo(i);
              q.insertNode(i);
              y.call(this, i);
              i.mergeSiblings();
              CKEDITOR.env.ie || i.$.normalize();
            } else {
              i = new CKEDITOR.dom.element('span');
              q.extractContents().appendTo(i);
              q.insertNode(i);
              y.call(this, i);
              i.remove(true);
            }
            q = null;
          }
        }
        b.moveToBookmark(m);
        b.shrink(CKEDITOR.SHRINK_TEXT);
        b.shrink(CKEDITOR.NODE_ELEMENT, true);
      }
    }
    function b(a) {
      function b() {
        for (var a = new CKEDITOR.dom.elementPath(d.getParent()), c = new CKEDITOR.dom.elementPath(j.getParent()), e = null, f = null, g = 0; g < a.elements.length; g++) {
          var h = a.elements[g];
          if (h == a.block || h == a.blockLimit)
            break;
          k.checkElementRemovable(h, true) && (e = h);
        }
        for (g = 0; g < c.elements.length; g++) {
          h = c.elements[g];
          if (h == c.block || h == c.blockLimit)
            break;
          k.checkElementRemovable(h, true) && (f = h);
        }
        f && j.breakParent(f);
        e && d.breakParent(e);
      }
      a.enlarge(CKEDITOR.ENLARGE_INLINE, 1);
      var c = a.createBookmark(), d = c.startNode;
      if (a.collapsed) {
        for (var e = new CKEDITOR.dom.elementPath(d.getParent(), a.root), f, g = 0, h; g < e.elements.length && (h = e.elements[g]); g++) {
          if (h == e.block || h == e.blockLimit)
            break;
          if (this.checkElementRemovable(h)) {
            var i;
            if (a.collapsed && (a.checkBoundaryOfElement(h, CKEDITOR.END) || (i = a.checkBoundaryOfElement(h, CKEDITOR.START)))) {
              f = h;
              f.match = i ? 'start' : 'end';
            } else {
              h.mergeSiblings();
              h.is(this.element) ? s.call(this, h) : p(h, E(this)[h.getName()]);
            }
          }
        }
        if (f) {
          h = d;
          for (g = 0;; g++) {
            i = e.elements[g];
            if (i.equals(f))
              break;
            else if (i.match)
              continue;
            else
              i = i.clone();
            i.append(h);
            h = i;
          }
          h[f.match == 'start' ? 'insertBefore' : 'insertAfter'](f);
        }
      } else {
        var j = c.endNode, k = this;
        b();
        for (e = d; !e.equals(j);) {
          f = e.getNextSourceNode();
          if (e.type == CKEDITOR.NODE_ELEMENT && this.checkElementRemovable(e)) {
            e.getName() == this.element ? s.call(this, e) : p(e, E(this)[e.getName()]);
            if (f.type == CKEDITOR.NODE_ELEMENT && f.contains(d)) {
              b();
              f = d.getNext();
            }
          }
          e = f;
        }
      }
      a.moveToBookmark(c);
      a.shrink(CKEDITOR.NODE_ELEMENT, true);
    }
    function c(a) {
      var b = [];
      a.forEach(function (a) {
        if (a.getAttribute('contenteditable') == 'true') {
          b.push(a);
          return false;
        }
      }, CKEDITOR.NODE_ELEMENT, true);
      return b;
    }
    function f(a) {
      var b = a.getEnclosedNode() || a.getCommonAncestor(false, true);
      (a = new CKEDITOR.dom.elementPath(b, a.root).contains(this.element, 1)) && !a.isReadOnly() && u(a, this);
    }
    function d(a) {
      var b = a.getCommonAncestor(true, true);
      if (a = new CKEDITOR.dom.elementPath(b, a.root).contains(this.element, 1)) {
        var b = this._.definition, c = b.attributes;
        if (c)
          for (var d in c)
            a.removeAttribute(d, c[d]);
        if (b.styles)
          for (var e in b.styles)
            b.styles.hasOwnProperty(e) && a.removeStyle(e);
      }
    }
    function h(a) {
      var b = a.createBookmark(true), c = a.createIterator();
      c.enforceRealBlocks = true;
      if (this._.enterMode)
        c.enlargeBr = this._.enterMode != CKEDITOR.ENTER_BR;
      for (var d, e = a.document, f; d = c.getNextParagraph();)
        if (!d.isReadOnly() && (c.activeFilter ? c.activeFilter.check(this) : 1)) {
          f = j(this, e, d);
          i(d, f);
        }
      a.moveToBookmark(b);
    }
    function l(a) {
      var b = a.createBookmark(1), c = a.createIterator();
      c.enforceRealBlocks = true;
      c.enlargeBr = this._.enterMode != CKEDITOR.ENTER_BR;
      for (var d, e; d = c.getNextParagraph();)
        if (this.checkElementRemovable(d))
          if (d.is('pre')) {
            (e = this._.enterMode == CKEDITOR.ENTER_BR ? null : a.document.createElement(this._.enterMode == CKEDITOR.ENTER_P ? 'p' : 'div')) && d.copyAttributes(e);
            i(d, e);
          } else
            s.call(this, d);
      a.moveToBookmark(b);
    }
    function i(a, b) {
      var c = !b;
      if (c) {
        b = a.getDocument().createElement('div');
        a.copyAttributes(b);
      }
      var d = b && b.is('pre'), e = a.is('pre'), f = !d && e;
      if (d && !e) {
        e = b;
        (f = a.getBogus()) && f.remove();
        f = a.getHtml();
        f = m(f, /(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g, '');
        f = f.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi, '$1');
        f = f.replace(/([ \t\n\r]+|&nbsp;)/g, ' ');
        f = f.replace(/<br\b[^>]*>/gi, '\n');
        if (CKEDITOR.env.ie) {
          var h = a.getDocument().createElement('div');
          h.append(e);
          e.$.outerHTML = '<pre>' + f + '</pre>';
          e.copyAttributes(h.getFirst());
          e = h.getFirst().remove();
        } else
          e.setHtml(f);
        b = e;
      } else
        f ? b = t(c ? [a.getHtml()] : g(a), b) : a.moveChildren(b);
      b.replace(a);
      if (d) {
        var c = b, i;
        if ((i = c.getPrevious(z)) && i.type == CKEDITOR.NODE_ELEMENT && i.is('pre')) {
          d = m(i.getHtml(), /\n$/, '') + '\n\n' + m(c.getHtml(), /^\n/, '');
          CKEDITOR.env.ie ? c.$.outerHTML = '<pre>' + d + '</pre>' : c.setHtml(d);
          i.remove();
        }
      } else
        c && q(b);
    }
    function g(a) {
      var b = [];
      m(a.getOuterHtml(), /(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi, function (a, b, c) {
        return b + '</pre>' + c + '<pre>';
      }).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi, function (a, c) {
        b.push(c);
      });
      return b;
    }
    function m(a, b, c) {
      var d = '', e = '', a = a.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi, function (a, b, c) {
          b && (d = b);
          c && (e = c);
          return '';
        });
      return d + a.replace(b, c) + e;
    }
    function t(a, b) {
      var c;
      a.length > 1 && (c = new CKEDITOR.dom.documentFragment(b.getDocument()));
      for (var d = 0; d < a.length; d++) {
        var e = a[d], e = e.replace(/(\r\n|\r)/g, '\n'), e = m(e, /^[ \t]*\n/, ''), e = m(e, /\n$/, ''), e = m(e, /^[ \t]+|[ \t]+$/g, function (a, b) {
            return a.length == 1 ? '&nbsp;' : b ? ' ' + CKEDITOR.tools.repeat('&nbsp;', a.length - 1) : CKEDITOR.tools.repeat('&nbsp;', a.length - 1) + ' ';
          }), e = e.replace(/\n/g, '<br>'), e = e.replace(/[ \t]{2,}/g, function (a) {
            return CKEDITOR.tools.repeat('&nbsp;', a.length - 1) + ' ';
          });
        if (c) {
          var f = b.clone();
          f.setHtml(e);
          c.append(f);
        } else
          b.setHtml(e);
      }
      return c || b;
    }
    function s(a, b) {
      var c = this._.definition, d = c.attributes, c = c.styles, e = E(this)[a.getName()], f = CKEDITOR.tools.isEmpty(d) && CKEDITOR.tools.isEmpty(c), g;
      for (g in d)
        if (!((g == 'class' || this._.definition.fullMatch) && a.getAttribute(g) != k(g, d[g])) && !(b && g.slice(0, 5) == 'data-')) {
          f = a.hasAttribute(g);
          a.removeAttribute(g);
        }
      for (var h in c)
        if (!(this._.definition.fullMatch && a.getStyle(h) != k(h, c[h], true))) {
          f = f || !!a.getStyle(h);
          a.removeStyle(h);
        }
      p(a, e, r[a.getName()]);
      f && (this._.definition.alwaysRemoveElement ? q(a, 1) : !CKEDITOR.dtd.$block[a.getName()] || this._.enterMode == CKEDITOR.ENTER_BR && !a.hasAttributes() ? q(a) : a.renameNode(this._.enterMode == CKEDITOR.ENTER_P ? 'p' : 'div'));
    }
    function y(a) {
      for (var b = E(this), c = a.getElementsByTag(this.element), d, e = c.count(); --e >= 0;) {
        d = c.getItem(e);
        d.isReadOnly() || s.call(this, d, true);
      }
      for (var f in b)
        if (f != this.element) {
          c = a.getElementsByTag(f);
          for (e = c.count() - 1; e >= 0; e--) {
            d = c.getItem(e);
            d.isReadOnly() || p(d, b[f]);
          }
        }
    }
    function p(a, b, c) {
      if (b = b && b.attributes)
        for (var d = 0; d < b.length; d++) {
          var e = b[d][0], f;
          if (f = a.getAttribute(e)) {
            var g = b[d][1];
            (g === null || g.test && g.test(f) || typeof g == 'string' && f == g) && a.removeAttribute(e);
          }
        }
      c || q(a);
    }
    function q(a, b) {
      if (!a.hasAttributes() || b)
        if (CKEDITOR.dtd.$block[a.getName()]) {
          var c = a.getPrevious(z), d = a.getNext(z);
          c && (c.type == CKEDITOR.NODE_TEXT || !c.isBlockBoundary({ br: 1 })) && a.append('br', 1);
          d && (d.type == CKEDITOR.NODE_TEXT || !d.isBlockBoundary({ br: 1 })) && a.append('br');
          a.remove(true);
        } else {
          c = a.getFirst();
          d = a.getLast();
          a.remove(true);
          if (c) {
            c.type == CKEDITOR.NODE_ELEMENT && c.mergeSiblings();
            d && (!c.equals(d) && d.type == CKEDITOR.NODE_ELEMENT) && d.mergeSiblings();
          }
        }
    }
    function j(a, b, c) {
      var d;
      d = a.element;
      d == '*' && (d = 'span');
      d = new CKEDITOR.dom.element(d, b);
      c && c.copyAttributes(d);
      d = u(d, a);
      b.getCustomData('doc_processing_style') && d.hasAttribute('id') ? d.removeAttribute('id') : b.setCustomData('doc_processing_style', 1);
      return d;
    }
    function u(a, b) {
      var c = b._.definition, d = c.attributes, c = CKEDITOR.style.getStyleText(c);
      if (d)
        for (var e in d)
          a.setAttribute(e, d[e]);
      c && a.setAttribute('style', c);
      return a;
    }
    function v(a, b) {
      for (var c in a)
        a[c] = a[c].replace(D, function (a, c) {
          return b[c];
        });
    }
    function E(a) {
      if (a._.overrides)
        return a._.overrides;
      var b = a._.overrides = {}, c = a._.definition.overrides;
      if (c) {
        CKEDITOR.tools.isArray(c) || (c = [c]);
        for (var d = 0; d < c.length; d++) {
          var e = c[d], f, g;
          if (typeof e == 'string')
            f = e.toLowerCase();
          else {
            f = e.element ? e.element.toLowerCase() : a.element;
            g = e.attributes;
          }
          e = b[f] || (b[f] = {});
          if (g) {
            var e = e.attributes = e.attributes || [], h;
            for (h in g)
              e.push([
                h.toLowerCase(),
                g[h]
              ]);
          }
        }
      }
      return b;
    }
    function k(a, b, c) {
      var d = new CKEDITOR.dom.element('span');
      d[c ? 'setStyle' : 'setAttribute'](a, b);
      return d[c ? 'getStyle' : 'getAttribute'](a);
    }
    function n(a, b, c) {
      for (var d = a.document, e = a.getRanges(), b = b ? this.removeFromRange : this.applyToRange, f, g = e.createIterator(); f = g.getNextRange();)
        b.call(this, f, c);
      a.selectRanges(e);
      d.removeCustomData('doc_processing_style');
    }
    var r = {
        address: 1,
        div: 1,
        h1: 1,
        h2: 1,
        h3: 1,
        h4: 1,
        h5: 1,
        h6: 1,
        p: 1,
        pre: 1,
        section: 1,
        header: 1,
        footer: 1,
        nav: 1,
        article: 1,
        aside: 1,
        figure: 1,
        dialog: 1,
        hgroup: 1,
        time: 1,
        meter: 1,
        menu: 1,
        command: 1,
        keygen: 1,
        output: 1,
        progress: 1,
        details: 1,
        datagrid: 1,
        datalist: 1
      }, o = {
        a: 1,
        blockquote: 1,
        embed: 1,
        hr: 1,
        img: 1,
        li: 1,
        object: 1,
        ol: 1,
        table: 1,
        td: 1,
        tr: 1,
        th: 1,
        ul: 1,
        dl: 1,
        dt: 1,
        dd: 1,
        form: 1,
        audio: 1,
        video: 1
      }, M = /\s*(?:;\s*|$)/, D = /#\((.+?)\)/g, J = CKEDITOR.dom.walker.bookmark(0, 1), z = CKEDITOR.dom.walker.whitespaces(1);
    CKEDITOR.style = function (a, b) {
      if (typeof a.type == 'string')
        return new CKEDITOR.style.customHandlers[a.type](a);
      var c = a.attributes;
      if (c && c.style) {
        a.styles = CKEDITOR.tools.extend({}, a.styles, CKEDITOR.tools.parseCssText(c.style));
        delete c.style;
      }
      if (b) {
        a = CKEDITOR.tools.clone(a);
        v(a.attributes, b);
        v(a.styles, b);
      }
      c = this.element = a.element ? typeof a.element == 'string' ? a.element.toLowerCase() : a.element : '*';
      this.type = a.type || (r[c] ? CKEDITOR.STYLE_BLOCK : o[c] ? CKEDITOR.STYLE_OBJECT : CKEDITOR.STYLE_INLINE);
      if (typeof this.element == 'object')
        this.type = CKEDITOR.STYLE_OBJECT;
      this._ = { definition: a };
    };
    CKEDITOR.style.prototype = {
      apply: function (a) {
        if (a instanceof CKEDITOR.dom.document)
          return n.call(this, a.getSelection());
        if (this.checkApplicable(a.elementPath(), a)) {
          var b = this._.enterMode;
          if (!b)
            this._.enterMode = a.activeEnterMode;
          n.call(this, a.getSelection(), 0, a);
          this._.enterMode = b;
        }
      },
      remove: function (a) {
        if (a instanceof CKEDITOR.dom.document)
          return n.call(this, a.getSelection(), 1);
        if (this.checkApplicable(a.elementPath(), a)) {
          var b = this._.enterMode;
          if (!b)
            this._.enterMode = a.activeEnterMode;
          n.call(this, a.getSelection(), 1, a);
          this._.enterMode = b;
        }
      },
      applyToRange: function (a) {
        this.applyToRange = this.type == CKEDITOR.STYLE_INLINE ? e : this.type == CKEDITOR.STYLE_BLOCK ? h : this.type == CKEDITOR.STYLE_OBJECT ? f : null;
        return this.applyToRange(a);
      },
      removeFromRange: function (a) {
        this.removeFromRange = this.type == CKEDITOR.STYLE_INLINE ? b : this.type == CKEDITOR.STYLE_BLOCK ? l : this.type == CKEDITOR.STYLE_OBJECT ? d : null;
        return this.removeFromRange(a);
      },
      applyToObject: function (a) {
        u(a, this);
      },
      checkActive: function (a, b) {
        switch (this.type) {
        case CKEDITOR.STYLE_BLOCK:
          return this.checkElementRemovable(a.block || a.blockLimit, true, b);
        case CKEDITOR.STYLE_OBJECT:
        case CKEDITOR.STYLE_INLINE:
          for (var c = a.elements, d = 0, e; d < c.length; d++) {
            e = c[d];
            if (!(this.type == CKEDITOR.STYLE_INLINE && (e == a.block || e == a.blockLimit))) {
              if (this.type == CKEDITOR.STYLE_OBJECT) {
                var f = e.getName();
                if (!(typeof this.element == 'string' ? f == this.element : f in this.element))
                  continue;
              }
              if (this.checkElementRemovable(e, true, b))
                return true;
            }
          }
        }
        return false;
      },
      checkApplicable: function (a, b, c) {
        b && b instanceof CKEDITOR.filter && (c = b);
        if (c && !c.check(this))
          return false;
        switch (this.type) {
        case CKEDITOR.STYLE_OBJECT:
          return !!a.contains(this.element);
        case CKEDITOR.STYLE_BLOCK:
          return !!a.blockLimit.getDtd()[this.element];
        }
        return true;
      },
      checkElementMatch: function (a, b) {
        var c = this._.definition;
        if (!a || !c.ignoreReadonly && a.isReadOnly())
          return false;
        var d = a.getName();
        if (typeof this.element == 'string' ? d == this.element : d in this.element) {
          if (!b && !a.hasAttributes())
            return true;
          if (d = c._AC)
            c = d;
          else {
            var d = {}, e = 0, f = c.attributes;
            if (f)
              for (var g in f) {
                e++;
                d[g] = f[g];
              }
            if (g = CKEDITOR.style.getStyleText(c)) {
              d.style || e++;
              d.style = g;
            }
            d._length = e;
            c = c._AC = d;
          }
          if (c._length) {
            for (var h in c)
              if (h != '_length') {
                e = a.getAttribute(h) || '';
                if (h == 'style')
                  a: {
                    d = c[h];
                    typeof d == 'string' && (d = CKEDITOR.tools.parseCssText(d));
                    typeof e == 'string' && (e = CKEDITOR.tools.parseCssText(e, true));
                    g = void 0;
                    for (g in d)
                      if (!(g in e && (e[g] == d[g] || d[g] == 'inherit' || e[g] == 'inherit'))) {
                        d = false;
                        break a;
                      }
                    d = true;
                  }
                else
                  d = c[h] == e;
                if (d) {
                  if (!b)
                    return true;
                } else if (b)
                  return false;
              }
            if (b)
              return true;
          } else
            return true;
        }
        return false;
      },
      checkElementRemovable: function (a, b, c) {
        if (this.checkElementMatch(a, b, c))
          return true;
        if (b = E(this)[a.getName()]) {
          var d;
          if (!(b = b.attributes))
            return true;
          for (c = 0; c < b.length; c++) {
            d = b[c][0];
            if (d = a.getAttribute(d)) {
              var e = b[c][1];
              if (e === null)
                return true;
              if (typeof e == 'string') {
                if (d == e)
                  return true;
              } else if (e.test(d))
                return true;
            }
          }
        }
        return false;
      },
      buildPreview: function (a) {
        var b = this._.definition, c = [], d = b.element;
        d == 'bdo' && (d = 'span');
        var c = [
            '<',
            d
          ], e = b.attributes;
        if (e)
          for (var f in e)
            c.push(' ', f, '="', e[f], '"');
        (e = CKEDITOR.style.getStyleText(b)) && c.push(' style="', e, '"');
        c.push('>', a || b.name, '</', d, '>');
        return c.join('');
      },
      getDefinition: function () {
        return this._.definition;
      }
    };
    CKEDITOR.style.getStyleText = function (a) {
      var b = a._ST;
      if (b)
        return b;
      var b = a.styles, c = a.attributes && a.attributes.style || '', d = '';
      c.length && (c = c.replace(M, ';'));
      for (var e in b) {
        var f = b[e], g = (e + ':' + f).replace(M, ';');
        f == 'inherit' ? d = d + g : c = c + g;
      }
      c.length && (c = CKEDITOR.tools.normalizeCssText(c, true));
      return a._ST = c + d;
    };
    CKEDITOR.style.customHandlers = {};
    CKEDITOR.style.addCustomHandler = function (a) {
      var b = function (a) {
        this._ = { definition: a };
        this.setup && this.setup(a);
      };
      b.prototype = CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype), { assignedTo: CKEDITOR.STYLE_OBJECT }, a, true);
      return this.customHandlers[a.type] = b;
    };
    var L = CKEDITOR.POSITION_PRECEDING | CKEDITOR.POSITION_IDENTICAL | CKEDITOR.POSITION_IS_CONTAINED, B = CKEDITOR.POSITION_FOLLOWING | CKEDITOR.POSITION_IDENTICAL | CKEDITOR.POSITION_IS_CONTAINED;
  }());
  CKEDITOR.styleCommand = function (a, e) {
    this.requiredContent = this.allowedContent = this.style = a;
    CKEDITOR.tools.extend(this, e, true);
  };
  CKEDITOR.styleCommand.prototype.exec = function (a) {
    a.focus();
    this.state == CKEDITOR.TRISTATE_OFF ? a.applyStyle(this.style) : this.state == CKEDITOR.TRISTATE_ON && a.removeStyle(this.style);
  };
  CKEDITOR.stylesSet = new CKEDITOR.resourceManager('', 'stylesSet');
  CKEDITOR.addStylesSet = CKEDITOR.tools.bind(CKEDITOR.stylesSet.add, CKEDITOR.stylesSet);
  CKEDITOR.loadStylesSet = function (a, e, b) {
    CKEDITOR.stylesSet.addExternal(a, e, '');
    CKEDITOR.stylesSet.load(a, b);
  };
  CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
    attachStyleStateChange: function (a, e) {
      var b = this._.styleStateChangeCallbacks;
      if (!b) {
        b = this._.styleStateChangeCallbacks = [];
        this.on('selectionChange', function (a) {
          for (var e = 0; e < b.length; e++) {
            var d = b[e], h = d.style.checkActive(a.data.path, this) ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF;
            d.fn.call(this, h);
          }
        });
      }
      b.push({
        style: a,
        fn: e
      });
    },
    applyStyle: function (a) {
      a.apply(this);
    },
    removeStyle: function (a) {
      a.remove(this);
    },
    getStylesSet: function (a) {
      if (this._.stylesDefinitions)
        a(this._.stylesDefinitions);
      else {
        var e = this, b = e.config.stylesCombo_stylesSet || e.config.stylesSet;
        if (b === false)
          a(null);
        else if (b instanceof Array) {
          e._.stylesDefinitions = b;
          a(b);
        } else {
          b || (b = 'default');
          var b = b.split(':'), c = b[0];
          CKEDITOR.stylesSet.addExternal(c, b[1] ? b.slice(1).join(':') : CKEDITOR.getUrl('styles.js'), '');
          CKEDITOR.stylesSet.load(c, function (b) {
            e._.stylesDefinitions = b[c];
            a(e._.stylesDefinitions);
          });
        }
      }
    }
  });
  CKEDITOR.dom.comment = function (a, e) {
    typeof a == 'string' && (a = (e ? e.$ : document).createComment(a));
    CKEDITOR.dom.domObject.call(this, a);
  };
  CKEDITOR.dom.comment.prototype = new CKEDITOR.dom.node();
  CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype, {
    type: CKEDITOR.NODE_COMMENT,
    getOuterHtml: function () {
      return '<!--' + this.$.nodeValue + '-->';
    }
  });
  'use strict';
  (function () {
    var a = {}, e = {}, b;
    for (b in CKEDITOR.dtd.$blockLimit)
      b in CKEDITOR.dtd.$list || (a[b] = 1);
    for (b in CKEDITOR.dtd.$block)
      b in CKEDITOR.dtd.$blockLimit || b in CKEDITOR.dtd.$empty || (e[b] = 1);
    CKEDITOR.dom.elementPath = function (b, f) {
      var d = null, h = null, l = [], i = b, g, f = f || b.getDocument().getBody();
      do
        if (i.type == CKEDITOR.NODE_ELEMENT) {
          l.push(i);
          if (!this.lastElement) {
            this.lastElement = i;
            if (i.is(CKEDITOR.dtd.$object) || i.getAttribute('contenteditable') == 'false')
              continue;
          }
          if (i.equals(f))
            break;
          if (!h) {
            g = i.getName();
            i.getAttribute('contenteditable') == 'true' ? h = i : !d && e[g] && (d = i);
            if (a[g]) {
              var m;
              if (m = !d) {
                if (g = g == 'div') {
                  a: {
                    g = i.getChildren();
                    m = 0;
                    for (var t = g.count(); m < t; m++) {
                      var s = g.getItem(m);
                      if (s.type == CKEDITOR.NODE_ELEMENT && CKEDITOR.dtd.$block[s.getName()]) {
                        g = true;
                        break a;
                      }
                    }
                    g = false;
                  }
                  g = !g;
                }
                m = g;
              }
              m ? d = i : h = i;
            }
          }
        }
      while (i = i.getParent());
      h || (h = f);
      this.block = d;
      this.blockLimit = h;
      this.root = f;
      this.elements = l;
    };
  }());
  CKEDITOR.dom.elementPath.prototype = {
    compare: function (a) {
      var e = this.elements, a = a && a.elements;
      if (!a || e.length != a.length)
        return false;
      for (var b = 0; b < e.length; b++)
        if (!e[b].equals(a[b]))
          return false;
      return true;
    },
    contains: function (a, e, b) {
      var c;
      typeof a == 'string' && (c = function (b) {
        return b.getName() == a;
      });
      a instanceof CKEDITOR.dom.element ? c = function (b) {
        return b.equals(a);
      } : CKEDITOR.tools.isArray(a) ? c = function (b) {
        return CKEDITOR.tools.indexOf(a, b.getName()) > -1;
      } : typeof a == 'function' ? c = a : typeof a == 'object' && (c = function (b) {
        return b.getName() in a;
      });
      var f = this.elements, d = f.length;
      e && d--;
      if (b) {
        f = Array.prototype.slice.call(f, 0);
        f.reverse();
      }
      for (e = 0; e < d; e++)
        if (c(f[e]))
          return f[e];
      return null;
    },
    isContextFor: function (a) {
      var e;
      if (a in CKEDITOR.dtd.$block) {
        e = this.contains(CKEDITOR.dtd.$intermediate) || this.root.equals(this.block) && this.block || this.blockLimit;
        return !!e.getDtd()[a];
      }
      return true;
    },
    direction: function () {
      return (this.block || this.blockLimit || this.root).getDirection(1);
    }
  };
  CKEDITOR.dom.text = function (a, e) {
    typeof a == 'string' && (a = (e ? e.$ : document).createTextNode(a));
    this.$ = a;
  };
  CKEDITOR.dom.text.prototype = new CKEDITOR.dom.node();
  CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype, {
    type: CKEDITOR.NODE_TEXT,
    getLength: function () {
      return this.$.nodeValue.length;
    },
    getText: function () {
      return this.$.nodeValue;
    },
    setText: function (a) {
      this.$.nodeValue = a;
    },
    split: function (a) {
      var e = this.$.parentNode, b = e.childNodes.length, c = this.getLength(), f = this.getDocument(), d = new CKEDITOR.dom.text(this.$.splitText(a), f);
      if (e.childNodes.length == b)
        if (a >= c) {
          d = f.createText('');
          d.insertAfter(this);
        } else {
          a = f.createText('');
          a.insertAfter(d);
          a.remove();
        }
      return d;
    },
    substring: function (a, e) {
      return typeof e != 'number' ? this.$.nodeValue.substr(a) : this.$.nodeValue.substring(a, e);
    }
  });
  (function () {
    function a(a, c, e) {
      var d = a.serializable, h = c[e ? 'endContainer' : 'startContainer'], l = e ? 'endOffset' : 'startOffset', i = d ? c.document.getById(a.startNode) : a.startNode, a = d ? c.document.getById(a.endNode) : a.endNode;
      if (h.equals(i.getPrevious())) {
        c.startOffset = c.startOffset - h.getLength() - a.getPrevious().getLength();
        h = a.getNext();
      } else if (h.equals(a.getPrevious())) {
        c.startOffset = c.startOffset - h.getLength();
        h = a.getNext();
      }
      h.equals(i.getParent()) && c[l]++;
      h.equals(a.getParent()) && c[l]++;
      c[e ? 'endContainer' : 'startContainer'] = h;
      return c;
    }
    CKEDITOR.dom.rangeList = function (a) {
      if (a instanceof CKEDITOR.dom.rangeList)
        return a;
      a ? a instanceof CKEDITOR.dom.range && (a = [a]) : a = [];
      return CKEDITOR.tools.extend(a, e);
    };
    var e = {
        createIterator: function () {
          var a = this, c = CKEDITOR.dom.walker.bookmark(), e = [], d;
          return {
            getNextRange: function (h) {
              d = d === void 0 ? 0 : d + 1;
              var l = a[d];
              if (l && a.length > 1) {
                if (!d)
                  for (var i = a.length - 1; i >= 0; i--)
                    e.unshift(a[i].createBookmark(true));
                if (h)
                  for (var g = 0; a[d + g + 1];) {
                    for (var m = l.document, h = 0, i = m.getById(e[g].endNode), m = m.getById(e[g + 1].startNode);;) {
                      i = i.getNextSourceNode(false);
                      if (m.equals(i))
                        h = 1;
                      else if (c(i) || i.type == CKEDITOR.NODE_ELEMENT && i.isBlockBoundary())
                        continue;
                      break;
                    }
                    if (!h)
                      break;
                    g++;
                  }
                for (l.moveToBookmark(e.shift()); g--;) {
                  i = a[++d];
                  i.moveToBookmark(e.shift());
                  l.setEnd(i.endContainer, i.endOffset);
                }
              }
              return l;
            }
          };
        },
        createBookmarks: function (b) {
          for (var c = [], e, d = 0; d < this.length; d++) {
            c.push(e = this[d].createBookmark(b, true));
            for (var h = d + 1; h < this.length; h++) {
              this[h] = a(e, this[h]);
              this[h] = a(e, this[h], true);
            }
          }
          return c;
        },
        createBookmarks2: function (a) {
          for (var c = [], e = 0; e < this.length; e++)
            c.push(this[e].createBookmark2(a));
          return c;
        },
        moveToBookmarks: function (a) {
          for (var c = 0; c < this.length; c++)
            this[c].moveToBookmark(a[c]);
        }
      };
  }());
  (function () {
    function a() {
      return CKEDITOR.getUrl(CKEDITOR.skinName.split(',')[1] || 'skins/' + CKEDITOR.skinName.split(',')[0] + '/');
    }
    function e(b) {
      var c = CKEDITOR.skin['ua_' + b], d = CKEDITOR.env;
      if (c)
        for (var c = c.split(',').sort(function (a, b) {
              return a > b ? -1 : 1;
            }), e = 0, f; e < c.length; e++) {
          f = c[e];
          if (d.ie && (f.replace(/^ie/, '') == d.version || d.quirks && f == 'iequirks'))
            f = 'ie';
          if (d[f]) {
            b = b + ('_' + c[e]);
            break;
          }
        }
      return CKEDITOR.getUrl(a() + b + '.css');
    }
    function b(a, b) {
      if (!d[a]) {
        CKEDITOR.document.appendStyleSheet(e(a));
        d[a] = 1;
      }
      b && b();
    }
    function c(a) {
      var b = a.getById(h);
      if (!b) {
        b = a.getHead().append('style');
        b.setAttribute('id', h);
        b.setAttribute('type', 'text/css');
      }
      return b;
    }
    function f(a, b, c) {
      var d, e, f;
      if (CKEDITOR.env.webkit) {
        b = b.split('}').slice(0, -1);
        for (e = 0; e < b.length; e++)
          b[e] = b[e].split('{');
      }
      for (var h = 0; h < a.length; h++)
        if (CKEDITOR.env.webkit)
          for (e = 0; e < b.length; e++) {
            f = b[e][1];
            for (d = 0; d < c.length; d++)
              f = f.replace(c[d][0], c[d][1]);
            a[h].$.sheet.addRule(b[e][0], f);
          }
        else {
          f = b;
          for (d = 0; d < c.length; d++)
            f = f.replace(c[d][0], c[d][1]);
          CKEDITOR.env.ie && CKEDITOR.env.version < 11 ? a[h].$.styleSheet.cssText = a[h].$.styleSheet.cssText + f : a[h].$.innerHTML = a[h].$.innerHTML + f;
        }
    }
    var d = {};
    CKEDITOR.skin = {
      path: a,
      loadPart: function (c, d) {
        CKEDITOR.skin.name != CKEDITOR.skinName.split(',')[0] ? CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(a() + 'skin.js'), function () {
          b(c, d);
        }) : b(c, d);
      },
      getPath: function (a) {
        return CKEDITOR.getUrl(e(a));
      },
      icons: {},
      addIcon: function (a, b, c, d) {
        a = a.toLowerCase();
        this.icons[a] || (this.icons[a] = {
          path: b,
          offset: c || 0,
          bgsize: d || '16px'
        });
      },
      getIconStyle: function (a, b, c, d, e) {
        var f;
        if (a) {
          a = a.toLowerCase();
          b && (f = this.icons[a + '-rtl']);
          f || (f = this.icons[a]);
        }
        a = c || f && f.path || '';
        d = d || f && f.offset;
        e = e || f && f.bgsize || '16px';
        return a && 'background-image:url(' + CKEDITOR.getUrl(a) + ');background-position:0 ' + d + 'px;background-size:' + e + ';';
      }
    };
    CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
      getUiColor: function () {
        return this.uiColor;
      },
      setUiColor: function (a) {
        var b = c(CKEDITOR.document);
        return (this.setUiColor = function (a) {
          var c = CKEDITOR.skin.chameleon, d = [[
                i,
                a
              ]];
          this.uiColor = a;
          f([b], c(this, 'editor'), d);
          f(l, c(this, 'panel'), d);
        }).call(this, a);
      }
    });
    var h = 'cke_ui_color', l = [], i = /\$color/g;
    CKEDITOR.on('instanceLoaded', function (a) {
      if (!CKEDITOR.env.ie || !CKEDITOR.env.quirks) {
        var b = a.editor, a = function (a) {
            a = (a.data[0] || a.data).element.getElementsByTag('iframe').getItem(0).getFrameDocument();
            if (!a.getById('cke_ui_color')) {
              a = c(a);
              l.push(a);
              var d = b.getUiColor();
              d && f([a], CKEDITOR.skin.chameleon(b, 'panel'), [[
                  i,
                  d
                ]]);
            }
          };
        b.on('panelShow', a);
        b.on('menuShow', a);
        b.config.uiColor && b.setUiColor(b.config.uiColor);
      }
    });
  }());
  (function () {
    if (CKEDITOR.env.webkit)
      CKEDITOR.env.hc = false;
    else {
      var a = CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>', CKEDITOR.document);
      a.appendTo(CKEDITOR.document.getHead());
      try {
        var e = a.getComputedStyle('border-top-color'), b = a.getComputedStyle('border-right-color');
        CKEDITOR.env.hc = !!(e && e == b);
      } catch (c) {
        CKEDITOR.env.hc = false;
      }
      a.remove();
    }
    if (CKEDITOR.env.hc)
      CKEDITOR.env.cssClass = CKEDITOR.env.cssClass + ' cke_hc';
    CKEDITOR.document.appendStyleText('.cke{visibility:hidden;}');
    CKEDITOR.status = 'loaded';
    CKEDITOR.fireOnce('loaded');
    if (a = CKEDITOR._.pending) {
      delete CKEDITOR._.pending;
      for (e = 0; e < a.length; e++) {
        CKEDITOR.editor.prototype.constructor.apply(a[e][0], a[e][1]);
        CKEDITOR.add(a[e][0]);
      }
    }
  }());
  /*
 Copyright (c) 2003-2014, CKSource - Frederico Knabben. All rights reserved.
 For licensing, see LICENSE.md or http://ckeditor.com/license
*/
  CKEDITOR.skin.name = 'moono';
  CKEDITOR.skin.ua_editor = 'ie,iequirks,ie7,ie8,gecko';
  CKEDITOR.skin.ua_dialog = 'ie,iequirks,ie7,ie8';
  CKEDITOR.skin.chameleon = function () {
    var b = function () {
        return function (b, e) {
          for (var a = b.match(/[^#]./g), c = 0; 3 > c; c++) {
            var f = a, h = c, d;
            d = parseInt(a[c], 16);
            d = ('0' + (0 > e ? 0 | d * (1 + e) : 0 | d + (255 - d) * e).toString(16)).slice(-2);
            f[h] = d;
          }
          return '#' + a.join('');
        };
      }(), c = function () {
        var b = new CKEDITOR.template('background:#{to};background-image:-webkit-gradient(linear,lefttop,leftbottom,from({from}),to({to}));background-image:-moz-linear-gradient(top,{from},{to});background-image:-webkit-linear-gradient(top,{from},{to});background-image:-o-linear-gradient(top,{from},{to});background-image:-ms-linear-gradient(top,{from},{to});background-image:linear-gradient(top,{from},{to});filter:progid:DXImageTransform.Microsoft.gradient(gradientType=0,startColorstr=\'{from}\',endColorstr=\'{to}\');');
        return function (c, a) {
          return b.output({
            from: c,
            to: a
          });
        };
      }(), f = {
        editor: new CKEDITOR.template('{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ {defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_bottom [{defaultGradient}border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [{defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [{defaultGradient}outline-color:{defaultBorder};border-top-color:{defaultBorder};] {id} .cke_dialog_tab [{lightGradient}border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [{mediumGradient}] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} .cke_toolgroup [{lightGradient}border-color:{defaultBorder};] {id} a.cke_button_off:hover, {id} a.cke_button_off:focus, {id} a.cke_button_off:active [{mediumGradient}] {id} .cke_button_on [{ckeButtonOn}] {id} .cke_toolbar_separator [background-color: {ckeToolbarSeparator};] {id} .cke_combo_button [border-color:{defaultBorder};{lightGradient}] {id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [border-color:{defaultBorder};{mediumGradient}] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [background-color:{elementsPathBg};] {id}.cke_panel [border-color:{defaultBorder};] '),
        panel: new CKEDITOR.template('.cke_panel_grouptitle [{lightGradient}border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ')
      };
    return function (g, e) {
      var a = g.uiColor, a = {
          id: '.' + g.id,
          defaultBorder: b(a, -0.1),
          defaultGradient: c(b(a, 0.9), a),
          lightGradient: c(b(a, 1), b(a, 0.7)),
          mediumGradient: c(b(a, 0.8), b(a, 0.5)),
          ckeButtonOn: c(b(a, 0.6), b(a, 0.7)),
          ckeResizer: b(a, -0.4),
          ckeToolbarSeparator: b(a, 0.5),
          ckeColorauto: b(a, 0.8),
          dialogBody: b(a, 0.7),
          dialogTabSelected: c('#FFFFFF', '#FFFFFF'),
          dialogTabSelectedBorder: '#FFF',
          elementsPathColor: b(a, -0.6),
          elementsPathBg: a,
          menubuttonIcon: b(a, 0.5),
          menubuttonIconHover: b(a, 0.3)
        };
      return f[e].output(a).replace(/\[/g, '{').replace(/\]/g, '}');
    };
  }();
  CKEDITOR.plugins.add('dialogui', {
    onLoad: function () {
      var h = function (b) {
          this._ || (this._ = {});
          this._['default'] = this._.initValue = b['default'] || '';
          this._.required = b.required || !1;
          for (var a = [this._], d = 1; d < arguments.length; d++)
            a.push(arguments[d]);
          a.push(!0);
          CKEDITOR.tools.extend.apply(CKEDITOR.tools, a);
          return this._;
        }, r = {
          build: function (b, a, d) {
            return new CKEDITOR.ui.dialog.textInput(b, a, d);
          }
        }, l = {
          build: function (b, a, d) {
            return new CKEDITOR.ui.dialog[a.type](b, a, d);
          }
        }, n = {
          isChanged: function () {
            return this.getValue() != this.getInitValue();
          },
          reset: function (b) {
            this.setValue(this.getInitValue(), b);
          },
          setInitValue: function () {
            this._.initValue = this.getValue();
          },
          resetInitValue: function () {
            this._.initValue = this._['default'];
          },
          getInitValue: function () {
            return this._.initValue;
          }
        }, o = CKEDITOR.tools.extend({}, CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors, {
          onChange: function (b, a) {
            this._.domOnChangeRegistered || (b.on('load', function () {
              this.getInputElement().on('change', function () {
                b.parts.dialog.isVisible() && this.fire('change', { value: this.getValue() });
              }, this);
            }, this), this._.domOnChangeRegistered = !0);
            this.on('change', a);
          }
        }, !0), s = /^on([A-Z]\w+)/, p = function (b) {
          for (var a in b)
            (s.test(a) || 'title' == a || 'type' == a) && delete b[a];
          return b;
        };
      CKEDITOR.tools.extend(CKEDITOR.ui.dialog, {
        labeledElement: function (b, a, d, f) {
          if (!(4 > arguments.length)) {
            var c = h.call(this, a);
            c.labelId = CKEDITOR.tools.getNextId() + '_label';
            this._.children = [];
            var e = { role: a.role || 'presentation' };
            a.includeLabel && (e['aria-labelledby'] = c.labelId);
            CKEDITOR.ui.dialog.uiElement.call(this, b, a, d, 'div', null, e, function () {
              var e = [], g = a.required ? ' cke_required' : '';
              if (a.labelLayout != 'horizontal')
                e.push('<label class="cke_dialog_ui_labeled_label' + g + '" ', ' id="' + c.labelId + '"', c.inputId ? ' for="' + c.inputId + '"' : '', (a.labelStyle ? ' style="' + a.labelStyle + '"' : '') + '>', a.label, '</label>', '<div class="cke_dialog_ui_labeled_content"', a.controlStyle ? ' style="' + a.controlStyle + '"' : '', ' role="presentation">', f.call(this, b, a), '</div>');
              else {
                g = {
                  type: 'hbox',
                  widths: a.widths,
                  padding: 0,
                  children: [
                    {
                      type: 'html',
                      html: '<label class="cke_dialog_ui_labeled_label' + g + '" id="' + c.labelId + '" for="' + c.inputId + '"' + (a.labelStyle ? ' style="' + a.labelStyle + '"' : '') + '>' + CKEDITOR.tools.htmlEncode(a.label) + '</span>'
                    },
                    {
                      type: 'html',
                      html: '<span class="cke_dialog_ui_labeled_content"' + (a.controlStyle ? ' style="' + a.controlStyle + '"' : '') + '>' + f.call(this, b, a) + '</span>'
                    }
                  ]
                };
                CKEDITOR.dialog._.uiElementBuilders.hbox.build(b, g, e);
              }
              return e.join('');
            });
          }
        },
        textInput: function (b, a, d) {
          if (!(3 > arguments.length)) {
            h.call(this, a);
            var f = this._.inputId = CKEDITOR.tools.getNextId() + '_textInput', c = {
                'class': 'cke_dialog_ui_input_' + a.type,
                id: f,
                type: a.type
              };
            a.validate && (this.validate = a.validate);
            a.maxLength && (c.maxlength = a.maxLength);
            a.size && (c.size = a.size);
            a.inputStyle && (c.style = a.inputStyle);
            var e = this, k = !1;
            b.on('load', function () {
              e.getInputElement().on('keydown', function (a) {
                a.data.getKeystroke() == 13 && (k = true);
              });
              e.getInputElement().on('keyup', function (a) {
                if (a.data.getKeystroke() == 13 && k) {
                  b.getButton('ok') && setTimeout(function () {
                    b.getButton('ok').click();
                  }, 0);
                  k = false;
                }
              }, null, null, 1000);
            });
            CKEDITOR.ui.dialog.labeledElement.call(this, b, a, d, function () {
              var b = [
                  '<div class="cke_dialog_ui_input_',
                  a.type,
                  '" role="presentation"'
                ];
              a.width && b.push('style="width:' + a.width + '" ');
              b.push('><input ');
              c['aria-labelledby'] = this._.labelId;
              this._.required && (c['aria-required'] = this._.required);
              for (var e in c)
                b.push(e + '="' + c[e] + '" ');
              b.push(' /></div>');
              return b.join('');
            });
          }
        },
        textarea: function (b, a, d) {
          if (!(3 > arguments.length)) {
            h.call(this, a);
            var f = this, c = this._.inputId = CKEDITOR.tools.getNextId() + '_textarea', e = {};
            a.validate && (this.validate = a.validate);
            e.rows = a.rows || 5;
            e.cols = a.cols || 20;
            e['class'] = 'cke_dialog_ui_input_textarea ' + (a['class'] || '');
            'undefined' != typeof a.inputStyle && (e.style = a.inputStyle);
            a.dir && (e.dir = a.dir);
            CKEDITOR.ui.dialog.labeledElement.call(this, b, a, d, function () {
              e['aria-labelledby'] = this._.labelId;
              this._.required && (e['aria-required'] = this._.required);
              var a = [
                  '<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',
                  c,
                  '" '
                ], b;
              for (b in e)
                a.push(b + '="' + CKEDITOR.tools.htmlEncode(e[b]) + '" ');
              a.push('>', CKEDITOR.tools.htmlEncode(f._['default']), '</textarea></div>');
              return a.join('');
            });
          }
        },
        checkbox: function (b, a, d) {
          if (!(3 > arguments.length)) {
            var f = h.call(this, a, { 'default': !!a['default'] });
            a.validate && (this.validate = a.validate);
            CKEDITOR.ui.dialog.uiElement.call(this, b, a, d, 'span', null, null, function () {
              var c = CKEDITOR.tools.extend({}, a, { id: a.id ? a.id + '_checkbox' : CKEDITOR.tools.getNextId() + '_checkbox' }, true), e = [], d = CKEDITOR.tools.getNextId() + '_label', g = {
                  'class': 'cke_dialog_ui_checkbox_input',
                  type: 'checkbox',
                  'aria-labelledby': d
                };
              p(c);
              if (a['default'])
                g.checked = 'checked';
              if (typeof c.inputStyle != 'undefined')
                c.style = c.inputStyle;
              f.checkbox = new CKEDITOR.ui.dialog.uiElement(b, c, e, 'input', null, g);
              e.push(' <label id="', d, '" for="', g.id, '"' + (a.labelStyle ? ' style="' + a.labelStyle + '"' : '') + '>', CKEDITOR.tools.htmlEncode(a.label), '</label>');
              return e.join('');
            });
          }
        },
        radio: function (b, a, d) {
          if (!(3 > arguments.length)) {
            h.call(this, a);
            this._['default'] || (this._['default'] = this._.initValue = a.items[0][1]);
            a.validate && (this.validate = a.valdiate);
            var f = [], c = this;
            a.role = 'radiogroup';
            a.includeLabel = !0;
            CKEDITOR.ui.dialog.labeledElement.call(this, b, a, d, function () {
              for (var e = [], d = [], g = (a.id ? a.id : CKEDITOR.tools.getNextId()) + '_radio', i = 0; i < a.items.length; i++) {
                var j = a.items[i], h = j[2] !== void 0 ? j[2] : j[0], l = j[1] !== void 0 ? j[1] : j[0], m = CKEDITOR.tools.getNextId() + '_radio_input', n = m + '_label', m = CKEDITOR.tools.extend({}, a, {
                    id: m,
                    title: null,
                    type: null
                  }, true), h = CKEDITOR.tools.extend({}, m, { title: h }, true), o = {
                    type: 'radio',
                    'class': 'cke_dialog_ui_radio_input',
                    name: g,
                    value: l,
                    'aria-labelledby': n
                  }, q = [];
                if (c._['default'] == l)
                  o.checked = 'checked';
                p(m);
                p(h);
                if (typeof m.inputStyle != 'undefined')
                  m.style = m.inputStyle;
                m.keyboardFocusable = true;
                f.push(new CKEDITOR.ui.dialog.uiElement(b, m, q, 'input', null, o));
                q.push(' ');
                new CKEDITOR.ui.dialog.uiElement(b, h, q, 'label', null, {
                  id: n,
                  'for': o.id
                }, j[0]);
                e.push(q.join(''));
              }
              new CKEDITOR.ui.dialog.hbox(b, f, e, d);
              return d.join('');
            });
            this._.children = f;
          }
        },
        button: function (b, a, d) {
          if (arguments.length) {
            'function' == typeof a && (a = a(b.getParentEditor()));
            h.call(this, a, { disabled: a.disabled || !1 });
            CKEDITOR.event.implementOn(this);
            var f = this;
            b.on('load', function () {
              var a = this.getElement();
              (function () {
                a.on('click', function (a) {
                  f.click();
                  a.data.preventDefault();
                });
                a.on('keydown', function (a) {
                  a.data.getKeystroke() in { 32: 1 } && (f.click(), a.data.preventDefault());
                });
              }());
              a.unselectable();
            }, this);
            var c = CKEDITOR.tools.extend({}, a);
            delete c.style;
            var e = CKEDITOR.tools.getNextId() + '_label';
            CKEDITOR.ui.dialog.uiElement.call(this, b, c, d, 'a', null, {
              style: a.style,
              href: 'javascript:void(0)',
              title: a.label,
              hidefocus: 'true',
              'class': a['class'],
              role: 'button',
              'aria-labelledby': e
            }, '<span id="' + e + '" class="cke_dialog_ui_button">' + CKEDITOR.tools.htmlEncode(a.label) + '</span>');
          }
        },
        select: function (b, a, d) {
          if (!(3 > arguments.length)) {
            var f = h.call(this, a);
            a.validate && (this.validate = a.validate);
            f.inputId = CKEDITOR.tools.getNextId() + '_select';
            CKEDITOR.ui.dialog.labeledElement.call(this, b, a, d, function () {
              var c = CKEDITOR.tools.extend({}, a, { id: a.id ? a.id + '_select' : CKEDITOR.tools.getNextId() + '_select' }, true), e = [], d = [], g = {
                  id: f.inputId,
                  'class': 'cke_dialog_ui_input_select',
                  'aria-labelledby': this._.labelId
                };
              e.push('<div class="cke_dialog_ui_input_', a.type, '" role="presentation"');
              a.width && e.push('style="width:' + a.width + '" ');
              e.push('>');
              if (a.size != void 0)
                g.size = a.size;
              if (a.multiple != void 0)
                g.multiple = a.multiple;
              p(c);
              for (var i = 0, j; i < a.items.length && (j = a.items[i]); i++)
                d.push('<option value="', CKEDITOR.tools.htmlEncode(j[1] !== void 0 ? j[1] : j[0]).replace(/"/g, '&quot;'), '" /> ', CKEDITOR.tools.htmlEncode(j[0]));
              if (typeof c.inputStyle != 'undefined')
                c.style = c.inputStyle;
              f.select = new CKEDITOR.ui.dialog.uiElement(b, c, e, 'select', null, g, d.join(''));
              e.push('</div>');
              return e.join('');
            });
          }
        },
        file: function (b, a, d) {
          if (!(3 > arguments.length)) {
            void 0 === a['default'] && (a['default'] = '');
            var f = CKEDITOR.tools.extend(h.call(this, a), {
                definition: a,
                buttons: []
              });
            a.validate && (this.validate = a.validate);
            b.on('load', function () {
              CKEDITOR.document.getById(f.frameId).getParent().addClass('cke_dialog_ui_input_file');
            });
            CKEDITOR.ui.dialog.labeledElement.call(this, b, a, d, function () {
              f.frameId = CKEDITOR.tools.getNextId() + '_fileInput';
              var b = [
                  '<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',
                  f.frameId,
                  '" title="',
                  a.label,
                  '" src="javascript:void('
                ];
              b.push(CKEDITOR.env.ie ? '(function(){' + encodeURIComponent('document.open();(' + CKEDITOR.tools.fixDomain + ')();document.close();') + '})()' : '0');
              b.push(')"></iframe>');
              return b.join('');
            });
          }
        },
        fileButton: function (b, a, d) {
          if (!(3 > arguments.length)) {
            h.call(this, a);
            var f = this;
            a.validate && (this.validate = a.validate);
            var c = CKEDITOR.tools.extend({}, a), e = c.onClick;
            c.className = (c.className ? c.className + ' ' : '') + 'cke_dialog_ui_button';
            c.onClick = function (c) {
              var d = a['for'];
              if (!e || e.call(this, c) !== false) {
                b.getContentElement(d[0], d[1]).submit();
                this.disable();
              }
            };
            b.on('load', function () {
              b.getContentElement(a['for'][0], a['for'][1])._.buttons.push(f);
            });
            CKEDITOR.ui.dialog.button.call(this, b, c, d);
          }
        },
        html: function () {
          var b = /^\s*<[\w:]+\s+([^>]*)?>/, a = /^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/, d = /\/$/;
          return function (f, c, e) {
            if (!(3 > arguments.length)) {
              var k = [], g = c.html;
              '<' != g.charAt(0) && (g = '<span>' + g + '</span>');
              var i = c.focus;
              if (i) {
                var j = this.focus;
                this.focus = function () {
                  ('function' == typeof i ? i : j).call(this);
                  this.fire('focus');
                };
                c.isFocusable && (this.isFocusable = this.isFocusable);
                this.keyboardFocusable = !0;
              }
              CKEDITOR.ui.dialog.uiElement.call(this, f, c, k, 'span', null, null, '');
              k = k.join('').match(b);
              g = g.match(a) || [
                '',
                '',
                ''
              ];
              d.test(g[1]) && (g[1] = g[1].slice(0, -1), g[2] = '/' + g[2]);
              e.push([
                g[1],
                ' ',
                k[1] || '',
                g[2]
              ].join(''));
            }
          };
        }(),
        fieldset: function (b, a, d, f, c) {
          var e = c.label;
          this._ = { children: a };
          CKEDITOR.ui.dialog.uiElement.call(this, b, c, f, 'fieldset', null, null, function () {
            var a = [];
            e && a.push('<legend' + (c.labelStyle ? ' style="' + c.labelStyle + '"' : '') + '>' + e + '</legend>');
            for (var b = 0; b < d.length; b++)
              a.push(d[b]);
            return a.join('');
          });
        }
      }, !0);
      CKEDITOR.ui.dialog.html.prototype = new CKEDITOR.ui.dialog.uiElement();
      CKEDITOR.ui.dialog.labeledElement.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement(), {
        setLabel: function (b) {
          var a = CKEDITOR.document.getById(this._.labelId);
          1 > a.getChildCount() ? new CKEDITOR.dom.text(b, CKEDITOR.document).appendTo(a) : a.getChild(0).$.nodeValue = b;
          return this;
        },
        getLabel: function () {
          var b = CKEDITOR.document.getById(this._.labelId);
          return !b || 1 > b.getChildCount() ? '' : b.getChild(0).getText();
        },
        eventProcessors: o
      }, !0);
      CKEDITOR.ui.dialog.button.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement(), {
        click: function () {
          return !this._.disabled ? this.fire('click', { dialog: this._.dialog }) : !1;
        },
        enable: function () {
          this._.disabled = !1;
          var b = this.getElement();
          b && b.removeClass('cke_disabled');
        },
        disable: function () {
          this._.disabled = !0;
          this.getElement().addClass('cke_disabled');
        },
        isVisible: function () {
          return this.getElement().getFirst().isVisible();
        },
        isEnabled: function () {
          return !this._.disabled;
        },
        eventProcessors: CKEDITOR.tools.extend({}, CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors, {
          onClick: function (b, a) {
            this.on('click', function () {
              a.apply(this, arguments);
            });
          }
        }, !0),
        accessKeyUp: function () {
          this.click();
        },
        accessKeyDown: function () {
          this.focus();
        },
        keyboardFocusable: !0
      }, !0);
      CKEDITOR.ui.dialog.textInput.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement(), {
        getInputElement: function () {
          return CKEDITOR.document.getById(this._.inputId);
        },
        focus: function () {
          var b = this.selectParentTab();
          setTimeout(function () {
            var a = b.getInputElement();
            a && a.$.focus();
          }, 0);
        },
        select: function () {
          var b = this.selectParentTab();
          setTimeout(function () {
            var a = b.getInputElement();
            a && (a.$.focus(), a.$.select());
          }, 0);
        },
        accessKeyUp: function () {
          this.select();
        },
        setValue: function (b) {
          !b && (b = '');
          return CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this, arguments);
        },
        keyboardFocusable: !0
      }, n, !0);
      CKEDITOR.ui.dialog.textarea.prototype = new CKEDITOR.ui.dialog.textInput();
      CKEDITOR.ui.dialog.select.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement(), {
        getInputElement: function () {
          return this._.select.getElement();
        },
        add: function (b, a, d) {
          var f = new CKEDITOR.dom.element('option', this.getDialog().getParentEditor().document), c = this.getInputElement().$;
          f.$.text = b;
          f.$.value = void 0 === a || null === a ? b : a;
          void 0 === d || null === d ? CKEDITOR.env.ie ? c.add(f.$) : c.add(f.$, null) : c.add(f.$, d);
          return this;
        },
        remove: function (b) {
          this.getInputElement().$.remove(b);
          return this;
        },
        clear: function () {
          for (var b = this.getInputElement().$; 0 < b.length;)
            b.remove(0);
          return this;
        },
        keyboardFocusable: !0
      }, n, !0);
      CKEDITOR.ui.dialog.checkbox.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement(), {
        getInputElement: function () {
          return this._.checkbox.getElement();
        },
        setValue: function (b, a) {
          this.getInputElement().$.checked = b;
          !a && this.fire('change', { value: b });
        },
        getValue: function () {
          return this.getInputElement().$.checked;
        },
        accessKeyUp: function () {
          this.setValue(!this.getValue());
        },
        eventProcessors: {
          onChange: function (b, a) {
            if (!CKEDITOR.env.ie || 8 < CKEDITOR.env.version)
              return o.onChange.apply(this, arguments);
            b.on('load', function () {
              var a = this._.checkbox.getElement();
              a.on('propertychange', function (b) {
                b = b.data.$;
                'checked' == b.propertyName && this.fire('change', { value: a.$.checked });
              }, this);
            }, this);
            this.on('change', a);
            return null;
          }
        },
        keyboardFocusable: !0
      }, n, !0);
      CKEDITOR.ui.dialog.radio.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement(), {
        setValue: function (b, a) {
          for (var d = this._.children, f, c = 0; c < d.length && (f = d[c]); c++)
            f.getElement().$.checked = f.getValue() == b;
          !a && this.fire('change', { value: b });
        },
        getValue: function () {
          for (var b = this._.children, a = 0; a < b.length; a++)
            if (b[a].getElement().$.checked)
              return b[a].getValue();
          return null;
        },
        accessKeyUp: function () {
          var b = this._.children, a;
          for (a = 0; a < b.length; a++)
            if (b[a].getElement().$.checked) {
              b[a].getElement().focus();
              return;
            }
          b[0].getElement().focus();
        },
        eventProcessors: {
          onChange: function (b, a) {
            if (CKEDITOR.env.ie)
              b.on('load', function () {
                for (var a = this._.children, b = this, c = 0; c < a.length; c++)
                  a[c].getElement().on('propertychange', function (a) {
                    a = a.data.$;
                    'checked' == a.propertyName && this.$.checked && b.fire('change', { value: this.getAttribute('value') });
                  });
              }, this), this.on('change', a);
            else
              return o.onChange.apply(this, arguments);
            return null;
          }
        }
      }, n, !0);
      CKEDITOR.ui.dialog.file.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement(), n, {
        getInputElement: function () {
          var b = CKEDITOR.document.getById(this._.frameId).getFrameDocument();
          return 0 < b.$.forms.length ? new CKEDITOR.dom.element(b.$.forms[0].elements[0]) : this.getElement();
        },
        submit: function () {
          this.getInputElement().getParent().$.submit();
          return this;
        },
        getAction: function () {
          return this.getInputElement().getParent().$.action;
        },
        registerEvents: function (b) {
          var a = /^on([A-Z]\w+)/, d, f = function (a, b, c, d) {
              a.on('formLoaded', function () {
                a.getInputElement().on(c, d, a);
              });
            }, c;
          for (c in b)
            if (d = c.match(a))
              this.eventProcessors[c] ? this.eventProcessors[c].call(this, this._.dialog, b[c]) : f(this, this._.dialog, d[1].toLowerCase(), b[c]);
          return this;
        },
        reset: function () {
          function b() {
            d.$.open();
            var b = '';
            f.size && (b = f.size - (CKEDITOR.env.ie ? 7 : 0));
            var h = a.frameId + '_input';
            d.$.write([
              '<html dir="' + g + '" lang="' + i + '"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">',
              '<form enctype="multipart/form-data" method="POST" dir="' + g + '" lang="' + i + '" action="',
              CKEDITOR.tools.htmlEncode(f.action),
              '"><label id="',
              a.labelId,
              '" for="',
              h,
              '" style="display:none">',
              CKEDITOR.tools.htmlEncode(f.label),
              '</label><input style="width:100%" id="',
              h,
              '" aria-labelledby="',
              a.labelId,
              '" type="file" name="',
              CKEDITOR.tools.htmlEncode(f.id || 'cke_upload'),
              '" size="',
              CKEDITOR.tools.htmlEncode(0 < b ? b : ''),
              '" /></form></body></html><script>',
              CKEDITOR.env.ie ? '(' + CKEDITOR.tools.fixDomain + ')();' : '',
              'window.parent.CKEDITOR.tools.callFunction(' + e + ');',
              'window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction(' + k + ')}',
              '</script>'
            ].join(''));
            d.$.close();
            for (b = 0; b < c.length; b++)
              c[b].enable();
          }
          var a = this._, d = CKEDITOR.document.getById(a.frameId).getFrameDocument(), f = a.definition, c = a.buttons, e = this.formLoadedNumber, k = this.formUnloadNumber, g = a.dialog._.editor.lang.dir, i = a.dialog._.editor.langCode;
          e || (e = this.formLoadedNumber = CKEDITOR.tools.addFunction(function () {
            this.fire('formLoaded');
          }, this), k = this.formUnloadNumber = CKEDITOR.tools.addFunction(function () {
            this.getInputElement().clearCustomData();
          }, this), this.getDialog()._.editor.on('destroy', function () {
            CKEDITOR.tools.removeFunction(e);
            CKEDITOR.tools.removeFunction(k);
          }));
          CKEDITOR.env.gecko ? setTimeout(b, 500) : b();
        },
        getValue: function () {
          return this.getInputElement().$.value || '';
        },
        setInitValue: function () {
          this._.initValue = '';
        },
        eventProcessors: {
          onChange: function (b, a) {
            this._.domOnChangeRegistered || (this.on('formLoaded', function () {
              this.getInputElement().on('change', function () {
                this.fire('change', { value: this.getValue() });
              }, this);
            }, this), this._.domOnChangeRegistered = !0);
            this.on('change', a);
          }
        },
        keyboardFocusable: !0
      }, !0);
      CKEDITOR.ui.dialog.fileButton.prototype = new CKEDITOR.ui.dialog.button();
      CKEDITOR.ui.dialog.fieldset.prototype = CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype);
      CKEDITOR.dialog.addUIElement('text', r);
      CKEDITOR.dialog.addUIElement('password', r);
      CKEDITOR.dialog.addUIElement('textarea', l);
      CKEDITOR.dialog.addUIElement('checkbox', l);
      CKEDITOR.dialog.addUIElement('radio', l);
      CKEDITOR.dialog.addUIElement('button', l);
      CKEDITOR.dialog.addUIElement('select', l);
      CKEDITOR.dialog.addUIElement('file', l);
      CKEDITOR.dialog.addUIElement('fileButton', l);
      CKEDITOR.dialog.addUIElement('html', l);
      CKEDITOR.dialog.addUIElement('fieldset', {
        build: function (b, a, d) {
          for (var f = a.children, c, e = [], h = [], g = 0; g < f.length && (c = f[g]); g++) {
            var i = [];
            e.push(i);
            h.push(CKEDITOR.dialog._.uiElementBuilders[c.type].build(b, c, i));
          }
          return new CKEDITOR.ui.dialog[a.type](b, h, e, d, a);
        }
      });
    }
  });
  CKEDITOR.DIALOG_RESIZE_NONE = 0;
  CKEDITOR.DIALOG_RESIZE_WIDTH = 1;
  CKEDITOR.DIALOG_RESIZE_HEIGHT = 2;
  CKEDITOR.DIALOG_RESIZE_BOTH = 3;
  (function () {
    function t() {
      for (var a = this._.tabIdList.length, b = CKEDITOR.tools.indexOf(this._.tabIdList, this._.currentTabId) + a, c = b - 1; c > b - a; c--)
        if (this._.tabs[this._.tabIdList[c % a]][0].$.offsetHeight)
          return this._.tabIdList[c % a];
      return null;
    }
    function u() {
      for (var a = this._.tabIdList.length, b = CKEDITOR.tools.indexOf(this._.tabIdList, this._.currentTabId), c = b + 1; c < b + a; c++)
        if (this._.tabs[this._.tabIdList[c % a]][0].$.offsetHeight)
          return this._.tabIdList[c % a];
      return null;
    }
    function G(a, b) {
      for (var c = a.$.getElementsByTagName('input'), e = 0, d = c.length; e < d; e++) {
        var g = new CKEDITOR.dom.element(c[e]);
        'text' == g.getAttribute('type').toLowerCase() && (b ? (g.setAttribute('value', g.getCustomData('fake_value') || ''), g.removeCustomData('fake_value')) : (g.setCustomData('fake_value', g.getAttribute('value')), g.setAttribute('value', '')));
      }
    }
    function P(a, b) {
      var c = this.getInputElement();
      c && (a ? c.removeAttribute('aria-invalid') : c.setAttribute('aria-invalid', !0));
      a || (this.select ? this.select() : this.focus());
      b && alert(b);
      this.fire('validated', {
        valid: a,
        msg: b
      });
    }
    function Q() {
      var a = this.getInputElement();
      a && a.removeAttribute('aria-invalid');
    }
    function R(a) {
      var a = CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate('dialog', S).output({
          id: CKEDITOR.tools.getNextNumber(),
          editorId: a.id,
          langDir: a.lang.dir,
          langCode: a.langCode,
          editorDialogClass: 'cke_editor_' + a.name.replace(/\./g, '\\.') + '_dialog',
          closeTitle: a.lang.common.close,
          hidpi: CKEDITOR.env.hidpi ? 'cke_hidpi' : ''
        })), b = a.getChild([
          0,
          0,
          0,
          0,
          0
        ]), c = b.getChild(0), e = b.getChild(1);
      if (CKEDITOR.env.ie && !CKEDITOR.env.quirks) {
        var d = 'javascript:void(function(){' + encodeURIComponent('document.open();(' + CKEDITOR.tools.fixDomain + ')();document.close();') + '}())';
        CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="' + d + '" tabIndex="-1"></iframe>').appendTo(b.getParent());
      }
      c.unselectable();
      e.unselectable();
      return {
        element: a,
        parts: {
          dialog: a.getChild(0),
          title: c,
          close: e,
          tabs: b.getChild(2),
          contents: b.getChild([
            3,
            0,
            0,
            0
          ]),
          footer: b.getChild([
            3,
            0,
            1,
            0
          ])
        }
      };
    }
    function H(a, b, c) {
      this.element = b;
      this.focusIndex = c;
      this.tabIndex = 0;
      this.isFocusable = function () {
        return !b.getAttribute('disabled') && b.isVisible();
      };
      this.focus = function () {
        a._.currentFocusIndex = this.focusIndex;
        this.element.focus();
      };
      b.on('keydown', function (a) {
        a.data.getKeystroke() in {
          32: 1,
          13: 1
        } && this.fire('click');
      });
      b.on('focus', function () {
        this.fire('mouseover');
      });
      b.on('blur', function () {
        this.fire('mouseout');
      });
    }
    function T(a) {
      function b() {
        a.layout();
      }
      var c = CKEDITOR.document.getWindow();
      c.on('resize', b);
      a.on('hide', function () {
        c.removeListener('resize', b);
      });
    }
    function I(a, b) {
      this._ = { dialog: a };
      CKEDITOR.tools.extend(this, b);
    }
    function U(a) {
      function b(b) {
        var c = a.getSize(), i = CKEDITOR.document.getWindow().getViewPaneSize(), o = b.data.$.screenX, j = b.data.$.screenY, n = o - e.x, l = j - e.y;
        e = {
          x: o,
          y: j
        };
        d.x += n;
        d.y += l;
        a.move(d.x + h[3] < f ? -h[3] : d.x - h[1] > i.width - c.width - f ? i.width - c.width + ('rtl' == g.lang.dir ? 0 : h[1]) : d.x, d.y + h[0] < f ? -h[0] : d.y - h[2] > i.height - c.height - f ? i.height - c.height + h[2] : d.y, 1);
        b.data.preventDefault();
      }
      function c() {
        CKEDITOR.document.removeListener('mousemove', b);
        CKEDITOR.document.removeListener('mouseup', c);
        if (CKEDITOR.env.ie6Compat) {
          var a = q.getChild(0).getFrameDocument();
          a.removeListener('mousemove', b);
          a.removeListener('mouseup', c);
        }
      }
      var e = null, d = null;
      a.getElement().getFirst();
      var g = a.getParentEditor(), f = g.config.dialog_magnetDistance, h = CKEDITOR.skin.margins || [
          0,
          0,
          0,
          0
        ];
      'undefined' == typeof f && (f = 20);
      a.parts.title.on('mousedown', function (f) {
        e = {
          x: f.data.$.screenX,
          y: f.data.$.screenY
        };
        CKEDITOR.document.on('mousemove', b);
        CKEDITOR.document.on('mouseup', c);
        d = a.getPosition();
        if (CKEDITOR.env.ie6Compat) {
          var h = q.getChild(0).getFrameDocument();
          h.on('mousemove', b);
          h.on('mouseup', c);
        }
        f.data.preventDefault();
      }, a);
    }
    function V(a) {
      var b, c;
      function e(d) {
        var e = 'rtl' == h.lang.dir, j = o.width, C = o.height, D = j + (d.data.$.screenX - b) * (e ? -1 : 1) * (a._.moved ? 1 : 2), n = C + (d.data.$.screenY - c) * (a._.moved ? 1 : 2), x = a._.element.getFirst(), x = e && x.getComputedStyle('right'), y = a.getPosition();
        y.y + n > i.height && (n = i.height - y.y);
        if ((e ? x : y.x) + D > i.width)
          D = i.width - (e ? x : y.x);
        if (f == CKEDITOR.DIALOG_RESIZE_WIDTH || f == CKEDITOR.DIALOG_RESIZE_BOTH)
          j = Math.max(g.minWidth || 0, D - m);
        if (f == CKEDITOR.DIALOG_RESIZE_HEIGHT || f == CKEDITOR.DIALOG_RESIZE_BOTH)
          C = Math.max(g.minHeight || 0, n - k);
        a.resize(j, C);
        a._.moved || a.layout();
        d.data.preventDefault();
      }
      function d() {
        CKEDITOR.document.removeListener('mouseup', d);
        CKEDITOR.document.removeListener('mousemove', e);
        j && (j.remove(), j = null);
        if (CKEDITOR.env.ie6Compat) {
          var a = q.getChild(0).getFrameDocument();
          a.removeListener('mouseup', d);
          a.removeListener('mousemove', e);
        }
      }
      var g = a.definition, f = g.resizable;
      if (f != CKEDITOR.DIALOG_RESIZE_NONE) {
        var h = a.getParentEditor(), m, k, i, o, j, n = CKEDITOR.tools.addFunction(function (f) {
            o = a.getSize();
            var h = a.parts.contents;
            h.$.getElementsByTagName('iframe').length && (j = CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'), h.append(j));
            k = o.height - a.parts.contents.getSize('height', !(CKEDITOR.env.gecko || CKEDITOR.env.ie && CKEDITOR.env.quirks));
            m = o.width - a.parts.contents.getSize('width', 1);
            b = f.screenX;
            c = f.screenY;
            i = CKEDITOR.document.getWindow().getViewPaneSize();
            CKEDITOR.document.on('mousemove', e);
            CKEDITOR.document.on('mouseup', d);
            CKEDITOR.env.ie6Compat && (h = q.getChild(0).getFrameDocument(), h.on('mousemove', e), h.on('mouseup', d));
            f.preventDefault && f.preventDefault();
          });
        a.on('load', function () {
          var b = '';
          f == CKEDITOR.DIALOG_RESIZE_WIDTH ? b = ' cke_resizer_horizontal' : f == CKEDITOR.DIALOG_RESIZE_HEIGHT && (b = ' cke_resizer_vertical');
          b = CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer' + b + ' cke_resizer_' + h.lang.dir + '" title="' + CKEDITOR.tools.htmlEncode(h.lang.common.resize) + '" onmousedown="CKEDITOR.tools.callFunction(' + n + ', event )">' + ('ltr' == h.lang.dir ? '\u25e2' : '\u25e3') + '</div>');
          a.parts.footer.append(b, 1);
        });
        h.on('destroy', function () {
          CKEDITOR.tools.removeFunction(n);
        });
      }
    }
    function E(a) {
      a.data.preventDefault(1);
    }
    function J(a) {
      var b = CKEDITOR.document.getWindow(), c = a.config, e = c.dialog_backgroundCoverColor || 'white', d = c.dialog_backgroundCoverOpacity, g = c.baseFloatZIndex, c = CKEDITOR.tools.genKey(e, d, g), f = w[c];
      f ? f.show() : (g = [
        '<div tabIndex="-1" style="position: ',
        CKEDITOR.env.ie6Compat ? 'absolute' : 'fixed',
        '; z-index: ',
        g,
        '; top: 0px; left: 0px; ',
        !CKEDITOR.env.ie6Compat ? 'background-color: ' + e : '',
        '" class="cke_dialog_background_cover">'
      ], CKEDITOR.env.ie6Compat && (e = '<html><body style=\\\'background-color:' + e + ';\\\'></body></html>', g.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'), g.push('void((function(){' + encodeURIComponent('document.open();(' + CKEDITOR.tools.fixDomain + ')();document.write( \'' + e + '\' );document.close();') + '})())'), g.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')), g.push('</div>'), f = CKEDITOR.dom.element.createFromHtml(g.join('')), f.setOpacity(void 0 != d ? d : 0.5), f.on('keydown', E), f.on('keypress', E), f.on('keyup', E), f.appendTo(CKEDITOR.document.getBody()), w[c] = f);
      a.focusManager.add(f);
      q = f;
      var a = function () {
          var a = b.getViewPaneSize();
          f.setStyles({
            width: a.width + 'px',
            height: a.height + 'px'
          });
        }, h = function () {
          var a = b.getScrollPosition(), c = CKEDITOR.dialog._.currentTop;
          f.setStyles({
            left: a.x + 'px',
            top: a.y + 'px'
          });
          if (c) {
            do {
              a = c.getPosition();
              c.move(a.x, a.y);
            } while (c = c._.parentDialog);
          }
        };
      F = a;
      b.on('resize', a);
      a();
      (!CKEDITOR.env.mac || !CKEDITOR.env.webkit) && f.focus();
      if (CKEDITOR.env.ie6Compat) {
        var m = function () {
          h();
          arguments.callee.prevScrollHandler.apply(this, arguments);
        };
        b.$.setTimeout(function () {
          m.prevScrollHandler = window.onscroll || function () {
          };
          window.onscroll = m;
        }, 0);
        h();
      }
    }
    function K(a) {
      q && (a.focusManager.remove(q), a = CKEDITOR.document.getWindow(), q.hide(), a.removeListener('resize', F), CKEDITOR.env.ie6Compat && a.$.setTimeout(function () {
        window.onscroll = window.onscroll && window.onscroll.prevScrollHandler || null;
      }, 0), F = null);
    }
    var r = CKEDITOR.tools.cssLength, S = '<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog ' + CKEDITOR.env.cssClass + ' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';
    CKEDITOR.dialog = function (a, b) {
      function c() {
        var a = l._.focusList;
        a.sort(function (a, b) {
          return a.tabIndex != b.tabIndex ? b.tabIndex - a.tabIndex : a.focusIndex - b.focusIndex;
        });
        for (var b = a.length, c = 0; c < b; c++)
          a[c].focusIndex = c;
      }
      function e(a) {
        var b = l._.focusList, a = a || 0;
        if (!(1 > b.length)) {
          var c = l._.currentFocusIndex;
          try {
            b[c].getInputElement().$.blur();
          } catch (f) {
          }
          for (var d = c = (c + a + b.length) % b.length; a && !b[d].isFocusable() && !(d = (d + a + b.length) % b.length, d == c););
          b[d].focus();
          'text' == b[d].type && b[d].select();
        }
      }
      function d(b) {
        if (l == CKEDITOR.dialog._.currentTop) {
          var c = b.data.getKeystroke(), d = 'rtl' == a.lang.dir;
          o = j = 0;
          if (9 == c || c == CKEDITOR.SHIFT + 9)
            c = c == CKEDITOR.SHIFT + 9, l._.tabBarMode ? (c = c ? t.call(l) : u.call(l), l.selectPage(c), l._.tabs[c][0].focus()) : e(c ? -1 : 1), o = 1;
          else if (c == CKEDITOR.ALT + 121 && !l._.tabBarMode && 1 < l.getPageCount())
            l._.tabBarMode = !0, l._.tabs[l._.currentTabId][0].focus(), o = 1;
          else if ((37 == c || 39 == c) && l._.tabBarMode)
            c = c == (d ? 39 : 37) ? t.call(l) : u.call(l), l.selectPage(c), l._.tabs[c][0].focus(), o = 1;
          else if ((13 == c || 32 == c) && l._.tabBarMode)
            this.selectPage(this._.currentTabId), this._.tabBarMode = !1, this._.currentFocusIndex = -1, e(1), o = 1;
          else if (13 == c) {
            c = b.data.getTarget();
            if (!c.is('a', 'button', 'select', 'textarea') && (!c.is('input') || 'button' != c.$.type))
              (c = this.getButton('ok')) && CKEDITOR.tools.setTimeout(c.click, 0, c), o = 1;
            j = 1;
          } else if (27 == c)
            (c = this.getButton('cancel')) ? CKEDITOR.tools.setTimeout(c.click, 0, c) : !1 !== this.fire('cancel', { hide: !0 }).hide && this.hide(), j = 1;
          else
            return;
          g(b);
        }
      }
      function g(a) {
        o ? a.data.preventDefault(1) : j && a.data.stopPropagation();
      }
      var f = CKEDITOR.dialog._.dialogDefinitions[b], h = CKEDITOR.tools.clone(W), m = a.config.dialog_buttonsOrder || 'OS', k = a.lang.dir, i = {}, o, j;
      ('OS' == m && CKEDITOR.env.mac || 'rtl' == m && 'ltr' == k || 'ltr' == m && 'rtl' == k) && h.buttons.reverse();
      f = CKEDITOR.tools.extend(f(a), h);
      f = CKEDITOR.tools.clone(f);
      f = new L(this, f);
      h = R(a);
      this._ = {
        editor: a,
        element: h.element,
        name: b,
        contentSize: {
          width: 0,
          height: 0
        },
        size: {
          width: 0,
          height: 0
        },
        contents: {},
        buttons: {},
        accessKeyMap: {},
        tabs: {},
        tabIdList: [],
        currentTabId: null,
        currentTabIndex: null,
        pageCount: 0,
        lastTab: null,
        tabBarMode: !1,
        focusList: [],
        currentFocusIndex: 0,
        hasFocus: !1
      };
      this.parts = h.parts;
      CKEDITOR.tools.setTimeout(function () {
        a.fire('ariaWidget', this.parts.contents);
      }, 0, this);
      h = {
        position: CKEDITOR.env.ie6Compat ? 'absolute' : 'fixed',
        top: 0,
        visibility: 'hidden'
      };
      h['rtl' == k ? 'right' : 'left'] = 0;
      this.parts.dialog.setStyles(h);
      CKEDITOR.event.call(this);
      this.definition = f = CKEDITOR.fire('dialogDefinition', {
        name: b,
        definition: f
      }, a).definition;
      if (!('removeDialogTabs' in a._) && a.config.removeDialogTabs) {
        h = a.config.removeDialogTabs.split(';');
        for (k = 0; k < h.length; k++)
          if (m = h[k].split(':'), 2 == m.length) {
            var n = m[0];
            i[n] || (i[n] = []);
            i[n].push(m[1]);
          }
        a._.removeDialogTabs = i;
      }
      if (a._.removeDialogTabs && (i = a._.removeDialogTabs[b]))
        for (k = 0; k < i.length; k++)
          f.removeContents(i[k]);
      if (f.onLoad)
        this.on('load', f.onLoad);
      if (f.onShow)
        this.on('show', f.onShow);
      if (f.onHide)
        this.on('hide', f.onHide);
      if (f.onOk)
        this.on('ok', function (b) {
          a.fire('saveSnapshot');
          setTimeout(function () {
            a.fire('saveSnapshot');
          }, 0);
          !1 === f.onOk.call(this, b) && (b.data.hide = !1);
        });
      if (f.onCancel)
        this.on('cancel', function (a) {
          !1 === f.onCancel.call(this, a) && (a.data.hide = !1);
        });
      var l = this, p = function (a) {
          var b = l._.contents, c = !1, d;
          for (d in b)
            for (var f in b[d])
              if (c = a.call(this, b[d][f]))
                return;
        };
      this.on('ok', function (a) {
        p(function (b) {
          if (b.validate) {
            var c = b.validate(this), d = 'string' == typeof c || !1 === c;
            d && (a.data.hide = !1, a.stop());
            P.call(b, !d, 'string' == typeof c ? c : void 0);
            return d;
          }
        });
      }, this, null, 0);
      this.on('cancel', function (b) {
        p(function (c) {
          if (c.isChanged())
            return !a.config.dialog_noConfirmCancel && !confirm(a.lang.common.confirmCancel) && (b.data.hide = !1), !0;
        });
      }, this, null, 0);
      this.parts.close.on('click', function (a) {
        !1 !== this.fire('cancel', { hide: !0 }).hide && this.hide();
        a.data.preventDefault();
      }, this);
      this.changeFocus = e;
      var v = this._.element;
      a.focusManager.add(v, 1);
      this.on('show', function () {
        v.on('keydown', d, this);
        if (CKEDITOR.env.gecko)
          v.on('keypress', g, this);
      });
      this.on('hide', function () {
        v.removeListener('keydown', d);
        CKEDITOR.env.gecko && v.removeListener('keypress', g);
        p(function (a) {
          Q.apply(a);
        });
      });
      this.on('iframeAdded', function (a) {
        new CKEDITOR.dom.document(a.data.iframe.$.contentWindow.document).on('keydown', d, this, null, 0);
      });
      this.on('show', function () {
        c();
        if (a.config.dialog_startupFocusTab && 1 < l._.pageCount)
          l._.tabBarMode = !0, l._.tabs[l._.currentTabId][0].focus();
        else if (!this._.hasFocus)
          if (this._.currentFocusIndex = -1, f.onFocus) {
            var b = f.onFocus.call(this);
            b && b.focus();
          } else
            e(1);
      }, this, null, 4294967295);
      if (CKEDITOR.env.ie6Compat)
        this.on('load', function () {
          var a = this.getElement(), b = a.getFirst();
          b.remove();
          b.appendTo(a);
        }, this);
      U(this);
      V(this);
      new CKEDITOR.dom.text(f.title, CKEDITOR.document).appendTo(this.parts.title);
      for (k = 0; k < f.contents.length; k++)
        (i = f.contents[k]) && this.addPage(i);
      this.parts.tabs.on('click', function (a) {
        var b = a.data.getTarget();
        b.hasClass('cke_dialog_tab') && (b = b.$.id, this.selectPage(b.substring(4, b.lastIndexOf('_'))), this._.tabBarMode && (this._.tabBarMode = !1, this._.currentFocusIndex = -1, e(1)), a.data.preventDefault());
      }, this);
      k = [];
      i = CKEDITOR.dialog._.uiElementBuilders.hbox.build(this, {
        type: 'hbox',
        className: 'cke_dialog_footer_buttons',
        widths: [],
        children: f.buttons
      }, k).getChild();
      this.parts.footer.setHtml(k.join(''));
      for (k = 0; k < i.length; k++)
        this._.buttons[i[k].id] = i[k];
    };
    CKEDITOR.dialog.prototype = {
      destroy: function () {
        this.hide();
        this._.element.remove();
      },
      resize: function () {
        return function (a, b) {
          if (!this._.contentSize || !(this._.contentSize.width == a && this._.contentSize.height == b))
            CKEDITOR.dialog.fire('resize', {
              dialog: this,
              width: a,
              height: b
            }, this._.editor), this.fire('resize', {
              width: a,
              height: b
            }, this._.editor), this.parts.contents.setStyles({
              width: a + 'px',
              height: b + 'px'
            }), 'rtl' == this._.editor.lang.dir && this._.position && (this._.position.x = CKEDITOR.document.getWindow().getViewPaneSize().width - this._.contentSize.width - parseInt(this._.element.getFirst().getStyle('right'), 10)), this._.contentSize = {
              width: a,
              height: b
            };
        };
      }(),
      getSize: function () {
        var a = this._.element.getFirst();
        return {
          width: a.$.offsetWidth || 0,
          height: a.$.offsetHeight || 0
        };
      },
      move: function (a, b, c) {
        var e = this._.element.getFirst(), d = 'rtl' == this._.editor.lang.dir, g = 'fixed' == e.getComputedStyle('position');
        CKEDITOR.env.ie && e.setStyle('zoom', '100%');
        if (!g || !this._.position || !(this._.position.x == a && this._.position.y == b))
          this._.position = {
            x: a,
            y: b
          }, g || (g = CKEDITOR.document.getWindow().getScrollPosition(), a += g.x, b += g.y), d && (g = this.getSize(), a = CKEDITOR.document.getWindow().getViewPaneSize().width - g.width - a), b = { top: (0 < b ? b : 0) + 'px' }, b[d ? 'right' : 'left'] = (0 < a ? a : 0) + 'px', e.setStyles(b), c && (this._.moved = 1);
      },
      getPosition: function () {
        return CKEDITOR.tools.extend({}, this._.position);
      },
      show: function () {
        var a = this._.element, b = this.definition;
        !a.getParent() || !a.getParent().equals(CKEDITOR.document.getBody()) ? a.appendTo(CKEDITOR.document.getBody()) : a.setStyle('display', 'block');
        this.resize(this._.contentSize && this._.contentSize.width || b.width || b.minWidth, this._.contentSize && this._.contentSize.height || b.height || b.minHeight);
        this.reset();
        this.selectPage(this.definition.contents[0].id);
        null === CKEDITOR.dialog._.currentZIndex && (CKEDITOR.dialog._.currentZIndex = this._.editor.config.baseFloatZIndex);
        this._.element.getFirst().setStyle('z-index', CKEDITOR.dialog._.currentZIndex += 10);
        null === CKEDITOR.dialog._.currentTop ? (CKEDITOR.dialog._.currentTop = this, this._.parentDialog = null, J(this._.editor)) : (this._.parentDialog = CKEDITOR.dialog._.currentTop, this._.parentDialog.getElement().getFirst().$.style.zIndex -= Math.floor(this._.editor.config.baseFloatZIndex / 2), CKEDITOR.dialog._.currentTop = this);
        a.on('keydown', M);
        a.on('keyup', N);
        this._.hasFocus = !1;
        for (var c in b.contents)
          if (b.contents[c]) {
            var a = b.contents[c], e = this._.tabs[a.id], d = a.requiredContent, g = 0;
            if (e) {
              for (var f in this._.contents[a.id]) {
                var h = this._.contents[a.id][f];
                'hbox' == h.type || ('vbox' == h.type || !h.getInputElement()) || (h.requiredContent && !this._.editor.activeFilter.check(h.requiredContent) ? h.disable() : (h.enable(), g++));
              }
              !g || d && !this._.editor.activeFilter.check(d) ? e[0].addClass('cke_dialog_tab_disabled') : e[0].removeClass('cke_dialog_tab_disabled');
            }
          }
        CKEDITOR.tools.setTimeout(function () {
          this.layout();
          T(this);
          this.parts.dialog.setStyle('visibility', '');
          this.fireOnce('load', {});
          CKEDITOR.ui.fire('ready', this);
          this.fire('show', {});
          this._.editor.fire('dialogShow', this);
          this._.parentDialog || this._.editor.focusManager.lock();
          this.foreach(function (a) {
            a.setInitValue && a.setInitValue();
          });
        }, 100, this);
      },
      layout: function () {
        var a = this.parts.dialog, b = this.getSize(), c = CKEDITOR.document.getWindow().getViewPaneSize(), e = (c.width - b.width) / 2, d = (c.height - b.height) / 2;
        CKEDITOR.env.ie6Compat || (b.height + (0 < d ? d : 0) > c.height || b.width + (0 < e ? e : 0) > c.width ? a.setStyle('position', 'absolute') : a.setStyle('position', 'fixed'));
        this.move(this._.moved ? this._.position.x : e, this._.moved ? this._.position.y : d);
      },
      foreach: function (a) {
        for (var b in this._.contents)
          for (var c in this._.contents[b])
            a.call(this, this._.contents[b][c]);
        return this;
      },
      reset: function () {
        var a = function (a) {
          a.reset && a.reset(1);
        };
        return function () {
          this.foreach(a);
          return this;
        };
      }(),
      setupContent: function () {
        var a = arguments;
        this.foreach(function (b) {
          b.setup && b.setup.apply(b, a);
        });
      },
      commitContent: function () {
        var a = arguments;
        this.foreach(function (b) {
          CKEDITOR.env.ie && this._.currentFocusIndex == b.focusIndex && b.getInputElement().$.blur();
          b.commit && b.commit.apply(b, a);
        });
      },
      hide: function () {
        if (this.parts.dialog.isVisible()) {
          this.fire('hide', {});
          this._.editor.fire('dialogHide', this);
          this.selectPage(this._.tabIdList[0]);
          var a = this._.element;
          a.setStyle('display', 'none');
          this.parts.dialog.setStyle('visibility', 'hidden');
          for (X(this); CKEDITOR.dialog._.currentTop != this;)
            CKEDITOR.dialog._.currentTop.hide();
          if (this._.parentDialog) {
            var b = this._.parentDialog.getElement().getFirst();
            b.setStyle('z-index', parseInt(b.$.style.zIndex, 10) + Math.floor(this._.editor.config.baseFloatZIndex / 2));
          } else
            K(this._.editor);
          if (CKEDITOR.dialog._.currentTop = this._.parentDialog)
            CKEDITOR.dialog._.currentZIndex -= 10;
          else {
            CKEDITOR.dialog._.currentZIndex = null;
            a.removeListener('keydown', M);
            a.removeListener('keyup', N);
            var c = this._.editor;
            c.focus();
            setTimeout(function () {
              c.focusManager.unlock();
              CKEDITOR.env.iOS && c.window.focus();
            }, 0);
          }
          delete this._.parentDialog;
          this.foreach(function (a) {
            a.resetInitValue && a.resetInitValue();
          });
        }
      },
      addPage: function (a) {
        if (!a.requiredContent || this._.editor.filter.check(a.requiredContent)) {
          for (var b = [], c = a.label ? ' title="' + CKEDITOR.tools.htmlEncode(a.label) + '"' : '', e = CKEDITOR.dialog._.uiElementBuilders.vbox.build(this, {
                type: 'vbox',
                className: 'cke_dialog_page_contents',
                children: a.elements,
                expand: !!a.expand,
                padding: a.padding,
                style: a.style || 'width: 100%;'
              }, b), d = this._.contents[a.id] = {}, g = e.getChild(), f = 0; e = g.shift();)
            !e.notAllowed && ('hbox' != e.type && 'vbox' != e.type) && f++, d[e.id] = e, 'function' == typeof e.getChild && g.push.apply(g, e.getChild());
          f || (a.hidden = !0);
          b = CKEDITOR.dom.element.createFromHtml(b.join(''));
          b.setAttribute('role', 'tabpanel');
          e = CKEDITOR.env;
          d = 'cke_' + a.id + '_' + CKEDITOR.tools.getNextNumber();
          c = CKEDITOR.dom.element.createFromHtml([
            '<a class="cke_dialog_tab"',
            0 < this._.pageCount ? ' cke_last' : 'cke_first',
            c,
            a.hidden ? ' style="display:none"' : '',
            ' id="',
            d,
            '"',
            e.gecko && !e.hc ? '' : ' href="javascript:void(0)"',
            ' tabIndex="-1" hidefocus="true" role="tab">',
            a.label,
            '</a>'
          ].join(''));
          b.setAttribute('aria-labelledby', d);
          this._.tabs[a.id] = [
            c,
            b
          ];
          this._.tabIdList.push(a.id);
          !a.hidden && this._.pageCount++;
          this._.lastTab = c;
          this.updateStyle();
          b.setAttribute('name', a.id);
          b.appendTo(this.parts.contents);
          c.unselectable();
          this.parts.tabs.append(c);
          a.accessKey && (O(this, this, 'CTRL+' + a.accessKey, Y, Z), this._.accessKeyMap['CTRL+' + a.accessKey] = a.id);
        }
      },
      selectPage: function (a) {
        if (this._.currentTabId != a && !this._.tabs[a][0].hasClass('cke_dialog_tab_disabled') && !1 !== this.fire('selectPage', {
            page: a,
            currentPage: this._.currentTabId
          })) {
          for (var b in this._.tabs) {
            var c = this._.tabs[b][0], e = this._.tabs[b][1];
            b != a && (c.removeClass('cke_dialog_tab_selected'), e.hide());
            e.setAttribute('aria-hidden', b != a);
          }
          var d = this._.tabs[a];
          d[0].addClass('cke_dialog_tab_selected');
          CKEDITOR.env.ie6Compat || CKEDITOR.env.ie7Compat ? (G(d[1]), d[1].show(), setTimeout(function () {
            G(d[1], 1);
          }, 0)) : d[1].show();
          this._.currentTabId = a;
          this._.currentTabIndex = CKEDITOR.tools.indexOf(this._.tabIdList, a);
        }
      },
      updateStyle: function () {
        this.parts.dialog[(1 === this._.pageCount ? 'add' : 'remove') + 'Class']('cke_single_page');
      },
      hidePage: function (a) {
        var b = this._.tabs[a] && this._.tabs[a][0];
        b && (1 != this._.pageCount && b.isVisible()) && (a == this._.currentTabId && this.selectPage(t.call(this)), b.hide(), this._.pageCount--, this.updateStyle());
      },
      showPage: function (a) {
        if (a = this._.tabs[a] && this._.tabs[a][0])
          a.show(), this._.pageCount++, this.updateStyle();
      },
      getElement: function () {
        return this._.element;
      },
      getName: function () {
        return this._.name;
      },
      getContentElement: function (a, b) {
        var c = this._.contents[a];
        return c && c[b];
      },
      getValueOf: function (a, b) {
        return this.getContentElement(a, b).getValue();
      },
      setValueOf: function (a, b, c) {
        return this.getContentElement(a, b).setValue(c);
      },
      getButton: function (a) {
        return this._.buttons[a];
      },
      click: function (a) {
        return this._.buttons[a].click();
      },
      disableButton: function (a) {
        return this._.buttons[a].disable();
      },
      enableButton: function (a) {
        return this._.buttons[a].enable();
      },
      getPageCount: function () {
        return this._.pageCount;
      },
      getParentEditor: function () {
        return this._.editor;
      },
      getSelectedElement: function () {
        return this.getParentEditor().getSelection().getSelectedElement();
      },
      addFocusable: function (a, b) {
        if ('undefined' == typeof b)
          b = this._.focusList.length, this._.focusList.push(new H(this, a, b));
        else {
          this._.focusList.splice(b, 0, new H(this, a, b));
          for (var c = b + 1; c < this._.focusList.length; c++)
            this._.focusList[c].focusIndex++;
        }
      }
    };
    CKEDITOR.tools.extend(CKEDITOR.dialog, {
      add: function (a, b) {
        if (!this._.dialogDefinitions[a] || 'function' == typeof b)
          this._.dialogDefinitions[a] = b;
      },
      exists: function (a) {
        return !!this._.dialogDefinitions[a];
      },
      getCurrent: function () {
        return CKEDITOR.dialog._.currentTop;
      },
      isTabEnabled: function (a, b, c) {
        a = a.config.removeDialogTabs;
        return !(a && a.match(RegExp('(?:^|;)' + b + ':' + c + '(?:$|;)', 'i')));
      },
      okButton: function () {
        var a = function (a, c) {
          c = c || {};
          return CKEDITOR.tools.extend({
            id: 'ok',
            type: 'button',
            label: a.lang.common.ok,
            'class': 'cke_dialog_ui_button_ok',
            onClick: function (a) {
              a = a.data.dialog;
              !1 !== a.fire('ok', { hide: !0 }).hide && a.hide();
            }
          }, c, !0);
        };
        a.type = 'button';
        a.override = function (b) {
          return CKEDITOR.tools.extend(function (c) {
            return a(c, b);
          }, { type: 'button' }, !0);
        };
        return a;
      }(),
      cancelButton: function () {
        var a = function (a, c) {
          c = c || {};
          return CKEDITOR.tools.extend({
            id: 'cancel',
            type: 'button',
            label: a.lang.common.cancel,
            'class': 'cke_dialog_ui_button_cancel',
            onClick: function (a) {
              a = a.data.dialog;
              !1 !== a.fire('cancel', { hide: !0 }).hide && a.hide();
            }
          }, c, !0);
        };
        a.type = 'button';
        a.override = function (b) {
          return CKEDITOR.tools.extend(function (c) {
            return a(c, b);
          }, { type: 'button' }, !0);
        };
        return a;
      }(),
      addUIElement: function (a, b) {
        this._.uiElementBuilders[a] = b;
      }
    });
    CKEDITOR.dialog._ = {
      uiElementBuilders: {},
      dialogDefinitions: {},
      currentTop: null,
      currentZIndex: null
    };
    CKEDITOR.event.implementOn(CKEDITOR.dialog);
    CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);
    var W = {
        resizable: CKEDITOR.DIALOG_RESIZE_BOTH,
        minWidth: 600,
        minHeight: 400,
        buttons: [
          CKEDITOR.dialog.okButton,
          CKEDITOR.dialog.cancelButton
        ]
      }, z = function (a, b, c) {
        for (var e = 0, d; d = a[e]; e++)
          if (d.id == b || c && d[c] && (d = z(d[c], b, c)))
            return d;
        return null;
      }, A = function (a, b, c, e, d) {
        if (c) {
          for (var g = 0, f; f = a[g]; g++) {
            if (f.id == c)
              return a.splice(g, 0, b), b;
            if (e && f[e] && (f = A(f[e], b, c, e, !0)))
              return f;
          }
          if (d)
            return null;
        }
        a.push(b);
        return b;
      }, B = function (a, b, c) {
        for (var e = 0, d; d = a[e]; e++) {
          if (d.id == b)
            return a.splice(e, 1);
          if (c && d[c] && (d = B(d[c], b, c)))
            return d;
        }
        return null;
      }, L = function (a, b) {
        this.dialog = a;
        for (var c = b.contents, e = 0, d; d = c[e]; e++)
          c[e] = d && new I(a, d);
        CKEDITOR.tools.extend(this, b);
      };
    L.prototype = {
      getContents: function (a) {
        return z(this.contents, a);
      },
      getButton: function (a) {
        return z(this.buttons, a);
      },
      addContents: function (a, b) {
        return A(this.contents, a, b);
      },
      addButton: function (a, b) {
        return A(this.buttons, a, b);
      },
      removeContents: function (a) {
        B(this.contents, a);
      },
      removeButton: function (a) {
        B(this.buttons, a);
      }
    };
    I.prototype = {
      get: function (a) {
        return z(this.elements, a, 'children');
      },
      add: function (a, b) {
        return A(this.elements, a, b, 'children');
      },
      remove: function (a) {
        B(this.elements, a, 'children');
      }
    };
    var F, w = {}, q, s = {}, M = function (a) {
        var b = a.data.$.ctrlKey || a.data.$.metaKey, c = a.data.$.altKey, e = a.data.$.shiftKey, d = String.fromCharCode(a.data.$.keyCode);
        if ((b = s[(b ? 'CTRL+' : '') + (c ? 'ALT+' : '') + (e ? 'SHIFT+' : '') + d]) && b.length)
          b = b[b.length - 1], b.keydown && b.keydown.call(b.uiElement, b.dialog, b.key), a.data.preventDefault();
      }, N = function (a) {
        var b = a.data.$.ctrlKey || a.data.$.metaKey, c = a.data.$.altKey, e = a.data.$.shiftKey, d = String.fromCharCode(a.data.$.keyCode);
        if ((b = s[(b ? 'CTRL+' : '') + (c ? 'ALT+' : '') + (e ? 'SHIFT+' : '') + d]) && b.length)
          b = b[b.length - 1], b.keyup && (b.keyup.call(b.uiElement, b.dialog, b.key), a.data.preventDefault());
      }, O = function (a, b, c, e, d) {
        (s[c] || (s[c] = [])).push({
          uiElement: a,
          dialog: b,
          key: c,
          keyup: d || a.accessKeyUp,
          keydown: e || a.accessKeyDown
        });
      }, X = function (a) {
        for (var b in s) {
          for (var c = s[b], e = c.length - 1; 0 <= e; e--)
            (c[e].dialog == a || c[e].uiElement == a) && c.splice(e, 1);
          0 === c.length && delete s[b];
        }
      }, Z = function (a, b) {
        a._.accessKeyMap[b] && a.selectPage(a._.accessKeyMap[b]);
      }, Y = function () {
      };
    (function () {
      CKEDITOR.ui.dialog = {
        uiElement: function (a, b, c, e, d, g, f) {
          if (!(4 > arguments.length)) {
            var h = (e.call ? e(b) : e) || 'div', m = [
                '<',
                h,
                ' '
              ], k = (d && d.call ? d(b) : d) || {}, i = (g && g.call ? g(b) : g) || {}, o = (f && f.call ? f.call(this, a, b) : f) || '', j = this.domId = i.id || CKEDITOR.tools.getNextId() + '_uiElement';
            this.id = b.id;
            b.requiredContent && !a.getParentEditor().filter.check(b.requiredContent) && (k.display = 'none', this.notAllowed = !0);
            i.id = j;
            var n = {};
            b.type && (n['cke_dialog_ui_' + b.type] = 1);
            b.className && (n[b.className] = 1);
            b.disabled && (n.cke_disabled = 1);
            for (var l = i['class'] && i['class'].split ? i['class'].split(' ') : [], j = 0; j < l.length; j++)
              l[j] && (n[l[j]] = 1);
            l = [];
            for (j in n)
              l.push(j);
            i['class'] = l.join(' ');
            b.title && (i.title = b.title);
            n = (b.style || '').split(';');
            b.align && (l = b.align, k['margin-left'] = 'left' == l ? 0 : 'auto', k['margin-right'] = 'right' == l ? 0 : 'auto');
            for (j in k)
              n.push(j + ':' + k[j]);
            b.hidden && n.push('display:none');
            for (j = n.length - 1; 0 <= j; j--)
              '' === n[j] && n.splice(j, 1);
            0 < n.length && (i.style = (i.style ? i.style + '; ' : '') + n.join('; '));
            for (j in i)
              m.push(j + '="' + CKEDITOR.tools.htmlEncode(i[j]) + '" ');
            m.push('>', o, '</', h, '>');
            c.push(m.join(''));
            (this._ || (this._ = {})).dialog = a;
            'boolean' == typeof b.isChanged && (this.isChanged = function () {
              return b.isChanged;
            });
            'function' == typeof b.isChanged && (this.isChanged = b.isChanged);
            'function' == typeof b.setValue && (this.setValue = CKEDITOR.tools.override(this.setValue, function (a) {
              return function (c) {
                a.call(this, b.setValue.call(this, c));
              };
            }));
            'function' == typeof b.getValue && (this.getValue = CKEDITOR.tools.override(this.getValue, function (a) {
              return function () {
                return b.getValue.call(this, a.call(this));
              };
            }));
            CKEDITOR.event.implementOn(this);
            this.registerEvents(b);
            this.accessKeyUp && (this.accessKeyDown && b.accessKey) && O(this, a, 'CTRL+' + b.accessKey);
            var p = this;
            a.on('load', function () {
              var b = p.getInputElement();
              if (b) {
                var c = p.type in {
                    checkbox: 1,
                    ratio: 1
                  } && CKEDITOR.env.ie && CKEDITOR.env.version < 8 ? 'cke_dialog_ui_focused' : '';
                b.on('focus', function () {
                  a._.tabBarMode = false;
                  a._.hasFocus = true;
                  p.fire('focus');
                  c && this.addClass(c);
                });
                b.on('blur', function () {
                  p.fire('blur');
                  c && this.removeClass(c);
                });
              }
            });
            CKEDITOR.tools.extend(this, b);
            this.keyboardFocusable && (this.tabIndex = b.tabIndex || 0, this.focusIndex = a._.focusList.push(this) - 1, this.on('focus', function () {
              a._.currentFocusIndex = p.focusIndex;
            }));
          }
        },
        hbox: function (a, b, c, e, d) {
          if (!(4 > arguments.length)) {
            this._ || (this._ = {});
            var g = this._.children = b, f = d && d.widths || null, h = d && d.height || null, m, k = { role: 'presentation' };
            d && d.align && (k.align = d.align);
            CKEDITOR.ui.dialog.uiElement.call(this, a, d || { type: 'hbox' }, e, 'table', {}, k, function () {
              var a = ['<tbody><tr class="cke_dialog_ui_hbox">'];
              for (m = 0; m < c.length; m++) {
                var b = 'cke_dialog_ui_hbox_child', e = [];
                0 === m && (b = 'cke_dialog_ui_hbox_first');
                m == c.length - 1 && (b = 'cke_dialog_ui_hbox_last');
                a.push('<td class="', b, '" role="presentation" ');
                f ? f[m] && e.push('width:' + r(f[m])) : e.push('width:' + Math.floor(100 / c.length) + '%');
                h && e.push('height:' + r(h));
                d && void 0 != d.padding && e.push('padding:' + r(d.padding));
                CKEDITOR.env.ie && (CKEDITOR.env.quirks && g[m].align) && e.push('text-align:' + g[m].align);
                0 < e.length && a.push('style="' + e.join('; ') + '" ');
                a.push('>', c[m], '</td>');
              }
              a.push('</tr></tbody>');
              return a.join('');
            });
          }
        },
        vbox: function (a, b, c, e, d) {
          if (!(3 > arguments.length)) {
            this._ || (this._ = {});
            var g = this._.children = b, f = d && d.width || null, h = d && d.heights || null;
            CKEDITOR.ui.dialog.uiElement.call(this, a, d || { type: 'vbox' }, e, 'div', null, { role: 'presentation' }, function () {
              var b = ['<table role="presentation" cellspacing="0" border="0" '];
              b.push('style="');
              d && d.expand && b.push('height:100%;');
              b.push('width:' + r(f || '100%'), ';');
              CKEDITOR.env.webkit && b.push('float:none;');
              b.push('"');
              b.push('align="', CKEDITOR.tools.htmlEncode(d && d.align || ('ltr' == a.getParentEditor().lang.dir ? 'left' : 'right')), '" ');
              b.push('><tbody>');
              for (var e = 0; e < c.length; e++) {
                var i = [];
                b.push('<tr><td role="presentation" ');
                f && i.push('width:' + r(f || '100%'));
                h ? i.push('height:' + r(h[e])) : d && d.expand && i.push('height:' + Math.floor(100 / c.length) + '%');
                d && void 0 != d.padding && i.push('padding:' + r(d.padding));
                CKEDITOR.env.ie && (CKEDITOR.env.quirks && g[e].align) && i.push('text-align:' + g[e].align);
                0 < i.length && b.push('style="', i.join('; '), '" ');
                b.push(' class="cke_dialog_ui_vbox_child">', c[e], '</td></tr>');
              }
              b.push('</tbody></table>');
              return b.join('');
            });
          }
        }
      };
    }());
    CKEDITOR.ui.dialog.uiElement.prototype = {
      getElement: function () {
        return CKEDITOR.document.getById(this.domId);
      },
      getInputElement: function () {
        return this.getElement();
      },
      getDialog: function () {
        return this._.dialog;
      },
      setValue: function (a, b) {
        this.getInputElement().setValue(a);
        !b && this.fire('change', { value: a });
        return this;
      },
      getValue: function () {
        return this.getInputElement().getValue();
      },
      isChanged: function () {
        return !1;
      },
      selectParentTab: function () {
        for (var a = this.getInputElement(); (a = a.getParent()) && -1 == a.$.className.search('cke_dialog_page_contents'););
        if (!a)
          return this;
        a = a.getAttribute('name');
        this._.dialog._.currentTabId != a && this._.dialog.selectPage(a);
        return this;
      },
      focus: function () {
        this.selectParentTab().getInputElement().focus();
        return this;
      },
      registerEvents: function (a) {
        var b = /^on([A-Z]\w+)/, c, e = function (a, b, c, d) {
            b.on('load', function () {
              a.getInputElement().on(c, d, a);
            });
          }, d;
        for (d in a)
          if (c = d.match(b))
            this.eventProcessors[d] ? this.eventProcessors[d].call(this, this._.dialog, a[d]) : e(this, this._.dialog, c[1].toLowerCase(), a[d]);
        return this;
      },
      eventProcessors: {
        onLoad: function (a, b) {
          a.on('load', b, this);
        },
        onShow: function (a, b) {
          a.on('show', b, this);
        },
        onHide: function (a, b) {
          a.on('hide', b, this);
        }
      },
      accessKeyDown: function () {
        this.focus();
      },
      accessKeyUp: function () {
      },
      disable: function () {
        var a = this.getElement();
        this.getInputElement().setAttribute('disabled', 'true');
        a.addClass('cke_disabled');
      },
      enable: function () {
        var a = this.getElement();
        this.getInputElement().removeAttribute('disabled');
        a.removeClass('cke_disabled');
      },
      isEnabled: function () {
        return !this.getElement().hasClass('cke_disabled');
      },
      isVisible: function () {
        return this.getInputElement().isVisible();
      },
      isFocusable: function () {
        return !this.isEnabled() || !this.isVisible() ? !1 : !0;
      }
    };
    CKEDITOR.ui.dialog.hbox.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement(), {
      getChild: function (a) {
        if (1 > arguments.length)
          return this._.children.concat();
        a.splice || (a = [a]);
        return 2 > a.length ? this._.children[a[0]] : this._.children[a[0]] && this._.children[a[0]].getChild ? this._.children[a[0]].getChild(a.slice(1, a.length)) : null;
      }
    }, !0);
    CKEDITOR.ui.dialog.vbox.prototype = new CKEDITOR.ui.dialog.hbox();
    (function () {
      var a = {
          build: function (a, c, e) {
            for (var d = c.children, g, f = [], h = [], m = 0; m < d.length && (g = d[m]); m++) {
              var k = [];
              f.push(k);
              h.push(CKEDITOR.dialog._.uiElementBuilders[g.type].build(a, g, k));
            }
            return new CKEDITOR.ui.dialog[c.type](a, h, f, e, c);
          }
        };
      CKEDITOR.dialog.addUIElement('hbox', a);
      CKEDITOR.dialog.addUIElement('vbox', a);
    }());
    CKEDITOR.dialogCommand = function (a, b) {
      this.dialogName = a;
      CKEDITOR.tools.extend(this, b, !0);
    };
    CKEDITOR.dialogCommand.prototype = {
      exec: function (a) {
        a.openDialog(this.dialogName);
      },
      canUndo: !1,
      editorFocus: 1
    };
    (function () {
      var a = /^([a]|[^a])+$/, b = /^\d*$/, c = /^\d*(?:\.\d+)?$/, e = /^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/, d = /^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i, g = /^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;
      CKEDITOR.VALIDATE_OR = 1;
      CKEDITOR.VALIDATE_AND = 2;
      CKEDITOR.dialog.validate = {
        functions: function () {
          var a = arguments;
          return function () {
            var b = this && this.getValue ? this.getValue() : a[0], c = void 0, d = CKEDITOR.VALIDATE_AND, e = [], g;
            for (g = 0; g < a.length; g++)
              if ('function' == typeof a[g])
                e.push(a[g]);
              else
                break;
            g < a.length && 'string' == typeof a[g] && (c = a[g], g++);
            g < a.length && 'number' == typeof a[g] && (d = a[g]);
            var j = d == CKEDITOR.VALIDATE_AND ? !0 : !1;
            for (g = 0; g < e.length; g++)
              j = d == CKEDITOR.VALIDATE_AND ? j && e[g](b) : j || e[g](b);
            return !j ? c : !0;
          };
        },
        regex: function (a, b) {
          return function (c) {
            c = this && this.getValue ? this.getValue() : c;
            return !a.test(c) ? b : !0;
          };
        },
        notEmpty: function (b) {
          return this.regex(a, b);
        },
        integer: function (a) {
          return this.regex(b, a);
        },
        number: function (a) {
          return this.regex(c, a);
        },
        cssLength: function (a) {
          return this.functions(function (a) {
            return d.test(CKEDITOR.tools.trim(a));
          }, a);
        },
        htmlLength: function (a) {
          return this.functions(function (a) {
            return e.test(CKEDITOR.tools.trim(a));
          }, a);
        },
        inlineStyle: function (a) {
          return this.functions(function (a) {
            return g.test(CKEDITOR.tools.trim(a));
          }, a);
        },
        equals: function (a, b) {
          return this.functions(function (b) {
            return b == a;
          }, b);
        },
        notEqual: function (a, b) {
          return this.functions(function (b) {
            return b != a;
          }, b);
        }
      };
      CKEDITOR.on('instanceDestroyed', function (a) {
        if (CKEDITOR.tools.isEmpty(CKEDITOR.instances)) {
          for (var b; b = CKEDITOR.dialog._.currentTop;)
            b.hide();
          for (var c in w)
            w[c].remove();
          w = {};
        }
        var a = a.editor._.storedDialogs, d;
        for (d in a)
          a[d].destroy();
      });
    }());
    CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
      openDialog: function (a, b) {
        var c = null, e = CKEDITOR.dialog._.dialogDefinitions[a];
        null === CKEDITOR.dialog._.currentTop && J(this);
        if ('function' == typeof e)
          c = this._.storedDialogs || (this._.storedDialogs = {}), c = c[a] || (c[a] = new CKEDITOR.dialog(this, a)), b && b.call(c, c), c.show();
        else {
          if ('failed' == e)
            throw K(this), Error('[CKEDITOR.dialog.openDialog] Dialog "' + a + '" failed when loading definition.');
          'string' == typeof e && CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e), function () {
            'function' != typeof CKEDITOR.dialog._.dialogDefinitions[a] && (CKEDITOR.dialog._.dialogDefinitions[a] = 'failed');
            this.openDialog(a, b);
          }, this, 0, 1);
        }
        CKEDITOR.skin.loadPart('dialog');
        return c;
      }
    });
  }());
  CKEDITOR.plugins.add('dialog', {
    requires: 'dialogui',
    init: function (t) {
      t.on('doubleclick', function (u) {
        u.data.dialog && t.openDialog(u.data.dialog);
      }, null, null, 999);
    }
  });
  CKEDITOR.plugins.add('about', {
    requires: 'dialog',
    init: function (a) {
      var b = a.addCommand('about', new CKEDITOR.dialogCommand('about'));
      b.modes = {
        wysiwyg: 1,
        source: 1
      };
      b.canUndo = !1;
      b.readOnly = 1;
      a.ui.addButton && a.ui.addButton('About', {
        label: a.lang.about.title,
        command: 'about',
        toolbar: 'about'
      });
      CKEDITOR.dialog.add('about', this.path + 'dialogs/about.js');
    }
  });
  (function () {
    CKEDITOR.plugins.add('a11yhelp', {
      requires: 'dialog',
      availableLangs: {
        af: 1,
        ar: 1,
        bg: 1,
        ca: 1,
        cs: 1,
        cy: 1,
        da: 1,
        de: 1,
        el: 1,
        en: 1,
        'en-gb': 1,
        eo: 1,
        es: 1,
        et: 1,
        fa: 1,
        fi: 1,
        fr: 1,
        'fr-ca': 1,
        gl: 1,
        gu: 1,
        he: 1,
        hi: 1,
        hr: 1,
        hu: 1,
        id: 1,
        it: 1,
        ja: 1,
        km: 1,
        ko: 1,
        ku: 1,
        lt: 1,
        lv: 1,
        mk: 1,
        mn: 1,
        nb: 1,
        nl: 1,
        no: 1,
        pl: 1,
        pt: 1,
        'pt-br': 1,
        ro: 1,
        ru: 1,
        si: 1,
        sk: 1,
        sl: 1,
        sq: 1,
        sr: 1,
        'sr-latn': 1,
        sv: 1,
        th: 1,
        tr: 1,
        tt: 1,
        ug: 1,
        uk: 1,
        vi: 1,
        zh: 1,
        'zh-cn': 1
      },
      init: function (b) {
        var c = this;
        b.addCommand('a11yHelp', {
          exec: function () {
            var a = b.langCode, a = c.availableLangs[a] ? a : c.availableLangs[a.replace(/-.*/, '')] ? a.replace(/-.*/, '') : 'en';
            CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(c.path + 'dialogs/lang/' + a + '.js'), function () {
              b.lang.a11yhelp = c.langEntries[a];
              b.openDialog('a11yHelp');
            });
          },
          modes: {
            wysiwyg: 1,
            source: 1
          },
          readOnly: 1,
          canUndo: !1
        });
        b.setKeystroke(CKEDITOR.ALT + 48, 'a11yHelp');
        CKEDITOR.dialog.add('a11yHelp', this.path + 'dialogs/a11yhelp.js');
        b.on('ariaEditorHelpLabel', function (a) {
          a.data.label = b.lang.common.editorHelp;
        });
      }
    });
  }());
  (function () {
    function f(c) {
      var a = this.att, c = c && c.hasAttribute(a) && c.getAttribute(a) || '';
      void 0 !== c && this.setValue(c);
    }
    function g() {
      for (var c, a = 0; a < arguments.length; a++)
        if (arguments[a] instanceof CKEDITOR.dom.element) {
          c = arguments[a];
          break;
        }
      if (c) {
        var a = this.att, b = this.getValue();
        b ? c.setAttribute(a, b) : c.removeAttribute(a, b);
      }
    }
    var i = {
        id: 1,
        dir: 1,
        classes: 1,
        styles: 1
      };
    CKEDITOR.plugins.add('dialogadvtab', {
      requires: 'dialog',
      allowedContent: function (c) {
        c || (c = i);
        var a = [];
        c.id && a.push('id');
        c.dir && a.push('dir');
        var b = '';
        a.length && (b += '[' + a.join(',') + ']');
        c.classes && (b += '(*)');
        c.styles && (b += '{*}');
        return b;
      },
      createAdvancedTab: function (c, a, b) {
        a || (a = i);
        var d = c.lang.common, h = {
            id: 'advanced',
            label: d.advancedTab,
            title: d.advancedTab,
            elements: [{
                type: 'vbox',
                padding: 1,
                children: []
              }]
          }, e = [];
        if (a.id || a.dir)
          a.id && e.push({
            id: 'advId',
            att: 'id',
            type: 'text',
            requiredContent: b ? b + '[id]' : null,
            label: d.id,
            setup: f,
            commit: g
          }), a.dir && e.push({
            id: 'advLangDir',
            att: 'dir',
            type: 'select',
            requiredContent: b ? b + '[dir]' : null,
            label: d.langDir,
            'default': '',
            style: 'width:100%',
            items: [
              [
                d.notSet,
                ''
              ],
              [
                d.langDirLTR,
                'ltr'
              ],
              [
                d.langDirRTL,
                'rtl'
              ]
            ],
            setup: f,
            commit: g
          }), h.elements[0].children.push({
            type: 'hbox',
            widths: [
              '50%',
              '50%'
            ],
            children: [].concat(e)
          });
        if (a.styles || a.classes)
          e = [], a.styles && e.push({
            id: 'advStyles',
            att: 'style',
            type: 'text',
            requiredContent: b ? b + '{cke-xyz}' : null,
            label: d.styles,
            'default': '',
            validate: CKEDITOR.dialog.validate.inlineStyle(d.invalidInlineStyle),
            onChange: function () {
            },
            getStyle: function (a, c) {
              var b = this.getValue().match(RegExp('(?:^|;)\\s*' + a + '\\s*:\\s*([^;]*)', 'i'));
              return b ? b[1] : c;
            },
            updateStyle: function (a, b) {
              var d = this.getValue(), e = c.document.createElement('span');
              e.setAttribute('style', d);
              e.setStyle(a, b);
              d = CKEDITOR.tools.normalizeCssText(e.getAttribute('style'));
              this.setValue(d, 1);
            },
            setup: f,
            commit: g
          }), a.classes && e.push({
            type: 'hbox',
            widths: [
              '45%',
              '55%'
            ],
            children: [{
                id: 'advCSSClasses',
                att: 'class',
                type: 'text',
                requiredContent: b ? b + '(cke-xyz)' : null,
                label: d.cssClasses,
                'default': '',
                setup: f,
                commit: g
              }]
          }), h.elements[0].children.push({
            type: 'hbox',
            widths: [
              '50%',
              '50%'
            ],
            children: [].concat(e)
          });
        return h;
      }
    });
  }());
  CKEDITOR.plugins.add('basicstyles', {
    init: function (c) {
      var e = 0, d = function (g, d, b, a) {
          if (a) {
            var a = new CKEDITOR.style(a), f = h[b];
            f.unshift(a);
            c.attachStyleStateChange(a, function (a) {
              !c.readOnly && c.getCommand(b).setState(a);
            });
            c.addCommand(b, new CKEDITOR.styleCommand(a, { contentForms: f }));
            c.ui.addButton && c.ui.addButton(g, {
              label: d,
              command: b,
              toolbar: 'basicstyles,' + (e += 10)
            });
          }
        }, h = {
          bold: [
            'strong',
            'b',
            [
              'span',
              function (a) {
                a = a.styles['font-weight'];
                return 'bold' == a || 700 <= +a;
              }
            ]
          ],
          italic: [
            'em',
            'i',
            [
              'span',
              function (a) {
                return 'italic' == a.styles['font-style'];
              }
            ]
          ],
          underline: [
            'u',
            [
              'span',
              function (a) {
                return 'underline' == a.styles['text-decoration'];
              }
            ]
          ],
          strike: [
            's',
            'strike',
            [
              'span',
              function (a) {
                return 'line-through' == a.styles['text-decoration'];
              }
            ]
          ],
          subscript: ['sub'],
          superscript: ['sup']
        }, b = c.config, a = c.lang.basicstyles;
      d('Bold', a.bold, 'bold', b.coreStyles_bold);
      d('Italic', a.italic, 'italic', b.coreStyles_italic);
      d('Underline', a.underline, 'underline', b.coreStyles_underline);
      d('Strike', a.strike, 'strike', b.coreStyles_strike);
      d('Subscript', a.subscript, 'subscript', b.coreStyles_subscript);
      d('Superscript', a.superscript, 'superscript', b.coreStyles_superscript);
      c.setKeystroke([
        [
          CKEDITOR.CTRL + 66,
          'bold'
        ],
        [
          CKEDITOR.CTRL + 73,
          'italic'
        ],
        [
          CKEDITOR.CTRL + 85,
          'underline'
        ]
      ]);
    }
  });
  CKEDITOR.config.coreStyles_bold = {
    element: 'strong',
    overrides: 'b'
  };
  CKEDITOR.config.coreStyles_italic = {
    element: 'em',
    overrides: 'i'
  };
  CKEDITOR.config.coreStyles_underline = { element: 'u' };
  CKEDITOR.config.coreStyles_strike = {
    element: 's',
    overrides: 'strike'
  };
  CKEDITOR.config.coreStyles_subscript = { element: 'sub' };
  CKEDITOR.config.coreStyles_superscript = { element: 'sup' };
  (function () {
    function n(a, f, d, b) {
      if (!a.isReadOnly() && !a.equals(d.editable())) {
        CKEDITOR.dom.element.setMarker(b, a, 'bidi_processed', 1);
        for (var b = a, c = d.editable(); (b = b.getParent()) && !b.equals(c);)
          if (b.getCustomData('bidi_processed')) {
            a.removeStyle('direction');
            a.removeAttribute('dir');
            return;
          }
        b = 'useComputedState' in d.config ? d.config.useComputedState : 1;
        if ((b ? a.getComputedStyle('direction') : a.getStyle('direction') || a.hasAttribute('dir')) != f)
          a.removeStyle('direction'), b ? (a.removeAttribute('dir'), f != a.getComputedStyle('direction') && a.setAttribute('dir', f)) : a.setAttribute('dir', f), d.forceNextSelectionCheck();
      }
    }
    function r(a, f, d) {
      var b = a.getCommonAncestor(!1, !0), a = a.clone();
      a.enlarge(d == CKEDITOR.ENTER_BR ? CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS : CKEDITOR.ENLARGE_BLOCK_CONTENTS);
      if (a.checkBoundaryOfElement(b, CKEDITOR.START) && a.checkBoundaryOfElement(b, CKEDITOR.END)) {
        for (var c; b && b.type == CKEDITOR.NODE_ELEMENT && (c = b.getParent()) && 1 == c.getChildCount() && !(b.getName() in f);)
          b = c;
        return b.type == CKEDITOR.NODE_ELEMENT && b.getName() in f && b;
      }
    }
    function m(a) {
      return {
        context: 'p',
        allowedContent: {
          'h1 h2 h3 h4 h5 h6 table ul ol blockquote div tr p div li td': {
            propertiesOnly: !0,
            attributes: 'dir'
          }
        },
        requiredContent: 'p[dir]',
        refresh: function (a, d) {
          var b = a.config.useComputedState, c, b = void 0 === b || b;
          if (!b) {
            c = d.lastElement;
            for (var h = a.editable(); c && !(c.getName() in q || c.equals(h));) {
              var e = c.getParent();
              if (!e)
                break;
              c = e;
            }
          }
          c = c || d.block || d.blockLimit;
          c.equals(a.editable()) && (h = a.getSelection().getRanges()[0].getEnclosedNode()) && h.type == CKEDITOR.NODE_ELEMENT && (c = h);
          c && (b = b ? c.getComputedStyle('direction') : c.getStyle('direction') || c.getAttribute('dir'), a.getCommand('bidirtl').setState('rtl' == b ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF), a.getCommand('bidiltr').setState('ltr' == b ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF));
          b = (d.block || d.blockLimit || a.editable()).getDirection(1);
          if (b != (a._.selDir || a.lang.dir))
            a._.selDir = b, a.fire('contentDirChanged', b);
        },
        exec: function (f) {
          var d = f.getSelection(), b = f.config.enterMode, c = d.getRanges();
          if (c && c.length) {
            for (var h = {}, e = d.createBookmarks(), c = c.createIterator(), g, j = 0; g = c.getNextRange(1);) {
              var i = g.getEnclosedNode();
              if (!i || i && !(i.type == CKEDITOR.NODE_ELEMENT && i.getName() in o))
                i = r(g, p, b);
              i && n(i, a, f, h);
              var k = new CKEDITOR.dom.walker(g), l = e[j].startNode, m = e[j++].endNode;
              k.evaluator = function (a) {
                return !!(a.type == CKEDITOR.NODE_ELEMENT && a.getName() in p && !(a.getName() == (b == CKEDITOR.ENTER_P ? 'p' : 'div') && a.getParent().type == CKEDITOR.NODE_ELEMENT && 'blockquote' == a.getParent().getName()) && a.getPosition(l) & CKEDITOR.POSITION_FOLLOWING && (a.getPosition(m) & CKEDITOR.POSITION_PRECEDING + CKEDITOR.POSITION_CONTAINS) == CKEDITOR.POSITION_PRECEDING);
              };
              for (; i = k.next();)
                n(i, a, f, h);
              g = g.createIterator();
              for (g.enlargeBr = b != CKEDITOR.ENTER_BR; i = g.getNextParagraph(b == CKEDITOR.ENTER_P ? 'p' : 'div');)
                n(i, a, f, h);
            }
            CKEDITOR.dom.element.clearAllMarkers(h);
            f.forceNextSelectionCheck();
            d.selectBookmarks(e);
            f.focus();
          }
        }
      };
    }
    function s(a) {
      var f = a == j.setAttribute, d = a == j.removeAttribute, b = /\bdirection\s*:\s*(.*?)\s*(:?$|;)/;
      return function (c, h) {
        if (!this.isReadOnly()) {
          var e;
          if (e = c == (f || d ? 'dir' : 'direction') || 'style' == c && (d || b.test(h))) {
            a: {
              e = this;
              for (var g = e.getDocument().getBody().getParent(); e;) {
                if (e.equals(g)) {
                  e = !1;
                  break a;
                }
                e = e.getParent();
              }
              e = !0;
            }
            e = !e;
          }
          if (e && (e = this.getDirection(1), g = a.apply(this, arguments), e != this.getDirection(1)))
            return this.getDocument().fire('dirChanged', this), g;
        }
        return a.apply(this, arguments);
      };
    }
    var p = {
        table: 1,
        ul: 1,
        ol: 1,
        blockquote: 1,
        div: 1
      }, o = {}, q = {};
    CKEDITOR.tools.extend(o, p, {
      tr: 1,
      p: 1,
      div: 1,
      li: 1
    });
    CKEDITOR.tools.extend(q, o, { td: 1 });
    CKEDITOR.plugins.add('bidi', {
      init: function (a) {
        function f(b, c, d, e, f) {
          a.addCommand(d, new CKEDITOR.command(a, e));
          a.ui.addButton && a.ui.addButton(b, {
            label: c,
            command: d,
            toolbar: 'bidi,' + f
          });
        }
        if (!a.blockless) {
          var d = a.lang.bidi;
          f('BidiLtr', d.ltr, 'bidiltr', m('ltr'), 10);
          f('BidiRtl', d.rtl, 'bidirtl', m('rtl'), 20);
          a.on('contentDom', function () {
            a.document.on('dirChanged', function (b) {
              a.fire('dirChanged', {
                node: b.data,
                dir: b.data.getDirection(1)
              });
            });
          });
          a.on('contentDirChanged', function (b) {
            var b = (a.lang.dir != b.data ? 'add' : 'remove') + 'Class', c = a.ui.space(a.config.toolbarLocation);
            if (c)
              c[b]('cke_mixed_dir_content');
          });
        }
      }
    });
    for (var j = CKEDITOR.dom.element.prototype, l = [
          'setStyle',
          'removeStyle',
          'setAttribute',
          'removeAttribute'
        ], k = 0; k < l.length; k++)
      j[l[k]] = CKEDITOR.tools.override(j[l[k]], s);
  }());
  (function () {
    var k = {
        exec: function (g) {
          var a = g.getCommand('blockquote').state, i = g.getSelection(), c = i && i.getRanges()[0];
          if (c) {
            var h = i.createBookmarks();
            if (CKEDITOR.env.ie) {
              var e = h[0].startNode, b = h[0].endNode, d;
              if (e && 'blockquote' == e.getParent().getName())
                for (d = e; d = d.getNext();)
                  if (d.type == CKEDITOR.NODE_ELEMENT && d.isBlockBoundary()) {
                    e.move(d, !0);
                    break;
                  }
              if (b && 'blockquote' == b.getParent().getName())
                for (d = b; d = d.getPrevious();)
                  if (d.type == CKEDITOR.NODE_ELEMENT && d.isBlockBoundary()) {
                    b.move(d);
                    break;
                  }
            }
            var f = c.createIterator();
            f.enlargeBr = g.config.enterMode != CKEDITOR.ENTER_BR;
            if (a == CKEDITOR.TRISTATE_OFF) {
              for (e = []; a = f.getNextParagraph();)
                e.push(a);
              1 > e.length && (a = g.document.createElement(g.config.enterMode == CKEDITOR.ENTER_P ? 'p' : 'div'), b = h.shift(), c.insertNode(a), a.append(new CKEDITOR.dom.text('\ufeff', g.document)), c.moveToBookmark(b), c.selectNodeContents(a), c.collapse(!0), b = c.createBookmark(), e.push(a), h.unshift(b));
              d = e[0].getParent();
              c = [];
              for (b = 0; b < e.length; b++)
                a = e[b], d = d.getCommonAncestor(a.getParent());
              for (a = {
                  table: 1,
                  tbody: 1,
                  tr: 1,
                  ol: 1,
                  ul: 1
                }; a[d.getName()];)
                d = d.getParent();
              for (b = null; 0 < e.length;) {
                for (a = e.shift(); !a.getParent().equals(d);)
                  a = a.getParent();
                a.equals(b) || c.push(a);
                b = a;
              }
              for (; 0 < c.length;)
                if (a = c.shift(), 'blockquote' == a.getName()) {
                  for (b = new CKEDITOR.dom.documentFragment(g.document); a.getFirst();)
                    b.append(a.getFirst().remove()), e.push(b.getLast());
                  b.replace(a);
                } else
                  e.push(a);
              c = g.document.createElement('blockquote');
              for (c.insertBefore(e[0]); 0 < e.length;)
                a = e.shift(), c.append(a);
            } else if (a == CKEDITOR.TRISTATE_ON) {
              b = [];
              for (d = {}; a = f.getNextParagraph();) {
                for (e = c = null; a.getParent();) {
                  if ('blockquote' == a.getParent().getName()) {
                    c = a.getParent();
                    e = a;
                    break;
                  }
                  a = a.getParent();
                }
                c && (e && !e.getCustomData('blockquote_moveout')) && (b.push(e), CKEDITOR.dom.element.setMarker(d, e, 'blockquote_moveout', !0));
              }
              CKEDITOR.dom.element.clearAllMarkers(d);
              a = [];
              e = [];
              for (d = {}; 0 < b.length;)
                f = b.shift(), c = f.getParent(), f.getPrevious() ? f.getNext() ? (f.breakParent(f.getParent()), e.push(f.getNext())) : f.remove().insertAfter(c) : f.remove().insertBefore(c), c.getCustomData('blockquote_processed') || (e.push(c), CKEDITOR.dom.element.setMarker(d, c, 'blockquote_processed', !0)), a.push(f);
              CKEDITOR.dom.element.clearAllMarkers(d);
              for (b = e.length - 1; 0 <= b; b--) {
                c = e[b];
                a: {
                  d = c;
                  for (var f = 0, k = d.getChildCount(), j = void 0; f < k && (j = d.getChild(f)); f++)
                    if (j.type == CKEDITOR.NODE_ELEMENT && j.isBlockBoundary()) {
                      d = !1;
                      break a;
                    }
                  d = !0;
                }
                d && c.remove();
              }
              if (g.config.enterMode == CKEDITOR.ENTER_BR)
                for (c = !0; a.length;)
                  if (f = a.shift(), 'div' == f.getName()) {
                    b = new CKEDITOR.dom.documentFragment(g.document);
                    c && (f.getPrevious() && !(f.getPrevious().type == CKEDITOR.NODE_ELEMENT && f.getPrevious().isBlockBoundary())) && b.append(g.document.createElement('br'));
                    for (c = f.getNext() && !(f.getNext().type == CKEDITOR.NODE_ELEMENT && f.getNext().isBlockBoundary()); f.getFirst();)
                      f.getFirst().remove().appendTo(b);
                    c && b.append(g.document.createElement('br'));
                    b.replace(f);
                    c = !1;
                  }
            }
            i.selectBookmarks(h);
            g.focus();
          }
        },
        refresh: function (g, a) {
          this.setState(g.elementPath(a.block || a.blockLimit).contains('blockquote', 1) ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF);
        },
        context: 'blockquote',
        allowedContent: 'blockquote',
        requiredContent: 'blockquote'
      };
    CKEDITOR.plugins.add('blockquote', {
      init: function (g) {
        g.blockless || (g.addCommand('blockquote', k), g.ui.addButton && g.ui.addButton('Blockquote', {
          label: g.lang.blockquote.toolbar,
          command: 'blockquote',
          toolbar: 'blocks,10'
        }));
      }
    });
  }());
  (function () {
    function v(b) {
      function a() {
        var e = b.editable();
        e.on(p, function (b) {
          (!CKEDITOR.env.ie || !n) && u(b);
        });
        CKEDITOR.env.ie && e.on('paste', function (e) {
          q || (g(), e.data.preventDefault(), u(e), h('paste') || b.openDialog('paste'));
        });
        CKEDITOR.env.ie && (e.on('contextmenu', i, null, null, 0), e.on('beforepaste', function (b) {
          b.data && (!b.data.$.ctrlKey && !b.data.$.shiftKey) && i();
        }, null, null, 0));
        e.on('beforecut', function () {
          !n && j(b);
        });
        var a;
        e.attachListener(CKEDITOR.env.ie ? e : b.document.getDocumentElement(), 'mouseup', function () {
          a = setTimeout(function () {
            r();
          }, 0);
        });
        b.on('destroy', function () {
          clearTimeout(a);
        });
        e.on('keyup', r);
      }
      function c(e) {
        return {
          type: e,
          canUndo: 'cut' == e,
          startDisabled: !0,
          exec: function () {
            'cut' == this.type && j();
            var e;
            var a = this.type;
            if (CKEDITOR.env.ie)
              e = h(a);
            else
              try {
                e = b.document.$.execCommand(a, !1, null);
              } catch (d) {
                e = !1;
              }
            e || alert(b.lang.clipboard[this.type + 'Error']);
            return e;
          }
        };
      }
      function d() {
        return {
          canUndo: !1,
          async: !0,
          exec: function (b, a) {
            var d = function (a, d) {
                a && f(a.type, a.dataValue, !!d);
                b.fire('afterCommandExec', {
                  name: 'paste',
                  command: c,
                  returnValue: !!a
                });
              }, c = this;
            'string' == typeof a ? d({
              type: 'auto',
              dataValue: a
            }, 1) : b.getClipboardData(d);
          }
        };
      }
      function g() {
        q = 1;
        setTimeout(function () {
          q = 0;
        }, 100);
      }
      function i() {
        n = 1;
        setTimeout(function () {
          n = 0;
        }, 10);
      }
      function h(e) {
        var a = b.document, d = a.getBody(), c = !1, j = function () {
            c = !0;
          };
        d.on(e, j);
        (7 < CKEDITOR.env.version ? a.$ : a.$.selection.createRange()).execCommand(e);
        d.removeListener(e, j);
        return c;
      }
      function f(e, a, d) {
        e = { type: e };
        if (d && !1 === b.fire('beforePaste', e) || !a)
          return !1;
        e.dataValue = a;
        return b.fire('paste', e);
      }
      function j() {
        if (CKEDITOR.env.ie && !CKEDITOR.env.quirks) {
          var e = b.getSelection(), a, d, c;
          if (e.getType() == CKEDITOR.SELECTION_ELEMENT && (a = e.getSelectedElement()))
            d = e.getRanges()[0], c = b.document.createText(''), c.insertBefore(a), d.setStartBefore(c), d.setEndAfter(a), e.selectRanges([d]), setTimeout(function () {
              a.getParent() && (c.remove(), e.selectElement(a));
            }, 0);
        }
      }
      function l(a, d) {
        var c = b.document, j = b.editable(), l = function (b) {
            b.cancel();
          }, g;
        if (!c.getById('cke_pastebin')) {
          var i = b.getSelection(), s = i.createBookmarks();
          CKEDITOR.env.ie && i.root.fire('selectionchange');
          var k = new CKEDITOR.dom.element((CKEDITOR.env.webkit || j.is('body')) && !CKEDITOR.env.ie ? 'body' : 'div', c);
          k.setAttributes({
            id: 'cke_pastebin',
            'data-cke-temp': '1'
          });
          var f = 0, c = c.getWindow();
          CKEDITOR.env.webkit ? (j.append(k), k.addClass('cke_editable'), j.is('body') || (f = 'static' != j.getComputedStyle('position') ? j : CKEDITOR.dom.element.get(j.$.offsetParent), f = f.getDocumentPosition().y)) : j.getAscendant(CKEDITOR.env.ie ? 'body' : 'html', 1).append(k);
          k.setStyles({
            position: 'absolute',
            top: c.getScrollPosition().y - f + 10 + 'px',
            width: '1px',
            height: Math.max(1, c.getViewPaneSize().height - 20) + 'px',
            overflow: 'hidden',
            margin: 0,
            padding: 0
          });
          CKEDITOR.env.safari && k.setStyles(CKEDITOR.tools.cssVendorPrefix('user-select', 'text'));
          (f = k.getParent().isReadOnly()) ? (k.setOpacity(0), k.setAttribute('contenteditable', !0)) : k.setStyle('ltr' == b.config.contentsLangDirection ? 'left' : 'right', '-1000px');
          b.on('selectionChange', l, null, null, 0);
          if (CKEDITOR.env.webkit || CKEDITOR.env.gecko)
            g = j.once('blur', l, null, null, -100);
          f && k.focus();
          f = new CKEDITOR.dom.range(k);
          f.selectNodeContents(k);
          var h = f.select();
          CKEDITOR.env.ie && (g = j.once('blur', function () {
            b.lockSelection(h);
          }));
          var m = CKEDITOR.document.getWindow().getScrollPosition().y;
          setTimeout(function () {
            if (CKEDITOR.env.webkit)
              CKEDITOR.document.getBody().$.scrollTop = m;
            g && g.removeListener();
            CKEDITOR.env.ie && j.focus();
            i.selectBookmarks(s);
            k.remove();
            var a;
            if (CKEDITOR.env.webkit && (a = k.getFirst()) && a.is && a.hasClass('Apple-style-span'))
              k = a;
            b.removeListener('selectionChange', l);
            d(k.getHtml());
          }, 0);
        }
      }
      function s() {
        if (CKEDITOR.env.ie) {
          b.focus();
          g();
          var a = b.focusManager;
          a.lock();
          if (b.editable().fire(p) && !h('paste'))
            return a.unlock(), !1;
          a.unlock();
        } else
          try {
            if (b.editable().fire(p) && !b.document.$.execCommand('Paste', !1, null))
              throw 0;
          } catch (d) {
            return !1;
          }
        return !0;
      }
      function o(a) {
        if ('wysiwyg' == b.mode)
          switch (a.data.keyCode) {
          case CKEDITOR.CTRL + 86:
          case CKEDITOR.SHIFT + 45:
            a = b.editable();
            g();
            !CKEDITOR.env.ie && a.fire('beforepaste');
            break;
          case CKEDITOR.CTRL + 88:
          case CKEDITOR.SHIFT + 46:
            b.fire('saveSnapshot'), setTimeout(function () {
              b.fire('saveSnapshot');
            }, 50);
          }
      }
      function u(a) {
        var d = { type: 'auto' }, c = b.fire('beforePaste', d);
        l(a, function (b) {
          b = b.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi, '');
          c && f(d.type, b, 0, 1);
        });
      }
      function r() {
        if ('wysiwyg' == b.mode) {
          var a = m('paste');
          b.getCommand('cut').setState(m('cut'));
          b.getCommand('copy').setState(m('copy'));
          b.getCommand('paste').setState(a);
          b.fire('pasteState', a);
        }
      }
      function m(a) {
        if (t && a in {
            paste: 1,
            cut: 1
          })
          return CKEDITOR.TRISTATE_DISABLED;
        if ('paste' == a)
          return CKEDITOR.TRISTATE_OFF;
        var a = b.getSelection(), d = a.getRanges();
        return a.getType() == CKEDITOR.SELECTION_NONE || 1 == d.length && d[0].collapsed ? CKEDITOR.TRISTATE_DISABLED : CKEDITOR.TRISTATE_OFF;
      }
      var n = 0, q = 0, t = 0, p = CKEDITOR.env.ie ? 'beforepaste' : 'paste';
      (function () {
        b.on('key', o);
        b.on('contentDom', a);
        b.on('selectionChange', function (b) {
          t = b.data.selection.getRanges()[0].checkReadOnly();
          r();
        });
        b.contextMenu && b.contextMenu.addListener(function (b, a) {
          t = a.getRanges()[0].checkReadOnly();
          return {
            cut: m('cut'),
            copy: m('copy'),
            paste: m('paste')
          };
        });
      }());
      (function () {
        function a(d, c, j, e, l) {
          var g = b.lang.clipboard[c];
          b.addCommand(c, j);
          b.ui.addButton && b.ui.addButton(d, {
            label: g,
            command: c,
            toolbar: 'clipboard,' + e
          });
          b.addMenuItems && b.addMenuItem(c, {
            label: g,
            command: c,
            group: 'clipboard',
            order: l
          });
        }
        a('Cut', 'cut', c('cut'), 10, 1);
        a('Copy', 'copy', c('copy'), 20, 4);
        a('Paste', 'paste', d(), 30, 8);
      }());
      b.getClipboardData = function (a, d) {
        function c(a) {
          a.removeListener();
          a.cancel();
          d(a.data);
        }
        function j(a) {
          a.removeListener();
          a.cancel();
          i = !0;
          d({
            type: f,
            dataValue: a.data
          });
        }
        function l() {
          this.customTitle = a && a.title;
        }
        var g = !1, f = 'auto', i = !1;
        d || (d = a, a = null);
        b.on('paste', c, null, null, 0);
        b.on('beforePaste', function (a) {
          a.removeListener();
          g = true;
          f = a.data.type;
        }, null, null, 1000);
        !1 === s() && (b.removeListener('paste', c), g && b.fire('pasteDialog', l) ? (b.on('pasteDialogCommit', j), b.on('dialogHide', function (a) {
          a.removeListener();
          a.data.removeListener('pasteDialogCommit', j);
          setTimeout(function () {
            i || d(null);
          }, 10);
        })) : d(null));
      };
    }
    function w(b) {
      if (CKEDITOR.env.webkit) {
        if (!b.match(/^[^<]*$/g) && !b.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))
          return 'html';
      } else if (CKEDITOR.env.ie) {
        if (!b.match(/^([^<]|<br( ?\/)?>)*$/gi) && !b.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))
          return 'html';
      } else if (CKEDITOR.env.gecko) {
        if (!b.match(/^([^<]|<br( ?\/)?>)*$/gi))
          return 'html';
      } else
        return 'html';
      return 'htmlifiedtext';
    }
    function x(b, a) {
      function c(a) {
        return CKEDITOR.tools.repeat('</p><p>', ~~(a / 2)) + (1 == a % 2 ? '<br>' : '');
      }
      a = a.replace(/\s+/g, ' ').replace(/> +</g, '><').replace(/<br ?\/>/gi, '<br>');
      a = a.replace(/<\/?[A-Z]+>/g, function (a) {
        return a.toLowerCase();
      });
      if (a.match(/^[^<]$/))
        return a;
      CKEDITOR.env.webkit && -1 < a.indexOf('<div>') && (a = a.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g, '<br>').replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g, '<div></div>'), a.match(/<div>(<br>|)<\/div>/) && (a = '<p>' + a.replace(/(<div>(<br>|)<\/div>)+/g, function (a) {
        return c(a.split('</div><div>').length + 1);
      }) + '</p>'), a = a.replace(/<\/div><div>/g, '<br>'), a = a.replace(/<\/?div>/g, ''));
      CKEDITOR.env.gecko && b.enterMode != CKEDITOR.ENTER_BR && (CKEDITOR.env.gecko && (a = a.replace(/^<br><br>$/, '<br>')), -1 < a.indexOf('<br><br>') && (a = '<p>' + a.replace(/(<br>){2,}/g, function (a) {
        return c(a.length / 4);
      }) + '</p>'));
      return o(b, a);
    }
    function y() {
      var b = new CKEDITOR.htmlParser.filter(), a = {
          blockquote: 1,
          dl: 1,
          fieldset: 1,
          h1: 1,
          h2: 1,
          h3: 1,
          h4: 1,
          h5: 1,
          h6: 1,
          ol: 1,
          p: 1,
          table: 1,
          ul: 1
        }, c = CKEDITOR.tools.extend({ br: 0 }, CKEDITOR.dtd.$inline), d = {
          p: 1,
          br: 1,
          'cke:br': 1
        }, g = CKEDITOR.dtd, i = CKEDITOR.tools.extend({
          area: 1,
          basefont: 1,
          embed: 1,
          iframe: 1,
          map: 1,
          object: 1,
          param: 1
        }, CKEDITOR.dtd.$nonBodyContent, CKEDITOR.dtd.$cdata), h = function (a) {
          delete a.name;
          a.add(new CKEDITOR.htmlParser.text(' '));
        }, f = function (a) {
          for (var b = a, c; (b = b.next) && b.name && b.name.match(/^h\d$/);) {
            c = new CKEDITOR.htmlParser.element('cke:br');
            c.isEmpty = !0;
            for (a.add(c); c = b.children.shift();)
              a.add(c);
          }
        };
      b.addRules({
        elements: {
          h1: f,
          h2: f,
          h3: f,
          h4: f,
          h5: f,
          h6: f,
          img: function (a) {
            var a = CKEDITOR.tools.trim(a.attributes.alt || ''), b = ' ';
            a && !a.match(/(^http|\.(jpe?g|gif|png))/i) && (b = ' [' + a + '] ');
            return new CKEDITOR.htmlParser.text(b);
          },
          td: h,
          th: h,
          $: function (b) {
            var f = b.name, h;
            if (i[f])
              return !1;
            b.attributes = {};
            if ('br' == f)
              return b;
            if (a[f])
              b.name = 'p';
            else if (c[f])
              delete b.name;
            else if (g[f]) {
              h = new CKEDITOR.htmlParser.element('cke:br');
              h.isEmpty = !0;
              if (CKEDITOR.dtd.$empty[f])
                return h;
              b.add(h, 0);
              h = h.clone();
              h.isEmpty = !0;
              b.add(h);
              delete b.name;
            }
            d[b.name] || delete b.name;
            return b;
          }
        }
      }, { applyToAll: !0 });
      return b;
    }
    function z(b, a, c) {
      var a = new CKEDITOR.htmlParser.fragment.fromHtml(a), d = new CKEDITOR.htmlParser.basicWriter();
      a.writeHtml(d, c);
      var a = d.getHtml(), a = a.replace(/\s*(<\/?[a-z:]+ ?\/?>)\s*/g, '$1').replace(/(<cke:br \/>){2,}/g, '<cke:br />').replace(/(<cke:br \/>)(<\/?p>|<br \/>)/g, '$2').replace(/(<\/?p>|<br \/>)(<cke:br \/>)/g, '$1').replace(/<(cke:)?br( \/)?>/g, '<br>').replace(/<p><\/p>/g, ''), g = 0, a = a.replace(/<\/?p>/g, function (a) {
          if ('<p>' == a) {
            if (1 < ++g)
              return '</p><p>';
          } else if (0 < --g)
            return '</p><p>';
          return a;
        }).replace(/<p><\/p>/g, '');
      return o(b, a);
    }
    function o(b, a) {
      b.enterMode == CKEDITOR.ENTER_BR ? a = a.replace(/(<\/p><p>)+/g, function (a) {
        return CKEDITOR.tools.repeat('<br>', 2 * (a.length / 7));
      }).replace(/<\/?p>/g, '') : b.enterMode == CKEDITOR.ENTER_DIV && (a = a.replace(/<(\/)?p>/g, '<$1div>'));
      return a;
    }
    CKEDITOR.plugins.add('clipboard', {
      requires: 'dialog',
      init: function (b) {
        var a;
        v(b);
        CKEDITOR.dialog.add('paste', CKEDITOR.getUrl(this.path + 'dialogs/paste.js'));
        b.on('paste', function (a) {
          var b = a.data.dataValue, g = CKEDITOR.dtd.$block;
          -1 < b.indexOf('Apple-') && (b = b.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi, ' '), 'html' != a.data.type && (b = b.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi, function (a, b) {
            return b.replace(/\t/g, '&nbsp;&nbsp; &nbsp;');
          })), -1 < b.indexOf('<br class="Apple-interchange-newline">') && (a.data.startsWithEOL = 1, a.data.preSniffing = 'html', b = b.replace(/<br class="Apple-interchange-newline">/, '')), b = b.replace(/(<[^>]+) class="Apple-[^"]*"/gi, '$1'));
          if (b.match(/^<[^<]+cke_(editable|contents)/i)) {
            var i, h, f = new CKEDITOR.dom.element('div');
            for (f.setHtml(b); 1 == f.getChildCount() && (i = f.getFirst()) && i.type == CKEDITOR.NODE_ELEMENT && (i.hasClass('cke_editable') || i.hasClass('cke_contents'));)
              f = h = i;
            h && (b = h.getHtml().replace(/<br>$/i, ''));
          }
          CKEDITOR.env.ie ? b = b.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g, function (b, d) {
            if (d.toLowerCase() in g) {
              a.data.preSniffing = 'html';
              return '<' + d;
            }
            return b;
          }) : CKEDITOR.env.webkit ? b = b.replace(/<\/(\w+)><div><br><\/div>$/, function (b, d) {
            if (d in g) {
              a.data.endsWithEOL = 1;
              return '</' + d + '>';
            }
            return b;
          }) : CKEDITOR.env.gecko && (b = b.replace(/(\s)<br>$/, '$1'));
          a.data.dataValue = b;
        }, null, null, 3);
        b.on('paste', function (c) {
          var c = c.data, d = c.type, g = c.dataValue, i, h = b.config.clipboard_defaultContentType || 'html';
          i = 'html' == d || 'html' == c.preSniffing ? 'html' : w(g);
          'htmlifiedtext' == i ? g = x(b.config, g) : 'text' == d && 'html' == i && (g = z(b.config, g, a || (a = y(b))));
          c.startsWithEOL && (g = '<br data-cke-eol="1">' + g);
          c.endsWithEOL && (g += '<br data-cke-eol="1">');
          'auto' == d && (d = 'html' == i || 'html' == h ? 'html' : 'text');
          c.type = d;
          c.dataValue = g;
          delete c.preSniffing;
          delete c.startsWithEOL;
          delete c.endsWithEOL;
        }, null, null, 6);
        b.on('paste', function (a) {
          a = a.data;
          b.insertHtml(a.dataValue, a.type);
          setTimeout(function () {
            b.fire('afterPaste');
          }, 0);
        }, null, null, 1000);
        b.on('pasteDialog', function (a) {
          setTimeout(function () {
            b.openDialog('paste', a.data);
          }, 0);
        });
      }
    });
  }());
  (function () {
    var c = '<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"' + (CKEDITOR.env.gecko && !CKEDITOR.env.hc ? '' : ' href="javascript:void(\'{titleJs}\')"') + ' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';
    CKEDITOR.env.gecko && CKEDITOR.env.mac && (c += ' onkeypress="return false;"');
    CKEDITOR.env.gecko && (c += ' onblur="this.style.cssText = this.style.cssText;"');
    var c = c + (' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" ' + (CKEDITOR.env.ie ? 'onclick="return false;" onmouseup' : 'onclick') + '="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"'), c = c + '>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span>{arrowHtml}</a>', m = CKEDITOR.addTemplate('buttonArrow', '<span class="cke_button_arrow">' + (CKEDITOR.env.hc ? '&#9660;' : '') + '</span>'), n = CKEDITOR.addTemplate('button', c);
    CKEDITOR.plugins.add('button', {
      beforeInit: function (a) {
        a.ui.addHandler(CKEDITOR.UI_BUTTON, CKEDITOR.ui.button.handler);
      }
    });
    CKEDITOR.UI_BUTTON = 'button';
    CKEDITOR.ui.button = function (a) {
      CKEDITOR.tools.extend(this, a, {
        title: a.label,
        click: a.click || function (b) {
          b.execCommand(a.command);
        }
      });
      this._ = {};
    };
    CKEDITOR.ui.button.handler = {
      create: function (a) {
        return new CKEDITOR.ui.button(a);
      }
    };
    CKEDITOR.ui.button.prototype = {
      render: function (a, b) {
        var c = CKEDITOR.env, i = this._.id = CKEDITOR.tools.getNextId(), e = '', f = this.command, k;
        this._.editor = a;
        var d = {
            id: i,
            button: this,
            editor: a,
            focus: function () {
              CKEDITOR.document.getById(i).focus();
            },
            execute: function () {
              this.button.click(a);
            },
            attach: function (a) {
              this.button.attach(a);
            }
          }, o = CKEDITOR.tools.addFunction(function (a) {
            if (d.onkey)
              return a = new CKEDITOR.dom.event(a), !1 !== d.onkey(d, a.getKeystroke());
          }), p = CKEDITOR.tools.addFunction(function (a) {
            var b;
            d.onfocus && (b = !1 !== d.onfocus(d, new CKEDITOR.dom.event(a)));
            return b;
          }), l = 0;
        d.clickFn = k = CKEDITOR.tools.addFunction(function () {
          l && (a.unlockSelection(1), l = 0);
          d.execute();
          c.iOS && a.focus();
        });
        if (this.modes) {
          var j = {}, g = function () {
              var b = a.mode;
              b && (b = this.modes[b] ? void 0 != j[b] ? j[b] : CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED, b = a.readOnly && !this.readOnly ? CKEDITOR.TRISTATE_DISABLED : b, this.setState(b), this.refresh && this.refresh());
            };
          a.on('beforeModeUnload', function () {
            a.mode && this._.state != CKEDITOR.TRISTATE_DISABLED && (j[a.mode] = this._.state);
          }, this);
          a.on('activeFilterChange', g, this);
          a.on('mode', g, this);
          !this.readOnly && a.on('readOnly', g, this);
        } else if (f && (f = a.getCommand(f)))
          f.on('state', function () {
            this.setState(f.state);
          }, this), e += f.state == CKEDITOR.TRISTATE_ON ? 'on' : f.state == CKEDITOR.TRISTATE_DISABLED ? 'disabled' : 'off';
        if (this.directional)
          a.on('contentDirChanged', function (b) {
            var c = CKEDITOR.document.getById(this._.id), d = c.getFirst(), b = b.data;
            b != a.lang.dir ? c.addClass('cke_' + b) : c.removeClass('cke_ltr').removeClass('cke_rtl');
            d.setAttribute('style', CKEDITOR.skin.getIconStyle(h, 'rtl' == b, this.icon, this.iconOffset));
          }, this);
        f || (e += 'off');
        var h = g = this.name || this.command;
        this.icon && !/\./.test(this.icon) && (h = this.icon, this.icon = null);
        e = {
          id: i,
          name: g,
          iconName: h,
          label: this.label,
          cls: this.className || '',
          state: e,
          ariaDisabled: 'disabled' == e ? 'true' : 'false',
          title: this.title,
          titleJs: c.gecko && !c.hc ? '' : (this.title || '').replace('\'', ''),
          hasArrow: this.hasArrow ? 'true' : 'false',
          keydownFn: o,
          focusFn: p,
          clickFn: k,
          style: CKEDITOR.skin.getIconStyle(h, 'rtl' == a.lang.dir, this.icon, this.iconOffset),
          arrowHtml: this.hasArrow ? m.output() : ''
        };
        n.output(e, b);
        if (this.onRender)
          this.onRender();
        return d;
      },
      setState: function (a) {
        if (this._.state == a)
          return !1;
        this._.state = a;
        var b = CKEDITOR.document.getById(this._.id);
        return b ? (b.setState(a, 'cke_button'), a == CKEDITOR.TRISTATE_DISABLED ? b.setAttribute('aria-disabled', !0) : b.removeAttribute('aria-disabled'), this.hasArrow ? (a = a == CKEDITOR.TRISTATE_ON ? this._.editor.lang.button.selectedLabel.replace(/%1/g, this.label) : this.label, CKEDITOR.document.getById(this._.id + '_label').setText(a)) : a == CKEDITOR.TRISTATE_ON ? b.setAttribute('aria-pressed', !0) : b.removeAttribute('aria-pressed'), !0) : !1;
      },
      getState: function () {
        return this._.state;
      },
      toFeature: function (a) {
        if (this._.feature)
          return this._.feature;
        var b = this;
        !this.allowedContent && (!this.requiredContent && this.command) && (b = a.getCommand(this.command) || b);
        return this._.feature = b;
      }
    };
    CKEDITOR.ui.prototype.addButton = function (a, b) {
      this.add(a, CKEDITOR.UI_BUTTON, b);
    };
  }());
  CKEDITOR.plugins.add('panelbutton', {
    requires: 'button',
    onLoad: function () {
      function e(c) {
        var a = this._;
        a.state != CKEDITOR.TRISTATE_DISABLED && (this.createPanel(c), a.on ? a.panel.hide() : a.panel.showBlock(this._.id, this.document.getById(this._.id), 4));
      }
      CKEDITOR.ui.panelButton = CKEDITOR.tools.createClass({
        base: CKEDITOR.ui.button,
        $: function (c) {
          var a = c.panel || {};
          delete c.panel;
          this.base(c);
          this.document = a.parent && a.parent.getDocument() || CKEDITOR.document;
          a.block = { attributes: a.attributes };
          this.hasArrow = a.toolbarRelated = !0;
          this.click = e;
          this._ = { panelDefinition: a };
        },
        statics: {
          handler: {
            create: function (c) {
              return new CKEDITOR.ui.panelButton(c);
            }
          }
        },
        proto: {
          createPanel: function (c) {
            var a = this._;
            if (!a.panel) {
              var f = this._.panelDefinition, e = this._.panelDefinition.block, g = f.parent || CKEDITOR.document.getBody(), d = this._.panel = new CKEDITOR.ui.floatPanel(c, g, f), f = d.addBlock(a.id, e), b = this;
              d.onShow = function () {
                b.className && this.element.addClass(b.className + '_panel');
                b.setState(CKEDITOR.TRISTATE_ON);
                a.on = 1;
                b.editorFocus && c.focus();
                if (b.onOpen)
                  b.onOpen();
              };
              d.onHide = function (d) {
                b.className && this.element.getFirst().removeClass(b.className + '_panel');
                b.setState(b.modes && b.modes[c.mode] ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED);
                a.on = 0;
                if (!d && b.onClose)
                  b.onClose();
              };
              d.onEscape = function () {
                d.hide(1);
                b.document.getById(a.id).focus();
              };
              if (this.onBlock)
                this.onBlock(d, f);
              f.onHide = function () {
                a.on = 0;
                b.setState(CKEDITOR.TRISTATE_OFF);
              };
            }
          }
        }
      });
    },
    beforeInit: function (e) {
      e.ui.addHandler(CKEDITOR.UI_PANELBUTTON, CKEDITOR.ui.panelButton.handler);
    }
  });
  CKEDITOR.UI_PANELBUTTON = 'panelbutton';
  (function () {
    CKEDITOR.plugins.add('panel', {
      beforeInit: function (a) {
        a.ui.addHandler(CKEDITOR.UI_PANEL, CKEDITOR.ui.panel.handler);
      }
    });
    CKEDITOR.UI_PANEL = 'panel';
    CKEDITOR.ui.panel = function (a, b) {
      b && CKEDITOR.tools.extend(this, b);
      CKEDITOR.tools.extend(this, {
        className: '',
        css: []
      });
      this.id = CKEDITOR.tools.getNextId();
      this.document = a;
      this.isFramed = this.forceIFrame || this.css.length;
      this._ = { blocks: {} };
    };
    CKEDITOR.ui.panel.handler = {
      create: function (a) {
        return new CKEDITOR.ui.panel(a);
      }
    };
    var f = CKEDITOR.addTemplate('panel', '<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'), g = CKEDITOR.addTemplate('panel-frame', '<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'), h = CKEDITOR.addTemplate('panel-frame-inner', '<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');
    CKEDITOR.ui.panel.prototype = {
      render: function (a, b) {
        this.getHolderElement = function () {
          var a = this._.holder;
          if (!a) {
            if (this.isFramed) {
              var a = this.document.getById(this.id + '_frame'), b = a.getParent(), a = a.getFrameDocument();
              CKEDITOR.env.iOS && b.setStyles({
                overflow: 'scroll',
                '-webkit-overflow-scrolling': 'touch'
              });
              b = CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function () {
                this.isLoaded = !0;
                if (this.onLoad)
                  this.onLoad();
              }, this));
              a.write(h.output(CKEDITOR.tools.extend({
                css: CKEDITOR.tools.buildStyleHtml(this.css),
                onload: 'window.parent.CKEDITOR.tools.callFunction(' + b + ');'
              }, d)));
              a.getWindow().$.CKEDITOR = CKEDITOR;
              a.on('keydown', function (a) {
                var b = a.data.getKeystroke(), c = this.document.getById(this.id).getAttribute('dir');
                this._.onKeyDown && !1 === this._.onKeyDown(b) ? a.data.preventDefault() : (27 == b || b == ('rtl' == c ? 39 : 37)) && this.onEscape && !1 === this.onEscape(b) && a.data.preventDefault();
              }, this);
              a = a.getBody();
              a.unselectable();
              CKEDITOR.env.air && CKEDITOR.tools.callFunction(b);
            } else
              a = this.document.getById(this.id);
            this._.holder = a;
          }
          return a;
        };
        var d = {
            editorId: a.id,
            id: this.id,
            langCode: a.langCode,
            dir: a.lang.dir,
            cls: this.className,
            frame: '',
            env: CKEDITOR.env.cssClass,
            'z-index': a.config.baseFloatZIndex + 1
          };
        if (this.isFramed) {
          var e = CKEDITOR.env.air ? 'javascript:void(0)' : CKEDITOR.env.ie ? 'javascript:void(function(){' + encodeURIComponent('document.open();(' + CKEDITOR.tools.fixDomain + ')();document.close();') + '}())' : '';
          d.frame = g.output({
            id: this.id + '_frame',
            src: e
          });
        }
        e = f.output(d);
        b && b.push(e);
        return e;
      },
      addBlock: function (a, b) {
        b = this._.blocks[a] = b instanceof CKEDITOR.ui.panel.block ? b : new CKEDITOR.ui.panel.block(this.getHolderElement(), b);
        this._.currentBlock || this.showBlock(a);
        return b;
      },
      getBlock: function (a) {
        return this._.blocks[a];
      },
      showBlock: function (a) {
        var a = this._.blocks[a], b = this._.currentBlock, d = !this.forceIFrame || CKEDITOR.env.ie ? this._.holder : this.document.getById(this.id + '_frame');
        b && b.hide();
        this._.currentBlock = a;
        CKEDITOR.fire('ariaWidget', d);
        a._.focusIndex = -1;
        this._.onKeyDown = a.onKeyDown && CKEDITOR.tools.bind(a.onKeyDown, a);
        a.show();
        return a;
      },
      destroy: function () {
        this.element && this.element.remove();
      }
    };
    CKEDITOR.ui.panel.block = CKEDITOR.tools.createClass({
      $: function (a, b) {
        this.element = a.append(a.getDocument().createElement('div', {
          attributes: {
            tabindex: -1,
            'class': 'cke_panel_block'
          },
          styles: { display: 'none' }
        }));
        b && CKEDITOR.tools.extend(this, b);
        this.element.setAttributes({
          role: this.attributes.role || 'presentation',
          'aria-label': this.attributes['aria-label'],
          title: this.attributes.title || this.attributes['aria-label']
        });
        this.keys = {};
        this._.focusIndex = -1;
        this.element.disableContextMenu();
      },
      _: {
        markItem: function (a) {
          -1 != a && (a = this.element.getElementsByTag('a').getItem(this._.focusIndex = a), CKEDITOR.env.webkit && a.getDocument().getWindow().focus(), a.focus(), this.onMark && this.onMark(a));
        }
      },
      proto: {
        show: function () {
          this.element.setStyle('display', '');
        },
        hide: function () {
          (!this.onHide || !0 !== this.onHide.call(this)) && this.element.setStyle('display', 'none');
        },
        onKeyDown: function (a, b) {
          var d = this.keys[a];
          switch (d) {
          case 'next':
            for (var e = this._.focusIndex, d = this.element.getElementsByTag('a'), c; c = d.getItem(++e);)
              if (c.getAttribute('_cke_focus') && c.$.offsetWidth) {
                this._.focusIndex = e;
                c.focus();
                break;
              }
            return !c && !b ? (this._.focusIndex = -1, this.onKeyDown(a, 1)) : !1;
          case 'prev':
            e = this._.focusIndex;
            for (d = this.element.getElementsByTag('a'); 0 < e && (c = d.getItem(--e));) {
              if (c.getAttribute('_cke_focus') && c.$.offsetWidth) {
                this._.focusIndex = e;
                c.focus();
                break;
              }
              c = null;
            }
            return !c && !b ? (this._.focusIndex = d.count(), this.onKeyDown(a, 1)) : !1;
          case 'click':
          case 'mouseup':
            return e = this._.focusIndex, (c = 0 <= e && this.element.getElementsByTag('a').getItem(e)) && (c.$[d] ? c.$[d]() : c.$['on' + d]()), !1;
          }
          return !0;
        }
      }
    });
  }());
  CKEDITOR.plugins.add('floatpanel', { requires: 'panel' });
  (function () {
    function r(a, b, c, i, f) {
      var f = CKEDITOR.tools.genKey(b.getUniqueId(), c.getUniqueId(), a.lang.dir, a.uiColor || '', i.css || '', f || ''), h = g[f];
      h || (h = g[f] = new CKEDITOR.ui.panel(b, i), h.element = c.append(CKEDITOR.dom.element.createFromHtml(h.render(a), b)), h.element.setStyles({
        display: 'none',
        position: 'absolute'
      }));
      return h;
    }
    var g = {};
    CKEDITOR.ui.floatPanel = CKEDITOR.tools.createClass({
      $: function (a, b, c, i) {
        function f() {
          d.hide();
        }
        c.forceIFrame = 1;
        c.toolbarRelated && a.elementMode == CKEDITOR.ELEMENT_MODE_INLINE && (b = CKEDITOR.document.getById('cke_' + a.name));
        var h = b.getDocument(), i = r(a, h, b, c, i || 0), j = i.element, l = j.getFirst(), d = this;
        j.disableContextMenu();
        this.element = j;
        this._ = {
          editor: a,
          panel: i,
          parentElement: b,
          definition: c,
          document: h,
          iframe: l,
          children: [],
          dir: a.lang.dir
        };
        a.on('mode', f);
        a.on('resize', f);
        if (!CKEDITOR.env.iOS)
          h.getWindow().on('resize', f);
      },
      proto: {
        addBlock: function (a, b) {
          return this._.panel.addBlock(a, b);
        },
        addListBlock: function (a, b) {
          return this._.panel.addListBlock(a, b);
        },
        getBlock: function (a) {
          return this._.panel.getBlock(a);
        },
        showBlock: function (a, b, c, i, f, h) {
          var j = this._.panel, l = j.showBlock(a);
          this.allowBlur(!1);
          a = this._.editor.editable();
          this._.returnFocus = a.hasFocus ? a : new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement);
          this._.hideTimeout = 0;
          var d = this.element, a = this._.iframe, a = CKEDITOR.env.ie ? a : new CKEDITOR.dom.window(a.$.contentWindow), g = d.getDocument(), o = this._.parentElement.getPositionedAncestor(), p = b.getDocumentPosition(g), g = o ? o.getDocumentPosition(g) : {
              x: 0,
              y: 0
            }, m = 'rtl' == this._.dir, e = p.x + (i || 0) - g.x, k = p.y + (f || 0) - g.y;
          if (m && (1 == c || 4 == c))
            e += b.$.offsetWidth;
          else if (!m && (2 == c || 3 == c))
            e += b.$.offsetWidth - 1;
          if (3 == c || 4 == c)
            k += b.$.offsetHeight - 1;
          this._.panel._.offsetParentId = b.getId();
          d.setStyles({
            top: k + 'px',
            left: 0,
            display: ''
          });
          d.setOpacity(0);
          d.getFirst().removeStyle('width');
          this._.editor.focusManager.add(a);
          this._.blurSet || (CKEDITOR.event.useCapture = !0, a.on('blur', function (a) {
            function q() {
              delete this._.returnFocus;
              this.hide();
            }
            this.allowBlur() && a.data.getPhase() == CKEDITOR.EVENT_PHASE_AT_TARGET && (this.visible && !this._.activeChild) && (CKEDITOR.env.iOS ? this._.hideTimeout || (this._.hideTimeout = CKEDITOR.tools.setTimeout(q, 0, this)) : q.call(this));
          }, this), a.on('focus', function () {
            this._.focused = !0;
            this.hideChild();
            this.allowBlur(!0);
          }, this), CKEDITOR.env.iOS && (a.on('touchstart', function () {
            clearTimeout(this._.hideTimeout);
          }, this), a.on('touchend', function () {
            this._.hideTimeout = 0;
            this.focus();
          }, this)), CKEDITOR.event.useCapture = !1, this._.blurSet = 1);
          j.onEscape = CKEDITOR.tools.bind(function (a) {
            if (this.onEscape && this.onEscape(a) === false)
              return false;
          }, this);
          CKEDITOR.tools.setTimeout(function () {
            var a = CKEDITOR.tools.bind(function () {
                d.removeStyle('width');
                if (l.autoSize) {
                  var a = l.element.getDocument(), a = (CKEDITOR.env.webkit ? l.element : a.getBody()).$.scrollWidth;
                  CKEDITOR.env.ie && (CKEDITOR.env.quirks && a > 0) && (a = a + ((d.$.offsetWidth || 0) - (d.$.clientWidth || 0) + 3));
                  d.setStyle('width', a + 10 + 'px');
                  a = l.element.$.scrollHeight;
                  CKEDITOR.env.ie && (CKEDITOR.env.quirks && a > 0) && (a = a + ((d.$.offsetHeight || 0) - (d.$.clientHeight || 0) + 3));
                  d.setStyle('height', a + 'px');
                  j._.currentBlock.element.setStyle('display', 'none').removeStyle('display');
                } else
                  d.removeStyle('height');
                m && (e = e - d.$.offsetWidth);
                d.setStyle('left', e + 'px');
                var b = j.element.getWindow(), a = d.$.getBoundingClientRect(), b = b.getViewPaneSize(), c = a.width || a.right - a.left, f = a.height || a.bottom - a.top, i = m ? a.right : b.width - a.left, g = m ? b.width - a.right : a.left;
                m ? i < c && (e = g > c ? e + c : b.width > c ? e - a.left : e - a.right + b.width) : i < c && (e = g > c ? e - c : b.width > c ? e - a.right + b.width : e - a.left);
                c = a.top;
                b.height - a.top < f && (k = c > f ? k - f : b.height > f ? k - a.bottom + b.height : k - a.top);
                if (CKEDITOR.env.ie) {
                  b = a = new CKEDITOR.dom.element(d.$.offsetParent);
                  b.getName() == 'html' && (b = b.getDocument().getBody());
                  b.getComputedStyle('direction') == 'rtl' && (e = CKEDITOR.env.ie8Compat ? e - d.getDocument().getDocumentElement().$.scrollLeft * 2 : e - (a.$.scrollWidth - a.$.clientWidth));
                }
                var a = d.getFirst(), n;
                (n = a.getCustomData('activePanel')) && n.onHide && n.onHide.call(this, 1);
                a.setCustomData('activePanel', this);
                d.setStyles({
                  top: k + 'px',
                  left: e + 'px'
                });
                d.setOpacity(1);
                h && h();
              }, this);
            j.isLoaded ? a() : j.onLoad = a;
            CKEDITOR.tools.setTimeout(function () {
              var a = CKEDITOR.env.webkit && CKEDITOR.document.getWindow().getScrollPosition().y;
              this.focus();
              l.element.focus();
              if (CKEDITOR.env.webkit)
                CKEDITOR.document.getBody().$.scrollTop = a;
              this.allowBlur(true);
              this._.editor.fire('panelShow', this);
            }, 0, this);
          }, CKEDITOR.env.air ? 200 : 0, this);
          this.visible = 1;
          this.onShow && this.onShow.call(this);
        },
        focus: function () {
          if (CKEDITOR.env.webkit) {
            var a = CKEDITOR.document.getActive();
            a && !a.equals(this._.iframe) && a.$.blur();
          }
          (this._.lastFocused || this._.iframe.getFrameDocument().getWindow()).focus();
        },
        blur: function () {
          var a = this._.iframe.getFrameDocument().getActive();
          a && a.is('a') && (this._.lastFocused = a);
        },
        hide: function (a) {
          if (this.visible && (!this.onHide || !0 !== this.onHide.call(this))) {
            this.hideChild();
            CKEDITOR.env.gecko && this._.iframe.getFrameDocument().$.activeElement.blur();
            this.element.setStyle('display', 'none');
            this.visible = 0;
            this.element.getFirst().removeCustomData('activePanel');
            if (a = a && this._.returnFocus)
              CKEDITOR.env.webkit && a.type && a.getWindow().$.focus(), a.focus();
            delete this._.lastFocused;
            this._.editor.fire('panelHide', this);
          }
        },
        allowBlur: function (a) {
          var b = this._.panel;
          void 0 != a && (b.allowBlur = a);
          return b.allowBlur;
        },
        showAsChild: function (a, b, c, g, f, h) {
          this._.activeChild == a && a._.panel._.offsetParentId == c.getId() || (this.hideChild(), a.onHide = CKEDITOR.tools.bind(function () {
            CKEDITOR.tools.setTimeout(function () {
              this._.focused || this.hide();
            }, 0, this);
          }, this), this._.activeChild = a, this._.focused = !1, a.showBlock(b, c, g, f, h), this.blur(), (CKEDITOR.env.ie7Compat || CKEDITOR.env.ie6Compat) && setTimeout(function () {
            a.element.getChild(0).$.style.cssText += '';
          }, 100));
        },
        hideChild: function (a) {
          var b = this._.activeChild;
          b && (delete b.onHide, delete this._.activeChild, b.hide(), a && this.focus());
        }
      }
    });
    CKEDITOR.on('instanceDestroyed', function () {
      var a = CKEDITOR.tools.isEmpty(CKEDITOR.instances), b;
      for (b in g) {
        var c = g[b];
        a ? c.destroy() : c.element.hide();
      }
      a && (g = {});
    });
  }());
  CKEDITOR.plugins.add('colorbutton', {
    requires: 'panelbutton,floatpanel',
    init: function (c) {
      function o(m, g, d, h) {
        var i = new CKEDITOR.style(j['colorButton_' + g + 'Style']), k = CKEDITOR.tools.getNextId() + '_colorBox';
        c.ui.add(m, CKEDITOR.UI_PANELBUTTON, {
          label: d,
          title: d,
          modes: { wysiwyg: 1 },
          editorFocus: 0,
          toolbar: 'colors,' + h,
          allowedContent: i,
          requiredContent: i,
          panel: {
            css: CKEDITOR.skin.getPath('editor'),
            attributes: {
              role: 'listbox',
              'aria-label': f.panelTitle
            }
          },
          onBlock: function (a, b) {
            b.autoSize = !0;
            b.element.addClass('cke_colorblock');
            b.element.setHtml(q(a, g, k));
            b.element.getDocument().getBody().setStyle('overflow', 'hidden');
            CKEDITOR.ui.fire('ready', this);
            var e = b.keys, d = 'rtl' == c.lang.dir;
            e[d ? 37 : 39] = 'next';
            e[40] = 'next';
            e[9] = 'next';
            e[d ? 39 : 37] = 'prev';
            e[38] = 'prev';
            e[CKEDITOR.SHIFT + 9] = 'prev';
            e[32] = 'click';
          },
          refresh: function () {
            c.activeFilter.check(i) || this.setState(CKEDITOR.TRISTATE_DISABLED);
          },
          onOpen: function () {
            var a = c.getSelection(), a = a && a.getStartElement(), a = c.elementPath(a), b;
            if (a) {
              a = a.block || a.blockLimit || c.document.getBody();
              do
                b = a && a.getComputedStyle('back' == g ? 'background-color' : 'color') || 'transparent';
              while ('back' == g && 'transparent' == b && a && (a = a.getParent()));
              if (!b || 'transparent' == b)
                b = '#ffffff';
              this._.panel._.iframe.getFrameDocument().getById(k).setStyle('background-color', b);
              return b;
            }
          }
        });
      }
      function q(m, g, d) {
        var h = [], i = j.colorButton_colors.split(','), k = c.plugins.colordialog && !1 !== j.colorButton_enableMore, a = i.length + (k ? 2 : 1), b = CKEDITOR.tools.addFunction(function (a, b) {
            if ('?' == a) {
              var e = arguments.callee, d = function (a) {
                  this.removeListener('ok', d);
                  this.removeListener('cancel', d);
                  'ok' == a.name && e(this.getContentElement('picker', 'selectedColor').getValue(), b);
                };
              c.openDialog('colordialog', function () {
                this.on('ok', d);
                this.on('cancel', d);
              });
            } else {
              c.focus();
              m.hide();
              c.fire('saveSnapshot');
              c.removeStyle(new CKEDITOR.style(j['colorButton_' + b + 'Style'], { color: 'inherit' }));
              if (a) {
                var f = j['colorButton_' + b + 'Style'];
                f.childRule = 'back' == b ? function (a) {
                  return p(a);
                } : function (a) {
                  return !(a.is('a') || a.getElementsByTag('a').count()) || p(a);
                };
                c.applyStyle(new CKEDITOR.style(f, { color: a }));
              }
              c.fire('saveSnapshot');
            }
          });
        h.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="', f.auto, '" onclick="CKEDITOR.tools.callFunction(', b, ',null,\'', g, '\');return false;" href="javascript:void(\'', f.auto, '\')" role="option" aria-posinset="1" aria-setsize="', a, '"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td><span class="cke_colorbox" id="', d, '"></span></td><td colspan=7 align=center>', f.auto, '</td></tr></table></a><table role="presentation" cellspacing=0 cellpadding=0 width="100%">');
        for (d = 0; d < i.length; d++) {
          0 === d % 8 && h.push('</tr><tr>');
          var e = i[d].split('/'), l = e[0], n = e[1] || l;
          e[1] || (l = '#' + l.replace(/^(.)(.)(.)$/, '$1$1$2$2$3$3'));
          e = c.lang.colorbutton.colors[n] || n;
          h.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="', e, '" onclick="CKEDITOR.tools.callFunction(', b, ',\'', l, '\',\'', g, '\'); return false;" href="javascript:void(\'', e, '\')" role="option" aria-posinset="', d + 2, '" aria-setsize="', a, '"><span class="cke_colorbox" style="background-color:#', n, '"></span></a></td>');
        }
        k && h.push('</tr><tr><td colspan=8 align=center><a class="cke_colormore" _cke_focus=1 hidefocus=true title="', f.more, '" onclick="CKEDITOR.tools.callFunction(', b, ',\'?\',\'', g, '\');return false;" href="javascript:void(\'', f.more, '\')"', ' role="option" aria-posinset="', a, '" aria-setsize="', a, '">', f.more, '</a></td>');
        h.push('</tr></table>');
        return h.join('');
      }
      function p(c) {
        return 'false' == c.getAttribute('contentEditable') || c.getAttribute('data-nostyle');
      }
      var j = c.config, f = c.lang.colorbutton;
      CKEDITOR.env.hc || (o('TextColor', 'fore', f.textColorTitle, 10), o('BGColor', 'back', f.bgColorTitle, 20));
    }
  });
  CKEDITOR.config.colorButton_colors = '000,800000,8B4513,2F4F4F,008080,000080,4B0082,696969,B22222,A52A2A,DAA520,006400,40E0D0,0000CD,800080,808080,F00,FF8C00,FFD700,008000,0FF,00F,EE82EE,A9A9A9,FFA07A,FFA500,FFFF00,00FF00,AFEEEE,ADD8E6,DDA0DD,D3D3D3,FFF0F5,FAEBD7,FFFFE0,F0FFF0,F0FFFF,F0F8FF,E6E6FA,FFF';
  CKEDITOR.config.colorButton_foreStyle = {
    element: 'span',
    styles: { color: '#(color)' },
    overrides: [{
        element: 'font',
        attributes: { color: null }
      }]
  };
  CKEDITOR.config.colorButton_backStyle = {
    element: 'span',
    styles: { 'background-color': '#(color)' }
  };
  CKEDITOR.plugins.colordialog = {
    requires: 'dialog',
    init: function (b) {
      var c = new CKEDITOR.dialogCommand('colordialog');
      c.editorFocus = !1;
      b.addCommand('colordialog', c);
      CKEDITOR.dialog.add('colordialog', this.path + 'dialogs/colordialog.js');
      b.getColorFromDialog = function (c, f) {
        var d = function (a) {
            this.removeListener('ok', d);
            this.removeListener('cancel', d);
            a = 'ok' == a.name ? this.getValueOf('picker', 'selectedColor') : null;
            c.call(f, a);
          }, e = function (a) {
            a.on('ok', d);
            a.on('cancel', d);
          };
        b.execCommand('colordialog');
        if (b._.storedDialogs && b._.storedDialogs.colordialog)
          e(b._.storedDialogs.colordialog);
        else
          CKEDITOR.on('dialogDefinition', function (a) {
            if ('colordialog' == a.data.name) {
              var b = a.data.definition;
              a.removeListener();
              b.onLoad = CKEDITOR.tools.override(b.onLoad, function (a) {
                return function () {
                  e(this);
                  b.onLoad = a;
                  'function' == typeof a && a.call(this);
                };
              });
            }
          });
      };
    }
  };
  CKEDITOR.plugins.add('colordialog', CKEDITOR.plugins.colordialog);
  (function () {
    CKEDITOR.plugins.add('templates', {
      requires: 'dialog',
      init: function (a) {
        CKEDITOR.dialog.add('templates', CKEDITOR.getUrl(this.path + 'dialogs/templates.js'));
        a.addCommand('templates', new CKEDITOR.dialogCommand('templates'));
        a.ui.addButton && a.ui.addButton('Templates', {
          label: a.lang.templates.button,
          command: 'templates',
          toolbar: 'doctools,10'
        });
      }
    });
    var c = {}, f = {};
    CKEDITOR.addTemplates = function (a, d) {
      c[a] = d;
    };
    CKEDITOR.getTemplates = function (a) {
      return c[a];
    };
    CKEDITOR.loadTemplates = function (a, d) {
      for (var e = [], b = 0, c = a.length; b < c; b++)
        f[a[b]] || (e.push(a[b]), f[a[b]] = 1);
      e.length ? CKEDITOR.scriptLoader.load(e, d) : setTimeout(d, 0);
    };
  }());
  CKEDITOR.config.templates_files = [CKEDITOR.getUrl('plugins/templates/templates/default.js')];
  CKEDITOR.config.templates_replaceContent = !0;
  CKEDITOR.plugins.add('menu', {
    requires: 'floatpanel',
    beforeInit: function (g) {
      for (var h = g.config.menu_groups.split(','), m = g._.menuGroups = {}, l = g._.menuItems = {}, a = 0; a < h.length; a++)
        m[h[a]] = a + 1;
      g.addMenuGroup = function (b, a) {
        m[b] = a || 100;
      };
      g.addMenuItem = function (a, c) {
        m[c.group] && (l[a] = new CKEDITOR.menuItem(this, a, c));
      };
      g.addMenuItems = function (a) {
        for (var c in a)
          this.addMenuItem(c, a[c]);
      };
      g.getMenuItem = function (a) {
        return l[a];
      };
      g.removeMenuItem = function (a) {
        delete l[a];
      };
    }
  });
  (function () {
    function g(a) {
      a.sort(function (a, c) {
        return a.group < c.group ? -1 : a.group > c.group ? 1 : a.order < c.order ? -1 : a.order > c.order ? 1 : 0;
      });
    }
    var h = '<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1"_cke_focus=1 hidefocus="true" role="{role}" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked}';
    CKEDITOR.env.gecko && CKEDITOR.env.mac && (h += ' onkeypress="return false;"');
    CKEDITOR.env.gecko && (h += ' onblur="this.style.cssText = this.style.cssText;"');
    var h = h + (' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" ' + (CKEDITOR.env.ie ? 'onclick="return false;" onmouseup' : 'onclick') + '="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">'), m = CKEDITOR.addTemplate('menuItem', h + '<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{arrowHtml}</span></a></span>'), l = CKEDITOR.addTemplate('menuArrow', '<span class="cke_menuarrow"><span>{label}</span></span>');
    CKEDITOR.menu = CKEDITOR.tools.createClass({
      $: function (a, b) {
        b = this._.definition = b || {};
        this.id = CKEDITOR.tools.getNextId();
        this.editor = a;
        this.items = [];
        this._.listeners = [];
        this._.level = b.level || 1;
        var c = CKEDITOR.tools.extend({}, b.panel, {
            css: [CKEDITOR.skin.getPath('editor')],
            level: this._.level - 1,
            block: {}
          }), k = c.block.attributes = c.attributes || {};
        !k.role && (k.role = 'menu');
        this._.panelDefinition = c;
      },
      _: {
        onShow: function () {
          var a = this.editor.getSelection(), b = a && a.getStartElement(), c = this.editor.elementPath(), k = this._.listeners;
          this.removeAll();
          for (var e = 0; e < k.length; e++) {
            var j = k[e](b, a, c);
            if (j)
              for (var i in j) {
                var f = this.editor.getMenuItem(i);
                if (f && (!f.command || this.editor.getCommand(f.command).state))
                  f.state = j[i], this.add(f);
              }
          }
        },
        onClick: function (a) {
          this.hide();
          if (a.onClick)
            a.onClick();
          else
            a.command && this.editor.execCommand(a.command);
        },
        onEscape: function (a) {
          var b = this.parent;
          b ? b._.panel.hideChild(1) : 27 == a && this.hide(1);
          return !1;
        },
        onHide: function () {
          this.onHide && this.onHide();
        },
        showSubMenu: function (a) {
          var b = this._.subMenu, c = this.items[a];
          if (c = c.getItems && c.getItems()) {
            b ? b.removeAll() : (b = this._.subMenu = new CKEDITOR.menu(this.editor, CKEDITOR.tools.extend({}, this._.definition, { level: this._.level + 1 }, !0)), b.parent = this, b._.onClick = CKEDITOR.tools.bind(this._.onClick, this));
            for (var k in c) {
              var e = this.editor.getMenuItem(k);
              e && (e.state = c[k], b.add(e));
            }
            var j = this._.panel.getBlock(this.id).element.getDocument().getById(this.id + ('' + a));
            setTimeout(function () {
              b.show(j, 2);
            }, 0);
          } else
            this._.panel.hideChild(1);
        }
      },
      proto: {
        add: function (a) {
          a.order || (a.order = this.items.length);
          this.items.push(a);
        },
        removeAll: function () {
          this.items = [];
        },
        show: function (a, b, c, k) {
          if (!this.parent && (this._.onShow(), !this.items.length))
            return;
          var b = b || ('rtl' == this.editor.lang.dir ? 2 : 1), e = this.items, j = this.editor, i = this._.panel, f = this._.element;
          if (!i) {
            i = this._.panel = new CKEDITOR.ui.floatPanel(this.editor, CKEDITOR.document.getBody(), this._.panelDefinition, this._.level);
            i.onEscape = CKEDITOR.tools.bind(function (a) {
              if (!1 === this._.onEscape(a))
                return !1;
            }, this);
            i.onShow = function () {
              i._.panel.getHolderElement().getParent().addClass('cke cke_reset_all');
            };
            i.onHide = CKEDITOR.tools.bind(function () {
              this._.onHide && this._.onHide();
            }, this);
            f = i.addBlock(this.id, this._.panelDefinition.block);
            f.autoSize = !0;
            var d = f.keys;
            d[40] = 'next';
            d[9] = 'next';
            d[38] = 'prev';
            d[CKEDITOR.SHIFT + 9] = 'prev';
            d['rtl' == j.lang.dir ? 37 : 39] = CKEDITOR.env.ie ? 'mouseup' : 'click';
            d[32] = CKEDITOR.env.ie ? 'mouseup' : 'click';
            CKEDITOR.env.ie && (d[13] = 'mouseup');
            f = this._.element = f.element;
            d = f.getDocument();
            d.getBody().setStyle('overflow', 'hidden');
            d.getElementsByTag('html').getItem(0).setStyle('overflow', 'hidden');
            this._.itemOverFn = CKEDITOR.tools.addFunction(function (a) {
              clearTimeout(this._.showSubTimeout);
              this._.showSubTimeout = CKEDITOR.tools.setTimeout(this._.showSubMenu, j.config.menu_subMenuDelay || 400, this, [a]);
            }, this);
            this._.itemOutFn = CKEDITOR.tools.addFunction(function () {
              clearTimeout(this._.showSubTimeout);
            }, this);
            this._.itemClickFn = CKEDITOR.tools.addFunction(function (a) {
              var b = this.items[a];
              if (b.state == CKEDITOR.TRISTATE_DISABLED)
                this.hide(1);
              else if (b.getItems)
                this._.showSubMenu(a);
              else
                this._.onClick(b);
            }, this);
          }
          g(e);
          for (var d = j.elementPath(), d = ['<div class="cke_menu' + (d && d.direction() != j.lang.dir ? ' cke_mixed_dir_content' : '') + '" role="presentation">'], h = e.length, m = h && e[0].group, l = 0; l < h; l++) {
            var n = e[l];
            m != n.group && (d.push('<div class="cke_menuseparator" role="separator"></div>'), m = n.group);
            n.render(this, l, d);
          }
          d.push('</div>');
          f.setHtml(d.join(''));
          CKEDITOR.ui.fire('ready', this);
          this.parent ? this.parent._.panel.showAsChild(i, this.id, a, b, c, k) : i.showBlock(this.id, a, b, c, k);
          j.fire('menuShow', [i]);
        },
        addListener: function (a) {
          this._.listeners.push(a);
        },
        hide: function (a) {
          this._.onHide && this._.onHide();
          this._.panel && this._.panel.hide(a);
        }
      }
    });
    CKEDITOR.menuItem = CKEDITOR.tools.createClass({
      $: function (a, b, c) {
        CKEDITOR.tools.extend(this, c, {
          order: 0,
          className: 'cke_menubutton__' + b
        });
        this.group = a._.menuGroups[this.group];
        this.editor = a;
        this.name = b;
      },
      proto: {
        render: function (a, b, c) {
          var h = a.id + ('' + b), e = 'undefined' == typeof this.state ? CKEDITOR.TRISTATE_OFF : this.state, j = '', i = e == CKEDITOR.TRISTATE_ON ? 'on' : e == CKEDITOR.TRISTATE_DISABLED ? 'disabled' : 'off';
          this.role in {
            menuitemcheckbox: 1,
            menuitemradio: 1
          } && (j = ' aria-checked="' + (e == CKEDITOR.TRISTATE_ON ? 'true' : 'false') + '"');
          var f = this.getItems, d = '&#' + ('rtl' == this.editor.lang.dir ? '9668' : '9658') + ';', g = this.name;
          this.icon && !/\./.test(this.icon) && (g = this.icon);
          a = {
            id: h,
            name: this.name,
            iconName: g,
            label: this.label,
            cls: this.className || '',
            state: i,
            hasPopup: f ? 'true' : 'false',
            disabled: e == CKEDITOR.TRISTATE_DISABLED,
            title: this.label,
            href: 'javascript:void(\'' + (this.label || '').replace('\'') + '\')',
            hoverFn: a._.itemOverFn,
            moveOutFn: a._.itemOutFn,
            clickFn: a._.itemClickFn,
            index: b,
            iconStyle: CKEDITOR.skin.getIconStyle(g, 'rtl' == this.editor.lang.dir, g == this.icon ? null : this.icon, this.iconOffset),
            arrowHtml: f ? l.output({ label: d }) : '',
            role: this.role ? this.role : 'menuitem',
            ariaChecked: j
          };
          m.output(a, c);
        }
      }
    });
  }());
  CKEDITOR.config.menu_groups = 'clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div';
  CKEDITOR.plugins.add('contextmenu', {
    requires: 'menu',
    onLoad: function () {
      CKEDITOR.plugins.contextMenu = CKEDITOR.tools.createClass({
        base: CKEDITOR.menu,
        $: function (a) {
          this.base.call(this, a, {
            panel: {
              className: 'cke_menu_panel',
              attributes: { 'aria-label': a.lang.contextmenu.options }
            }
          });
        },
        proto: {
          addTarget: function (a, e) {
            a.on('contextmenu', function (a) {
              var a = a.data, c = CKEDITOR.env.webkit ? f : CKEDITOR.env.mac ? a.$.metaKey : a.$.ctrlKey;
              if (!e || !c) {
                a.preventDefault();
                if (CKEDITOR.env.mac && CKEDITOR.env.webkit) {
                  var c = this.editor, b = new CKEDITOR.dom.elementPath(a.getTarget(), c.editable()).contains(function (a) {
                      return a.hasAttribute('contenteditable');
                    }, !0);
                  b && 'false' == b.getAttribute('contenteditable') && c.getSelection().fake(b);
                }
                var b = a.getTarget().getDocument(), d = a.getTarget().getDocument().getDocumentElement(), c = !b.equals(CKEDITOR.document), b = b.getWindow().getScrollPosition(), g = c ? a.$.clientX : a.$.pageX || b.x + a.$.clientX, h = c ? a.$.clientY : a.$.pageY || b.y + a.$.clientY;
                CKEDITOR.tools.setTimeout(function () {
                  this.open(d, null, g, h);
                }, CKEDITOR.env.ie ? 200 : 0, this);
              }
            }, this);
            if (CKEDITOR.env.webkit) {
              var f, d = function () {
                  f = 0;
                };
              a.on('keydown', function (a) {
                f = CKEDITOR.env.mac ? a.data.$.metaKey : a.data.$.ctrlKey;
              });
              a.on('keyup', d);
              a.on('contextmenu', d);
            }
          },
          open: function (a, e, f, d) {
            this.editor.focus();
            a = a || CKEDITOR.document.getDocumentElement();
            this.editor.selectionChange(1);
            this.show(a, e, f, d);
          }
        }
      });
    },
    beforeInit: function (a) {
      var e = a.contextMenu = new CKEDITOR.plugins.contextMenu(a);
      a.on('contentDom', function () {
        e.addTarget(a.editable(), !1 !== a.config.browserContextMenuOnCtrl);
      });
      a.addCommand('contextMenu', {
        exec: function () {
          a.contextMenu.open(a.document.getBody());
        }
      });
      a.setKeystroke(CKEDITOR.SHIFT + 121, 'contextMenu');
      a.setKeystroke(CKEDITOR.CTRL + CKEDITOR.SHIFT + 121, 'contextMenu');
    }
  });
  (function () {
    CKEDITOR.plugins.add('div', {
      requires: 'dialog',
      init: function (a) {
        if (!a.blockless) {
          var c = a.lang.div, b = 'div(*)';
          CKEDITOR.dialog.isTabEnabled(a, 'editdiv', 'advanced') && (b += ';div[dir,id,lang,title]{*}');
          a.addCommand('creatediv', new CKEDITOR.dialogCommand('creatediv', {
            allowedContent: b,
            requiredContent: 'div',
            contextSensitive: !0,
            refresh: function (a, c) {
              this.setState('div' in (a.config.div_wrapTable ? c.root : c.blockLimit).getDtd() ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED);
            }
          }));
          a.addCommand('editdiv', new CKEDITOR.dialogCommand('editdiv', { requiredContent: 'div' }));
          a.addCommand('removediv', {
            requiredContent: 'div',
            exec: function (a) {
              function c(b) {
                if ((b = CKEDITOR.plugins.div.getSurroundDiv(a, b)) && !b.data('cke-div-added'))
                  f.push(b), b.data('cke-div-added');
              }
              for (var b = a.getSelection(), g = b && b.getRanges(), e, h = b.createBookmarks(), f = [], d = 0; d < g.length; d++)
                e = g[d], e.collapsed ? c(b.getStartElement()) : (e = new CKEDITOR.dom.walker(e), e.evaluator = c, e.lastForward());
              for (d = 0; d < f.length; d++)
                f[d].remove(!0);
              b.selectBookmarks(h);
            }
          });
          a.ui.addButton && a.ui.addButton('CreateDiv', {
            label: c.toolbar,
            command: 'creatediv',
            toolbar: 'blocks,50'
          });
          a.addMenuItems && (a.addMenuItems({
            editdiv: {
              label: c.edit,
              command: 'editdiv',
              group: 'div',
              order: 1
            },
            removediv: {
              label: c.remove,
              command: 'removediv',
              group: 'div',
              order: 5
            }
          }), a.contextMenu && a.contextMenu.addListener(function (b) {
            return !b || b.isReadOnly() ? null : CKEDITOR.plugins.div.getSurroundDiv(a) ? {
              editdiv: CKEDITOR.TRISTATE_OFF,
              removediv: CKEDITOR.TRISTATE_OFF
            } : null;
          }));
          CKEDITOR.dialog.add('creatediv', this.path + 'dialogs/div.js');
          CKEDITOR.dialog.add('editdiv', this.path + 'dialogs/div.js');
        }
      }
    });
    CKEDITOR.plugins.div = {
      getSurroundDiv: function (a, c) {
        var b = a.elementPath(c);
        return a.elementPath(b.blockLimit).contains(function (a) {
          return a.is('div') && !a.isReadOnly();
        }, 1);
      }
    };
  }());
  CKEDITOR.plugins.add('resize', {
    init: function (b) {
      var f, g, n, o, a = b.config, q = b.ui.spaceId('resizer'), h = b.element ? b.element.getDirection(1) : 'ltr';
      !a.resize_dir && (a.resize_dir = 'vertical');
      void 0 == a.resize_maxWidth && (a.resize_maxWidth = 3000);
      void 0 == a.resize_maxHeight && (a.resize_maxHeight = 3000);
      void 0 == a.resize_minWidth && (a.resize_minWidth = 750);
      void 0 == a.resize_minHeight && (a.resize_minHeight = 250);
      if (!1 !== a.resize_enabled) {
        var c = null, i = ('both' == a.resize_dir || 'horizontal' == a.resize_dir) && a.resize_minWidth != a.resize_maxWidth, l = ('both' == a.resize_dir || 'vertical' == a.resize_dir) && a.resize_minHeight != a.resize_maxHeight, j = function (d) {
            var e = f, m = g, c = e + (d.data.$.screenX - n) * ('rtl' == h ? -1 : 1), d = m + (d.data.$.screenY - o);
            i && (e = Math.max(a.resize_minWidth, Math.min(c, a.resize_maxWidth)));
            l && (m = Math.max(a.resize_minHeight, Math.min(d, a.resize_maxHeight)));
            b.resize(i ? e : null, m);
          }, k = function () {
            CKEDITOR.document.removeListener('mousemove', j);
            CKEDITOR.document.removeListener('mouseup', k);
            b.document && (b.document.removeListener('mousemove', j), b.document.removeListener('mouseup', k));
          }, p = CKEDITOR.tools.addFunction(function (d) {
            c || (c = b.getResizable());
            f = c.$.offsetWidth || 0;
            g = c.$.offsetHeight || 0;
            n = d.screenX;
            o = d.screenY;
            a.resize_minWidth > f && (a.resize_minWidth = f);
            a.resize_minHeight > g && (a.resize_minHeight = g);
            CKEDITOR.document.on('mousemove', j);
            CKEDITOR.document.on('mouseup', k);
            b.document && (b.document.on('mousemove', j), b.document.on('mouseup', k));
            d.preventDefault && d.preventDefault();
          });
        b.on('destroy', function () {
          CKEDITOR.tools.removeFunction(p);
        });
        b.on('uiSpace', function (a) {
          if ('bottom' == a.data.space) {
            var e = '';
            i && !l && (e = ' cke_resizer_horizontal');
            !i && l && (e = ' cke_resizer_vertical');
            var c = '<span id="' + q + '" class="cke_resizer' + e + ' cke_resizer_' + h + '" title="' + CKEDITOR.tools.htmlEncode(b.lang.common.resize) + '" onmousedown="CKEDITOR.tools.callFunction(' + p + ', event)">' + ('ltr' == h ? '\u25e2' : '\u25e3') + '</span>';
            'ltr' == h && 'ltr' == e ? a.data.html += c : a.data.html = c + a.data.html;
          }
        }, b, null, 100);
        b.on('maximize', function (a) {
          b.ui.space('resizer')[a.data == CKEDITOR.TRISTATE_ON ? 'hide' : 'show']();
        });
      }
    }
  });
  (function () {
    function w(a) {
      function d() {
        for (var b = g(), e = CKEDITOR.tools.clone(a.config.toolbarGroups) || n(a), f = 0; f < e.length; f++) {
          var k = e[f];
          if ('/' != k) {
            'string' == typeof k && (k = e[f] = { name: k });
            var i, d = k.groups;
            if (d)
              for (var h = 0; h < d.length; h++)
                i = d[h], (i = b[i]) && c(k, i);
            (i = b[k.name]) && c(k, i);
          }
        }
        return e;
      }
      function g() {
        var b = {}, c, f, e;
        for (c in a.ui.items)
          f = a.ui.items[c], e = f.toolbar || 'others', e = e.split(','), f = e[0], e = parseInt(e[1] || -1, 10), b[f] || (b[f] = []), b[f].push({
            name: c,
            order: e
          });
        for (f in b)
          b[f] = b[f].sort(function (b, a) {
            return b.order == a.order ? 0 : 0 > a.order ? -1 : 0 > b.order ? 1 : b.order < a.order ? -1 : 1;
          });
        return b;
      }
      function c(c, e) {
        if (e.length) {
          c.items ? c.items.push(a.ui.create('-')) : c.items = [];
          for (var f; f = e.shift();)
            if (f = 'string' == typeof f ? f : f.name, !b || -1 == CKEDITOR.tools.indexOf(b, f))
              (f = a.ui.create(f)) && a.addFeature(f) && c.items.push(f);
        }
      }
      function h(b) {
        var a = [], e, d, h;
        for (e = 0; e < b.length; ++e)
          d = b[e], h = {}, '/' == d ? a.push(d) : CKEDITOR.tools.isArray(d) ? (c(h, CKEDITOR.tools.clone(d)), a.push(h)) : d.items && (c(h, CKEDITOR.tools.clone(d.items)), h.name = d.name, a.push(h));
        return a;
      }
      var b = a.config.removeButtons, b = b && b.split(','), e = a.config.toolbar;
      'string' == typeof e && (e = a.config['toolbar_' + e]);
      return a.toolbar = e ? h(e) : d();
    }
    function n(a) {
      return a._.toolbarGroups || (a._.toolbarGroups = [
        {
          name: 'document',
          groups: [
            'mode',
            'document',
            'doctools'
          ]
        },
        {
          name: 'clipboard',
          groups: [
            'clipboard',
            'undo'
          ]
        },
        {
          name: 'editing',
          groups: [
            'find',
            'selection',
            'spellchecker'
          ]
        },
        { name: 'forms' },
        '/',
        {
          name: 'basicstyles',
          groups: [
            'basicstyles',
            'cleanup'
          ]
        },
        {
          name: 'paragraph',
          groups: [
            'list',
            'indent',
            'blocks',
            'align',
            'bidi'
          ]
        },
        { name: 'links' },
        { name: 'insert' },
        '/',
        { name: 'styles' },
        { name: 'colors' },
        { name: 'tools' },
        { name: 'others' },
        { name: 'about' }
      ]);
    }
    var u = function () {
      this.toolbars = [];
      this.focusCommandExecuted = !1;
    };
    u.prototype.focus = function () {
      for (var a = 0, d; d = this.toolbars[a++];)
        for (var g = 0, c; c = d.items[g++];)
          if (c.focus) {
            c.focus();
            return;
          }
    };
    var x = {
        modes: {
          wysiwyg: 1,
          source: 1
        },
        readOnly: 1,
        exec: function (a) {
          a.toolbox && (a.toolbox.focusCommandExecuted = !0, CKEDITOR.env.ie || CKEDITOR.env.air ? setTimeout(function () {
            a.toolbox.focus();
          }, 100) : a.toolbox.focus());
        }
      };
    CKEDITOR.plugins.add('toolbar', {
      requires: 'button',
      init: function (a) {
        var d, g = function (c, h) {
            var b, e = 'rtl' == a.lang.dir, j = a.config.toolbarGroupCycling, o = e ? 37 : 39, e = e ? 39 : 37, j = void 0 === j || j;
            switch (h) {
            case 9:
            case CKEDITOR.SHIFT + 9:
              for (; !b || !b.items.length;)
                if (b = 9 == h ? (b ? b.next : c.toolbar.next) || a.toolbox.toolbars[0] : (b ? b.previous : c.toolbar.previous) || a.toolbox.toolbars[a.toolbox.toolbars.length - 1], b.items.length)
                  for (c = b.items[d ? b.items.length - 1 : 0]; c && !c.focus;)
                    (c = d ? c.previous : c.next) || (b = 0);
              c && c.focus();
              return !1;
            case o:
              b = c;
              do
                b = b.next, !b && j && (b = c.toolbar.items[0]);
              while (b && !b.focus);
              b ? b.focus() : g(c, 9);
              return !1;
            case 40:
              return c.button && c.button.hasArrow ? (a.once('panelShow', function (b) {
                b.data._.panel._.currentBlock.onKeyDown(40);
              }), c.execute()) : g(c, 40 == h ? o : e), !1;
            case e:
            case 38:
              b = c;
              do
                b = b.previous, !b && j && (b = c.toolbar.items[c.toolbar.items.length - 1]);
              while (b && !b.focus);
              b ? b.focus() : (d = 1, g(c, CKEDITOR.SHIFT + 9), d = 0);
              return !1;
            case 27:
              return a.focus(), !1;
            case 13:
            case 32:
              return c.execute(), !1;
            }
            return !0;
          };
        a.on('uiSpace', function (c) {
          if (c.data.space == a.config.toolbarLocation) {
            c.removeListener();
            a.toolbox = new u();
            var d = CKEDITOR.tools.getNextId(), b = [
                '<span id="',
                d,
                '" class="cke_voice_label">',
                a.lang.toolbar.toolbars,
                '</span>',
                '<span id="' + a.ui.spaceId('toolbox') + '" class="cke_toolbox" role="group" aria-labelledby="',
                d,
                '" onmousedown="return false;">'
              ], d = !1 !== a.config.toolbarStartupExpanded, e, j;
            a.config.toolbarCanCollapse && a.elementMode != CKEDITOR.ELEMENT_MODE_INLINE && b.push('<span class="cke_toolbox_main"' + (d ? '>' : ' style="display:none">'));
            for (var o = a.toolbox.toolbars, f = w(a), k = 0; k < f.length; k++) {
              var i, l = 0, r, m = f[k], s;
              if (m)
                if (e && (b.push('</span>'), j = e = 0), '/' === m)
                  b.push('<span class="cke_toolbar_break"></span>');
                else {
                  s = m.items || m;
                  for (var t = 0; t < s.length; t++) {
                    var p = s[t], n;
                    if (p)
                      if (p.type == CKEDITOR.UI_SEPARATOR)
                        j = e && p;
                      else {
                        n = !1 !== p.canGroup;
                        if (!l) {
                          i = CKEDITOR.tools.getNextId();
                          l = {
                            id: i,
                            items: []
                          };
                          r = m.name && (a.lang.toolbar.toolbarGroups[m.name] || m.name);
                          b.push('<span id="', i, '" class="cke_toolbar"', r ? ' aria-labelledby="' + i + '_label"' : '', ' role="toolbar">');
                          r && b.push('<span id="', i, '_label" class="cke_voice_label">', r, '</span>');
                          b.push('<span class="cke_toolbar_start"></span>');
                          var q = o.push(l) - 1;
                          0 < q && (l.previous = o[q - 1], l.previous.next = l);
                        }
                        n ? e || (b.push('<span class="cke_toolgroup" role="presentation">'), e = 1) : e && (b.push('</span>'), e = 0);
                        i = function (c) {
                          c = c.render(a, b);
                          q = l.items.push(c) - 1;
                          if (q > 0) {
                            c.previous = l.items[q - 1];
                            c.previous.next = c;
                          }
                          c.toolbar = l;
                          c.onkey = g;
                          c.onfocus = function () {
                            a.toolbox.focusCommandExecuted || a.focus();
                          };
                        };
                        j && (i(j), j = 0);
                        i(p);
                      }
                  }
                  e && (b.push('</span>'), j = e = 0);
                  l && b.push('<span class="cke_toolbar_end"></span></span>');
                }
            }
            a.config.toolbarCanCollapse && b.push('</span>');
            if (a.config.toolbarCanCollapse && a.elementMode != CKEDITOR.ELEMENT_MODE_INLINE) {
              var v = CKEDITOR.tools.addFunction(function () {
                  a.execCommand('toolbarCollapse');
                });
              a.on('destroy', function () {
                CKEDITOR.tools.removeFunction(v);
              });
              a.addCommand('toolbarCollapse', {
                readOnly: 1,
                exec: function (b) {
                  var a = b.ui.space('toolbar_collapser'), c = a.getPrevious(), e = b.ui.space('contents'), d = c.getParent(), f = parseInt(e.$.style.height, 10), h = d.$.offsetHeight, g = a.hasClass('cke_toolbox_collapser_min');
                  g ? (c.show(), a.removeClass('cke_toolbox_collapser_min'), a.setAttribute('title', b.lang.toolbar.toolbarCollapse)) : (c.hide(), a.addClass('cke_toolbox_collapser_min'), a.setAttribute('title', b.lang.toolbar.toolbarExpand));
                  a.getFirst().setText(g ? '\u25b2' : '\u25c0');
                  e.setStyle('height', f - (d.$.offsetHeight - h) + 'px');
                  b.fire('resize');
                },
                modes: {
                  wysiwyg: 1,
                  source: 1
                }
              });
              a.setKeystroke(CKEDITOR.ALT + (CKEDITOR.env.ie || CKEDITOR.env.webkit ? 189 : 109), 'toolbarCollapse');
              b.push('<a title="' + (d ? a.lang.toolbar.toolbarCollapse : a.lang.toolbar.toolbarExpand) + '" id="' + a.ui.spaceId('toolbar_collapser') + '" tabIndex="-1" class="cke_toolbox_collapser');
              d || b.push(' cke_toolbox_collapser_min');
              b.push('" onclick="CKEDITOR.tools.callFunction(' + v + ')">', '<span class="cke_arrow">&#9650;</span>', '</a>');
            }
            b.push('</span>');
            c.data.html += b.join('');
          }
        });
        a.on('destroy', function () {
          if (this.toolbox) {
            var a, d = 0, b, e, g;
            for (a = this.toolbox.toolbars; d < a.length; d++) {
              e = a[d].items;
              for (b = 0; b < e.length; b++)
                g = e[b], g.clickFn && CKEDITOR.tools.removeFunction(g.clickFn), g.keyDownFn && CKEDITOR.tools.removeFunction(g.keyDownFn);
            }
          }
        });
        a.on('uiReady', function () {
          var c = a.ui.space('toolbox');
          c && a.focusManager.add(c, 1);
        });
        a.addCommand('toolbarFocus', x);
        a.setKeystroke(CKEDITOR.ALT + 121, 'toolbarFocus');
        a.ui.add('-', CKEDITOR.UI_SEPARATOR, {});
        a.ui.addHandler(CKEDITOR.UI_SEPARATOR, {
          create: function () {
            return {
              render: function (a, d) {
                d.push('<span class="cke_toolbar_separator" role="separator"></span>');
                return {};
              }
            };
          }
        });
      }
    });
    CKEDITOR.ui.prototype.addToolbarGroup = function (a, d, g) {
      var c = n(this.editor), h = 0 === d, b = { name: a };
      if (g) {
        if (g = CKEDITOR.tools.search(c, function (a) {
            return a.name == g;
          })) {
          !g.groups && (g.groups = []);
          if (d && (d = CKEDITOR.tools.indexOf(g.groups, d), 0 <= d)) {
            g.groups.splice(d + 1, 0, a);
            return;
          }
          h ? g.groups.splice(0, 0, a) : g.groups.push(a);
          return;
        }
        d = null;
      }
      d && (d = CKEDITOR.tools.indexOf(c, function (a) {
        return a.name == d;
      }));
      h ? c.splice(0, 0, a) : 'number' == typeof d ? c.splice(d + 1, 0, b) : c.push(a);
    };
  }());
  CKEDITOR.UI_SEPARATOR = 'separator';
  CKEDITOR.config.toolbarLocation = 'top';
  (function () {
    var k;
    function n(a, c) {
      function j(d) {
        d = i.list[d];
        if (d.equals(a.editable()) || 'true' == d.getAttribute('contenteditable')) {
          var e = a.createRange();
          e.selectNodeContents(d);
          e.select();
        } else
          a.getSelection().selectElement(d);
        a.focus();
      }
      function s() {
        l && l.setHtml(o);
        delete i.list;
      }
      var m = a.ui.spaceId('path'), l, i = a._.elementsPath, n = i.idBase;
      c.html += '<span id="' + m + '_label" class="cke_voice_label">' + a.lang.elementspath.eleLabel + '</span><span id="' + m + '" class="cke_path" role="group" aria-labelledby="' + m + '_label">' + o + '</span>';
      a.on('uiReady', function () {
        var d = a.ui.space('path');
        d && a.focusManager.add(d, 1);
      });
      i.onClick = j;
      var t = CKEDITOR.tools.addFunction(j), u = CKEDITOR.tools.addFunction(function (d, e) {
          var g = i.idBase, b, e = new CKEDITOR.dom.event(e);
          b = 'rtl' == a.lang.dir;
          switch (e.getKeystroke()) {
          case b ? 39 : 37:
          case 9:
            return (b = CKEDITOR.document.getById(g + (d + 1))) || (b = CKEDITOR.document.getById(g + '0')), b.focus(), !1;
          case b ? 37 : 39:
          case CKEDITOR.SHIFT + 9:
            return (b = CKEDITOR.document.getById(g + (d - 1))) || (b = CKEDITOR.document.getById(g + (i.list.length - 1))), b.focus(), !1;
          case 27:
            return a.focus(), !1;
          case 13:
          case 32:
            return j(d), !1;
          }
          return !0;
        });
      a.on('selectionChange', function () {
        a.editable();
        for (var d = [], e = i.list = [], g = [], b = i.filters, c = !0, j = a.elementPath().elements, f, k = j.length; k--;) {
          var h = j[k], p = 0;
          f = h.data('cke-display-name') ? h.data('cke-display-name') : h.data('cke-real-element-type') ? h.data('cke-real-element-type') : h.getName();
          c = h.hasAttribute('contenteditable') ? 'true' == h.getAttribute('contenteditable') : c;
          !c && !h.hasAttribute('contenteditable') && (p = 1);
          for (var q = 0; q < b.length; q++) {
            var r = b[q](h, f);
            if (!1 === r) {
              p = 1;
              break;
            }
            f = r || f;
          }
          p || (e.unshift(h), g.unshift(f));
        }
        e = e.length;
        for (b = 0; b < e; b++)
          f = g[b], c = a.lang.elementspath.eleTitle.replace(/%1/, f), f = v.output({
            id: n + b,
            label: c,
            text: f,
            jsTitle: 'javascript:void(\'' + f + '\')',
            index: b,
            keyDownFn: u,
            clickFn: t
          }), d.unshift(f);
        l || (l = CKEDITOR.document.getById(m));
        g = l;
        g.setHtml(d.join('') + o);
        a.fire('elementsPathUpdate', { space: g });
      });
      a.on('readOnly', s);
      a.on('contentDomUnload', s);
      a.addCommand('elementsPathFocus', k);
      a.setKeystroke(CKEDITOR.ALT + 122, 'elementsPathFocus');
    }
    k = {
      editorFocus: !1,
      readOnly: 1,
      exec: function (a) {
        (a = CKEDITOR.document.getById(a._.elementsPath.idBase + '0')) && a.focus(CKEDITOR.env.ie || CKEDITOR.env.air);
      }
    };
    var o = '<span class="cke_path_empty">&nbsp;</span>', c = '';
    CKEDITOR.env.gecko && CKEDITOR.env.mac && (c += ' onkeypress="return false;"');
    CKEDITOR.env.gecko && (c += ' onblur="this.style.cssText = this.style.cssText;"');
    var v = CKEDITOR.addTemplate('pathItem', '<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"' + c + ' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');
    CKEDITOR.plugins.add('elementspath', {
      init: function (a) {
        a._.elementsPath = {
          idBase: 'cke_elementspath_' + CKEDITOR.tools.getNextNumber() + '_',
          filters: []
        };
        a.on('uiSpace', function (c) {
          'bottom' == c.data.space && n(a, c.data);
        });
      }
    });
  }());
  (function () {
    function m(b, d, a) {
      a = b.config.forceEnterMode || a;
      'wysiwyg' == b.mode && (d || (d = b.activeEnterMode), b.elementPath().isContextFor('p') || (d = CKEDITOR.ENTER_BR, a = 1), b.fire('saveSnapshot'), d == CKEDITOR.ENTER_BR ? p(b, d, null, a) : q(b, d, null, a), b.fire('saveSnapshot'));
    }
    function r(b) {
      for (var b = b.getSelection().getRanges(!0), d = b.length - 1; 0 < d; d--)
        b[d].deleteContents();
      return b[0];
    }
    function u(b) {
      var d = b.startContainer.getAscendant(function (a) {
          return a.type == CKEDITOR.NODE_ELEMENT && 'true' == a.getAttribute('contenteditable');
        }, !0);
      if (b.root.equals(d))
        return b;
      d = new CKEDITOR.dom.range(d);
      d.moveToRange(b);
      return d;
    }
    CKEDITOR.plugins.add('enterkey', {
      init: function (b) {
        b.addCommand('enter', {
          modes: { wysiwyg: 1 },
          editorFocus: !1,
          exec: function (b) {
            m(b);
          }
        });
        b.addCommand('shiftEnter', {
          modes: { wysiwyg: 1 },
          editorFocus: !1,
          exec: function (b) {
            m(b, b.activeShiftEnterMode, 1);
          }
        });
        b.setKeystroke([
          [
            13,
            'enter'
          ],
          [
            CKEDITOR.SHIFT + 13,
            'shiftEnter'
          ]
        ]);
      }
    });
    var v = CKEDITOR.dom.walker.whitespaces(), w = CKEDITOR.dom.walker.bookmark();
    CKEDITOR.plugins.enterkey = {
      enterBlock: function (b, d, a, h) {
        if (a = a || r(b)) {
          var a = u(a), f = a.document, i = a.checkStartOfBlock(), k = a.checkEndOfBlock(), j = b.elementPath(a.startContainer), c = j.block, l = d == CKEDITOR.ENTER_DIV ? 'div' : 'p', e;
          if (i && k) {
            if (c && (c.is('li') || c.getParent().is('li'))) {
              c.is('li') || (c = c.getParent());
              a = c.getParent();
              e = a.getParent();
              var h = !c.hasPrevious(), n = !c.hasNext(), l = b.getSelection(), g = l.createBookmarks(), i = c.getDirection(1), k = c.getAttribute('class'), o = c.getAttribute('style'), m = e.getDirection(1) != i, b = b.enterMode != CKEDITOR.ENTER_BR || m || o || k;
              if (e.is('li'))
                if (h || n)
                  c[h ? 'insertBefore' : 'insertAfter'](e);
                else
                  c.breakParent(e);
              else {
                if (b)
                  if (j.block.is('li') ? (e = f.createElement(d == CKEDITOR.ENTER_P ? 'p' : 'div'), m && e.setAttribute('dir', i), o && e.setAttribute('style', o), k && e.setAttribute('class', k), c.moveChildren(e)) : e = j.block, h || n)
                    e[h ? 'insertBefore' : 'insertAfter'](a);
                  else
                    c.breakParent(a), e.insertAfter(a);
                else if (c.appendBogus(!0), h || n)
                  for (; f = c[h ? 'getFirst' : 'getLast']();)
                    f[h ? 'insertBefore' : 'insertAfter'](a);
                else
                  for (c.breakParent(a); f = c.getLast();)
                    f.insertAfter(a);
                c.remove();
              }
              l.selectBookmarks(g);
              return;
            }
            if (c && c.getParent().is('blockquote')) {
              c.breakParent(c.getParent());
              c.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1)) || c.getPrevious().remove();
              c.getNext().getFirst(CKEDITOR.dom.walker.invisible(1)) || c.getNext().remove();
              a.moveToElementEditStart(c);
              a.select();
              return;
            }
          } else if (c && c.is('pre') && !k) {
            p(b, d, a, h);
            return;
          }
          if (i = a.splitBlock(l)) {
            d = i.previousBlock;
            c = i.nextBlock;
            j = i.wasStartOfBlock;
            b = i.wasEndOfBlock;
            if (c)
              g = c.getParent(), g.is('li') && (c.breakParent(g), c.move(c.getNext(), 1));
            else if (d && (g = d.getParent()) && g.is('li'))
              d.breakParent(g), g = d.getNext(), a.moveToElementEditStart(g), d.move(d.getPrevious());
            if (!j && !b)
              c.is('li') && (e = a.clone(), e.selectNodeContents(c), e = new CKEDITOR.dom.walker(e), e.evaluator = function (a) {
                return !(w(a) || v(a) || a.type == CKEDITOR.NODE_ELEMENT && a.getName() in CKEDITOR.dtd.$inline && !(a.getName() in CKEDITOR.dtd.$empty));
              }, (g = e.next()) && (g.type == CKEDITOR.NODE_ELEMENT && g.is('ul', 'ol')) && (CKEDITOR.env.needsBrFiller ? f.createElement('br') : f.createText('\xa0')).insertBefore(g)), c && a.moveToElementEditStart(c);
            else {
              if (d) {
                if (d.is('li') || !s.test(d.getName()) && !d.is('pre'))
                  e = d.clone();
              } else
                c && (e = c.clone());
              e ? h && !e.is('li') && e.renameNode(l) : g && g.is('li') ? e = g : (e = f.createElement(l), d && (n = d.getDirection()) && e.setAttribute('dir', n));
              if (f = i.elementPath) {
                h = 0;
                for (l = f.elements.length; h < l; h++) {
                  g = f.elements[h];
                  if (g.equals(f.block) || g.equals(f.blockLimit))
                    break;
                  CKEDITOR.dtd.$removeEmpty[g.getName()] && (g = g.clone(), e.moveChildren(g), e.append(g));
                }
              }
              e.appendBogus();
              e.getParent() || a.insertNode(e);
              e.is('li') && e.removeAttribute('value');
              if (CKEDITOR.env.ie && j && (!b || !d.getChildCount()))
                a.moveToElementEditStart(b ? d : e), a.select();
              a.moveToElementEditStart(j && !b ? c : e);
            }
            a.select();
            a.scrollIntoView();
          }
        }
      },
      enterBr: function (b, d, a, h) {
        if (a = a || r(b)) {
          var f = a.document, i = a.checkEndOfBlock(), k = new CKEDITOR.dom.elementPath(b.getSelection().getStartElement()), j = k.block, c = j && k.block.getName();
          !h && 'li' == c ? q(b, d, a, h) : (!h && i && s.test(c) ? (i = j.getDirection()) ? (f = f.createElement('div'), f.setAttribute('dir', i), f.insertAfter(j), a.setStart(f, 0)) : (f.createElement('br').insertAfter(j), CKEDITOR.env.gecko && f.createText('').insertAfter(j), a.setStartAt(j.getNext(), CKEDITOR.env.ie ? CKEDITOR.POSITION_BEFORE_START : CKEDITOR.POSITION_AFTER_START)) : (b = 'pre' == c && CKEDITOR.env.ie && 8 > CKEDITOR.env.version ? f.createText('\r') : f.createElement('br'), a.deleteContents(), a.insertNode(b), CKEDITOR.env.needsBrFiller ? (f.createText('\ufeff').insertAfter(b), i && (j || k.blockLimit).appendBogus(), b.getNext().$.nodeValue = '', a.setStartAt(b.getNext(), CKEDITOR.POSITION_AFTER_START)) : a.setStartAt(b, CKEDITOR.POSITION_AFTER_END)), a.collapse(!0), a.select(), a.scrollIntoView());
        }
      }
    };
    var t = CKEDITOR.plugins.enterkey, p = t.enterBr, q = t.enterBlock, s = /^h[1-6]$/;
  }());
  (function () {
    function j(a, b) {
      var d = {}, e = [], f = {
          nbsp: '\xa0',
          shy: '\xad',
          gt: '>',
          lt: '<',
          amp: '&',
          apos: '\'',
          quot: '"'
        }, a = a.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g, function (a, h) {
          var c = b ? '&' + h + ';' : f[h];
          d[c] = b ? f[h] : '&' + h + ';';
          e.push(c);
          return '';
        });
      if (!b && a) {
        var a = a.split(','), c = document.createElement('div'), g;
        c.innerHTML = '&' + a.join(';&') + ';';
        g = c.innerHTML;
        c = null;
        for (c = 0; c < g.length; c++) {
          var i = g.charAt(c);
          d[i] = '&' + a[c] + ';';
          e.push(i);
        }
      }
      d.regex = e.join(b ? '|' : '');
      return d;
    }
    CKEDITOR.plugins.add('entities', {
      afterInit: function (a) {
        var b = a.config;
        if (a = (a = a.dataProcessor) && a.htmlFilter) {
          var d = [];
          !1 !== b.basicEntities && d.push('nbsp,gt,lt,amp');
          b.entities && (d.length && d.push('quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro'), b.entities_latin && d.push('Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml'), b.entities_greek && d.push('Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv'), b.entities_additional && d.push(b.entities_additional));
          var e = j(d.join(',')), f = e.regex ? '[' + e.regex + ']' : 'a^';
          delete e.regex;
          b.entities && b.entities_processNumerical && (f = '[^ -~]|' + f);
          var f = RegExp(f, 'g'), c = function (a) {
              return b.entities_processNumerical == 'force' || !e[a] ? '&#' + a.charCodeAt(0) + ';' : e[a];
            }, g = j('nbsp,gt,lt,amp,shy', !0), i = RegExp(g.regex, 'g'), k = function (a) {
              return g[a];
            };
          a.addRules({
            text: function (a) {
              return a.replace(i, k).replace(f, c);
            }
          }, {
            applyToAll: !0,
            excludeNestedEditable: !0
          });
        }
      }
    });
  }());
  CKEDITOR.config.basicEntities = !0;
  CKEDITOR.config.entities = !0;
  CKEDITOR.config.entities_latin = !0;
  CKEDITOR.config.entities_greek = !0;
  CKEDITOR.config.entities_additional = '#39';
  CKEDITOR.plugins.add('popup');
  CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
    popup: function (e, a, b, d) {
      a = a || '80%';
      b = b || '70%';
      'string' == typeof a && (1 < a.length && '%' == a.substr(a.length - 1, 1)) && (a = parseInt(window.screen.width * parseInt(a, 10) / 100, 10));
      'string' == typeof b && (1 < b.length && '%' == b.substr(b.length - 1, 1)) && (b = parseInt(window.screen.height * parseInt(b, 10) / 100, 10));
      640 > a && (a = 640);
      420 > b && (b = 420);
      var f = parseInt((window.screen.height - b) / 2, 10), g = parseInt((window.screen.width - a) / 2, 10), d = (d || 'location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes') + ',width=' + a + ',height=' + b + ',top=' + f + ',left=' + g, c = window.open('', null, d, !0);
      if (!c)
        return !1;
      try {
        -1 == navigator.userAgent.toLowerCase().indexOf(' chrome/') && (c.moveTo(g, f), c.resizeTo(a, b)), c.focus(), c.location.href = e;
      } catch (h) {
        window.open(e, null, d, !0);
      }
      return !0;
    }
  });
  (function () {
    function g(a, c) {
      var d = [];
      if (c)
        for (var b in c)
          d.push(b + '=' + encodeURIComponent(c[b]));
      else
        return a;
      return a + (-1 != a.indexOf('?') ? '&' : '?') + d.join('&');
    }
    function i(a) {
      a += '';
      return a.charAt(0).toUpperCase() + a.substr(1);
    }
    function k() {
      var a = this.getDialog(), c = a.getParentEditor();
      c._.filebrowserSe = this;
      var d = c.config['filebrowser' + i(a.getName()) + 'WindowWidth'] || c.config.filebrowserWindowWidth || '80%', a = c.config['filebrowser' + i(a.getName()) + 'WindowHeight'] || c.config.filebrowserWindowHeight || '70%', b = this.filebrowser.params || {};
      b.CKEditor = c.name;
      b.CKEditorFuncNum = c._.filebrowserFn;
      b.langCode || (b.langCode = c.langCode);
      b = g(this.filebrowser.url, b);
      c.popup(b, d, a, c.config.filebrowserWindowFeatures || c.config.fileBrowserWindowFeatures);
    }
    function l() {
      var a = this.getDialog();
      a.getParentEditor()._.filebrowserSe = this;
      return !a.getContentElement(this['for'][0], this['for'][1]).getInputElement().$.value || !a.getContentElement(this['for'][0], this['for'][1]).getAction() ? !1 : !0;
    }
    function m(a, c, d) {
      var b = d.params || {};
      b.CKEditor = a.name;
      b.CKEditorFuncNum = a._.filebrowserFn;
      b.langCode || (b.langCode = a.langCode);
      c.action = g(d.url, b);
      c.filebrowser = d;
    }
    function j(a, c, d, b) {
      if (b && b.length)
        for (var e, g = b.length; g--;)
          if (e = b[g], ('hbox' == e.type || 'vbox' == e.type || 'fieldset' == e.type) && j(a, c, d, e.children), e.filebrowser)
            if ('string' == typeof e.filebrowser && (e.filebrowser = {
                action: 'fileButton' == e.type ? 'QuickUpload' : 'Browse',
                target: e.filebrowser
              }), 'Browse' == e.filebrowser.action) {
              var f = e.filebrowser.url;
              void 0 === f && (f = a.config['filebrowser' + i(c) + 'BrowseUrl'], void 0 === f && (f = a.config.filebrowserBrowseUrl));
              f && (e.onClick = k, e.filebrowser.url = f, e.hidden = !1);
            } else if ('QuickUpload' == e.filebrowser.action && e['for'] && (f = e.filebrowser.url, void 0 === f && (f = a.config['filebrowser' + i(c) + 'UploadUrl'], void 0 === f && (f = a.config.filebrowserUploadUrl)), f)) {
              var h = e.onClick;
              e.onClick = function (a) {
                var b = a.sender;
                return h && h.call(b, a) === false ? false : l.call(b, a);
              };
              e.filebrowser.url = f;
              e.hidden = !1;
              m(a, d.getContents(e['for'][0]).get(e['for'][1]), e.filebrowser);
            }
    }
    function h(a, c, d) {
      if (-1 !== d.indexOf(';')) {
        for (var d = d.split(';'), b = 0; b < d.length; b++)
          if (h(a, c, d[b]))
            return !0;
        return !1;
      }
      return (a = a.getContents(c).get(d).filebrowser) && a.url;
    }
    function n(a, c) {
      var d = this._.filebrowserSe.getDialog(), b = this._.filebrowserSe['for'], e = this._.filebrowserSe.filebrowser.onSelect;
      b && d.getContentElement(b[0], b[1]).reset();
      if (!('function' == typeof c && !1 === c.call(this._.filebrowserSe)) && !(e && !1 === e.call(this._.filebrowserSe, a, c)) && ('string' == typeof c && c && alert(c), a && (b = this._.filebrowserSe, d = b.getDialog(), b = b.filebrowser.target || null)))
        if (b = b.split(':'), e = d.getContentElement(b[0], b[1]))
          e.setValue(a), d.selectPage(b[0]);
    }
    CKEDITOR.plugins.add('filebrowser', {
      requires: 'popup',
      init: function (a) {
        a._.filebrowserFn = CKEDITOR.tools.addFunction(n, a);
        a.on('destroy', function () {
          CKEDITOR.tools.removeFunction(this._.filebrowserFn);
        });
      }
    });
    CKEDITOR.on('dialogDefinition', function (a) {
      if (a.editor.plugins.filebrowser)
        for (var c = a.data.definition, d, b = 0; b < c.contents.length; ++b)
          if (d = c.contents[b])
            j(a.editor, a.data.name, c, d.elements), d.hidden && d.filebrowser && (d.hidden = !h(c, d.id, d.filebrowser));
    });
  }());
  CKEDITOR.plugins.add('find', {
    requires: 'dialog',
    init: function (a) {
      var b = a.addCommand('find', new CKEDITOR.dialogCommand('find'));
      b.canUndo = !1;
      b.readOnly = 1;
      a.addCommand('replace', new CKEDITOR.dialogCommand('replace')).canUndo = !1;
      a.ui.addButton && (a.ui.addButton('Find', {
        label: a.lang.find.find,
        command: 'find',
        toolbar: 'find,10'
      }), a.ui.addButton('Replace', {
        label: a.lang.find.replace,
        command: 'replace',
        toolbar: 'find,20'
      }));
      CKEDITOR.dialog.add('find', this.path + 'dialogs/find.js');
      CKEDITOR.dialog.add('replace', this.path + 'dialogs/find.js');
    }
  });
  CKEDITOR.config.find_highlight = {
    element: 'span',
    styles: {
      'background-color': '#004',
      color: '#fff'
    }
  };
  (function () {
    function g(a, b) {
      var c = j.exec(a), d = j.exec(b);
      if (c) {
        if (!c[2] && 'px' == d[2])
          return d[1];
        if ('px' == c[2] && !d[2])
          return d[1] + 'px';
      }
      return b;
    }
    var i = CKEDITOR.htmlParser.cssStyle, h = CKEDITOR.tools.cssLength, j = /^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i, k = {
        elements: {
          $: function (a) {
            var b = a.attributes;
            if ((b = (b = (b = b && b['data-cke-realelement']) && new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(b))) && b.children[0]) && a.attributes['data-cke-resizable']) {
              var c = new i(a).rules, a = b.attributes, d = c.width, c = c.height;
              d && (a.width = g(a.width, d));
              c && (a.height = g(a.height, c));
            }
            return b;
          }
        }
      };
    CKEDITOR.plugins.add('fakeobjects', {
      init: function (a) {
        a.filter.allow('img[!data-cke-realelement,src,alt,title](*){*}', 'fakeobjects');
      },
      afterInit: function (a) {
        (a = (a = a.dataProcessor) && a.htmlFilter) && a.addRules(k, { applyToAll: !0 });
      }
    });
    CKEDITOR.editor.prototype.createFakeElement = function (a, b, c, d) {
      var e = this.lang.fakeobjects, e = e[c] || e.unknown, b = {
          'class': b,
          'data-cke-realelement': encodeURIComponent(a.getOuterHtml()),
          'data-cke-real-node-type': a.type,
          alt: e,
          title: e,
          align: a.getAttribute('align') || ''
        };
      CKEDITOR.env.hc || (b.src = CKEDITOR.tools.transparentImageData);
      c && (b['data-cke-real-element-type'] = c);
      d && (b['data-cke-resizable'] = d, c = new i(), d = a.getAttribute('width'), a = a.getAttribute('height'), d && (c.rules.width = h(d)), a && (c.rules.height = h(a)), c.populate(b));
      return this.document.createElement('img', { attributes: b });
    };
    CKEDITOR.editor.prototype.createFakeParserElement = function (a, b, c, d) {
      var e = this.lang.fakeobjects, e = e[c] || e.unknown, f;
      f = new CKEDITOR.htmlParser.basicWriter();
      a.writeHtml(f);
      f = f.getHtml();
      b = {
        'class': b,
        'data-cke-realelement': encodeURIComponent(f),
        'data-cke-real-node-type': a.type,
        alt: e,
        title: e,
        align: a.attributes.align || ''
      };
      CKEDITOR.env.hc || (b.src = CKEDITOR.tools.transparentImageData);
      c && (b['data-cke-real-element-type'] = c);
      d && (b['data-cke-resizable'] = d, d = a.attributes, a = new i(), c = d.width, d = d.height, void 0 != c && (a.rules.width = h(c)), void 0 != d && (a.rules.height = h(d)), a.populate(b));
      return new CKEDITOR.htmlParser.element('img', b);
    };
    CKEDITOR.editor.prototype.restoreRealElement = function (a) {
      if (a.data('cke-real-node-type') != CKEDITOR.NODE_ELEMENT)
        return null;
      var b = CKEDITOR.dom.element.createFromHtml(decodeURIComponent(a.data('cke-realelement')), this.document);
      if (a.data('cke-resizable')) {
        var c = a.getStyle('width'), a = a.getStyle('height');
        c && b.setAttribute('width', g(b.getAttribute('width'), c));
        a && b.setAttribute('height', g(b.getAttribute('height'), a));
      }
      return b;
    };
  }());
  (function () {
    function d(a) {
      a = a.attributes;
      return 'application/x-shockwave-flash' == a.type || f.test(a.src || '');
    }
    function e(a, b) {
      return a.createFakeParserElement(b, 'cke_flash', 'flash', !0);
    }
    var f = /\.swf(?:$|\?)/i;
    CKEDITOR.plugins.add('flash', {
      requires: 'dialog,fakeobjects',
      onLoad: function () {
        CKEDITOR.addCss('img.cke_flash{background-image: url(' + CKEDITOR.getUrl(this.path + 'images/placeholder.png') + ');background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}');
      },
      init: function (a) {
        var b = 'object[classid,codebase,height,hspace,vspace,width];param[name,value];embed[height,hspace,pluginspage,src,type,vspace,width]';
        CKEDITOR.dialog.isTabEnabled(a, 'flash', 'properties') && (b += ';object[align]; embed[allowscriptaccess,quality,scale,wmode]');
        CKEDITOR.dialog.isTabEnabled(a, 'flash', 'advanced') && (b += ';object[id]{*}; embed[bgcolor]{*}(*)');
        a.addCommand('flash', new CKEDITOR.dialogCommand('flash', {
          allowedContent: b,
          requiredContent: 'embed'
        }));
        a.ui.addButton && a.ui.addButton('Flash', {
          label: a.lang.common.flash,
          command: 'flash',
          toolbar: 'insert,20'
        });
        CKEDITOR.dialog.add('flash', this.path + 'dialogs/flash.js');
        a.addMenuItems && a.addMenuItems({
          flash: {
            label: a.lang.flash.properties,
            command: 'flash',
            group: 'flash'
          }
        });
        a.on('doubleclick', function (a) {
          var b = a.data.element;
          b.is('img') && 'flash' == b.data('cke-real-element-type') && (a.data.dialog = 'flash');
        });
        a.contextMenu && a.contextMenu.addListener(function (a) {
          if (a && a.is('img') && !a.isReadOnly() && 'flash' == a.data('cke-real-element-type'))
            return { flash: CKEDITOR.TRISTATE_OFF };
        });
      },
      afterInit: function (a) {
        var b = a.dataProcessor;
        (b = b && b.dataFilter) && b.addRules({
          elements: {
            'cke:object': function (b) {
              var c = b.attributes;
              if ((!c.classid || !('' + c.classid).toLowerCase()) && !d(b)) {
                for (c = 0; c < b.children.length; c++)
                  if ('cke:embed' == b.children[c].name) {
                    if (!d(b.children[c]))
                      break;
                    return e(a, b);
                  }
                return null;
              }
              return e(a, b);
            },
            'cke:embed': function (b) {
              return !d(b) ? null : e(a, b);
            }
          }
        }, 5);
      }
    });
  }());
  CKEDITOR.tools.extend(CKEDITOR.config, {
    flashEmbedTagOnly: !1,
    flashAddEmbedTag: !0,
    flashConvertOnEdit: !1
  });
  (function () {
    function i(a) {
      var j = a.config, m = a.fire('uiSpace', {
          space: 'top',
          html: ''
        }).html, p = function () {
          function f(a, c, e) {
            b.setStyle(c, s(e));
            b.setStyle('position', a);
          }
          function e(a) {
            var b = i.getDocumentPosition();
            switch (a) {
            case 'top':
              f('absolute', 'top', b.y - n - o);
              break;
            case 'pin':
              f('fixed', 'top', t);
              break;
            case 'bottom':
              f('absolute', 'top', b.y + (c.height || c.bottom - c.top) + o);
            }
            k = a;
          }
          var k, i, l, c, h, n, r, m = j.floatSpaceDockedOffsetX || 0, o = j.floatSpaceDockedOffsetY || 0, q = j.floatSpacePinnedOffsetX || 0, t = j.floatSpacePinnedOffsetY || 0;
          return function (d) {
            if (i = a.editable())
              if (d && 'focus' == d.name && b.show(), b.removeStyle('left'), b.removeStyle('right'), l = b.getClientRect(), c = i.getClientRect(), h = g.getViewPaneSize(), n = l.height, r = 'pageXOffset' in g.$ ? g.$.pageXOffset : CKEDITOR.document.$.documentElement.scrollLeft, k) {
                n + o <= c.top ? e('top') : n + o > h.height - c.bottom ? e('pin') : e('bottom');
                var d = h.width / 2, d = 0 < c.left && c.right < h.width && c.width > l.width ? 'rtl' == a.config.contentsLangDirection ? 'right' : 'left' : d - c.left > c.right - d ? 'left' : 'right', f;
                l.width > h.width ? (d = 'left', f = 0) : (f = 'left' == d ? 0 < c.left ? c.left : 0 : c.right < h.width ? h.width - c.right : 0, f + l.width > h.width && (d = 'left' == d ? 'right' : 'left', f = 0));
                b.setStyle(d, s(('pin' == k ? q : m) + f + ('pin' == k ? 0 : 'left' == d ? r : -r)));
              } else
                k = 'pin', e('pin'), p(d);
          };
        }();
      if (m) {
        var i = new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} ' + CKEDITOR.env.cssClass + '" dir="{langDir}" title="' + (CKEDITOR.env.gecko ? ' ' : '') + '" lang="{langCode}" role="application" style="{style}"' + (a.title ? ' aria-labelledby="cke_{name}_arialbl"' : ' ') + '>' + (a.title ? '<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>' : ' ') + '<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'), b = CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(i.output({
            content: m,
            id: a.id,
            langDir: a.lang.dir,
            langCode: a.langCode,
            name: a.name,
            style: 'display:none;z-index:' + (j.baseFloatZIndex - 1),
            topId: a.ui.spaceId('top'),
            voiceLabel: a.title
          }))), q = CKEDITOR.tools.eventsBuffer(500, p), e = CKEDITOR.tools.eventsBuffer(100, p);
        b.unselectable();
        b.on('mousedown', function (a) {
          a = a.data;
          a.getTarget().hasAscendant('a', 1) || a.preventDefault();
        });
        a.on('focus', function (b) {
          p(b);
          a.on('change', q.input);
          g.on('scroll', e.input);
          g.on('resize', e.input);
        });
        a.on('blur', function () {
          b.hide();
          a.removeListener('change', q.input);
          g.removeListener('scroll', e.input);
          g.removeListener('resize', e.input);
        });
        a.on('destroy', function () {
          g.removeListener('scroll', e.input);
          g.removeListener('resize', e.input);
          b.clearCustomData();
          b.remove();
        });
        a.focusManager.hasFocus && b.show();
        a.focusManager.add(b, 1);
      }
    }
    var g = CKEDITOR.document.getWindow(), s = CKEDITOR.tools.cssLength;
    CKEDITOR.plugins.add('floatingspace', {
      init: function (a) {
        a.on('loaded', function () {
          i(this);
        }, null, null, 20);
      }
    });
  }());
  CKEDITOR.plugins.add('listblock', {
    requires: 'panel',
    onLoad: function () {
      var f = CKEDITOR.addTemplate('panel-list', '<ul role="presentation" class="cke_panel_list">{items}</ul>'), g = CKEDITOR.addTemplate('panel-list-item', '<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'), h = CKEDITOR.addTemplate('panel-list-group', '<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'), i = /\'/g;
      CKEDITOR.ui.panel.prototype.addListBlock = function (a, b) {
        return this.addBlock(a, new CKEDITOR.ui.listBlock(this.getHolderElement(), b));
      };
      CKEDITOR.ui.listBlock = CKEDITOR.tools.createClass({
        base: CKEDITOR.ui.panel.block,
        $: function (a, b) {
          var b = b || {}, c = b.attributes || (b.attributes = {});
          (this.multiSelect = !!b.multiSelect) && (c['aria-multiselectable'] = !0);
          !c.role && (c.role = 'listbox');
          this.base.apply(this, arguments);
          this.element.setAttribute('role', c.role);
          c = this.keys;
          c[40] = 'next';
          c[9] = 'next';
          c[38] = 'prev';
          c[CKEDITOR.SHIFT + 9] = 'prev';
          c[32] = CKEDITOR.env.ie ? 'mouseup' : 'click';
          CKEDITOR.env.ie && (c[13] = 'mouseup');
          this._.pendingHtml = [];
          this._.pendingList = [];
          this._.items = {};
          this._.groups = {};
        },
        _: {
          close: function () {
            if (this._.started) {
              var a = f.output({ items: this._.pendingList.join('') });
              this._.pendingList = [];
              this._.pendingHtml.push(a);
              delete this._.started;
            }
          },
          getClick: function () {
            this._.click || (this._.click = CKEDITOR.tools.addFunction(function (a) {
              var b = this.toggle(a);
              if (this.onClick)
                this.onClick(a, b);
            }, this));
            return this._.click;
          }
        },
        proto: {
          add: function (a, b, c) {
            var d = CKEDITOR.tools.getNextId();
            this._.started || (this._.started = 1, this._.size = this._.size || 0);
            this._.items[a] = d;
            var e;
            e = CKEDITOR.tools.htmlEncodeAttr(a).replace(i, '\\\'');
            a = {
              id: d,
              val: e,
              onclick: CKEDITOR.env.ie ? 'onclick="return false;" onmouseup' : 'onclick',
              clickFn: this._.getClick(),
              title: CKEDITOR.tools.htmlEncodeAttr(c || a),
              text: b || a
            };
            this._.pendingList.push(g.output(a));
          },
          startGroup: function (a) {
            this._.close();
            var b = CKEDITOR.tools.getNextId();
            this._.groups[a] = b;
            this._.pendingHtml.push(h.output({
              id: b,
              label: a
            }));
          },
          commit: function () {
            this._.close();
            this.element.appendHtml(this._.pendingHtml.join(''));
            delete this._.size;
            this._.pendingHtml = [];
          },
          toggle: function (a) {
            var b = this.isMarked(a);
            b ? this.unmark(a) : this.mark(a);
            return !b;
          },
          hideGroup: function (a) {
            var b = (a = this.element.getDocument().getById(this._.groups[a])) && a.getNext();
            a && (a.setStyle('display', 'none'), b && 'ul' == b.getName() && b.setStyle('display', 'none'));
          },
          hideItem: function (a) {
            this.element.getDocument().getById(this._.items[a]).setStyle('display', 'none');
          },
          showAll: function () {
            var a = this._.items, b = this._.groups, c = this.element.getDocument(), d;
            for (d in a)
              c.getById(a[d]).setStyle('display', '');
            for (var e in b)
              a = c.getById(b[e]), d = a.getNext(), a.setStyle('display', ''), d && 'ul' == d.getName() && d.setStyle('display', '');
          },
          mark: function (a) {
            this.multiSelect || this.unmarkAll();
            var a = this._.items[a], b = this.element.getDocument().getById(a);
            b.addClass('cke_selected');
            this.element.getDocument().getById(a + '_option').setAttribute('aria-selected', !0);
            this.onMark && this.onMark(b);
          },
          unmark: function (a) {
            var b = this.element.getDocument(), a = this._.items[a], c = b.getById(a);
            c.removeClass('cke_selected');
            b.getById(a + '_option').removeAttribute('aria-selected');
            this.onUnmark && this.onUnmark(c);
          },
          unmarkAll: function () {
            var a = this._.items, b = this.element.getDocument(), c;
            for (c in a) {
              var d = a[c];
              b.getById(d).removeClass('cke_selected');
              b.getById(d + '_option').removeAttribute('aria-selected');
            }
            this.onUnmark && this.onUnmark();
          },
          isMarked: function (a) {
            return this.element.getDocument().getById(this._.items[a]).hasClass('cke_selected');
          },
          focus: function (a) {
            this._.focusIndex = -1;
            var b = this.element.getElementsByTag('a'), c, d = -1;
            if (a)
              for (c = this.element.getDocument().getById(this._.items[a]).getFirst(); a = b.getItem(++d);) {
                if (a.equals(c)) {
                  this._.focusIndex = d;
                  break;
                }
              }
            else
              this.element.focus();
            c && setTimeout(function () {
              c.focus();
            }, 0);
          }
        }
      });
    }
  });
  CKEDITOR.plugins.add('richcombo', {
    requires: 'floatpanel,listblock,button',
    beforeInit: function (d) {
      d.ui.addHandler(CKEDITOR.UI_RICHCOMBO, CKEDITOR.ui.richCombo.handler);
    }
  });
  (function () {
    var d = '<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"' + (CKEDITOR.env.gecko && !CKEDITOR.env.hc ? '' : ' href="javascript:void(\'{titleJs}\')"') + ' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="true"';
    CKEDITOR.env.gecko && CKEDITOR.env.mac && (d += ' onkeypress="return false;"');
    CKEDITOR.env.gecko && (d += ' onblur="this.style.cssText = this.style.cssText;"');
    var d = d + (' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" ' + (CKEDITOR.env.ie ? 'onclick="return false;" onmouseup' : 'onclick') + '="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">' + (CKEDITOR.env.hc ? '&#9660;' : CKEDITOR.env.air ? '&nbsp;' : '') + '</span></span></a></span>'), i = CKEDITOR.addTemplate('combo', d);
    CKEDITOR.UI_RICHCOMBO = 'richcombo';
    CKEDITOR.ui.richCombo = CKEDITOR.tools.createClass({
      $: function (a) {
        CKEDITOR.tools.extend(this, a, {
          canGroup: !1,
          title: a.label,
          modes: { wysiwyg: 1 },
          editorFocus: 1
        });
        a = this.panel || {};
        delete this.panel;
        this.id = CKEDITOR.tools.getNextNumber();
        this.document = a.parent && a.parent.getDocument() || CKEDITOR.document;
        a.className = 'cke_combopanel';
        a.block = {
          multiSelect: a.multiSelect,
          attributes: a.attributes
        };
        a.toolbarRelated = !0;
        this._ = {
          panelDefinition: a,
          items: {}
        };
      },
      proto: {
        renderHtml: function (a) {
          var b = [];
          this.render(a, b);
          return b.join('');
        },
        render: function (a, b) {
          function g() {
            if (this.getState() != CKEDITOR.TRISTATE_ON) {
              var c = this.modes[a.mode] ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED;
              a.readOnly && !this.readOnly && (c = CKEDITOR.TRISTATE_DISABLED);
              this.setState(c);
              this.setValue('');
              c != CKEDITOR.TRISTATE_DISABLED && this.refresh && this.refresh();
            }
          }
          var d = CKEDITOR.env, h = 'cke_' + this.id, e = CKEDITOR.tools.addFunction(function (b) {
              j && (a.unlockSelection(1), j = 0);
              c.execute(b);
            }, this), f = this, c = {
              id: h,
              combo: this,
              focus: function () {
                CKEDITOR.document.getById(h).getChild(1).focus();
              },
              execute: function (c) {
                var b = f._;
                if (b.state != CKEDITOR.TRISTATE_DISABLED)
                  if (f.createPanel(a), b.on)
                    b.panel.hide();
                  else {
                    f.commit();
                    var d = f.getValue();
                    d ? b.list.mark(d) : b.list.unmarkAll();
                    b.panel.showBlock(f.id, new CKEDITOR.dom.element(c), 4);
                  }
              },
              clickFn: e
            };
          a.on('activeFilterChange', g, this);
          a.on('mode', g, this);
          a.on('selectionChange', g, this);
          !this.readOnly && a.on('readOnly', g, this);
          var k = CKEDITOR.tools.addFunction(function (b, d) {
              var b = new CKEDITOR.dom.event(b), g = b.getKeystroke();
              if (40 == g)
                a.once('panelShow', function (a) {
                  a.data._.panel._.currentBlock.onKeyDown(40);
                });
              switch (g) {
              case 13:
              case 32:
              case 40:
                CKEDITOR.tools.callFunction(e, d);
                break;
              default:
                c.onkey(c, g);
              }
              b.preventDefault();
            }), l = CKEDITOR.tools.addFunction(function () {
              c.onfocus && c.onfocus();
            }), j = 0;
          c.keyDownFn = k;
          d = {
            id: h,
            name: this.name || this.command,
            label: this.label,
            title: this.title,
            cls: this.className || '',
            titleJs: d.gecko && !d.hc ? '' : (this.title || '').replace('\'', ''),
            keydownFn: k,
            focusFn: l,
            clickFn: e
          };
          i.output(d, b);
          if (this.onRender)
            this.onRender();
          return c;
        },
        createPanel: function (a) {
          if (!this._.panel) {
            var b = this._.panelDefinition, d = this._.panelDefinition.block, i = b.parent || CKEDITOR.document.getBody(), h = 'cke_combopanel__' + this.name, e = new CKEDITOR.ui.floatPanel(a, i, b), f = e.addListBlock(this.id, d), c = this;
            e.onShow = function () {
              this.element.addClass(h);
              c.setState(CKEDITOR.TRISTATE_ON);
              c._.on = 1;
              c.editorFocus && !a.focusManager.hasFocus && a.focus();
              if (c.onOpen)
                c.onOpen();
              a.once('panelShow', function () {
                f.focus(!f.multiSelect && c.getValue());
              });
            };
            e.onHide = function (b) {
              this.element.removeClass(h);
              c.setState(c.modes && c.modes[a.mode] ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED);
              c._.on = 0;
              if (!b && c.onClose)
                c.onClose();
            };
            e.onEscape = function () {
              e.hide(1);
            };
            f.onClick = function (a, b) {
              c.onClick && c.onClick.call(c, a, b);
              e.hide();
            };
            this._.panel = e;
            this._.list = f;
            e.getBlock(this.id).onHide = function () {
              c._.on = 0;
              c.setState(CKEDITOR.TRISTATE_OFF);
            };
            this.init && this.init();
          }
        },
        setValue: function (a, b) {
          this._.value = a;
          var d = this.document.getById('cke_' + this.id + '_text');
          d && (!a && !b ? (b = this.label, d.addClass('cke_combo_inlinelabel')) : d.removeClass('cke_combo_inlinelabel'), d.setText('undefined' != typeof b ? b : a));
        },
        getValue: function () {
          return this._.value || '';
        },
        unmarkAll: function () {
          this._.list.unmarkAll();
        },
        mark: function (a) {
          this._.list.mark(a);
        },
        hideItem: function (a) {
          this._.list.hideItem(a);
        },
        hideGroup: function (a) {
          this._.list.hideGroup(a);
        },
        showAll: function () {
          this._.list.showAll();
        },
        add: function (a, b, d) {
          this._.items[a] = d || a;
          this._.list.add(a, b, d);
        },
        startGroup: function (a) {
          this._.list.startGroup(a);
        },
        commit: function () {
          this._.committed || (this._.list.commit(), this._.committed = 1, CKEDITOR.ui.fire('ready', this));
          this._.committed = 1;
        },
        setState: function (a) {
          if (this._.state != a) {
            var b = this.document.getById('cke_' + this.id);
            b.setState(a, 'cke_combo');
            a == CKEDITOR.TRISTATE_DISABLED ? b.setAttribute('aria-disabled', !0) : b.removeAttribute('aria-disabled');
            this._.state = a;
          }
        },
        getState: function () {
          return this._.state;
        },
        enable: function () {
          this._.state == CKEDITOR.TRISTATE_DISABLED && this.setState(this._.lastState);
        },
        disable: function () {
          this._.state != CKEDITOR.TRISTATE_DISABLED && (this._.lastState = this._.state, this.setState(CKEDITOR.TRISTATE_DISABLED));
        }
      },
      statics: {
        handler: {
          create: function (a) {
            return new CKEDITOR.ui.richCombo(a);
          }
        }
      }
    });
    CKEDITOR.ui.prototype.addRichCombo = function (a, b) {
      this.add(a, CKEDITOR.UI_RICHCOMBO, b);
    };
  }());
  (function () {
    function j(a, b, c, f, m, j, p, r) {
      for (var s = a.config, n = new CKEDITOR.style(p), i = m.split(';'), m = [], k = {}, d = 0; d < i.length; d++) {
        var h = i[d];
        if (h) {
          var h = h.split('/'), q = {}, l = i[d] = h[0];
          q[c] = m[d] = h[1] || l;
          k[l] = new CKEDITOR.style(p, q);
          k[l]._.definition.name = l;
        } else
          i.splice(d--, 1);
      }
      a.ui.addRichCombo(b, {
        label: f.label,
        title: f.panelTitle,
        toolbar: 'styles,' + r,
        allowedContent: n,
        requiredContent: n,
        panel: {
          css: [CKEDITOR.skin.getPath('editor')].concat(s.contentsCss),
          multiSelect: !1,
          attributes: { 'aria-label': f.panelTitle }
        },
        init: function () {
          this.startGroup(f.panelTitle);
          for (var a = 0; a < i.length; a++) {
            var b = i[a];
            this.add(b, k[b].buildPreview(), b);
          }
        },
        onClick: function (b) {
          a.focus();
          a.fire('saveSnapshot');
          var c = this.getValue(), f = k[b];
          if (c && b != c) {
            var i = k[c], e = a.getSelection().getRanges()[0];
            if (e.collapsed) {
              var d = a.elementPath(), g = d.contains(function (a) {
                  return i.checkElementRemovable(a);
                });
              if (g) {
                var h = e.checkBoundaryOfElement(g, CKEDITOR.START), j = e.checkBoundaryOfElement(g, CKEDITOR.END);
                if (h && j) {
                  for (h = e.createBookmark(); d = g.getFirst();)
                    d.insertBefore(g);
                  g.remove();
                  e.moveToBookmark(h);
                } else
                  h ? e.moveToPosition(g, CKEDITOR.POSITION_BEFORE_START) : j ? e.moveToPosition(g, CKEDITOR.POSITION_AFTER_END) : (e.splitElement(g), e.moveToPosition(g, CKEDITOR.POSITION_AFTER_END), o(e, d.elements.slice(), g));
                a.getSelection().selectRanges([e]);
              }
            } else
              a.removeStyle(i);
          }
          a[c == b ? 'removeStyle' : 'applyStyle'](f);
          a.fire('saveSnapshot');
        },
        onRender: function () {
          a.on('selectionChange', function (b) {
            for (var c = this.getValue(), b = b.data.path.elements, d = 0, f; d < b.length; d++) {
              f = b[d];
              for (var e in k)
                if (k[e].checkElementMatch(f, !0, a)) {
                  e != c && this.setValue(e);
                  return;
                }
            }
            this.setValue('', j);
          }, this);
        },
        refresh: function () {
          a.activeFilter.check(n) || this.setState(CKEDITOR.TRISTATE_DISABLED);
        }
      });
    }
    function o(a, b, c) {
      var f = b.pop();
      if (f) {
        if (c)
          return o(a, b, f.equals(c) ? null : c);
        c = f.clone();
        a.insertNode(c);
        a.moveToPosition(c, CKEDITOR.POSITION_AFTER_START);
        o(a, b);
      }
    }
    CKEDITOR.plugins.add('font', {
      requires: 'richcombo',
      init: function (a) {
        var b = a.config;
        j(a, 'Font', 'family', a.lang.font, b.font_names, b.font_defaultLabel, b.font_style, 30);
        j(a, 'FontSize', 'size', a.lang.font.fontSize, b.fontSize_sizes, b.fontSize_defaultLabel, b.fontSize_style, 40);
      }
    });
  }());
  CKEDITOR.config.font_names = 'Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif';
  CKEDITOR.config.font_defaultLabel = '';
  CKEDITOR.config.font_style = {
    element: 'span',
    styles: { 'font-family': '#(family)' },
    overrides: [{
        element: 'font',
        attributes: { face: null }
      }]
  };
  CKEDITOR.config.fontSize_sizes = '8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px';
  CKEDITOR.config.fontSize_defaultLabel = '';
  CKEDITOR.config.fontSize_style = {
    element: 'span',
    styles: { 'font-size': '#(size)' },
    overrides: [{
        element: 'font',
        attributes: { size: null }
      }]
  };
  CKEDITOR.plugins.add('forms', {
    requires: 'dialog,fakeobjects',
    onLoad: function () {
      CKEDITOR.addCss('.cke_editable form{border: 1px dotted #FF0000;padding: 2px;}\n');
      CKEDITOR.addCss('img.cke_hidden{background-image: url(' + CKEDITOR.getUrl(this.path + 'images/hiddenfield.gif') + ');background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 16px !important;height: 16px !important;}');
    },
    init: function (a) {
      var b = a.lang, g = 0, h = {
          email: 1,
          password: 1,
          search: 1,
          tel: 1,
          text: 1,
          url: 1
        }, j = {
          checkbox: 'input[type,name,checked]',
          radio: 'input[type,name,checked]',
          textfield: 'input[type,name,value,size,maxlength]',
          textarea: 'textarea[cols,rows,name]',
          select: 'select[name,size,multiple]; option[value,selected]',
          button: 'input[type,name,value]',
          form: 'form[action,name,id,enctype,target,method]',
          hiddenfield: 'input[type,name,value]',
          imagebutton: 'input[type,alt,src]{width,height,border,border-width,border-style,margin,float}'
        }, k = {
          checkbox: 'input',
          radio: 'input',
          textfield: 'input',
          textarea: 'textarea',
          select: 'select',
          button: 'input',
          form: 'form',
          hiddenfield: 'input',
          imagebutton: 'input'
        }, e = function (d, c, e) {
          var h = {
              allowedContent: j[c],
              requiredContent: k[c]
            };
          'form' == c && (h.context = 'form');
          a.addCommand(c, new CKEDITOR.dialogCommand(c, h));
          a.ui.addButton && a.ui.addButton(d, {
            label: b.common[d.charAt(0).toLowerCase() + d.slice(1)],
            command: c,
            toolbar: 'forms,' + (g += 10)
          });
          CKEDITOR.dialog.add(c, e);
        }, f = this.path + 'dialogs/';
      !a.blockless && e('Form', 'form', f + 'form.js');
      e('Checkbox', 'checkbox', f + 'checkbox.js');
      e('Radio', 'radio', f + 'radio.js');
      e('TextField', 'textfield', f + 'textfield.js');
      e('Textarea', 'textarea', f + 'textarea.js');
      e('Select', 'select', f + 'select.js');
      e('Button', 'button', f + 'button.js');
      var i = a.plugins.image;
      i && !a.plugins.image2 && e('ImageButton', 'imagebutton', CKEDITOR.plugins.getPath('image') + 'dialogs/image.js');
      e('HiddenField', 'hiddenfield', f + 'hiddenfield.js');
      a.addMenuItems && (e = {
        checkbox: {
          label: b.forms.checkboxAndRadio.checkboxTitle,
          command: 'checkbox',
          group: 'checkbox'
        },
        radio: {
          label: b.forms.checkboxAndRadio.radioTitle,
          command: 'radio',
          group: 'radio'
        },
        textfield: {
          label: b.forms.textfield.title,
          command: 'textfield',
          group: 'textfield'
        },
        hiddenfield: {
          label: b.forms.hidden.title,
          command: 'hiddenfield',
          group: 'hiddenfield'
        },
        button: {
          label: b.forms.button.title,
          command: 'button',
          group: 'button'
        },
        select: {
          label: b.forms.select.title,
          command: 'select',
          group: 'select'
        },
        textarea: {
          label: b.forms.textarea.title,
          command: 'textarea',
          group: 'textarea'
        }
      }, i && (e.imagebutton = {
        label: b.image.titleButton,
        command: 'imagebutton',
        group: 'imagebutton'
      }), !a.blockless && (e.form = {
        label: b.forms.form.menu,
        command: 'form',
        group: 'form'
      }), a.addMenuItems(e));
      a.contextMenu && (!a.blockless && a.contextMenu.addListener(function (d, c, a) {
        if ((d = a.contains('form', 1)) && !d.isReadOnly())
          return { form: CKEDITOR.TRISTATE_OFF };
      }), a.contextMenu.addListener(function (d) {
        if (d && !d.isReadOnly()) {
          var c = d.getName();
          if (c == 'select')
            return { select: CKEDITOR.TRISTATE_OFF };
          if (c == 'textarea')
            return { textarea: CKEDITOR.TRISTATE_OFF };
          if (c == 'input') {
            var a = d.getAttribute('type') || 'text';
            switch (a) {
            case 'button':
            case 'submit':
            case 'reset':
              return { button: CKEDITOR.TRISTATE_OFF };
            case 'checkbox':
              return { checkbox: CKEDITOR.TRISTATE_OFF };
            case 'radio':
              return { radio: CKEDITOR.TRISTATE_OFF };
            case 'image':
              return i ? { imagebutton: CKEDITOR.TRISTATE_OFF } : null;
            }
            if (h[a])
              return { textfield: CKEDITOR.TRISTATE_OFF };
          }
          if (c == 'img' && d.data('cke-real-element-type') == 'hiddenfield')
            return { hiddenfield: CKEDITOR.TRISTATE_OFF };
        }
      }));
      a.on('doubleclick', function (d) {
        var c = d.data.element;
        if (!a.blockless && c.is('form'))
          d.data.dialog = 'form';
        else if (c.is('select'))
          d.data.dialog = 'select';
        else if (c.is('textarea'))
          d.data.dialog = 'textarea';
        else if (c.is('img') && c.data('cke-real-element-type') == 'hiddenfield')
          d.data.dialog = 'hiddenfield';
        else if (c.is('input')) {
          c = c.getAttribute('type') || 'text';
          switch (c) {
          case 'button':
          case 'submit':
          case 'reset':
            d.data.dialog = 'button';
            break;
          case 'checkbox':
            d.data.dialog = 'checkbox';
            break;
          case 'radio':
            d.data.dialog = 'radio';
            break;
          case 'image':
            d.data.dialog = 'imagebutton';
          }
          if (h[c])
            d.data.dialog = 'textfield';
        }
      });
    },
    afterInit: function (a) {
      var b = a.dataProcessor, g = b && b.htmlFilter, b = b && b.dataFilter;
      CKEDITOR.env.ie && g && g.addRules({
        elements: {
          input: function (a) {
            var a = a.attributes, b = a.type;
            b || (a.type = 'text');
            ('checkbox' == b || 'radio' == b) && 'on' == a.value && delete a.value;
          }
        }
      }, { applyToAll: !0 });
      b && b.addRules({
        elements: {
          input: function (b) {
            if ('hidden' == b.attributes.type)
              return a.createFakeParserElement(b, 'cke_hidden', 'hiddenfield');
          }
        }
      }, { applyToAll: !0 });
    }
  });
  CKEDITOR.plugins.add('format', {
    requires: 'richcombo',
    init: function (a) {
      if (!a.blockless) {
        for (var f = a.config, c = a.lang.format, j = f.format_tags.split(';'), d = {}, k = 0, l = [], g = 0; g < j.length; g++) {
          var h = j[g], i = new CKEDITOR.style(f['format_' + h]);
          if (!a.filter.customConfig || a.filter.check(i))
            k++, d[h] = i, d[h]._.enterMode = a.config.enterMode, l.push(i);
        }
        0 !== k && a.ui.addRichCombo('Format', {
          label: c.label,
          title: c.panelTitle,
          toolbar: 'styles,20',
          allowedContent: l,
          panel: {
            css: [CKEDITOR.skin.getPath('editor')].concat(f.contentsCss),
            multiSelect: !1,
            attributes: { 'aria-label': c.panelTitle }
          },
          init: function () {
            this.startGroup(c.panelTitle);
            for (var a in d) {
              var e = c['tag_' + a];
              this.add(a, d[a].buildPreview(e), e);
            }
          },
          onClick: function (b) {
            a.focus();
            a.fire('saveSnapshot');
            var b = d[b], e = a.elementPath();
            a[b.checkActive(e, a) ? 'removeStyle' : 'applyStyle'](b);
            setTimeout(function () {
              a.fire('saveSnapshot');
            }, 0);
          },
          onRender: function () {
            a.on('selectionChange', function (b) {
              var e = this.getValue(), b = b.data.path;
              this.refresh();
              for (var c in d)
                if (d[c].checkActive(b, a)) {
                  c != e && this.setValue(c, a.lang.format['tag_' + c]);
                  return;
                }
              this.setValue('');
            }, this);
          },
          onOpen: function () {
            this.showAll();
            for (var b in d)
              a.activeFilter.check(d[b]) || this.hideItem(b);
          },
          refresh: function () {
            var b = a.elementPath();
            if (b) {
              if (b.isContextFor('p'))
                for (var c in d)
                  if (a.activeFilter.check(d[c]))
                    return;
              this.setState(CKEDITOR.TRISTATE_DISABLED);
            }
          }
        });
      }
    }
  });
  CKEDITOR.config.format_tags = 'p;h1;h2;h3;h4;h5;h6;pre;address;div';
  CKEDITOR.config.format_p = { element: 'p' };
  CKEDITOR.config.format_div = { element: 'div' };
  CKEDITOR.config.format_pre = { element: 'pre' };
  CKEDITOR.config.format_address = { element: 'address' };
  CKEDITOR.config.format_h1 = { element: 'h1' };
  CKEDITOR.config.format_h2 = { element: 'h2' };
  CKEDITOR.config.format_h3 = { element: 'h3' };
  CKEDITOR.config.format_h4 = { element: 'h4' };
  CKEDITOR.config.format_h5 = { element: 'h5' };
  CKEDITOR.config.format_h6 = { element: 'h6' };
  (function () {
    var b = {
        canUndo: !1,
        exec: function (a) {
          var b = a.document.createElement('hr');
          a.insertElement(b);
        },
        allowedContent: 'hr',
        requiredContent: 'hr'
      };
    CKEDITOR.plugins.add('horizontalrule', {
      init: function (a) {
        a.blockless || (a.addCommand('horizontalrule', b), a.ui.addButton && a.ui.addButton('HorizontalRule', {
          label: a.lang.horizontalrule.toolbar,
          command: 'horizontalrule',
          toolbar: 'insert,40'
        }));
      }
    });
  }());
  CKEDITOR.plugins.add('htmlwriter', {
    init: function (b) {
      var a = new CKEDITOR.htmlWriter();
      a.forceSimpleAmpersand = b.config.forceSimpleAmpersand;
      a.indentationChars = b.config.dataIndentationChars || '\t';
      b.dataProcessor.writer = a;
    }
  });
  CKEDITOR.htmlWriter = CKEDITOR.tools.createClass({
    base: CKEDITOR.htmlParser.basicWriter,
    $: function () {
      this.base();
      this.indentationChars = '\t';
      this.selfClosingEnd = ' />';
      this.lineBreakChars = '\n';
      this.sortAttributes = 1;
      this._.indent = 0;
      this._.indentation = '';
      this._.inPre = 0;
      this._.rules = {};
      var b = CKEDITOR.dtd, a;
      for (a in CKEDITOR.tools.extend({}, b.$nonBodyContent, b.$block, b.$listItem, b.$tableContent))
        this.setRules(a, {
          indent: !b[a]['#'],
          breakBeforeOpen: 1,
          breakBeforeClose: !b[a]['#'],
          breakAfterClose: 1,
          needsSpace: a in b.$block && !(a in {
            li: 1,
            dt: 1,
            dd: 1
          })
        });
      this.setRules('br', { breakAfterOpen: 1 });
      this.setRules('title', {
        indent: 0,
        breakAfterOpen: 0
      });
      this.setRules('style', {
        indent: 0,
        breakBeforeClose: 1
      });
      this.setRules('pre', {
        breakAfterOpen: 1,
        indent: 0
      });
    },
    proto: {
      openTag: function (b) {
        var a = this._.rules[b];
        this._.afterCloser && (a && a.needsSpace && this._.needsSpace) && this._.output.push('\n');
        this._.indent ? this.indentation() : a && a.breakBeforeOpen && (this.lineBreak(), this.indentation());
        this._.output.push('<', b);
        this._.afterCloser = 0;
      },
      openTagClose: function (b, a) {
        var c = this._.rules[b];
        a ? (this._.output.push(this.selfClosingEnd), c && c.breakAfterClose && (this._.needsSpace = c.needsSpace)) : (this._.output.push('>'), c && c.indent && (this._.indentation += this.indentationChars));
        c && c.breakAfterOpen && this.lineBreak();
        'pre' == b && (this._.inPre = 1);
      },
      attribute: function (b, a) {
        'string' == typeof a && (this.forceSimpleAmpersand && (a = a.replace(/&amp;/g, '&')), a = CKEDITOR.tools.htmlEncodeAttr(a));
        this._.output.push(' ', b, '="', a, '"');
      },
      closeTag: function (b) {
        var a = this._.rules[b];
        a && a.indent && (this._.indentation = this._.indentation.substr(this.indentationChars.length));
        this._.indent ? this.indentation() : a && a.breakBeforeClose && (this.lineBreak(), this.indentation());
        this._.output.push('</', b, '>');
        'pre' == b && (this._.inPre = 0);
        a && a.breakAfterClose && (this.lineBreak(), this._.needsSpace = a.needsSpace);
        this._.afterCloser = 1;
      },
      text: function (b) {
        this._.indent && (this.indentation(), !this._.inPre && (b = CKEDITOR.tools.ltrim(b)));
        this._.output.push(b);
      },
      comment: function (b) {
        this._.indent && this.indentation();
        this._.output.push('<!--', b, '-->');
      },
      lineBreak: function () {
        !this._.inPre && 0 < this._.output.length && this._.output.push(this.lineBreakChars);
        this._.indent = 1;
      },
      indentation: function () {
        !this._.inPre && this._.indentation && this._.output.push(this._.indentation);
        this._.indent = 0;
      },
      reset: function () {
        this._.output = [];
        this._.indent = 0;
        this._.indentation = '';
        this._.afterCloser = 0;
        this._.inPre = 0;
      },
      setRules: function (b, a) {
        var c = this._.rules[b];
        c ? CKEDITOR.tools.extend(c, a, !0) : this._.rules[b] = a;
      }
    }
  });
  (function () {
    CKEDITOR.plugins.add('iframe', {
      requires: 'dialog,fakeobjects',
      onLoad: function () {
        CKEDITOR.addCss('img.cke_iframe{background-image: url(' + CKEDITOR.getUrl(this.path + 'images/placeholder.png') + ');background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}');
      },
      init: function (a) {
        var b = a.lang.iframe, c = 'iframe[align,longdesc,frameborder,height,name,scrolling,src,title,width]';
        a.plugins.dialogadvtab && (c += ';iframe' + a.plugins.dialogadvtab.allowedContent({
          id: 1,
          classes: 1,
          styles: 1
        }));
        CKEDITOR.dialog.add('iframe', this.path + 'dialogs/iframe.js');
        a.addCommand('iframe', new CKEDITOR.dialogCommand('iframe', {
          allowedContent: c,
          requiredContent: 'iframe'
        }));
        a.ui.addButton && a.ui.addButton('Iframe', {
          label: b.toolbar,
          command: 'iframe',
          toolbar: 'insert,80'
        });
        a.on('doubleclick', function (a) {
          var b = a.data.element;
          b.is('img') && 'iframe' == b.data('cke-real-element-type') && (a.data.dialog = 'iframe');
        });
        a.addMenuItems && a.addMenuItems({
          iframe: {
            label: b.title,
            command: 'iframe',
            group: 'image'
          }
        });
        a.contextMenu && a.contextMenu.addListener(function (a) {
          if (a && a.is('img') && 'iframe' == a.data('cke-real-element-type'))
            return { iframe: CKEDITOR.TRISTATE_OFF };
        });
      },
      afterInit: function (a) {
        var b = a.dataProcessor;
        (b = b && b.dataFilter) && b.addRules({
          elements: {
            iframe: function (b) {
              return a.createFakeParserElement(b, 'cke_iframe', 'iframe', !0);
            }
          }
        });
      }
    });
  }());
  (function () {
    function k(a) {
      var d = this.editor, b = a.document, c = b.body, e = b.getElementById('cke_actscrpt');
      e && e.parentNode.removeChild(e);
      (e = b.getElementById('cke_shimscrpt')) && e.parentNode.removeChild(e);
      (e = b.getElementById('cke_basetagscrpt')) && e.parentNode.removeChild(e);
      c.contentEditable = !0;
      CKEDITOR.env.ie && (c.hideFocus = !0, c.disabled = !0, c.removeAttribute('disabled'));
      delete this._.isLoadingData;
      this.$ = c;
      b = new CKEDITOR.dom.document(b);
      this.setup();
      this.fixInitialSelection();
      CKEDITOR.env.ie && (b.getDocumentElement().addClass(b.$.compatMode), d.config.enterMode != CKEDITOR.ENTER_P && this.attachListener(b, 'selectionchange', function () {
        var a = b.getBody(), c = d.getSelection(), e = c && c.getRanges()[0];
        e && (a.getHtml().match(/^<p>(?:&nbsp;|<br>)<\/p>$/i) && e.startContainer.equals(a)) && setTimeout(function () {
          e = d.getSelection().getRanges()[0];
          if (!e.startContainer.equals('body')) {
            a.getFirst().remove(1);
            e.moveToElementEditEnd(a);
            e.select();
          }
        }, 0);
      }));
      if (CKEDITOR.env.webkit || CKEDITOR.env.ie && 10 < CKEDITOR.env.version)
        b.getDocumentElement().on('mousedown', function (a) {
          a.data.getTarget().is('html') && setTimeout(function () {
            d.editable().focus();
          });
        });
      l(d);
      try {
        d.document.$.execCommand('2D-position', !1, !0);
      } catch (g) {
      }
      (CKEDITOR.env.gecko || CKEDITOR.env.ie && 'CSS1Compat' == d.document.$.compatMode) && this.attachListener(this, 'keydown', function (a) {
        var b = a.data.getKeystroke();
        if (b == 33 || b == 34)
          if (CKEDITOR.env.ie)
            setTimeout(function () {
              d.getSelection().scrollIntoView();
            }, 0);
          else if (d.window.$.innerHeight > this.$.offsetHeight) {
            var c = d.createRange();
            c[b == 33 ? 'moveToElementEditStart' : 'moveToElementEditEnd'](this);
            c.select();
            a.data.preventDefault();
          }
      });
      CKEDITOR.env.ie && this.attachListener(b, 'blur', function () {
        try {
          b.$.selection.empty();
        } catch (a) {
        }
      });
      CKEDITOR.env.iOS && this.attachListener(b, 'touchend', function () {
        a.focus();
      });
      c = d.document.getElementsByTag('title').getItem(0);
      c.data('cke-title', c.getText());
      CKEDITOR.env.ie && (d.document.$.title = this._.docTitle);
      CKEDITOR.tools.setTimeout(function () {
        if (this.status == 'unloaded')
          this.status = 'ready';
        d.fire('contentDom');
        if (this._.isPendingFocus) {
          d.focus();
          this._.isPendingFocus = false;
        }
        setTimeout(function () {
          d.fire('dataReady');
        }, 0);
        CKEDITOR.env.ie && setTimeout(function () {
          if (d.document) {
            var a = d.document.$.body;
            a.runtimeStyle.marginBottom = '0px';
            a.runtimeStyle.marginBottom = '';
          }
        }, 1000);
      }, 0, this);
    }
    function l(a) {
      function d() {
        var c;
        a.editable().attachListener(a, 'selectionChange', function () {
          var d = a.getSelection().getSelectedElement();
          d && (c && (c.detachEvent('onresizestart', b), c = null), d.$.attachEvent('onresizestart', b), c = d.$);
        });
      }
      function b(a) {
        a.returnValue = !1;
      }
      if (CKEDITOR.env.gecko)
        try {
          var c = a.document.$;
          c.execCommand('enableObjectResizing', !1, !a.config.disableObjectResizing);
          c.execCommand('enableInlineTableEditing', !1, !a.config.disableNativeTableHandles);
        } catch (e) {
        }
      else
        CKEDITOR.env.ie && (11 > CKEDITOR.env.version && a.config.disableObjectResizing) && d(a);
    }
    function m() {
      var a = [];
      if (8 <= CKEDITOR.document.$.documentMode) {
        a.push('html.CSS1Compat [contenteditable=false]{min-height:0 !important}');
        var d = [], b;
        for (b in CKEDITOR.dtd.$removeEmpty)
          d.push('html.CSS1Compat ' + b + '[contenteditable=false]');
        a.push(d.join(',') + '{display:inline-block}');
      } else
        CKEDITOR.env.gecko && (a.push('html{height:100% !important}'), a.push('img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}'));
      a.push('html{cursor:text;*cursor:auto}');
      a.push('img,input,textarea{cursor:default}');
      return a.join('\n');
    }
    CKEDITOR.plugins.add('wysiwygarea', {
      init: function (a) {
        a.config.fullPage && a.addFeature({
          allowedContent: 'html head title; style [media,type]; body (*)[id]; meta link [*]',
          requiredContent: 'body'
        });
        a.addMode('wysiwyg', function (d) {
          function b(b) {
            b && b.removeListener();
            a.editable(new j(a, e.$.contentWindow.document.body));
            a.setData(a.getData(1), d);
          }
          var c = 'document.open();' + (CKEDITOR.env.ie ? '(' + CKEDITOR.tools.fixDomain + ')();' : '') + 'document.close();', c = CKEDITOR.env.air ? 'javascript:void(0)' : CKEDITOR.env.ie ? 'javascript:void(function(){' + encodeURIComponent(c) + '}())' : '', e = CKEDITOR.dom.element.createFromHtml('<iframe src="' + c + '" frameBorder="0"></iframe>');
          e.setStyles({
            width: '100%',
            height: '100%'
          });
          e.addClass('cke_wysiwyg_frame cke_reset');
          var g = a.ui.space('contents');
          g.append(e);
          if (c = CKEDITOR.env.ie || CKEDITOR.env.gecko)
            e.on('load', b);
          var f = a.title, h = a.fire('ariaEditorHelpLabel', {}).label;
          f && (CKEDITOR.env.ie && h && (f += ', ' + h), e.setAttribute('title', f));
          if (h) {
            var f = CKEDITOR.tools.getNextId(), i = CKEDITOR.dom.element.createFromHtml('<span id="' + f + '" class="cke_voice_label">' + h + '</span>');
            g.append(i, 1);
            e.setAttribute('aria-describedby', f);
          }
          a.on('beforeModeUnload', function (a) {
            a.removeListener();
            i && i.remove();
          });
          e.setAttributes({
            tabIndex: a.tabIndex,
            allowTransparency: 'true'
          });
          !c && b();
          CKEDITOR.env.webkit && (c = function () {
            g.setStyle('width', '100%');
            e.hide();
            e.setSize('width', g.getSize('width'));
            g.removeStyle('width');
            e.show();
          }, e.setCustomData('onResize', c), CKEDITOR.document.getWindow().on('resize', c));
          a.fire('ariaWidget', e);
        });
      }
    });
    CKEDITOR.editor.prototype.addContentsCss = function (a) {
      var d = this.config, b = d.contentsCss;
      CKEDITOR.tools.isArray(b) || (d.contentsCss = b ? [b] : []);
      d.contentsCss.push(a);
    };
    var j = CKEDITOR.tools.createClass({
        $: function (a) {
          this.base.apply(this, arguments);
          this._.frameLoadedHandler = CKEDITOR.tools.addFunction(function (a) {
            CKEDITOR.tools.setTimeout(k, 0, this, a);
          }, this);
          this._.docTitle = this.getWindow().getFrame().getAttribute('title');
        },
        base: CKEDITOR.editable,
        proto: {
          setData: function (a, d) {
            var b = this.editor;
            if (d)
              this.setHtml(a), this.fixInitialSelection(), b.fire('dataReady');
            else {
              this._.isLoadingData = !0;
              b._.dataStore = { id: 1 };
              var c = b.config, e = c.fullPage, g = c.docType, f = CKEDITOR.tools.buildStyleHtml(m()).replace(/<style>/, '<style data-cke-temp="1">');
              e || (f += CKEDITOR.tools.buildStyleHtml(b.config.contentsCss));
              var h = c.baseHref ? '<base href="' + c.baseHref + '" data-cke-temp="1" />' : '';
              e && (a = a.replace(/<!DOCTYPE[^>]*>/i, function (a) {
                b.docType = g = a;
                return '';
              }).replace(/<\?xml\s[^\?]*\?>/i, function (a) {
                b.xmlDeclaration = a;
                return '';
              }));
              a = b.dataProcessor.toHtml(a);
              e ? (/<body[\s|>]/.test(a) || (a = '<body>' + a), /<html[\s|>]/.test(a) || (a = '<html>' + a + '</html>'), /<head[\s|>]/.test(a) ? /<title[\s|>]/.test(a) || (a = a.replace(/<head[^>]*>/, '$&<title></title>')) : a = a.replace(/<html[^>]*>/, '$&<head><title></title></head>'), h && (a = a.replace(/<head[^>]*?>/, '$&' + h)), a = a.replace(/<\/head\s*>/, f + '$&'), a = g + a) : a = c.docType + '<html dir="' + c.contentsLangDirection + '" lang="' + (c.contentsLanguage || b.langCode) + '"><head><title>' + this._.docTitle + '</title>' + h + f + '</head><body' + (c.bodyId ? ' id="' + c.bodyId + '"' : '') + (c.bodyClass ? ' class="' + c.bodyClass + '"' : '') + '>' + a + '</body></html>';
              CKEDITOR.env.gecko && (a = a.replace(/<body/, '<body contenteditable="true" '), 20000 > CKEDITOR.env.version && (a = a.replace(/<body[^>]*>/, '$&<!-- cke-content-start -->')));
              c = '<script id="cke_actscrpt" type="text/javascript"' + (CKEDITOR.env.ie ? ' defer="defer" ' : '') + '>var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction(' + this._.frameLoadedHandler + ',window);wasLoaded=1;}' + (CKEDITOR.env.ie ? 'onload();' : 'document.addEventListener("DOMContentLoaded", onload, false );') + '</script>';
              CKEDITOR.env.ie && 9 > CKEDITOR.env.version && (c += '<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)</script>');
              h && (CKEDITOR.env.ie && 10 > CKEDITOR.env.version) && (c += '<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;</script>');
              a = a.replace(/(?=\s*<\/(:?head)>)/, c);
              this.clearCustomData();
              this.clearListeners();
              b.fire('contentDomUnload');
              var i = this.getDocument();
              try {
                i.write(a);
              } catch (j) {
                setTimeout(function () {
                  i.write(a);
                }, 0);
              }
            }
          },
          getData: function (a) {
            if (a)
              return this.getHtml();
            var a = this.editor, d = a.config, b = d.fullPage, c = b && a.docType, e = b && a.xmlDeclaration, g = this.getDocument(), b = b ? g.getDocumentElement().getOuterHtml() : g.getBody().getHtml();
            CKEDITOR.env.gecko && d.enterMode != CKEDITOR.ENTER_BR && (b = b.replace(/<br>(?=\s*(:?$|<\/body>))/, ''));
            b = a.dataProcessor.toDataFormat(b);
            e && (b = e + '\n' + b);
            c && (b = c + '\n' + b);
            return b;
          },
          focus: function () {
            this._.isLoadingData ? this._.isPendingFocus = !0 : j.baseProto.focus.call(this);
          },
          detach: function () {
            var a = this.editor, d = a.document, a = a.window.getFrame();
            j.baseProto.detach.call(this);
            this.clearCustomData();
            d.getDocumentElement().clearCustomData();
            a.clearCustomData();
            CKEDITOR.tools.removeFunction(this._.frameLoadedHandler);
            (d = a.removeCustomData('onResize')) && d.removeListener();
            a.remove();
          }
        }
      });
  }());
  CKEDITOR.config.disableObjectResizing = !1;
  CKEDITOR.config.disableNativeTableHandles = !0;
  CKEDITOR.config.disableNativeSpellChecker = !0;
  CKEDITOR.config.contentsCss = CKEDITOR.getUrl('contents.css');
  (function () {
    function e(b, a) {
      a || (a = b.getSelection().getSelectedElement());
      if (a && a.is('img') && !a.data('cke-realelement') && !a.isReadOnly())
        return a;
    }
    function f(b) {
      var a = b.getStyle('float');
      if ('inherit' == a || 'none' == a)
        a = 0;
      a || (a = b.getAttribute('align'));
      return a;
    }
    CKEDITOR.plugins.add('image', {
      requires: 'dialog',
      init: function (b) {
        if (!b.plugins.image2) {
          CKEDITOR.dialog.add('image', this.path + 'dialogs/image.js');
          var a = 'img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}';
          CKEDITOR.dialog.isTabEnabled(b, 'image', 'advanced') && (a = 'img[alt,dir,id,lang,longdesc,!src,title]{*}(*)');
          b.addCommand('image', new CKEDITOR.dialogCommand('image', {
            allowedContent: a,
            requiredContent: 'img[alt,src]',
            contentTransformations: [
              [
                'img{width}: sizeToStyle',
                'img[width]: sizeToAttribute'
              ],
              [
                'img{float}: alignmentToStyle',
                'img[align]: alignmentToAttribute'
              ]
            ]
          }));
          b.ui.addButton && b.ui.addButton('Image', {
            label: b.lang.common.image,
            command: 'image',
            toolbar: 'insert,10'
          });
          b.on('doubleclick', function (b) {
            var a = b.data.element;
            a.is('img') && (!a.data('cke-realelement') && !a.isReadOnly()) && (b.data.dialog = 'image');
          });
          b.addMenuItems && b.addMenuItems({
            image: {
              label: b.lang.image.menu,
              command: 'image',
              group: 'image'
            }
          });
          b.contextMenu && b.contextMenu.addListener(function (a) {
            if (e(b, a))
              return { image: CKEDITOR.TRISTATE_OFF };
          });
        }
      },
      afterInit: function (b) {
        function a(a) {
          var d = b.getCommand('justify' + a);
          if (d) {
            if ('left' == a || 'right' == a)
              d.on('exec', function (d) {
                var c = e(b), g;
                c && (g = f(c), g == a ? (c.removeStyle('float'), a == f(c) && c.removeAttribute('align')) : c.setStyle('float', a), d.cancel());
              });
            d.on('refresh', function (d) {
              var c = e(b);
              c && (c = f(c), this.setState(c == a ? CKEDITOR.TRISTATE_ON : 'right' == a || 'left' == a ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED), d.cancel());
            });
          }
        }
        b.plugins.image2 || (a('left'), a('right'), a('center'), a('block'));
      }
    });
  }());
  CKEDITOR.config.image_removeLinkByEmptyURL = !0;
  (function () {
    function k(a, b) {
      var e, f;
      b.on('refresh', function (a) {
        var b = [i], c;
        for (c in a.data.states)
          b.push(a.data.states[c]);
        this.setState(CKEDITOR.tools.search(b, m) ? m : i);
      }, b, null, 100);
      b.on('exec', function (b) {
        e = a.getSelection();
        f = e.createBookmarks(1);
        b.data || (b.data = {});
        b.data.done = !1;
      }, b, null, 0);
      b.on('exec', function () {
        a.forceNextSelectionCheck();
        e.selectBookmarks(f);
      }, b, null, 100);
    }
    var i = CKEDITOR.TRISTATE_DISABLED, m = CKEDITOR.TRISTATE_OFF;
    CKEDITOR.plugins.add('indent', {
      init: function (a) {
        var b = CKEDITOR.plugins.indent.genericDefinition;
        k(a, a.addCommand('indent', new b(!0)));
        k(a, a.addCommand('outdent', new b()));
        a.ui.addButton && (a.ui.addButton('Indent', {
          label: a.lang.indent.indent,
          command: 'indent',
          directional: !0,
          toolbar: 'indent,20'
        }), a.ui.addButton('Outdent', {
          label: a.lang.indent.outdent,
          command: 'outdent',
          directional: !0,
          toolbar: 'indent,10'
        }));
        a.on('dirChanged', function (b) {
          var f = a.createRange(), j = b.data.node;
          f.setStartBefore(j);
          f.setEndAfter(j);
          for (var l = new CKEDITOR.dom.walker(f), c; c = l.next();)
            if (c.type == CKEDITOR.NODE_ELEMENT)
              if (!c.equals(j) && c.getDirection()) {
                f.setStartAfter(c);
                l = new CKEDITOR.dom.walker(f);
              } else {
                var d = a.config.indentClasses;
                if (d)
                  for (var g = b.data.dir == 'ltr' ? [
                        '_rtl',
                        ''
                      ] : [
                        '',
                        '_rtl'
                      ], h = 0; h < d.length; h++)
                    if (c.hasClass(d[h] + g[0])) {
                      c.removeClass(d[h] + g[0]);
                      c.addClass(d[h] + g[1]);
                    }
                d = c.getStyle('margin-right');
                g = c.getStyle('margin-left');
                d ? c.setStyle('margin-left', d) : c.removeStyle('margin-left');
                g ? c.setStyle('margin-right', g) : c.removeStyle('margin-right');
              }
        });
      }
    });
    CKEDITOR.plugins.indent = {
      genericDefinition: function (a) {
        this.isIndent = !!a;
        this.startDisabled = !this.isIndent;
      },
      specificDefinition: function (a, b, e) {
        this.name = b;
        this.editor = a;
        this.jobs = {};
        this.enterBr = a.config.enterMode == CKEDITOR.ENTER_BR;
        this.isIndent = !!e;
        this.relatedGlobal = e ? 'indent' : 'outdent';
        this.indentKey = e ? 9 : CKEDITOR.SHIFT + 9;
        this.database = {};
      },
      registerCommands: function (a, b) {
        a.on('pluginsLoaded', function () {
          for (var a in b)
            (function (a, b) {
              var e = a.getCommand(b.relatedGlobal), c;
              for (c in b.jobs)
                e.on('exec', function (d) {
                  d.data.done || (a.fire('lockSnapshot'), b.execJob(a, c) && (d.data.done = !0), a.fire('unlockSnapshot'), CKEDITOR.dom.element.clearAllMarkers(b.database));
                }, this, null, c), e.on('refresh', function (d) {
                  d.data.states || (d.data.states = {});
                  d.data.states[b.name + '@' + c] = b.refreshJob(a, c, d.data.path);
                }, this, null, c);
              a.addFeature(b);
            }(this, b[a]));
        });
      }
    };
    CKEDITOR.plugins.indent.genericDefinition.prototype = {
      context: 'p',
      exec: function () {
      }
    };
    CKEDITOR.plugins.indent.specificDefinition.prototype = {
      execJob: function (a, b) {
        var e = this.jobs[b];
        if (e.state != i)
          return e.exec.call(this, a);
      },
      refreshJob: function (a, b, e) {
        b = this.jobs[b];
        b.state = a.activeFilter.checkFeature(this) ? b.refresh.call(this, a, e) : i;
        return b.state;
      },
      getContext: function (a) {
        return a.contains(this.context);
      }
    };
  }());
  (function () {
    function f(b, d, a) {
      if (!b.getCustomData('indent_processed')) {
        var e = this.editor, j = this.isIndent;
        if (d) {
          e = b.$.className.match(this.classNameRegex);
          a = 0;
          e && (e = e[1], a = CKEDITOR.tools.indexOf(d, e) + 1);
          if (0 > (a += j ? 1 : -1))
            return;
          a = Math.min(a, d.length);
          a = Math.max(a, 0);
          b.$.className = CKEDITOR.tools.ltrim(b.$.className.replace(this.classNameRegex, ''));
          0 < a && b.addClass(d[a - 1]);
        } else {
          var d = k(b, a), a = parseInt(b.getStyle(d), 10), g = e.config.indentOffset || 40;
          isNaN(a) && (a = 0);
          a += (j ? 1 : -1) * g;
          if (0 > a)
            return;
          a = Math.max(a, 0);
          a = Math.ceil(a / g) * g;
          b.setStyle(d, a ? a + (e.config.indentUnit || 'px') : '');
          '' === b.getAttribute('style') && b.removeAttribute('style');
        }
        CKEDITOR.dom.element.setMarker(this.database, b, 'indent_processed', 1);
      }
    }
    function k(b, d) {
      return 'ltr' == (d || b.getComputedStyle('direction')) ? 'margin-left' : 'margin-right';
    }
    var h = CKEDITOR.dtd.$listItem, m = CKEDITOR.dtd.$list, i = CKEDITOR.TRISTATE_DISABLED, l = CKEDITOR.TRISTATE_OFF;
    CKEDITOR.plugins.add('indentblock', {
      requires: 'indent',
      init: function (b) {
        function d() {
          a.specificDefinition.apply(this, arguments);
          this.allowedContent = {
            'div h1 h2 h3 h4 h5 h6 ol p pre ul': {
              propertiesOnly: !0,
              styles: !e ? 'margin-left,margin-right' : null,
              classes: e || null
            }
          };
          this.enterBr && (this.allowedContent.div = !0);
          this.requiredContent = (this.enterBr ? 'div' : 'p') + (e ? '(' + e.join(',') + ')' : '{margin-left}');
          this.jobs = {
            20: {
              refresh: function (a, b) {
                var c = b.block || b.blockLimit;
                c.is(h) || (c = c.getAscendant(h) || c);
                c.is(h) && (c = c.getParent());
                if (!this.enterBr && !this.getContext(b))
                  return i;
                if (e) {
                  var d;
                  d = e;
                  var c = c.$.className.match(this.classNameRegex), f = this.isIndent;
                  d = c ? f ? c[1] != d.slice(-1) : true : f;
                  return d ? l : i;
                }
                return this.isIndent ? l : c ? CKEDITOR[(parseInt(c.getStyle(k(c)), 10) || 0) <= 0 ? 'TRISTATE_DISABLED' : 'TRISTATE_OFF'] : i;
              },
              exec: function (a) {
                var b = a.getSelection(), b = b && b.getRanges()[0], c;
                if (c = a.elementPath().contains(m))
                  f.call(this, c, e);
                else {
                  b = b.createIterator();
                  a = a.config.enterMode;
                  b.enforceRealBlocks = true;
                  for (b.enlargeBr = a != CKEDITOR.ENTER_BR; c = b.getNextParagraph(a == CKEDITOR.ENTER_P ? 'p' : 'div');)
                    c.isReadOnly() || f.call(this, c, e);
                }
                return true;
              }
            }
          };
        }
        var a = CKEDITOR.plugins.indent, e = b.config.indentClasses;
        a.registerCommands(b, {
          indentblock: new d(b, 'indentblock', !0),
          outdentblock: new d(b, 'outdentblock')
        });
        CKEDITOR.tools.extend(d.prototype, a.specificDefinition.prototype, {
          context: {
            div: 1,
            dl: 1,
            h1: 1,
            h2: 1,
            h3: 1,
            h4: 1,
            h5: 1,
            h6: 1,
            ul: 1,
            ol: 1,
            p: 1,
            pre: 1,
            table: 1
          },
          classNameRegex: e ? RegExp('(?:^|\\s+)(' + e.join('|') + ')(?=$|\\s)') : null
        });
      }
    });
  }());
  (function () {
    function s(c) {
      function f(b) {
        for (var e = d.startContainer, a = d.endContainer; e && !e.getParent().equals(b);)
          e = e.getParent();
        for (; a && !a.getParent().equals(b);)
          a = a.getParent();
        if (!e || !a)
          return !1;
        for (var g = e, e = [], i = !1; !i;)
          g.equals(a) && (i = !0), e.push(g), g = g.getNext();
        if (1 > e.length)
          return !1;
        g = b.getParents(!0);
        for (a = 0; a < g.length; a++)
          if (g[a].getName && m[g[a].getName()]) {
            b = g[a];
            break;
          }
        for (var g = j.isIndent ? 1 : -1, a = e[0], e = e[e.length - 1], i = CKEDITOR.plugins.list.listToArray(b, n), l = i[e.getCustomData('listarray_index')].indent, a = a.getCustomData('listarray_index'); a <= e.getCustomData('listarray_index'); a++)
          if (i[a].indent += g, 0 < g) {
            var h = i[a].parent;
            i[a].parent = new CKEDITOR.dom.element(h.getName(), h.getDocument());
          }
        for (a = e.getCustomData('listarray_index') + 1; a < i.length && i[a].indent > l; a++)
          i[a].indent += g;
        e = CKEDITOR.plugins.list.arrayToList(i, n, null, c.config.enterMode, b.getDirection());
        if (!j.isIndent) {
          var f;
          if ((f = b.getParent()) && f.is('li'))
            for (var g = e.listNode.getChildren(), o = [], k, a = g.count() - 1; 0 <= a; a--)
              (k = g.getItem(a)) && (k.is && k.is('li')) && o.push(k);
        }
        e && e.listNode.replace(b);
        if (o && o.length)
          for (a = 0; a < o.length; a++) {
            for (k = b = o[a]; (k = k.getNext()) && k.is && k.getName() in m;)
              CKEDITOR.env.needsNbspFiller && !b.getFirst(t) && b.append(d.document.createText('\xa0')), b.append(k);
            b.insertAfter(f);
          }
        e && c.fire('contentDomInvalidated');
        return !0;
      }
      for (var j = this, n = this.database, m = this.context, l = c.getSelection(), l = (l && l.getRanges()).createIterator(), d; d = l.getNextRange();) {
        for (var b = d.getCommonAncestor(); b && !(b.type == CKEDITOR.NODE_ELEMENT && m[b.getName()]);)
          b = b.getParent();
        b || (b = d.startPath().contains(m)) && d.setEndAt(b, CKEDITOR.POSITION_BEFORE_END);
        if (!b) {
          var h = d.getEnclosedNode();
          h && (h.type == CKEDITOR.NODE_ELEMENT && h.getName() in m) && (d.setStartAt(h, CKEDITOR.POSITION_AFTER_START), d.setEndAt(h, CKEDITOR.POSITION_BEFORE_END), b = h);
        }
        b && (d.startContainer.type == CKEDITOR.NODE_ELEMENT && d.startContainer.getName() in m) && (h = new CKEDITOR.dom.walker(d), h.evaluator = p, d.startContainer = h.next());
        b && (d.endContainer.type == CKEDITOR.NODE_ELEMENT && d.endContainer.getName() in m) && (h = new CKEDITOR.dom.walker(d), h.evaluator = p, d.endContainer = h.previous());
        if (b)
          return f(b);
      }
      return 0;
    }
    function p(c) {
      return c.type == CKEDITOR.NODE_ELEMENT && c.is('li');
    }
    function t(c) {
      return u(c) && v(c);
    }
    var u = CKEDITOR.dom.walker.whitespaces(!0), v = CKEDITOR.dom.walker.bookmark(!1, !0), q = CKEDITOR.TRISTATE_DISABLED, r = CKEDITOR.TRISTATE_OFF;
    CKEDITOR.plugins.add('indentlist', {
      requires: 'indent',
      init: function (c) {
        function f(c) {
          j.specificDefinition.apply(this, arguments);
          this.requiredContent = [
            'ul',
            'ol'
          ];
          c.on('key', function (f) {
            if ('wysiwyg' == c.mode && f.data.keyCode == this.indentKey) {
              var l = this.getContext(c.elementPath());
              if (l && (!this.isIndent || !CKEDITOR.plugins.indentList.firstItemInPath(this.context, c.elementPath(), l)))
                c.execCommand(this.relatedGlobal), f.cancel();
            }
          }, this);
          this.jobs[this.isIndent ? 10 : 30] = {
            refresh: this.isIndent ? function (c, f) {
              var d = this.getContext(f), b = CKEDITOR.plugins.indentList.firstItemInPath(this.context, f, d);
              return !d || !this.isIndent || b ? q : r;
            } : function (c, f) {
              return !this.getContext(f) || this.isIndent ? q : r;
            },
            exec: CKEDITOR.tools.bind(s, this)
          };
        }
        var j = CKEDITOR.plugins.indent;
        j.registerCommands(c, {
          indentlist: new f(c, 'indentlist', !0),
          outdentlist: new f(c, 'outdentlist')
        });
        CKEDITOR.tools.extend(f.prototype, j.specificDefinition.prototype, {
          context: {
            ol: 1,
            ul: 1
          }
        });
      }
    });
    CKEDITOR.plugins.indentList = {};
    CKEDITOR.plugins.indentList.firstItemInPath = function (c, f, j) {
      var n = f.contains(p);
      j || (j = f.contains(c));
      return j && n && n.equals(j.getFirst(p));
    };
  }());
  CKEDITOR.plugins.add('smiley', {
    requires: 'dialog',
    init: function (a) {
      a.config.smiley_path = a.config.smiley_path || this.path + 'images/';
      a.addCommand('smiley', new CKEDITOR.dialogCommand('smiley', {
        allowedContent: 'img[alt,height,!src,title,width]',
        requiredContent: 'img'
      }));
      a.ui.addButton && a.ui.addButton('Smiley', {
        label: a.lang.smiley.toolbar,
        command: 'smiley',
        toolbar: 'insert,50'
      });
      CKEDITOR.dialog.add('smiley', this.path + 'dialogs/smiley.js');
    }
  });
  CKEDITOR.config.smiley_images = 'regular_smile.png sad_smile.png wink_smile.png teeth_smile.png confused_smile.png tongue_smile.png embarrassed_smile.png omg_smile.png whatchutalkingabout_smile.png angry_smile.png angel_smile.png shades_smile.png devil_smile.png cry_smile.png lightbulb.png thumbs_down.png thumbs_up.png heart.png broken_heart.png kiss.png envelope.png'.split(' ');
  CKEDITOR.config.smiley_descriptions = 'smiley;sad;wink;laugh;frown;cheeky;blush;surprise;indecision;angry;angel;cool;devil;crying;enlightened;no;yes;heart;broken heart;kiss;mail'.split(';');
  (function () {
    function l(a, c) {
      var c = void 0 === c || c, b;
      if (c)
        b = a.getComputedStyle('text-align');
      else {
        for (; !a.hasAttribute || !a.hasAttribute('align') && !a.getStyle('text-align');) {
          b = a.getParent();
          if (!b)
            break;
          a = b;
        }
        b = a.getStyle('text-align') || a.getAttribute('align') || '';
      }
      b && (b = b.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i, ''));
      !b && c && (b = 'rtl' == a.getComputedStyle('direction') ? 'right' : 'left');
      return b;
    }
    function g(a, c, b) {
      this.editor = a;
      this.name = c;
      this.value = b;
      this.context = 'p';
      var c = a.config.justifyClasses, h = a.config.enterMode == CKEDITOR.ENTER_P ? 'p' : 'div';
      if (c) {
        switch (b) {
        case 'left':
          this.cssClassName = c[0];
          break;
        case 'center':
          this.cssClassName = c[1];
          break;
        case 'right':
          this.cssClassName = c[2];
          break;
        case 'justify':
          this.cssClassName = c[3];
        }
        this.cssClassRegex = RegExp('(?:^|\\s+)(?:' + c.join('|') + ')(?=$|\\s)');
        this.requiredContent = h + '(' + this.cssClassName + ')';
      } else
        this.requiredContent = h + '{text-align}';
      this.allowedContent = {
        'caption div h1 h2 h3 h4 h5 h6 p pre td th li': {
          propertiesOnly: !0,
          styles: this.cssClassName ? null : 'text-align',
          classes: this.cssClassName || null
        }
      };
      a.config.enterMode == CKEDITOR.ENTER_BR && (this.allowedContent.div = !0);
    }
    function j(a) {
      var c = a.editor, b = c.createRange();
      b.setStartBefore(a.data.node);
      b.setEndAfter(a.data.node);
      for (var h = new CKEDITOR.dom.walker(b), d; d = h.next();)
        if (d.type == CKEDITOR.NODE_ELEMENT)
          if (!d.equals(a.data.node) && d.getDirection())
            b.setStartAfter(d), h = new CKEDITOR.dom.walker(b);
          else {
            var e = c.config.justifyClasses;
            e && (d.hasClass(e[0]) ? (d.removeClass(e[0]), d.addClass(e[2])) : d.hasClass(e[2]) && (d.removeClass(e[2]), d.addClass(e[0])));
            e = d.getStyle('text-align');
            'left' == e ? d.setStyle('text-align', 'right') : 'right' == e && d.setStyle('text-align', 'left');
          }
    }
    g.prototype = {
      exec: function (a) {
        var c = a.getSelection(), b = a.config.enterMode;
        if (c) {
          for (var h = c.createBookmarks(), d = c.getRanges(), e = this.cssClassName, g, f, i = a.config.useComputedState, i = void 0 === i || i, k = d.length - 1; 0 <= k; k--) {
            g = d[k].createIterator();
            for (g.enlargeBr = b != CKEDITOR.ENTER_BR; f = g.getNextParagraph(b == CKEDITOR.ENTER_P ? 'p' : 'div');)
              if (!f.isReadOnly()) {
                f.removeAttribute('align');
                f.removeStyle('text-align');
                var j = e && (f.$.className = CKEDITOR.tools.ltrim(f.$.className.replace(this.cssClassRegex, ''))), m = this.state == CKEDITOR.TRISTATE_OFF && (!i || l(f, !0) != this.value);
                e ? m ? f.addClass(e) : j || f.removeAttribute('class') : m && f.setStyle('text-align', this.value);
              }
          }
          a.focus();
          a.forceNextSelectionCheck();
          c.selectBookmarks(h);
        }
      },
      refresh: function (a, c) {
        var b = c.block || c.blockLimit;
        this.setState('body' != b.getName() && l(b, this.editor.config.useComputedState) == this.value ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF);
      }
    };
    CKEDITOR.plugins.add('justify', {
      init: function (a) {
        if (!a.blockless) {
          var c = new g(a, 'justifyleft', 'left'), b = new g(a, 'justifycenter', 'center'), h = new g(a, 'justifyright', 'right'), d = new g(a, 'justifyblock', 'justify');
          a.addCommand('justifyleft', c);
          a.addCommand('justifycenter', b);
          a.addCommand('justifyright', h);
          a.addCommand('justifyblock', d);
          a.ui.addButton && (a.ui.addButton('JustifyLeft', {
            label: a.lang.justify.left,
            command: 'justifyleft',
            toolbar: 'align,10'
          }), a.ui.addButton('JustifyCenter', {
            label: a.lang.justify.center,
            command: 'justifycenter',
            toolbar: 'align,20'
          }), a.ui.addButton('JustifyRight', {
            label: a.lang.justify.right,
            command: 'justifyright',
            toolbar: 'align,30'
          }), a.ui.addButton('JustifyBlock', {
            label: a.lang.justify.block,
            command: 'justifyblock',
            toolbar: 'align,40'
          }));
          a.on('dirChanged', j);
        }
      }
    });
  }());
  CKEDITOR.plugins.add('menubutton', {
    requires: 'button,menu',
    onLoad: function () {
      var d = function (c) {
        var a = this._, b = a.menu;
        a.state !== CKEDITOR.TRISTATE_DISABLED && (a.on && b ? b.hide() : (a.previousState = a.state, b || (b = a.menu = new CKEDITOR.menu(c, {
          panel: {
            className: 'cke_menu_panel',
            attributes: { 'aria-label': c.lang.common.options }
          }
        }), b.onHide = CKEDITOR.tools.bind(function () {
          var b = this.command ? c.getCommand(this.command).modes : this.modes;
          this.setState(!b || b[c.mode] ? a.previousState : CKEDITOR.TRISTATE_DISABLED);
          a.on = 0;
        }, this), this.onMenu && b.addListener(this.onMenu)), this.setState(CKEDITOR.TRISTATE_ON), a.on = 1, setTimeout(function () {
          b.show(CKEDITOR.document.getById(a.id), 4);
        }, 0)));
      };
      CKEDITOR.ui.menuButton = CKEDITOR.tools.createClass({
        base: CKEDITOR.ui.button,
        $: function (c) {
          delete c.panel;
          this.base(c);
          this.hasArrow = !0;
          this.click = d;
        },
        statics: {
          handler: {
            create: function (c) {
              return new CKEDITOR.ui.menuButton(c);
            }
          }
        }
      });
    },
    beforeInit: function (d) {
      d.ui.addHandler(CKEDITOR.UI_MENUBUTTON, CKEDITOR.ui.menuButton.handler);
    }
  });
  CKEDITOR.UI_MENUBUTTON = 'menubutton';
  (function () {
    CKEDITOR.plugins.add('language', {
      requires: 'menubutton',
      init: function (a) {
        var b = a.config.language_list || [
            'ar:Arabic:rtl',
            'fr:French',
            'es:Spanish'
          ], c = this, d = a.lang.language, e = {}, g, h, i, f;
        a.addCommand('language', {
          allowedContent: 'span[!lang,!dir]',
          requiredContent: 'span[lang,dir]',
          contextSensitive: !0,
          exec: function (a, b) {
            var c = e['language_' + b];
            if (c)
              a[c.style.checkActive(a.elementPath(), a) ? 'removeStyle' : 'applyStyle'](c.style);
          },
          refresh: function (a) {
            this.setState(c.getCurrentLangElement(a) ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF);
          }
        });
        for (f = 0; f < b.length; f++)
          g = b[f].split(':'), h = g[0], i = 'language_' + h, e[i] = {
            label: g[1],
            langId: h,
            group: 'language',
            order: f,
            ltr: 'rtl' != ('' + g[2]).toLowerCase(),
            onClick: function () {
              a.execCommand('language', this.langId);
            },
            role: 'menuitemcheckbox'
          }, e[i].style = new CKEDITOR.style({
            element: 'span',
            attributes: {
              lang: h,
              dir: e[i].ltr ? 'ltr' : 'rtl'
            }
          });
        e.language_remove = {
          label: d.remove,
          group: 'language_remove',
          state: CKEDITOR.TRISTATE_DISABLED,
          order: e.length,
          onClick: function () {
            var b = c.getCurrentLangElement(a);
            b && a.execCommand('language', b.getAttribute('lang'));
          }
        };
        a.addMenuGroup('language', 1);
        a.addMenuGroup('language_remove');
        a.addMenuItems(e);
        a.ui.add('Language', CKEDITOR.UI_MENUBUTTON, {
          label: d.button,
          allowedContent: 'span[!lang,!dir]',
          requiredContent: 'span[lang,dir]',
          toolbar: 'bidi,30',
          command: 'language',
          onMenu: function () {
            var b = {}, d = c.getCurrentLangElement(a), f;
            for (f in e)
              b[f] = CKEDITOR.TRISTATE_OFF;
            b.language_remove = d ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED;
            d && (b['language_' + d.getAttribute('lang')] = CKEDITOR.TRISTATE_ON);
            return b;
          }
        });
      },
      getCurrentLangElement: function (a) {
        var b = a.elementPath(), a = b && b.elements, c;
        if (b)
          for (var d = 0; d < a.length; d++)
            b = a[d], !c && ('span' == b.getName() && b.hasAttribute('dir') && b.hasAttribute('lang')) && (c = b);
        return c;
      }
    });
  }());
  (function () {
    function m(c) {
      return c.replace(/'/g, '\\$&');
    }
    function n(c) {
      for (var b, a = c.length, f = [], e = 0; e < a; e++)
        b = c.charCodeAt(e), f.push(b);
      return 'String.fromCharCode(' + f.join(',') + ')';
    }
    function o(c, b) {
      var a = c.plugins.link, f = a.compiledProtectionFunction.params, e, d;
      d = [
        a.compiledProtectionFunction.name,
        '('
      ];
      for (var g = 0; g < f.length; g++)
        a = f[g].toLowerCase(), e = b[a], 0 < g && d.push(','), d.push('\'', e ? m(encodeURIComponent(b[a])) : '', '\'');
      d.push(')');
      return d.join('');
    }
    function l(c) {
      var c = c.config.emailProtection || '', b;
      c && 'encode' != c && (b = {}, c.replace(/^([^(]+)\(([^)]+)\)$/, function (a, c, e) {
        b.name = c;
        b.params = [];
        e.replace(/[^,\s]+/g, function (a) {
          b.params.push(a);
        });
      }));
      return b;
    }
    CKEDITOR.plugins.add('link', {
      requires: 'dialog,fakeobjects',
      onLoad: function () {
        function c(b) {
          return a.replace(/%1/g, 'rtl' == b ? 'right' : 'left').replace(/%2/g, 'cke_contents_' + b);
        }
        var b = 'background:url(' + CKEDITOR.getUrl(this.path + 'images' + (CKEDITOR.env.hidpi ? '/hidpi' : '') + '/anchor.png') + ') no-repeat %1 center;border:1px dotted #00f;background-size:16px;', a = '.%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{' + b + 'padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{' + b + 'width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}';
        CKEDITOR.addCss(c('ltr') + c('rtl'));
      },
      init: function (c) {
        var b = 'a[!href]';
        CKEDITOR.dialog.isTabEnabled(c, 'link', 'advanced') && (b = b.replace(']', ',accesskey,charset,dir,id,lang,name,rel,tabindex,title,type]{*}(*)'));
        CKEDITOR.dialog.isTabEnabled(c, 'link', 'target') && (b = b.replace(']', ',target,onclick]'));
        c.addCommand('link', new CKEDITOR.dialogCommand('link', {
          allowedContent: b,
          requiredContent: 'a[href]'
        }));
        c.addCommand('anchor', new CKEDITOR.dialogCommand('anchor', {
          allowedContent: 'a[!name,id]',
          requiredContent: 'a[name]'
        }));
        c.addCommand('unlink', new CKEDITOR.unlinkCommand());
        c.addCommand('removeAnchor', new CKEDITOR.removeAnchorCommand());
        c.setKeystroke(CKEDITOR.CTRL + 76, 'link');
        c.ui.addButton && (c.ui.addButton('Link', {
          label: c.lang.link.toolbar,
          command: 'link',
          toolbar: 'links,10'
        }), c.ui.addButton('Unlink', {
          label: c.lang.link.unlink,
          command: 'unlink',
          toolbar: 'links,20'
        }), c.ui.addButton('Anchor', {
          label: c.lang.link.anchor.toolbar,
          command: 'anchor',
          toolbar: 'links,30'
        }));
        CKEDITOR.dialog.add('link', this.path + 'dialogs/link.js');
        CKEDITOR.dialog.add('anchor', this.path + 'dialogs/anchor.js');
        c.on('doubleclick', function (a) {
          var b = CKEDITOR.plugins.link.getSelectedLink(c) || a.data.element;
          if (!b.isReadOnly())
            if (b.is('a')) {
              a.data.dialog = b.getAttribute('name') && (!b.getAttribute('href') || !b.getChildCount()) ? 'anchor' : 'link';
              a.data.link = b;
            } else if (CKEDITOR.plugins.link.tryRestoreFakeAnchor(c, b))
              a.data.dialog = 'anchor';
        }, null, null, 0);
        c.on('doubleclick', function (a) {
          a.data.dialog in {
            link: 1,
            anchor: 1
          } && a.data.link && c.getSelection().selectElement(a.data.link);
        }, null, null, 20);
        c.addMenuItems && c.addMenuItems({
          anchor: {
            label: c.lang.link.anchor.menu,
            command: 'anchor',
            group: 'anchor',
            order: 1
          },
          removeAnchor: {
            label: c.lang.link.anchor.remove,
            command: 'removeAnchor',
            group: 'anchor',
            order: 5
          },
          link: {
            label: c.lang.link.menu,
            command: 'link',
            group: 'link',
            order: 1
          },
          unlink: {
            label: c.lang.link.unlink,
            command: 'unlink',
            group: 'link',
            order: 5
          }
        });
        c.contextMenu && c.contextMenu.addListener(function (a) {
          if (!a || a.isReadOnly())
            return null;
          a = CKEDITOR.plugins.link.tryRestoreFakeAnchor(c, a);
          if (!a && !(a = CKEDITOR.plugins.link.getSelectedLink(c)))
            return null;
          var b = {};
          a.getAttribute('href') && a.getChildCount() && (b = {
            link: CKEDITOR.TRISTATE_OFF,
            unlink: CKEDITOR.TRISTATE_OFF
          });
          if (a && a.hasAttribute('name'))
            b.anchor = b.removeAnchor = CKEDITOR.TRISTATE_OFF;
          return b;
        });
        this.compiledProtectionFunction = l(c);
      },
      afterInit: function (c) {
        c.dataProcessor.dataFilter.addRules({
          elements: {
            a: function (a) {
              return !a.attributes.name ? null : !a.children.length ? c.createFakeParserElement(a, 'cke_anchor', 'anchor') : null;
            }
          }
        });
        var b = c._.elementsPath && c._.elementsPath.filters;
        b && b.push(function (a, b) {
          if ('a' == b && (CKEDITOR.plugins.link.tryRestoreFakeAnchor(c, a) || a.getAttribute('name') && (!a.getAttribute('href') || !a.getChildCount())))
            return 'anchor';
        });
      }
    });
    var p = /^javascript:/, q = /^mailto:([^?]+)(?:\?(.+))?$/, r = /subject=([^;?:@&=$,\/]*)/, s = /body=([^;?:@&=$,\/]*)/, t = /^#(.*)$/, u = /^((?:http|https|ftp|news):\/\/)?(.*)$/, v = /^(_(?:self|top|parent|blank))$/, w = /^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/, x = /^javascript:([^(]+)\(([^)]+)\)$/, y = /\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/, z = /(?:^|,)([^=]+)=(\d+|yes|no)/gi, j = {
        id: 'advId',
        dir: 'advLangDir',
        accessKey: 'advAccessKey',
        name: 'advName',
        lang: 'advLangCode',
        tabindex: 'advTabIndex',
        title: 'advTitle',
        type: 'advContentType',
        'class': 'advCSSClasses',
        charset: 'advCharset',
        style: 'advStyles',
        rel: 'advRel'
      };
    CKEDITOR.plugins.link = {
      getSelectedLink: function (c) {
        var b = c.getSelection(), a = b.getSelectedElement();
        return a && a.is('a') ? a : (b = b.getRanges()[0]) ? (b.shrink(CKEDITOR.SHRINK_TEXT), c.elementPath(b.getCommonAncestor()).contains('a', 1)) : null;
      },
      getEditorAnchors: function (c) {
        for (var b = c.editable(), a = b.isInline() && !c.plugins.divarea ? c.document : b, b = a.getElementsByTag('a'), a = a.getElementsByTag('img'), f = [], e = 0, d; d = b.getItem(e++);)
          if (d.data('cke-saved-name') || d.hasAttribute('name'))
            f.push({
              name: d.data('cke-saved-name') || d.getAttribute('name'),
              id: d.getAttribute('id')
            });
        for (e = 0; d = a.getItem(e++);)
          (d = this.tryRestoreFakeAnchor(c, d)) && f.push({
            name: d.getAttribute('name'),
            id: d.getAttribute('id')
          });
        return f;
      },
      fakeAnchor: !0,
      tryRestoreFakeAnchor: function (c, b) {
        if (b && b.data('cke-real-element-type') && 'anchor' == b.data('cke-real-element-type')) {
          var a = c.restoreRealElement(b);
          if (a.data('cke-saved-name'))
            return a;
        }
      },
      parseLinkAttributes: function (c, b) {
        var a = b && (b.data('cke-saved-href') || b.getAttribute('href')) || '', f = c.plugins.link.compiledProtectionFunction, e = c.config.emailProtection, d, g = {};
        a.match(p) && ('encode' == e ? a = a.replace(w, function (a, b, c) {
          return 'mailto:' + String.fromCharCode.apply(String, b.split(',')) + (c && c.replace(/\\'/g, '\''));
        }) : e && a.replace(x, function (a, b, c) {
          if (b == f.name) {
            g.type = 'email';
            for (var a = g.email = {}, b = /(^')|('$)/g, c = c.match(/[^,\s]+/g), d = c.length, e, h, i = 0; i < d; i++)
              e = decodeURIComponent, h = c[i].replace(b, '').replace(/\\'/g, '\''), h = e(h), e = f.params[i].toLowerCase(), a[e] = h;
            a.address = [
              a.name,
              a.domain
            ].join('@');
          }
        }));
        if (!g.type)
          if (e = a.match(t))
            g.type = 'anchor', g.anchor = {}, g.anchor.name = g.anchor.id = e[1];
          else if (e = a.match(q)) {
            d = a.match(r);
            a = a.match(s);
            g.type = 'email';
            var i = g.email = {};
            i.address = e[1];
            d && (i.subject = decodeURIComponent(d[1]));
            a && (i.body = decodeURIComponent(a[1]));
          } else if (a && (d = a.match(u)))
            g.type = 'url', g.url = {}, g.url.protocol = d[1], g.url.url = d[2];
        if (b) {
          if (a = b.getAttribute('target'))
            g.target = {
              type: a.match(v) ? a : 'frame',
              name: a
            };
          else if (a = (a = b.data('cke-pa-onclick') || b.getAttribute('onclick')) && a.match(y))
            for (g.target = {
                type: 'popup',
                name: a[1]
              }; e = z.exec(a[2]);)
              ('yes' == e[2] || '1' == e[2]) && !(e[1] in {
                height: 1,
                width: 1,
                top: 1,
                left: 1
              }) ? g.target[e[1]] = !0 : isFinite(e[2]) && (g.target[e[1]] = e[2]);
          var a = {}, h;
          for (h in j)
            (e = b.getAttribute(h)) && (a[j[h]] = e);
          if (h = b.data('cke-saved-name') || a.advName)
            a.advName = h;
          CKEDITOR.tools.isEmpty(a) || (g.advanced = a);
        }
        return g;
      },
      getLinkAttributes: function (c, b) {
        var a = c.config.emailProtection || '', f = {};
        switch (b.type) {
        case 'url':
          var a = b.url && void 0 != b.url.protocol ? b.url.protocol : 'http://', e = b.url && CKEDITOR.tools.trim(b.url.url) || '';
          f['data-cke-saved-href'] = 0 === e.indexOf('/') ? e : a + e;
          break;
        case 'anchor':
          a = b.anchor && b.anchor.id;
          f['data-cke-saved-href'] = '#' + (b.anchor && b.anchor.name || a || '');
          break;
        case 'email':
          var d = b.email, e = d.address;
          switch (a) {
          case '':
          case 'encode':
            var g = encodeURIComponent(d.subject || ''), i = encodeURIComponent(d.body || ''), d = [];
            g && d.push('subject=' + g);
            i && d.push('body=' + i);
            d = d.length ? '?' + d.join('&') : '';
            'encode' == a ? (a = [
              'javascript:void(location.href=\'mailto:\'+',
              n(e)
            ], d && a.push('+\'', m(d), '\''), a.push(')')) : a = [
              'mailto:',
              e,
              d
            ];
            break;
          default:
            a = e.split('@', 2), d.name = a[0], d.domain = a[1], a = [
              'javascript:',
              o(c, d)
            ];
          }
          f['data-cke-saved-href'] = a.join('');
        }
        if (b.target)
          if ('popup' == b.target.type) {
            for (var a = [
                  'window.open(this.href, \'',
                  b.target.name || '',
                  '\', \''
                ], h = 'resizable status location toolbar menubar fullscreen scrollbars dependent'.split(' '), e = h.length, g = function (a) {
                  b.target[a] && h.push(a + '=' + b.target[a]);
                }, d = 0; d < e; d++)
              h[d] += b.target[h[d]] ? '=yes' : '=no';
            g('width');
            g('left');
            g('height');
            g('top');
            a.push(h.join(','), '\'); return false;');
            f['data-cke-pa-onclick'] = a.join('');
          } else
            'notSet' != b.target.type && b.target.name && (f.target = b.target.name);
        if (b.advanced) {
          for (var k in j)
            (a = b.advanced[j[k]]) && (f[k] = a);
          f.name && (f['data-cke-saved-name'] = f.name);
        }
        f['data-cke-saved-href'] && (f.href = f['data-cke-saved-href']);
        k = CKEDITOR.tools.extend({
          target: 1,
          onclick: 1,
          'data-cke-pa-onclick': 1,
          'data-cke-saved-name': 1
        }, j);
        for (var l in f)
          delete k[l];
        return {
          set: f,
          removed: CKEDITOR.tools.objectKeys(k)
        };
      }
    };
    CKEDITOR.unlinkCommand = function () {
    };
    CKEDITOR.unlinkCommand.prototype = {
      exec: function (c) {
        var b = new CKEDITOR.style({
            element: 'a',
            type: CKEDITOR.STYLE_INLINE,
            alwaysRemoveElement: 1
          });
        c.removeStyle(b);
      },
      refresh: function (c, b) {
        var a = b.lastElement && b.lastElement.getAscendant('a', !0);
        a && 'a' == a.getName() && a.getAttribute('href') && a.getChildCount() ? this.setState(CKEDITOR.TRISTATE_OFF) : this.setState(CKEDITOR.TRISTATE_DISABLED);
      },
      contextSensitive: 1,
      startDisabled: 1,
      requiredContent: 'a[href]'
    };
    CKEDITOR.removeAnchorCommand = function () {
    };
    CKEDITOR.removeAnchorCommand.prototype = {
      exec: function (c) {
        var b = c.getSelection(), a = b.createBookmarks(), f;
        if (b && (f = b.getSelectedElement()) && (!f.getChildCount() ? CKEDITOR.plugins.link.tryRestoreFakeAnchor(c, f) : f.is('a')))
          f.remove(1);
        else if (f = CKEDITOR.plugins.link.getSelectedLink(c))
          f.hasAttribute('href') ? (f.removeAttributes({
            name: 1,
            'data-cke-saved-name': 1
          }), f.removeClass('cke_anchor')) : f.remove(1);
        b.selectBookmarks(a);
      },
      requiredContent: 'a[name]'
    };
    CKEDITOR.tools.extend(CKEDITOR.config, {
      linkShowAdvancedTab: !0,
      linkShowTargetTab: !0
    });
  }());
  (function () {
    function E(c, j, e) {
      function b(b) {
        if ((d = a[b ? 'getFirst' : 'getLast']()) && (!d.is || !d.isBlockBoundary()) && (m = j.root[b ? 'getPrevious' : 'getNext'](CKEDITOR.dom.walker.invisible(!0))) && (!m.is || !m.isBlockBoundary({ br: 1 })))
          c.document.createElement('br')[b ? 'insertBefore' : 'insertAfter'](d);
      }
      for (var k = CKEDITOR.plugins.list.listToArray(j.root, e), g = [], h = 0; h < j.contents.length; h++) {
        var f = j.contents[h];
        if ((f = f.getAscendant('li', !0)) && !f.getCustomData('list_item_processed'))
          g.push(f), CKEDITOR.dom.element.setMarker(e, f, 'list_item_processed', !0);
      }
      f = null;
      for (h = 0; h < g.length; h++)
        f = g[h].getCustomData('listarray_index'), k[f].indent = -1;
      for (h = f + 1; h < k.length; h++)
        if (k[h].indent > k[h - 1].indent + 1) {
          g = k[h - 1].indent + 1 - k[h].indent;
          for (f = k[h].indent; k[h] && k[h].indent >= f;)
            k[h].indent += g, h++;
          h--;
        }
      var a = CKEDITOR.plugins.list.arrayToList(k, e, null, c.config.enterMode, j.root.getAttribute('dir')).listNode, d, m;
      b(!0);
      b();
      a.replace(j.root);
      c.fire('contentDomInvalidated');
    }
    function x(c, j) {
      this.name = c;
      this.context = this.type = j;
      this.allowedContent = j + ' li';
      this.requiredContent = j;
    }
    function A(c, j, e, b) {
      for (var k, g; k = c[b ? 'getLast' : 'getFirst'](F);)
        (g = k.getDirection(1)) !== j.getDirection(1) && k.setAttribute('dir', g), k.remove(), e ? k[b ? 'insertBefore' : 'insertAfter'](e) : j.append(k, b);
    }
    function B(c) {
      var j;
      (j = function (e) {
        var b = c[e ? 'getPrevious' : 'getNext'](q);
        b && (b.type == CKEDITOR.NODE_ELEMENT && b.is(c.getName())) && (A(c, b, null, !e), c.remove(), c = b);
      })();
      j(1);
    }
    function C(c) {
      return c.type == CKEDITOR.NODE_ELEMENT && (c.getName() in CKEDITOR.dtd.$block || c.getName() in CKEDITOR.dtd.$listItem) && CKEDITOR.dtd[c.getName()]['#'];
    }
    function y(c, j, e) {
      c.fire('saveSnapshot');
      e.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);
      var b = e.extractContents();
      j.trim(!1, !0);
      var k = j.createBookmark(), g = new CKEDITOR.dom.elementPath(j.startContainer), h = g.block, g = g.lastElement.getAscendant('li', 1) || h, f = new CKEDITOR.dom.elementPath(e.startContainer), a = f.contains(CKEDITOR.dtd.$listItem), f = f.contains(CKEDITOR.dtd.$list);
      h ? (h = h.getBogus()) && h.remove() : f && (h = f.getPrevious(q)) && v(h) && h.remove();
      (h = b.getLast()) && (h.type == CKEDITOR.NODE_ELEMENT && h.is('br')) && h.remove();
      (h = j.startContainer.getChild(j.startOffset)) ? b.insertBefore(h) : j.startContainer.append(b);
      if (a && (b = w(a)))
        g.contains(a) ? (A(b, a.getParent(), a), b.remove()) : g.append(b);
      for (; e.checkStartOfBlock() && e.checkEndOfBlock();) {
        f = e.startPath();
        b = f.block;
        if (!b)
          break;
        b.is('li') && (g = b.getParent(), b.equals(g.getLast(q)) && b.equals(g.getFirst(q)) && (b = g));
        e.moveToPosition(b, CKEDITOR.POSITION_BEFORE_START);
        b.remove();
      }
      e = e.clone();
      b = c.editable();
      e.setEndAt(b, CKEDITOR.POSITION_BEFORE_END);
      e = new CKEDITOR.dom.walker(e);
      e.evaluator = function (a) {
        return q(a) && !v(a);
      };
      (e = e.next()) && (e.type == CKEDITOR.NODE_ELEMENT && e.getName() in CKEDITOR.dtd.$list) && B(e);
      j.moveToBookmark(k);
      j.select();
      c.fire('saveSnapshot');
    }
    function w(c) {
      return (c = c.getLast(q)) && c.type == CKEDITOR.NODE_ELEMENT && c.getName() in r ? c : null;
    }
    var r = {
        ol: 1,
        ul: 1
      }, G = CKEDITOR.dom.walker.whitespaces(), D = CKEDITOR.dom.walker.bookmark(), q = function (c) {
        return !(G(c) || D(c));
      }, v = CKEDITOR.dom.walker.bogus();
    CKEDITOR.plugins.list = {
      listToArray: function (c, j, e, b, k) {
        if (!r[c.getName()])
          return [];
        b || (b = 0);
        e || (e = []);
        for (var g = 0, h = c.getChildCount(); g < h; g++) {
          var f = c.getChild(g);
          f.type == CKEDITOR.NODE_ELEMENT && f.getName() in CKEDITOR.dtd.$list && CKEDITOR.plugins.list.listToArray(f, j, e, b + 1);
          if ('li' == f.$.nodeName.toLowerCase()) {
            var a = {
                parent: c,
                indent: b,
                element: f,
                contents: []
              };
            k ? a.grandparent = k : (a.grandparent = c.getParent(), a.grandparent && 'li' == a.grandparent.$.nodeName.toLowerCase() && (a.grandparent = a.grandparent.getParent()));
            j && CKEDITOR.dom.element.setMarker(j, f, 'listarray_index', e.length);
            e.push(a);
            for (var d = 0, m = f.getChildCount(), i; d < m; d++)
              i = f.getChild(d), i.type == CKEDITOR.NODE_ELEMENT && r[i.getName()] ? CKEDITOR.plugins.list.listToArray(i, j, e, b + 1, a.grandparent) : a.contents.push(i);
          }
        }
        return e;
      },
      arrayToList: function (c, j, e, b, k) {
        e || (e = 0);
        if (!c || c.length < e + 1)
          return null;
        for (var g, h = c[e].parent.getDocument(), f = new CKEDITOR.dom.documentFragment(h), a = null, d = e, m = Math.max(c[e].indent, 0), i = null, n, l, p = b == CKEDITOR.ENTER_P ? 'p' : 'div';;) {
          var o = c[d];
          g = o.grandparent;
          n = o.element.getDirection(1);
          if (o.indent == m) {
            if (!a || c[d].parent.getName() != a.getName())
              a = c[d].parent.clone(!1, 1), k && a.setAttribute('dir', k), f.append(a);
            i = a.append(o.element.clone(0, 1));
            n != a.getDirection(1) && i.setAttribute('dir', n);
            for (g = 0; g < o.contents.length; g++)
              i.append(o.contents[g].clone(1, 1));
            d++;
          } else if (o.indent == Math.max(m, 0) + 1)
            o = c[d - 1].element.getDirection(1), d = CKEDITOR.plugins.list.arrayToList(c, null, d, b, o != n ? n : null), !i.getChildCount() && (CKEDITOR.env.needsNbspFiller && !(7 < h.$.documentMode)) && i.append(h.createText('\xa0')), i.append(d.listNode), d = d.nextIndex;
          else if (-1 == o.indent && !e && g) {
            r[g.getName()] ? (i = o.element.clone(!1, !0), n != g.getDirection(1) && i.setAttribute('dir', n)) : i = new CKEDITOR.dom.documentFragment(h);
            var a = g.getDirection(1) != n, u = o.element, z = u.getAttribute('class'), v = u.getAttribute('style'), w = i.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT && (b != CKEDITOR.ENTER_BR || a || v || z), s, x = o.contents.length, t;
            for (g = 0; g < x; g++)
              if (s = o.contents[g], D(s) && 1 < x)
                w ? t = s.clone(1, 1) : i.append(s.clone(1, 1));
              else if (s.type == CKEDITOR.NODE_ELEMENT && s.isBlockBoundary()) {
                a && !s.getDirection() && s.setAttribute('dir', n);
                l = s;
                var y = u.getAttribute('style');
                y && l.setAttribute('style', y.replace(/([^;])$/, '$1;') + (l.getAttribute('style') || ''));
                z && s.addClass(z);
                l = null;
                t && (i.append(t), t = null);
                i.append(s.clone(1, 1));
              } else
                w ? (l || (l = h.createElement(p), i.append(l), a && l.setAttribute('dir', n)), v && l.setAttribute('style', v), z && l.setAttribute('class', z), t && (l.append(t), t = null), l.append(s.clone(1, 1))) : i.append(s.clone(1, 1));
            t && ((l || i).append(t), t = null);
            i.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT && d != c.length - 1 && (CKEDITOR.env.needsBrFiller && (n = i.getLast()) && (n.type == CKEDITOR.NODE_ELEMENT && n.is('br')) && n.remove(), n = i.getLast(q), (!n || !(n.type == CKEDITOR.NODE_ELEMENT && n.is(CKEDITOR.dtd.$block))) && i.append(h.createElement('br')));
            n = i.$.nodeName.toLowerCase();
            ('div' == n || 'p' == n) && i.appendBogus();
            f.append(i);
            a = null;
            d++;
          } else
            return null;
          l = null;
          if (c.length <= d || Math.max(c[d].indent, 0) < m)
            break;
        }
        if (j)
          for (c = f.getFirst(); c;) {
            if (c.type == CKEDITOR.NODE_ELEMENT && (CKEDITOR.dom.element.clearMarkers(j, c), c.getName() in CKEDITOR.dtd.$listItem && (e = c, h = k = b = void 0, b = e.getDirection()))) {
              for (k = e.getParent(); k && !(h = k.getDirection());)
                k = k.getParent();
              b == h && e.removeAttribute('dir');
            }
            c = c.getNextSourceNode();
          }
        return {
          listNode: f,
          nextIndex: d
        };
      }
    };
    var H = /^h[1-6]$/, F = CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);
    x.prototype = {
      exec: function (c) {
        this.refresh(c, c.elementPath());
        var j = c.config, e = c.getSelection(), b = e && e.getRanges();
        if (this.state == CKEDITOR.TRISTATE_OFF) {
          var k = c.editable();
          if (k.getFirst(q)) {
            var g = 1 == b.length && b[0];
            (j = g && g.getEnclosedNode()) && (j.is && this.type == j.getName()) && this.setState(CKEDITOR.TRISTATE_ON);
          } else
            j.enterMode == CKEDITOR.ENTER_BR ? k.appendBogus() : b[0].fixBlock(1, j.enterMode == CKEDITOR.ENTER_P ? 'p' : 'div'), e.selectRanges(b);
        }
        for (var j = e.createBookmarks(!0), k = [], h = {}, b = b.createIterator(), f = 0; (g = b.getNextRange()) && ++f;) {
          var a = g.getBoundaryNodes(), d = a.startNode, m = a.endNode;
          d.type == CKEDITOR.NODE_ELEMENT && 'td' == d.getName() && g.setStartAt(a.startNode, CKEDITOR.POSITION_AFTER_START);
          m.type == CKEDITOR.NODE_ELEMENT && 'td' == m.getName() && g.setEndAt(a.endNode, CKEDITOR.POSITION_BEFORE_END);
          g = g.createIterator();
          for (g.forceBrBreak = this.state == CKEDITOR.TRISTATE_OFF; a = g.getNextParagraph();)
            if (!a.getCustomData('list_block')) {
              CKEDITOR.dom.element.setMarker(h, a, 'list_block', 1);
              for (var i = c.elementPath(a), d = i.elements, m = 0, i = i.blockLimit, n, l = d.length - 1; 0 <= l && (n = d[l]); l--)
                if (r[n.getName()] && i.contains(n)) {
                  i.removeCustomData('list_group_object_' + f);
                  (d = n.getCustomData('list_group_object')) ? d.contents.push(a) : (d = {
                    root: n,
                    contents: [a]
                  }, k.push(d), CKEDITOR.dom.element.setMarker(h, n, 'list_group_object', d));
                  m = 1;
                  break;
                }
              m || (m = i, m.getCustomData('list_group_object_' + f) ? m.getCustomData('list_group_object_' + f).contents.push(a) : (d = {
                root: m,
                contents: [a]
              }, CKEDITOR.dom.element.setMarker(h, m, 'list_group_object_' + f, d), k.push(d)));
            }
        }
        for (n = []; 0 < k.length;)
          if (d = k.shift(), this.state == CKEDITOR.TRISTATE_OFF)
            if (r[d.root.getName()]) {
              b = c;
              f = d;
              d = h;
              g = n;
              m = CKEDITOR.plugins.list.listToArray(f.root, d);
              i = [];
              for (a = 0; a < f.contents.length; a++)
                if (l = f.contents[a], (l = l.getAscendant('li', !0)) && !l.getCustomData('list_item_processed'))
                  i.push(l), CKEDITOR.dom.element.setMarker(d, l, 'list_item_processed', !0);
              for (var l = f.root.getDocument(), p = void 0, o = void 0, a = 0; a < i.length; a++) {
                var u = i[a].getCustomData('listarray_index'), p = m[u].parent;
                p.is(this.type) || (o = l.createElement(this.type), p.copyAttributes(o, {
                  start: 1,
                  type: 1
                }), o.removeStyle('list-style-type'), m[u].parent = o);
              }
              d = CKEDITOR.plugins.list.arrayToList(m, d, null, b.config.enterMode);
              m = void 0;
              i = d.listNode.getChildCount();
              for (a = 0; a < i && (m = d.listNode.getChild(a)); a++)
                m.getName() == this.type && g.push(m);
              d.listNode.replace(f.root);
              b.fire('contentDomInvalidated');
            } else {
              m = c;
              a = d;
              g = n;
              i = a.contents;
              b = a.root.getDocument();
              f = [];
              1 == i.length && i[0].equals(a.root) && (d = b.createElement('div'), i[0].moveChildren && i[0].moveChildren(d), i[0].append(d), i[0] = d);
              a = a.contents[0].getParent();
              for (l = 0; l < i.length; l++)
                a = a.getCommonAncestor(i[l].getParent());
              p = m.config.useComputedState;
              m = d = void 0;
              p = void 0 === p || p;
              for (l = 0; l < i.length; l++)
                for (o = i[l]; u = o.getParent();) {
                  if (u.equals(a)) {
                    f.push(o);
                    !m && o.getDirection() && (m = 1);
                    o = o.getDirection(p);
                    null !== d && (d = d && d != o ? null : o);
                    break;
                  }
                  o = u;
                }
              if (!(1 > f.length)) {
                i = f[f.length - 1].getNext();
                l = b.createElement(this.type);
                g.push(l);
                for (p = g = void 0; f.length;)
                  g = f.shift(), p = b.createElement('li'), g.is('pre') || H.test(g.getName()) || 'false' == g.getAttribute('contenteditable') ? g.appendTo(p) : (g.copyAttributes(p), d && g.getDirection() && (p.removeStyle('direction'), p.removeAttribute('dir')), g.moveChildren(p), g.remove()), p.appendTo(l);
                d && m && l.setAttribute('dir', d);
                i ? l.insertBefore(i) : l.appendTo(a);
              }
            }
          else
            this.state == CKEDITOR.TRISTATE_ON && r[d.root.getName()] && E.call(this, c, d, h);
        for (l = 0; l < n.length; l++)
          B(n[l]);
        CKEDITOR.dom.element.clearAllMarkers(h);
        e.selectBookmarks(j);
        c.focus();
      },
      refresh: function (c, j) {
        var e = j.contains(r, 1), b = j.blockLimit || j.root;
        e && b.contains(e) ? this.setState(e.is(this.type) ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF) : this.setState(CKEDITOR.TRISTATE_OFF);
      }
    };
    CKEDITOR.plugins.add('list', {
      requires: 'indentlist',
      init: function (c) {
        c.blockless || (c.addCommand('numberedlist', new x('numberedlist', 'ol')), c.addCommand('bulletedlist', new x('bulletedlist', 'ul')), c.ui.addButton && (c.ui.addButton('NumberedList', {
          label: c.lang.list.numberedlist,
          command: 'numberedlist',
          directional: !0,
          toolbar: 'list,10'
        }), c.ui.addButton('BulletedList', {
          label: c.lang.list.bulletedlist,
          command: 'bulletedlist',
          directional: !0,
          toolbar: 'list,20'
        })), c.on('key', function (j) {
          var e = j.data.domEvent.getKey();
          if (c.mode == 'wysiwyg' && e in {
              8: 1,
              46: 1
            }) {
            var b = c.getSelection().getRanges()[0], k = b && b.startPath();
            if (b && b.collapsed) {
              var g = e == 8, h = c.editable(), f = new CKEDITOR.dom.walker(b.clone());
              f.evaluator = function (a) {
                return q(a) && !v(a);
              };
              f.guard = function (a, b) {
                return !(b && a.type == CKEDITOR.NODE_ELEMENT && a.is('table'));
              };
              e = b.clone();
              if (g) {
                var a, d;
                if ((a = k.contains(r)) && b.checkBoundaryOfElement(a, CKEDITOR.START) && (a = a.getParent()) && a.is('li') && (a = w(a))) {
                  d = a;
                  a = a.getPrevious(q);
                  e.moveToPosition(a && v(a) ? a : d, CKEDITOR.POSITION_BEFORE_START);
                } else {
                  f.range.setStartAt(h, CKEDITOR.POSITION_AFTER_START);
                  f.range.setEnd(b.startContainer, b.startOffset);
                  if ((a = f.previous()) && a.type == CKEDITOR.NODE_ELEMENT && (a.getName() in r || a.is('li'))) {
                    if (!a.is('li')) {
                      f.range.selectNodeContents(a);
                      f.reset();
                      f.evaluator = C;
                      a = f.previous();
                    }
                    d = a;
                    e.moveToElementEditEnd(d);
                  }
                }
                if (d) {
                  y(c, e, b);
                  j.cancel();
                } else if ((e = k.contains(r)) && b.checkBoundaryOfElement(e, CKEDITOR.START)) {
                  d = e.getFirst(q);
                  if (b.checkBoundaryOfElement(d, CKEDITOR.START)) {
                    a = e.getPrevious(q);
                    if (w(d)) {
                      if (a) {
                        b.moveToElementEditEnd(a);
                        b.select();
                      }
                    } else
                      c.execCommand('outdent');
                    j.cancel();
                  }
                }
              } else if (d = k.contains('li')) {
                f.range.setEndAt(h, CKEDITOR.POSITION_BEFORE_END);
                h = (k = d.getLast(q)) && C(k) ? k : d;
                d = 0;
                if ((a = f.next()) && a.type == CKEDITOR.NODE_ELEMENT && a.getName() in r && a.equals(k)) {
                  d = 1;
                  a = f.next();
                } else
                  b.checkBoundaryOfElement(h, CKEDITOR.END) && (d = 1);
                if (d && a) {
                  b = b.clone();
                  b.moveToElementEditStart(a);
                  y(c, e, b);
                  j.cancel();
                }
              } else {
                f.range.setEndAt(h, CKEDITOR.POSITION_BEFORE_END);
                if ((a = f.next()) && a.type == CKEDITOR.NODE_ELEMENT && a.is(r)) {
                  a = a.getFirst(q);
                  if (k.block && b.checkStartOfBlock() && b.checkEndOfBlock()) {
                    k.block.remove();
                    b.moveToElementEditStart(a);
                    b.select();
                  } else if (w(a)) {
                    b.moveToElementEditStart(a);
                    b.select();
                  } else {
                    b = b.clone();
                    b.moveToElementEditStart(a);
                    y(c, e, b);
                  }
                  j.cancel();
                }
              }
              setTimeout(function () {
                c.selectionChange(1);
              });
            }
          }
        }));
      }
    });
  }());
  (function () {
    CKEDITOR.plugins.liststyle = {
      requires: 'dialog,contextmenu',
      init: function (a) {
        if (!a.blockless) {
          var b;
          b = new CKEDITOR.dialogCommand('numberedListStyle', {
            requiredContent: 'ol',
            allowedContent: 'ol{list-style-type}[start]'
          });
          b = a.addCommand('numberedListStyle', b);
          a.addFeature(b);
          CKEDITOR.dialog.add('numberedListStyle', this.path + 'dialogs/liststyle.js');
          b = new CKEDITOR.dialogCommand('bulletedListStyle', {
            requiredContent: 'ul',
            allowedContent: 'ul{list-style-type}'
          });
          b = a.addCommand('bulletedListStyle', b);
          a.addFeature(b);
          CKEDITOR.dialog.add('bulletedListStyle', this.path + 'dialogs/liststyle.js');
          a.addMenuGroup('list', 108);
          a.addMenuItems({
            numberedlist: {
              label: a.lang.liststyle.numberedTitle,
              group: 'list',
              command: 'numberedListStyle'
            },
            bulletedlist: {
              label: a.lang.liststyle.bulletedTitle,
              group: 'list',
              command: 'bulletedListStyle'
            }
          });
          a.contextMenu.addListener(function (a) {
            if (!a || a.isReadOnly())
              return null;
            for (; a;) {
              var b = a.getName();
              if ('ol' == b)
                return { numberedlist: CKEDITOR.TRISTATE_OFF };
              if ('ul' == b)
                return { bulletedlist: CKEDITOR.TRISTATE_OFF };
              a = a.getParent();
            }
            return null;
          });
        }
      }
    };
    CKEDITOR.plugins.add('liststyle', CKEDITOR.plugins.liststyle);
  }());
  (function () {
    function Q(a, c, d) {
      return m(c) && m(d) && d.equals(c.getNext(function (a) {
        return !(z(a) || A(a) || p(a));
      }));
    }
    function u(a) {
      this.upper = a[0];
      this.lower = a[1];
      this.set.apply(this, a.slice(2));
    }
    function J(a) {
      var c = a.element;
      if (c && m(c) && (c = c.getAscendant(a.triggers, !0)) && a.editable.contains(c)) {
        var d = K(c);
        if ('true' == d.getAttribute('contenteditable'))
          return c;
        if (d.is(a.triggers))
          return d;
      }
      return null;
    }
    function ga(a, c, d) {
      o(a, c);
      o(a, d);
      a = c.size.bottom;
      d = d.size.top;
      return a && d ? 0 | (a + d) / 2 : a || d;
    }
    function r(a, c, d) {
      return c = c[d ? 'getPrevious' : 'getNext'](function (b) {
        return b && b.type == CKEDITOR.NODE_TEXT && !z(b) || m(b) && !p(b) && !v(a, b);
      });
    }
    function K(a, c) {
      if (a.data('cke-editable'))
        return null;
      for (c || (a = a.getParent()); a && !a.data('cke-editable');) {
        if (a.hasAttribute('contenteditable'))
          return a;
        a = a.getParent();
      }
      return null;
    }
    function ha(a) {
      var c = a.doc, d = B('<span contenteditable="false" style="' + L + 'position:absolute;border-top:1px dashed ' + a.boxColor + '"></span>', c), b = CKEDITOR.getUrl(this.path + 'images/' + (n.hidpi ? 'hidpi/' : '') + 'icon' + (a.rtl ? '-rtl' : '') + '.png');
      q(d, {
        attach: function () {
          this.wrap.getParent() || this.wrap.appendTo(a.editable, !0);
          return this;
        },
        lineChildren: [
          q(B('<span title="' + a.editor.lang.magicline.title + '" contenteditable="false">&#8629;</span>', c), {
            base: L + 'height:17px;width:17px;' + (a.rtl ? 'left' : 'right') + ':17px;background:url(' + b + ') center no-repeat ' + a.boxColor + ';cursor:pointer;' + (n.hc ? 'font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;' : '') + (n.hidpi ? 'background-size: 9px 10px;' : ''),
            looks: [
              'top:-8px;' + CKEDITOR.tools.cssVendorPrefix('border-radius', '2px', 1),
              'top:-17px;' + CKEDITOR.tools.cssVendorPrefix('border-radius', '2px 2px 0px 0px', 1),
              'top:-1px;' + CKEDITOR.tools.cssVendorPrefix('border-radius', '0px 0px 2px 2px', 1)
            ]
          }),
          q(B(R, c), {
            base: S + 'left:0px;border-left-color:' + a.boxColor + ';',
            looks: [
              'border-width:8px 0 8px 8px;top:-8px',
              'border-width:8px 0 0 8px;top:-8px',
              'border-width:0 0 8px 8px;top:0px'
            ]
          }),
          q(B(R, c), {
            base: S + 'right:0px;border-right-color:' + a.boxColor + ';',
            looks: [
              'border-width:8px 8px 8px 0;top:-8px',
              'border-width:8px 8px 0 0;top:-8px',
              'border-width:0 8px 8px 0;top:0px'
            ]
          })
        ],
        detach: function () {
          this.wrap.getParent() && this.wrap.remove();
          return this;
        },
        mouseNear: function () {
          o(a, this);
          var b = a.holdDistance, c = this.size;
          return c && a.mouse.y > c.top - b && a.mouse.y < c.bottom + b && a.mouse.x > c.left - b && a.mouse.x < c.right + b ? !0 : !1;
        },
        place: function () {
          var b = a.view, c = a.editable, d = a.trigger, i = d.upper, h = d.lower, j = i || h, l = j.getParent(), k = {};
          this.trigger = d;
          i && o(a, i, !0);
          h && o(a, h, !0);
          o(a, l, !0);
          a.inInlineMode && C(a, !0);
          l.equals(c) ? (k.left = b.scroll.x, k.right = -b.scroll.x, k.width = '') : (k.left = j.size.left - j.size.margin.left + b.scroll.x - (a.inInlineMode ? b.editable.left + b.editable.border.left : 0), k.width = j.size.outerWidth + j.size.margin.left + j.size.margin.right + b.scroll.x, k.right = '');
          i && h ? k.top = i.size.margin.bottom === h.size.margin.top ? 0 | i.size.bottom + i.size.margin.bottom / 2 : i.size.margin.bottom < h.size.margin.top ? i.size.bottom + i.size.margin.bottom : i.size.bottom + i.size.margin.bottom - h.size.margin.top : i ? h || (k.top = i.size.bottom + i.size.margin.bottom) : k.top = h.size.top - h.size.margin.top;
          d.is(x) || k.top > b.scroll.y - 15 && k.top < b.scroll.y + 5 ? (k.top = a.inInlineMode ? 0 : b.scroll.y, this.look(x)) : d.is(y) || k.top > b.pane.bottom - 5 && k.top < b.pane.bottom + 15 ? (k.top = a.inInlineMode ? b.editable.height + b.editable.padding.top + b.editable.padding.bottom : b.pane.bottom - 1, this.look(y)) : (a.inInlineMode && (k.top -= b.editable.top + b.editable.border.top), this.look(s));
          a.inInlineMode && (k.top--, k.top += b.editable.scroll.top, k.left += b.editable.scroll.left);
          for (var T in k)
            k[T] = CKEDITOR.tools.cssLength(k[T]);
          this.setStyles(k);
        },
        look: function (a) {
          if (this.oldLook != a) {
            for (var b = this.lineChildren.length, c; b--;)
              (c = this.lineChildren[b]).setAttribute('style', c.base + c.looks[0 | a / 2]);
            this.oldLook = a;
          }
        },
        wrap: new M('span', a.doc)
      });
      for (c = d.lineChildren.length; c--;)
        d.lineChildren[c].appendTo(d);
      d.look(s);
      d.appendTo(d.wrap);
      d.unselectable();
      d.lineChildren[0].on('mouseup', function (b) {
        d.detach();
        N(a, function (b) {
          var c = a.line.trigger;
          b[c.is(D) ? 'insertBefore' : 'insertAfter'](c.is(D) ? c.lower : c.upper);
        }, !0);
        a.editor.focus();
        !n.ie && a.enterMode != CKEDITOR.ENTER_BR && a.hotNode.scrollIntoView();
        b.data.preventDefault(!0);
      });
      d.on('mousedown', function (a) {
        a.data.preventDefault(!0);
      });
      a.line = d;
    }
    function N(a, c, d) {
      var b = new CKEDITOR.dom.range(a.doc), e = a.editor, f;
      n.ie && a.enterMode == CKEDITOR.ENTER_BR ? f = a.doc.createText(E) : (f = (f = K(a.element, !0)) && f.data('cke-enter-mode') || a.enterMode, f = new M(F[f], a.doc), f.is('br') || a.doc.createText(E).appendTo(f));
      d && e.fire('saveSnapshot');
      c(f);
      b.moveToPosition(f, CKEDITOR.POSITION_AFTER_START);
      e.getSelection().selectRanges([b]);
      a.hotNode = f;
      d && e.fire('saveSnapshot');
    }
    function U(a, c) {
      return {
        canUndo: !0,
        modes: { wysiwyg: 1 },
        exec: function () {
          function d(b) {
            var d = n.ie && 9 > n.version ? ' ' : E, f = a.hotNode && a.hotNode.getText() == d && a.element.equals(a.hotNode) && a.lastCmdDirection === !!c;
            N(a, function (d) {
              f && a.hotNode && a.hotNode.remove();
              d[c ? 'insertAfter' : 'insertBefore'](b);
              d.setAttributes({
                'data-cke-magicline-hot': 1,
                'data-cke-magicline-dir': !!c
              });
              a.lastCmdDirection = !!c;
            });
            !n.ie && a.enterMode != CKEDITOR.ENTER_BR && a.hotNode.scrollIntoView();
            a.line.detach();
          }
          return function (b) {
            var b = b.getSelection().getStartElement(), e, b = b.getAscendant(V, 1);
            if (!W(a, b) && b && !b.equals(a.editable) && !b.contains(a.editable)) {
              if ((e = K(b)) && 'false' == e.getAttribute('contenteditable'))
                b = e;
              a.element = b;
              e = r(a, b, !c);
              var f;
              m(e) && e.is(a.triggers) && e.is(ia) && (!r(a, e, !c) || (f = r(a, e, !c)) && m(f) && f.is(a.triggers)) ? d(e) : (f = J(a, b), m(f) && (r(a, f, !c) ? (b = r(a, f, !c)) && (m(b) && b.is(a.triggers)) && d(f) : d(f)));
            }
          };
        }()
      };
    }
    function v(a, c) {
      if (!c || !(c.type == CKEDITOR.NODE_ELEMENT && c.$))
        return !1;
      var d = a.line;
      return d.wrap.equals(c) || d.wrap.contains(c);
    }
    function m(a) {
      return a && a.type == CKEDITOR.NODE_ELEMENT && a.$;
    }
    function p(a) {
      if (!m(a))
        return !1;
      var c;
      if (!(c = X(a)))
        m(a) ? (c = {
          left: 1,
          right: 1,
          center: 1
        }, c = !(!c[a.getComputedStyle('float')] && !c[a.getAttribute('align')])) : c = !1;
      return c;
    }
    function X(a) {
      return !!{
        absolute: 1,
        fixed: 1
      }[a.getComputedStyle('position')];
    }
    function G(a, c) {
      return m(c) ? c.is(a.triggers) : null;
    }
    function W(a, c) {
      if (!c)
        return !1;
      for (var d = c.getParents(1), b = d.length; b--;)
        for (var e = a.tabuList.length; e--;)
          if (d[b].hasAttribute(a.tabuList[e]))
            return !0;
      return !1;
    }
    function ja(a, c, d) {
      c = c[d ? 'getLast' : 'getFirst'](function (b) {
        return a.isRelevant(b) && !b.is(ka);
      });
      if (!c)
        return !1;
      o(a, c);
      return d ? c.size.top > a.mouse.y : c.size.bottom < a.mouse.y;
    }
    function Y(a) {
      var c = a.editable, d = a.mouse, b = a.view, e = a.triggerOffset;
      C(a);
      var f = d.y > (a.inInlineMode ? b.editable.top + b.editable.height / 2 : Math.min(b.editable.height, b.pane.height) / 2), c = c[f ? 'getLast' : 'getFirst'](function (a) {
          return !(z(a) || A(a));
        });
      if (!c)
        return null;
      v(a, c) && (c = a.line.wrap[f ? 'getPrevious' : 'getNext'](function (a) {
        return !(z(a) || A(a));
      }));
      if (!m(c) || p(c) || !G(a, c))
        return null;
      o(a, c);
      return !f && 0 <= c.size.top && 0 < d.y && d.y < c.size.top + e ? (a = a.inInlineMode || 0 === b.scroll.y ? x : s, new u([
        null,
        c,
        D,
        H,
        a
      ])) : f && c.size.bottom <= b.pane.height && d.y > c.size.bottom - e && d.y < b.pane.height ? (a = a.inInlineMode || c.size.bottom > b.pane.height - e && c.size.bottom < b.pane.height ? y : s, new u([
        c,
        null,
        Z,
        H,
        a
      ])) : null;
    }
    function $(a) {
      var c = a.mouse, d = a.view, b = a.triggerOffset, e = J(a);
      if (!e)
        return null;
      o(a, e);
      var b = Math.min(b, 0 | e.size.outerHeight / 2), f = [], g, i;
      if (c.y > e.size.top - 1 && c.y < e.size.top + b)
        i = !1;
      else if (c.y > e.size.bottom - b && c.y < e.size.bottom + 1)
        i = !0;
      else
        return null;
      if (p(e) || ja(a, e, i) || e.getParent().is(aa))
        return null;
      var h = r(a, e, !i);
      if (h) {
        if (h && h.type == CKEDITOR.NODE_TEXT)
          return null;
        if (m(h)) {
          if (p(h) || !G(a, h) || h.getParent().is(aa))
            return null;
          f = [
            h,
            e
          ][i ? 'reverse' : 'concat']().concat([
            O,
            H
          ]);
        }
      } else
        e.equals(a.editable[i ? 'getLast' : 'getFirst'](a.isRelevant)) ? (C(a), i && c.y > e.size.bottom - b && c.y < d.pane.height && e.size.bottom > d.pane.height - b && e.size.bottom < d.pane.height ? g = y : 0 < c.y && c.y < e.size.top + b && (g = x)) : g = s, f = [
          null,
          e
        ][i ? 'reverse' : 'concat']().concat([
          i ? Z : D,
          H,
          g,
          e.equals(a.editable[i ? 'getLast' : 'getFirst'](a.isRelevant)) ? i ? y : x : s
        ]);
      return 0 in f ? new u(f) : null;
    }
    function P(a, c, d, b) {
      for (var e = function () {
            var b = n.ie ? c.$.currentStyle : a.win.$.getComputedStyle(c.$, '');
            return n.ie ? function (a) {
              return b[CKEDITOR.tools.cssStyleToDomStyle(a)];
            } : function (a) {
              return b.getPropertyValue(a);
            };
          }(), f = c.getDocumentPosition(), g = {}, i = {}, h = {}, j = {}, l = t.length; l--;)
        g[t[l]] = parseInt(e('border-' + t[l] + '-width'), 10) || 0, h[t[l]] = parseInt(e('padding-' + t[l]), 10) || 0, i[t[l]] = parseInt(e('margin-' + t[l]), 10) || 0;
      (!d || b) && I(a, b);
      j.top = f.y - (d ? 0 : a.view.scroll.y);
      j.left = f.x - (d ? 0 : a.view.scroll.x);
      j.outerWidth = c.$.offsetWidth;
      j.outerHeight = c.$.offsetHeight;
      j.height = j.outerHeight - (h.top + h.bottom + g.top + g.bottom);
      j.width = j.outerWidth - (h.left + h.right + g.left + g.right);
      j.bottom = j.top + j.outerHeight;
      j.right = j.left + j.outerWidth;
      a.inInlineMode && (j.scroll = {
        top: c.$.scrollTop,
        left: c.$.scrollLeft
      });
      return q({
        border: g,
        padding: h,
        margin: i,
        ignoreScroll: d
      }, j, !0);
    }
    function o(a, c, d) {
      if (!m(c))
        return c.size = null;
      if (c.size) {
        if (c.size.ignoreScroll == d && c.size.date > new Date() - ba)
          return null;
      } else
        c.size = {};
      return q(c.size, P(a, c, d), { date: +new Date() }, !0);
    }
    function C(a, c) {
      a.view.editable = P(a, a.editable, c, !0);
    }
    function I(a, c) {
      a.view || (a.view = {});
      var d = a.view;
      if (c || !(d && d.date > new Date() - ba)) {
        var b = a.win, d = b.getScrollPosition(), b = b.getViewPaneSize();
        q(a.view, {
          scroll: {
            x: d.x,
            y: d.y,
            width: a.doc.$.documentElement.scrollWidth - b.width,
            height: a.doc.$.documentElement.scrollHeight - b.height
          },
          pane: {
            width: b.width,
            height: b.height,
            bottom: b.height + d.y
          },
          date: +new Date()
        }, !0);
      }
    }
    function la(a, c, d, b) {
      for (var e = b, f = b, g = 0, i = !1, h = !1, j = a.view.pane.height, l = a.mouse; l.y + g < j && 0 < l.y - g;) {
        i || (i = c(e, b));
        h || (h = c(f, b));
        !i && 0 < l.y - g && (e = d(a, {
          x: l.x,
          y: l.y - g
        }));
        !h && l.y + g < j && (f = d(a, {
          x: l.x,
          y: l.y + g
        }));
        if (i && h)
          break;
        g += 2;
      }
      return new u([
        e,
        f,
        null,
        null
      ]);
    }
    CKEDITOR.plugins.add('magicline', {
      init: function (a) {
        var c = a.config, d = c.magicline_triggerOffset || 30, b = {
            editor: a,
            enterMode: c.enterMode,
            triggerOffset: d,
            holdDistance: 0 | d * (c.magicline_holdDistance || 0.5),
            boxColor: c.magicline_color || '#ff0000',
            rtl: 'rtl' == c.contentsLangDirection,
            tabuList: ['data-cke-hidden-sel'].concat(c.magicline_tabuList || []),
            triggers: c.magicline_everywhere ? V : {
              table: 1,
              hr: 1,
              div: 1,
              ul: 1,
              ol: 1,
              dl: 1,
              form: 1,
              blockquote: 1
            }
          }, e, f, g;
        b.isRelevant = function (a) {
          return m(a) && !v(b, a) && !p(a);
        };
        a.on('contentDom', function () {
          var d = a.editable(), h = a.document, j = a.window;
          q(b, {
            editable: d,
            inInlineMode: d.isInline(),
            doc: h,
            win: j,
            hotNode: null
          }, !0);
          b.boundary = b.inInlineMode ? b.editable : b.doc.getDocumentElement();
          d.is(w.$inline) || (b.inInlineMode && !X(d) && d.setStyles({
            position: 'relative',
            top: null,
            left: null
          }), ha.call(this, b), I(b), d.attachListener(a, 'beforeUndoImage', function () {
            b.line.detach();
          }), d.attachListener(a, 'beforeGetData', function () {
            b.line.wrap.getParent() && (b.line.detach(), a.once('getData', function () {
              b.line.attach();
            }, null, null, 1000));
          }, null, null, 0), d.attachListener(b.inInlineMode ? h : h.getWindow().getFrame(), 'mouseout', function (c) {
            if ('wysiwyg' == a.mode)
              if (b.inInlineMode) {
                var d = c.data.$.clientX, c = c.data.$.clientY;
                I(b);
                C(b, !0);
                var e = b.view.editable, f = b.view.scroll;
                if (!(d > e.left - f.x && d < e.right - f.x) || !(c > e.top - f.y && c < e.bottom - f.y))
                  clearTimeout(g), g = null, b.line.detach();
              } else
                clearTimeout(g), g = null, b.line.detach();
          }), d.attachListener(d, 'keyup', function () {
            b.hiddenMode = 0;
          }), d.attachListener(d, 'keydown', function (c) {
            if ('wysiwyg' == a.mode)
              switch (c = c.data.getKeystroke(), a.getSelection().getStartElement(), c) {
              case 2228240:
              case 16:
                b.hiddenMode = 1, b.line.detach();
              }
          }), d.attachListener(b.inInlineMode ? d : h, 'mousemove', function (c) {
            f = !0;
            if (!('wysiwyg' != a.mode || a.readOnly || g)) {
              var d = {
                  x: c.data.$.clientX,
                  y: c.data.$.clientY
                };
              g = setTimeout(function () {
                b.mouse = d;
                g = b.trigger = null;
                I(b);
                if (f && !b.hiddenMode && a.focusManager.hasFocus && !b.line.mouseNear() && (b.element = ca(b, !0)))
                  (b.trigger = Y(b) || $(b) || da(b)) && !W(b, b.trigger.upper || b.trigger.lower) ? b.line.attach().place() : (b.trigger = null, b.line.detach()), f = !1;
              }, 30);
            }
          }), d.attachListener(j, 'scroll', function () {
            'wysiwyg' == a.mode && (b.line.detach(), n.webkit && (b.hiddenMode = 1, clearTimeout(e), e = setTimeout(function () {
              b.mouseDown || (b.hiddenMode = 0);
            }, 50)));
          }), d.attachListener(ea ? h : j, 'mousedown', function () {
            'wysiwyg' == a.mode && (b.line.detach(), b.hiddenMode = 1, b.mouseDown = 1);
          }), d.attachListener(ea ? h : j, 'mouseup', function () {
            b.hiddenMode = 0;
            b.mouseDown = 0;
          }), a.addCommand('accessPreviousSpace', U(b)), a.addCommand('accessNextSpace', U(b, !0)), a.setKeystroke([
            [
              c.magicline_keystrokePrevious,
              'accessPreviousSpace'
            ],
            [
              c.magicline_keystrokeNext,
              'accessNextSpace'
            ]
          ]), a.on('loadSnapshot', function () {
            var c, d, e, f;
            for (f in {
                p: 1,
                br: 1,
                div: 1
              }) {
              c = a.document.getElementsByTag(f);
              for (e = c.count(); e--;)
                if ((d = c.getItem(e)).data('cke-magicline-hot')) {
                  b.hotNode = d;
                  b.lastCmdDirection = 'true' === d.data('cke-magicline-dir') ? !0 : !1;
                  return;
                }
            }
          }), this.backdoor = {
            accessFocusSpace: N,
            boxTrigger: u,
            isLine: v,
            getAscendantTrigger: J,
            getNonEmptyNeighbour: r,
            getSize: P,
            that: b,
            triggerEdge: $,
            triggerEditable: Y,
            triggerExpand: da
          });
        }, this);
      }
    });
    var q = CKEDITOR.tools.extend, M = CKEDITOR.dom.element, B = M.createFromHtml, n = CKEDITOR.env, ea = CKEDITOR.env.ie && 9 > CKEDITOR.env.version, w = CKEDITOR.dtd, F = {}, D = 128, Z = 64, O = 32, H = 16, fa = 8, x = 4, y = 2, s = 1, E = '\xa0', aa = w.$listItem, ka = w.$tableContent, ia = q({}, w.$nonEditable, w.$empty), V = w.$block, ba = 100, L = 'width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;', S = L + 'border-color:transparent;display:block;border-style:solid;', R = '<span>' + E + '</span>';
    F[CKEDITOR.ENTER_BR] = 'br';
    F[CKEDITOR.ENTER_P] = 'p';
    F[CKEDITOR.ENTER_DIV] = 'div';
    u.prototype = {
      set: function (a, c, d) {
        this.properties = a + c + (d || s);
        return this;
      },
      is: function (a) {
        return (this.properties & a) == a;
      }
    };
    var ca = function () {
        function a(a, d) {
          var b = a.$.elementFromPoint(d.x, d.y);
          return b && b.nodeType ? new CKEDITOR.dom.element(b) : null;
        }
        return function (c, d, b) {
          if (!c.mouse)
            return null;
          var e = c.doc, f = c.line.wrap, b = b || c.mouse, g = a(e, b);
          d && v(c, g) && (f.hide(), g = a(e, b), f.show());
          return !g || !(g.type == CKEDITOR.NODE_ELEMENT && g.$) || n.ie && 9 > n.version && !c.boundary.equals(g) && !c.boundary.contains(g) ? null : g;
        };
      }(), z = CKEDITOR.dom.walker.whitespaces(), A = CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT), da = function () {
        function a(a) {
          var b = a.element, e, f, g;
          if (!m(b) || b.contains(a.editable) || b.isReadOnly())
            return null;
          g = la(a, function (a, b) {
            return !b.equals(a);
          }, function (a, b) {
            return ca(a, !0, b);
          }, b);
          e = g.upper;
          f = g.lower;
          if (Q(a, e, f))
            return g.set(O, fa);
          if (e && b.contains(e))
            for (; !e.getParent().equals(b);)
              e = e.getParent();
          else
            e = b.getFirst(function (b) {
              return c(a, b);
            });
          if (f && b.contains(f))
            for (; !f.getParent().equals(b);)
              f = f.getParent();
          else
            f = b.getLast(function (b) {
              return c(a, b);
            });
          if (!e || !f)
            return null;
          o(a, e);
          o(a, f);
          if (!(a.mouse.y > e.size.top && a.mouse.y < f.size.bottom))
            return null;
          for (var b = Number.MAX_VALUE, i, h, j, l; f && !f.equals(e) && (h = e.getNext(a.isRelevant));)
            i = Math.abs(ga(a, e, h) - a.mouse.y), i < b && (b = i, j = e, l = h), e = h, o(a, e);
          if (!j || !l || !(a.mouse.y > j.size.top && a.mouse.y < l.size.bottom))
            return null;
          g.upper = j;
          g.lower = l;
          return g.set(O, fa);
        }
        function c(a, b) {
          return !(b && b.type == CKEDITOR.NODE_TEXT || A(b) || p(b) || v(a, b) || b.type == CKEDITOR.NODE_ELEMENT && b.$ && b.is('br'));
        }
        return function (c) {
          var b = a(c), e;
          if (e = b) {
            e = b.upper;
            var f = b.lower;
            e = !e || !f || p(f) || p(e) || f.equals(e) || e.equals(f) || f.contains(e) || e.contains(f) ? !1 : G(c, e) && G(c, f) && Q(c, e, f) ? !0 : !1;
          }
          return e ? b : null;
        };
      }(), t = [
        'top',
        'left',
        'right',
        'bottom'
      ];
  }());
  CKEDITOR.config.magicline_keystrokePrevious = CKEDITOR.CTRL + CKEDITOR.SHIFT + 51;
  CKEDITOR.config.magicline_keystrokeNext = CKEDITOR.CTRL + CKEDITOR.SHIFT + 52;
  (function () {
    function l(a) {
      if (!a || a.type != CKEDITOR.NODE_ELEMENT || 'form' != a.getName())
        return [];
      for (var e = [], f = [
            'style',
            'className'
          ], b = 0; b < f.length; b++) {
        var d = a.$.elements.namedItem(f[b]);
        d && (d = new CKEDITOR.dom.element(d), e.push([
          d,
          d.nextSibling
        ]), d.remove());
      }
      return e;
    }
    function o(a, e) {
      if (a && !(a.type != CKEDITOR.NODE_ELEMENT || 'form' != a.getName()) && 0 < e.length)
        for (var f = e.length - 1; 0 <= f; f--) {
          var b = e[f][0], d = e[f][1];
          d ? b.insertBefore(d) : b.appendTo(a);
        }
    }
    function n(a, e) {
      var f = l(a), b = {}, d = a.$;
      e || (b['class'] = d.className || '', d.className = '');
      b.inline = d.style.cssText || '';
      e || (d.style.cssText = 'position: static; overflow: visible');
      o(f);
      return b;
    }
    function p(a, e) {
      var f = l(a), b = a.$;
      'class' in e && (b.className = e['class']);
      'inline' in e && (b.style.cssText = e.inline);
      o(f);
    }
    function q(a) {
      if (!a.editable().isInline()) {
        var e = CKEDITOR.instances, f;
        for (f in e) {
          var b = e[f];
          'wysiwyg' == b.mode && !b.readOnly && (b = b.document.getBody(), b.setAttribute('contentEditable', !1), b.setAttribute('contentEditable', !0));
        }
        a.editable().hasFocus && (a.toolbox.focus(), a.focus());
      }
    }
    CKEDITOR.plugins.add('maximize', {
      init: function (a) {
        function e() {
          var b = d.getViewPaneSize();
          a.resize(b.width, b.height, null, !0);
        }
        if (a.elementMode != CKEDITOR.ELEMENT_MODE_INLINE) {
          var f = a.lang, b = CKEDITOR.document, d = b.getWindow(), j, k, m, l = CKEDITOR.TRISTATE_OFF;
          a.addCommand('maximize', {
            modes: {
              wysiwyg: !CKEDITOR.env.iOS,
              source: !CKEDITOR.env.iOS
            },
            readOnly: 1,
            editorFocus: !1,
            exec: function () {
              var h = a.container.getFirst(function (a) {
                  return a.type == CKEDITOR.NODE_ELEMENT && a.hasClass('cke_inner');
                }), g = a.ui.space('contents');
              if ('wysiwyg' == a.mode) {
                var c = a.getSelection();
                j = c && c.getRanges();
                k = d.getScrollPosition();
              } else {
                var i = a.editable().$;
                j = !CKEDITOR.env.ie && [
                  i.selectionStart,
                  i.selectionEnd
                ];
                k = [
                  i.scrollLeft,
                  i.scrollTop
                ];
              }
              if (this.state == CKEDITOR.TRISTATE_OFF) {
                d.on('resize', e);
                m = d.getScrollPosition();
                for (c = a.container; c = c.getParent();)
                  c.setCustomData('maximize_saved_styles', n(c)), c.setStyle('z-index', a.config.baseFloatZIndex - 5);
                g.setCustomData('maximize_saved_styles', n(g, !0));
                h.setCustomData('maximize_saved_styles', n(h, !0));
                g = {
                  overflow: CKEDITOR.env.webkit ? '' : 'hidden',
                  width: 0,
                  height: 0
                };
                b.getDocumentElement().setStyles(g);
                !CKEDITOR.env.gecko && b.getDocumentElement().setStyle('position', 'fixed');
                (!CKEDITOR.env.gecko || !CKEDITOR.env.quirks) && b.getBody().setStyles(g);
                CKEDITOR.env.ie ? setTimeout(function () {
                  d.$.scrollTo(0, 0);
                }, 0) : d.$.scrollTo(0, 0);
                h.setStyle('position', CKEDITOR.env.gecko && CKEDITOR.env.quirks ? 'fixed' : 'absolute');
                h.$.offsetLeft;
                h.setStyles({
                  'z-index': a.config.baseFloatZIndex - 5,
                  left: '0px',
                  top: '0px'
                });
                h.addClass('cke_maximized');
                e();
                g = h.getDocumentPosition();
                h.setStyles({
                  left: -1 * g.x + 'px',
                  top: -1 * g.y + 'px'
                });
                CKEDITOR.env.gecko && q(a);
              } else if (this.state == CKEDITOR.TRISTATE_ON) {
                d.removeListener('resize', e);
                g = [
                  g,
                  h
                ];
                for (c = 0; c < g.length; c++)
                  p(g[c], g[c].getCustomData('maximize_saved_styles')), g[c].removeCustomData('maximize_saved_styles');
                for (c = a.container; c = c.getParent();)
                  p(c, c.getCustomData('maximize_saved_styles')), c.removeCustomData('maximize_saved_styles');
                CKEDITOR.env.ie ? setTimeout(function () {
                  d.$.scrollTo(m.x, m.y);
                }, 0) : d.$.scrollTo(m.x, m.y);
                h.removeClass('cke_maximized');
                CKEDITOR.env.webkit && (h.setStyle('display', 'inline'), setTimeout(function () {
                  h.setStyle('display', 'block');
                }, 0));
                a.fire('resize');
              }
              this.toggleState();
              if (c = this.uiItems[0])
                g = this.state == CKEDITOR.TRISTATE_OFF ? f.maximize.maximize : f.maximize.minimize, c = CKEDITOR.document.getById(c._.id), c.getChild(1).setHtml(g), c.setAttribute('title', g), c.setAttribute('href', 'javascript:void("' + g + '");');
              'wysiwyg' == a.mode ? j ? (CKEDITOR.env.gecko && q(a), a.getSelection().selectRanges(j), (i = a.getSelection().getStartElement()) && i.scrollIntoView(!0)) : d.$.scrollTo(k.x, k.y) : (j && (i.selectionStart = j[0], i.selectionEnd = j[1]), i.scrollLeft = k[0], i.scrollTop = k[1]);
              j = k = null;
              l = this.state;
              a.fire('maximize', this.state);
            },
            canUndo: !1
          });
          a.ui.addButton && a.ui.addButton('Maximize', {
            label: f.maximize.maximize,
            command: 'maximize',
            toolbar: 'tools,10'
          });
          a.on('mode', function () {
            var b = a.getCommand('maximize');
            b.setState(b.state == CKEDITOR.TRISTATE_DISABLED ? CKEDITOR.TRISTATE_DISABLED : l);
          }, null, null, 100);
        }
      }
    });
  }());
  CKEDITOR.plugins.add('newpage', {
    init: function (a) {
      a.addCommand('newpage', {
        modes: {
          wysiwyg: 1,
          source: 1
        },
        exec: function (b) {
          var a = this;
          b.setData(b.config.newpage_html || '', function () {
            b.focus();
            setTimeout(function () {
              b.fire('afterCommandExec', {
                name: 'newpage',
                command: a
              });
              b.selectionChange();
            }, 200);
          });
        },
        async: !0
      });
      a.ui.addButton && a.ui.addButton('NewPage', {
        label: a.lang.newpage.toolbar,
        command: 'newpage',
        toolbar: 'document,20'
      });
    }
  });
  (function () {
    function e(a) {
      return {
        'aria-label': a,
        'class': 'cke_pagebreak',
        contenteditable: 'false',
        'data-cke-display-name': 'pagebreak',
        'data-cke-pagebreak': 1,
        style: 'page-break-after: always',
        title: a
      };
    }
    CKEDITOR.plugins.add('pagebreak', {
      requires: 'fakeobjects',
      onLoad: function () {
        var a = ('background:url(' + CKEDITOR.getUrl(this.path + 'images/pagebreak.gif') + ') no-repeat center center;clear:both;width:100%;border-top:#999 1px dotted;border-bottom:#999 1px dotted;padding:0;height:5px;cursor:default;').replace(/;/g, ' !important;');
        CKEDITOR.addCss('div.cke_pagebreak{' + a + '}');
      },
      init: function (a) {
        a.blockless || (a.addCommand('pagebreak', CKEDITOR.plugins.pagebreakCmd), a.ui.addButton && a.ui.addButton('PageBreak', {
          label: a.lang.pagebreak.toolbar,
          command: 'pagebreak',
          toolbar: 'insert,70'
        }), CKEDITOR.env.webkit && a.on('contentDom', function () {
          a.document.on('click', function (b) {
            b = b.data.getTarget();
            b.is('div') && b.hasClass('cke_pagebreak') && a.getSelection().selectElement(b);
          });
        }));
      },
      afterInit: function (a) {
        function b(f) {
          CKEDITOR.tools.extend(f.attributes, e(a.lang.pagebreak.alt), !0);
          f.children.length = 0;
        }
        var c = a.dataProcessor, g = c && c.dataFilter, c = c && c.htmlFilter, h = /page-break-after\s*:\s*always/i, i = /display\s*:\s*none/i;
        c && c.addRules({
          attributes: {
            'class': function (a, b) {
              var c = a.replace('cke_pagebreak', '');
              if (c != a) {
                var d = CKEDITOR.htmlParser.fragment.fromHtml('<span style="display: none;">&nbsp;</span>').children[0];
                b.children.length = 0;
                b.add(d);
                d = b.attributes;
                delete d['aria-label'];
                delete d.contenteditable;
                delete d.title;
              }
              return c;
            }
          }
        }, {
          applyToAll: !0,
          priority: 5
        });
        g && g.addRules({
          elements: {
            div: function (a) {
              if (a.attributes['data-cke-pagebreak'])
                b(a);
              else if (h.test(a.attributes.style)) {
                var c = a.children[0];
                c && ('span' == c.name && i.test(c.attributes.style)) && b(a);
              }
            }
          }
        });
      }
    });
    CKEDITOR.plugins.pagebreakCmd = {
      exec: function (a) {
        var b = a.document.createElement('div', { attributes: e(a.lang.pagebreak.alt) });
        a.insertElement(b);
      },
      context: 'div',
      allowedContent: {
        div: { styles: '!page-break-after' },
        span: {
          match: function (a) {
            return (a = a.parent) && 'div' == a.name && a.styles && a.styles['page-break-after'];
          },
          styles: 'display'
        }
      },
      requiredContent: 'div{page-break-after}'
    };
  }());
  (function () {
    var c = {
        canUndo: !1,
        async: !0,
        exec: function (a) {
          a.getClipboardData({ title: a.lang.pastetext.title }, function (b) {
            b && a.fire('paste', {
              type: 'text',
              dataValue: b.dataValue
            });
            a.fire('afterCommandExec', {
              name: 'pastetext',
              command: c,
              returnValue: !!b
            });
          });
        }
      };
    CKEDITOR.plugins.add('pastetext', {
      requires: 'clipboard',
      init: function (a) {
        a.addCommand('pastetext', c);
        a.ui.addButton && a.ui.addButton('PasteText', {
          label: a.lang.pastetext.button,
          command: 'pastetext',
          toolbar: 'clipboard,40'
        });
        if (a.config.forcePasteAsPlainText)
          a.on('beforePaste', function (a) {
            'html' != a.data.type && (a.data.type = 'text');
          });
        a.on('pasteState', function (b) {
          a.getCommand('pastetext').setState(b.data);
        });
      }
    });
  }());
  (function () {
    function h(a, d, f) {
      var b = CKEDITOR.cleanWord;
      b ? f() : (a = CKEDITOR.getUrl(a.config.pasteFromWordCleanupFile || d + 'filter/default.js'), CKEDITOR.scriptLoader.load(a, f, null, !0));
      return !b;
    }
    function i(a) {
      a.data.type = 'html';
    }
    CKEDITOR.plugins.add('pastefromword', {
      requires: 'clipboard',
      init: function (a) {
        var d = 0, f = this.path;
        a.addCommand('pastefromword', {
          canUndo: !1,
          async: !0,
          exec: function (a) {
            var e = this;
            d = 1;
            a.once('beforePaste', i);
            a.getClipboardData({ title: a.lang.pastefromword.title }, function (c) {
              c && a.fire('paste', {
                type: 'html',
                dataValue: c.dataValue
              });
              a.fire('afterCommandExec', {
                name: 'pastefromword',
                command: e,
                returnValue: !!c
              });
            });
          }
        });
        a.ui.addButton && a.ui.addButton('PasteFromWord', {
          label: a.lang.pastefromword.toolbar,
          command: 'pastefromword',
          toolbar: 'clipboard,50'
        });
        a.on('pasteState', function (b) {
          a.getCommand('pastefromword').setState(b.data);
        });
        a.on('paste', function (b) {
          var e = b.data, c = e.dataValue;
          if (c && (d || /(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(c))) {
            var g = h(a, f, function () {
                if (g)
                  a.fire('paste', e);
                else if (!a.config.pasteFromWordPromptCleanup || d || confirm(a.lang.pastefromword.confirmCleanup))
                  e.dataValue = CKEDITOR.cleanWord(c, a);
              });
            g && b.cancel();
          }
        }, null, null, 3);
      }
    });
  }());
  (function () {
    var h, i = {
        modes: {
          wysiwyg: 1,
          source: 1
        },
        canUndo: !1,
        readOnly: 1,
        exec: function (a) {
          var g, b = a.config, f = b.baseHref ? '<base href="' + b.baseHref + '"/>' : '';
          if (b.fullPage)
            g = a.getData().replace(/<head>/, '$&' + f).replace(/[^>]*(?=<\/title>)/, '$& &mdash; ' + a.lang.preview.preview);
          else {
            var b = '<body ', d = a.document && a.document.getBody();
            d && (d.getAttribute('id') && (b += 'id="' + d.getAttribute('id') + '" '), d.getAttribute('class') && (b += 'class="' + d.getAttribute('class') + '" '));
            g = a.config.docType + '<html dir="' + a.config.contentsLangDirection + '"><head>' + f + '<title>' + a.lang.preview.preview + '</title>' + CKEDITOR.tools.buildStyleHtml(a.config.contentsCss) + '</head>' + (b + '>') + a.getData() + '</body></html>';
          }
          f = 640;
          b = 420;
          d = 80;
          try {
            var c = window.screen, f = Math.round(0.8 * c.width), b = Math.round(0.7 * c.height), d = Math.round(0.1 * c.width);
          } catch (i) {
          }
          if (!1 === a.fire('contentPreview', a = { dataValue: g }))
            return !1;
          var c = '', e;
          CKEDITOR.env.ie && (window._cke_htmlToLoad = a.dataValue, e = 'javascript:void( (function(){document.open();' + ('(' + CKEDITOR.tools.fixDomain + ')();').replace(/\/\/.*?\n/g, '').replace(/parent\./g, 'window.opener.') + 'document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad = null;})() )', c = '');
          CKEDITOR.env.gecko && (window._cke_htmlToLoad = a.dataValue, c = CKEDITOR.getUrl(h + 'preview.html'));
          c = window.open(c, null, 'toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width=' + f + ',height=' + b + ',left=' + d);
          CKEDITOR.env.ie && c && (c.location = e);
          !CKEDITOR.env.ie && !CKEDITOR.env.gecko && (e = c.document, e.open(), e.write(a.dataValue), e.close());
          return !0;
        }
      };
    CKEDITOR.plugins.add('preview', {
      init: function (a) {
        a.elementMode != CKEDITOR.ELEMENT_MODE_INLINE && (h = this.path, a.addCommand('preview', i), a.ui.addButton && a.ui.addButton('Preview', {
          label: a.lang.preview.preview,
          command: 'preview',
          toolbar: 'document,40'
        }));
      }
    });
  }());
  CKEDITOR.plugins.add('print', {
    init: function (a) {
      a.elementMode != CKEDITOR.ELEMENT_MODE_INLINE && (a.addCommand('print', CKEDITOR.plugins.print), a.ui.addButton && a.ui.addButton('Print', {
        label: a.lang.print.toolbar,
        command: 'print',
        toolbar: 'document,50'
      }));
    }
  });
  CKEDITOR.plugins.print = {
    exec: function (a) {
      CKEDITOR.env.gecko ? a.window.$.print() : a.document.$.execCommand('Print');
    },
    canUndo: !1,
    readOnly: 1,
    modes: { wysiwyg: 1 }
  };
  CKEDITOR.plugins.add('removeformat', {
    init: function (a) {
      a.addCommand('removeFormat', CKEDITOR.plugins.removeformat.commands.removeformat);
      a.ui.addButton && a.ui.addButton('RemoveFormat', {
        label: a.lang.removeformat.toolbar,
        command: 'removeFormat',
        toolbar: 'cleanup,10'
      });
    }
  });
  CKEDITOR.plugins.removeformat = {
    commands: {
      removeformat: {
        exec: function (a) {
          for (var h = a._.removeFormatRegex || (a._.removeFormatRegex = RegExp('^(?:' + a.config.removeFormatTags.replace(/,/g, '|') + ')$', 'i')), e = a._.removeAttributes || (a._.removeAttributes = a.config.removeFormatAttributes.split(',')), f = CKEDITOR.plugins.removeformat.filter, k = a.getSelection().getRanges(), l = k.createIterator(), m = function (a) {
                return a.type == CKEDITOR.NODE_ELEMENT;
              }, c; c = l.getNextRange();) {
            c.collapsed || c.enlarge(CKEDITOR.ENLARGE_ELEMENT);
            var j = c.createBookmark(), b = j.startNode, d = j.endNode, i = function (b) {
                for (var c = a.elementPath(b), e = c.elements, d = 1, g; (g = e[d]) && !g.equals(c.block) && !g.equals(c.blockLimit); d++)
                  h.test(g.getName()) && f(a, g) && b.breakParent(g);
              };
            i(b);
            if (d) {
              i(d);
              for (b = b.getNextSourceNode(!0, CKEDITOR.NODE_ELEMENT); b && !b.equals(d);)
                if (b.isReadOnly()) {
                  if (b.getPosition(d) & CKEDITOR.POSITION_CONTAINS)
                    break;
                  b = b.getNext(m);
                } else
                  i = b.getNextSourceNode(!1, CKEDITOR.NODE_ELEMENT), !('img' == b.getName() && b.data('cke-realelement')) && f(a, b) && (h.test(b.getName()) ? b.remove(1) : (b.removeAttributes(e), a.fire('removeFormatCleanup', b))), b = i;
            }
            c.moveToBookmark(j);
          }
          a.forceNextSelectionCheck();
          a.getSelection().selectRanges(k);
        }
      }
    },
    filter: function (a, h) {
      for (var e = a._.removeFormatFilters || [], f = 0; f < e.length; f++)
        if (!1 === e[f](h))
          return !1;
      return !0;
    }
  };
  CKEDITOR.editor.prototype.addRemoveFormatFilter = function (a) {
    this._.removeFormatFilters || (this._.removeFormatFilters = []);
    this._.removeFormatFilters.push(a);
  };
  CKEDITOR.config.removeFormatTags = 'b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var';
  CKEDITOR.config.removeFormatAttributes = 'class,style,lang,width,height,align,hspace,valign';
  (function () {
    var b = {
        readOnly: 1,
        exec: function (a) {
          if (a.fire('save') && (a = a.element.$.form))
            try {
              a.submit();
            } catch (b) {
              a.submit.click && a.submit.click();
            }
        }
      };
    CKEDITOR.plugins.add('save', {
      init: function (a) {
        a.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE && (a.addCommand('save', b).modes = { wysiwyg: !!a.element.$.form }, a.ui.addButton && a.ui.addButton('Save', {
          label: a.lang.save.toolbar,
          command: 'save',
          toolbar: 'document,10'
        }));
      }
    });
  }());
  (function () {
    CKEDITOR.plugins.add('selectall', {
      init: function (b) {
        b.addCommand('selectAll', {
          modes: {
            wysiwyg: 1,
            source: 1
          },
          exec: function (a) {
            var b = a.editable();
            if (b.is('textarea'))
              a = b.$, CKEDITOR.env.ie ? a.createTextRange().execCommand('SelectAll') : (a.selectionStart = 0, a.selectionEnd = a.value.length), a.focus();
            else {
              if (b.is('body'))
                a.document.$.execCommand('SelectAll', !1, null);
              else {
                var c = a.createRange();
                c.selectNodeContents(b);
                c.select();
              }
              a.forceNextSelectionCheck();
              a.selectionChange();
            }
          },
          canUndo: !1
        });
        b.ui.addButton && b.ui.addButton('SelectAll', {
          label: b.lang.selectall.toolbar,
          command: 'selectAll',
          toolbar: 'selection,10'
        });
      }
    });
  }());
  (function () {
    var i = {
        readOnly: 1,
        preserveState: !0,
        editorFocus: !1,
        exec: function (a) {
          this.toggleState();
          this.refresh(a);
        },
        refresh: function (a) {
          if (a.document) {
            var c = this.state == CKEDITOR.TRISTATE_ON && (a.elementMode != CKEDITOR.ELEMENT_MODE_INLINE || a.focusManager.hasFocus) ? 'attachClass' : 'removeClass';
            a.editable()[c]('cke_show_blocks');
          }
        }
      };
    CKEDITOR.plugins.add('showblocks', {
      onLoad: function () {
        var a = 'p div pre address blockquote h1 h2 h3 h4 h5 h6'.split(' '), c, b, e, f, i = CKEDITOR.getUrl(this.path), j = !(CKEDITOR.env.ie && 9 > CKEDITOR.env.version), g = j ? ':not([contenteditable=false]):not(.cke_show_blocks_off)' : '', d, h;
        for (c = b = e = f = ''; d = a.pop();)
          h = a.length ? ',' : '', c += '.cke_show_blocks ' + d + g + h, e += '.cke_show_blocks.cke_contents_ltr ' + d + g + h, f += '.cke_show_blocks.cke_contents_rtl ' + d + g + h, b += '.cke_show_blocks ' + d + g + '{background-image:url(' + CKEDITOR.getUrl(i + 'images/block_' + d + '.png') + ')}';
        CKEDITOR.addCss((c + '{background-repeat:no-repeat;border:1px dotted gray;padding-top:8px}').concat(b, e + '{background-position:top left;padding-left:8px}', f + '{background-position:top right;padding-right:8px}'));
        j || CKEDITOR.addCss('.cke_show_blocks [contenteditable=false],.cke_show_blocks .cke_show_blocks_off{border:none;padding-top:0;background-image:none}.cke_show_blocks.cke_contents_rtl [contenteditable=false],.cke_show_blocks.cke_contents_rtl .cke_show_blocks_off{padding-right:0}.cke_show_blocks.cke_contents_ltr [contenteditable=false],.cke_show_blocks.cke_contents_ltr .cke_show_blocks_off{padding-left:0}');
      },
      init: function (a) {
        function c() {
          b.refresh(a);
        }
        if (!a.blockless) {
          var b = a.addCommand('showblocks', i);
          b.canUndo = !1;
          a.config.startupOutlineBlocks && b.setState(CKEDITOR.TRISTATE_ON);
          a.ui.addButton && a.ui.addButton('ShowBlocks', {
            label: a.lang.showblocks.toolbar,
            command: 'showblocks',
            toolbar: 'tools,20'
          });
          a.on('mode', function () {
            b.state != CKEDITOR.TRISTATE_DISABLED && b.refresh(a);
          });
          a.elementMode == CKEDITOR.ELEMENT_MODE_INLINE && (a.on('focus', c), a.on('blur', c));
          a.on('contentDom', function () {
            b.state != CKEDITOR.TRISTATE_DISABLED && b.refresh(a);
          });
        }
      }
    });
  }());
  (function () {
    var f = {
        preserveState: !0,
        editorFocus: !1,
        readOnly: 1,
        exec: function (a) {
          this.toggleState();
          this.refresh(a);
        },
        refresh: function (a) {
          if (a.document) {
            var b = this.state == CKEDITOR.TRISTATE_ON ? 'attachClass' : 'removeClass';
            a.editable()[b]('cke_show_borders');
          }
        }
      };
    CKEDITOR.plugins.add('showborders', {
      modes: { wysiwyg: 1 },
      onLoad: function () {
        var a;
        a = (CKEDITOR.env.ie6Compat ? [
          '.%1 table.%2,',
          '.%1 table.%2 td, .%1 table.%2 th',
          '{',
          'border : #d3d3d3 1px dotted',
          '}'
        ] : '.%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}'.split(';')).join('').replace(/%2/g, 'cke_show_border').replace(/%1/g, 'cke_show_borders ');
        CKEDITOR.addCss(a);
      },
      init: function (a) {
        var b = a.addCommand('showborders', f);
        b.canUndo = !1;
        !1 !== a.config.startupShowBorders && b.setState(CKEDITOR.TRISTATE_ON);
        a.on('mode', function () {
          b.state != CKEDITOR.TRISTATE_DISABLED && b.refresh(a);
        }, null, null, 100);
        a.on('contentDom', function () {
          b.state != CKEDITOR.TRISTATE_DISABLED && b.refresh(a);
        });
        a.on('removeFormatCleanup', function (d) {
          d = d.data;
          a.getCommand('showborders').state == CKEDITOR.TRISTATE_ON && (d.is('table') && (!d.hasAttribute('border') || 0 >= parseInt(d.getAttribute('border'), 10))) && d.addClass('cke_show_border');
        });
      },
      afterInit: function (a) {
        var b = a.dataProcessor, a = b && b.dataFilter, b = b && b.htmlFilter;
        a && a.addRules({
          elements: {
            table: function (a) {
              var a = a.attributes, b = a['class'], c = parseInt(a.border, 10);
              if ((!c || 0 >= c) && (!b || -1 == b.indexOf('cke_show_border')))
                a['class'] = (b || '') + ' cke_show_border';
            }
          }
        });
        b && b.addRules({
          elements: {
            table: function (a) {
              var a = a.attributes, b = a['class'];
              b && (a['class'] = b.replace('cke_show_border', '').replace(/\s{2}/, ' ').replace(/^\s+|\s+$/, ''));
            }
          }
        });
      }
    });
    CKEDITOR.on('dialogDefinition', function (a) {
      var b = a.data.name;
      if ('table' == b || 'tableProperties' == b)
        if (a = a.data.definition, b = a.getContents('info').get('txtBorder'), b.commit = CKEDITOR.tools.override(b.commit, function (a) {
            return function (b, c) {
              a.apply(this, arguments);
              var e = parseInt(this.getValue(), 10);
              c[!e || 0 >= e ? 'addClass' : 'removeClass']('cke_show_border');
            };
          }), a = (a = a.getContents('advanced')) && a.get('advCSSClasses'))
          a.setup = CKEDITOR.tools.override(a.setup, function (a) {
            return function () {
              a.apply(this, arguments);
              this.setValue(this.getValue().replace(/cke_show_border/, ''));
            };
          }), a.commit = CKEDITOR.tools.override(a.commit, function (a) {
            return function (b, c) {
              a.apply(this, arguments);
              parseInt(c.getAttribute('border'), 10) || c.addClass('cke_show_border');
            };
          });
    });
  }());
  (function () {
    CKEDITOR.plugins.add('sourcearea', {
      init: function (a) {
        function d() {
          var a = e && this.equals(CKEDITOR.document.getActive());
          this.hide();
          this.setStyle('height', this.getParent().$.clientHeight + 'px');
          this.setStyle('width', this.getParent().$.clientWidth + 'px');
          this.show();
          a && this.focus();
        }
        if (a.elementMode != CKEDITOR.ELEMENT_MODE_INLINE) {
          var f = CKEDITOR.plugins.sourcearea;
          a.addMode('source', function (e) {
            var b = a.ui.space('contents').getDocument().createElement('textarea');
            b.setStyles(CKEDITOR.tools.extend({
              width: CKEDITOR.env.ie7Compat ? '99%' : '100%',
              height: '100%',
              resize: 'none',
              outline: 'none',
              'text-align': 'left'
            }, CKEDITOR.tools.cssVendorPrefix('tab-size', a.config.sourceAreaTabSize || 4)));
            b.setAttribute('dir', 'ltr');
            b.addClass('cke_source cke_reset cke_enable_context_menu');
            a.ui.space('contents').append(b);
            b = a.editable(new c(a, b));
            b.setData(a.getData(1));
            CKEDITOR.env.ie && (b.attachListener(a, 'resize', d, b), b.attachListener(CKEDITOR.document.getWindow(), 'resize', d, b), CKEDITOR.tools.setTimeout(d, 0, b));
            a.fire('ariaWidget', this);
            e();
          });
          a.addCommand('source', f.commands.source);
          a.ui.addButton && a.ui.addButton('Source', {
            label: a.lang.sourcearea.toolbar,
            command: 'source',
            toolbar: 'mode,10'
          });
          a.on('mode', function () {
            a.getCommand('source').setState('source' == a.mode ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF);
          });
          var e = CKEDITOR.env.ie && 9 == CKEDITOR.env.version;
        }
      }
    });
    var c = CKEDITOR.tools.createClass({
        base: CKEDITOR.editable,
        proto: {
          setData: function (a) {
            this.setValue(a);
            this.status = 'ready';
            this.editor.fire('dataReady');
          },
          getData: function () {
            return this.getValue();
          },
          insertHtml: function () {
          },
          insertElement: function () {
          },
          insertText: function () {
          },
          setReadOnly: function (a) {
            this[(a ? 'set' : 'remove') + 'Attribute']('readOnly', 'readonly');
          },
          detach: function () {
            c.baseProto.detach.call(this);
            this.clearCustomData();
            this.remove();
          }
        }
      });
  }());
  CKEDITOR.plugins.sourcearea = {
    commands: {
      source: {
        modes: {
          wysiwyg: 1,
          source: 1
        },
        editorFocus: !1,
        readOnly: 1,
        exec: function (c) {
          'wysiwyg' == c.mode && c.fire('saveSnapshot');
          c.getCommand('source').setState(CKEDITOR.TRISTATE_DISABLED);
          c.setMode('source' == c.mode ? 'wysiwyg' : 'source');
        },
        canUndo: !1
      }
    }
  };
  CKEDITOR.plugins.add('specialchar', {
    availableLangs: {
      af: 1,
      ar: 1,
      bg: 1,
      ca: 1,
      cs: 1,
      cy: 1,
      da: 1,
      de: 1,
      el: 1,
      en: 1,
      'en-gb': 1,
      eo: 1,
      es: 1,
      et: 1,
      fa: 1,
      fi: 1,
      fr: 1,
      'fr-ca': 1,
      gl: 1,
      he: 1,
      hr: 1,
      hu: 1,
      id: 1,
      it: 1,
      ja: 1,
      km: 1,
      ku: 1,
      lt: 1,
      lv: 1,
      nb: 1,
      nl: 1,
      no: 1,
      pl: 1,
      pt: 1,
      'pt-br': 1,
      ru: 1,
      si: 1,
      sk: 1,
      sl: 1,
      sq: 1,
      sv: 1,
      th: 1,
      tr: 1,
      tt: 1,
      ug: 1,
      uk: 1,
      vi: 1,
      zh: 1,
      'zh-cn': 1
    },
    requires: 'dialog',
    init: function (a) {
      var c = this;
      CKEDITOR.dialog.add('specialchar', this.path + 'dialogs/specialchar.js');
      a.addCommand('specialchar', {
        exec: function () {
          var b = a.langCode, b = c.availableLangs[b] ? b : c.availableLangs[b.replace(/-.*/, '')] ? b.replace(/-.*/, '') : 'en';
          CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(c.path + 'dialogs/lang/' + b + '.js'), function () {
            CKEDITOR.tools.extend(a.lang.specialchar, c.langEntries[b]);
            a.openDialog('specialchar');
          });
        },
        modes: { wysiwyg: 1 },
        canUndo: !1
      });
      a.ui.addButton && a.ui.addButton('SpecialChar', {
        label: a.lang.specialchar.toolbar,
        command: 'specialchar',
        toolbar: 'insert,50'
      });
    }
  });
  CKEDITOR.config.specialChars = '! &quot; # $ % &amp; \' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;'.split(' ');
  CKEDITOR.plugins.add('scayt', {
    requires: 'menubutton,dialog',
    tabToOpen: null,
    dialogName: 'scaytDialog',
    init: function (a) {
      var c = this, d = CKEDITOR.plugins.scayt;
      this.bindEvents(a);
      this.parseConfig(a);
      this.addRule(a);
      CKEDITOR.dialog.add(this.dialogName, CKEDITOR.getUrl(this.path + 'dialogs/options.js'));
      this.addMenuItems(a);
      var b = a.lang.scayt, e = CKEDITOR.env;
      a.ui.add('Scayt', CKEDITOR.UI_MENUBUTTON, {
        label: b.text_title,
        title: a.plugins.wsc ? a.lang.wsc.title : b.text_title,
        modes: { wysiwyg: !(e.ie && (8 > e.version || e.quirks)) },
        toolbar: 'spellchecker,20',
        refresh: function () {
          var b = a.ui.instances.Scayt.getState();
          a.scayt && (b = d.state[a.name] ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF);
          a.fire('scaytButtonState', b);
        },
        onRender: function () {
          var d = this;
          a.on('scaytButtonState', function (a) {
            void 0 !== typeof a.data && d.setState(a.data);
          });
        },
        onMenu: function () {
          var b = a.scayt;
          a.getMenuItem('scaytToggle').label = a.lang.scayt[b && d.state[a.name] ? 'btn_disable' : 'btn_enable'];
          b = {
            scaytToggle: CKEDITOR.TRISTATE_OFF,
            scaytOptions: b ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
            scaytLangs: b ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
            scaytDict: b ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
            scaytAbout: b ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
            WSC: a.plugins.wsc ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED
          };
          a.config.scayt_uiTabs[0] || delete b.scaytOptions;
          a.config.scayt_uiTabs[1] || delete b.scaytLangs;
          a.config.scayt_uiTabs[2] || delete b.scaytDict;
          return b;
        }
      });
      a.contextMenu && a.addMenuItems && (a.contextMenu.addListener(function () {
        var d = a.scayt, b;
        if (d) {
          var e = d.getSelectionNode();
          if (e = e ? e.getAttribute(d.getNodeAttribute()) : e)
            b = c.menuGenerator(a, e, c), d.showBanner('.' + a.contextMenu._.definition.panel.className.split(' ').join(' .'));
        }
        return b;
      }), a.contextMenu._.onHide = CKEDITOR.tools.override(a.contextMenu._.onHide, function (d) {
        return function () {
          var b = a.scayt;
          b && b.hideBanner();
          return d.apply(this);
        };
      }));
    },
    addMenuItems: function (a) {
      var c = this, d = CKEDITOR.plugins.scayt;
      a.addMenuGroup('scaytButton');
      var b = a.config.scayt_contextMenuItemsOrder.split('|');
      if (b && b.length)
        for (var e = 0; e < b.length; e++)
          a.addMenuGroup('scayt_' + b[e], e - 10);
      b = {
        scaytToggle: {
          label: a.lang.scayt.btn_enable,
          group: 'scaytButton',
          onClick: function () {
            var b = a.scayt;
            d.state[a.name] = !d.state[a.name];
            !0 === d.state[a.name] ? b || d.createScayt(a) : b && d.destroy(a);
          }
        },
        scaytAbout: {
          label: a.lang.scayt.btn_about,
          group: 'scaytButton',
          onClick: function () {
            a.scayt.tabToOpen = 'about';
            a.lockSelection();
            a.openDialog(c.dialogName);
          }
        },
        scaytOptions: {
          label: a.lang.scayt.btn_options,
          group: 'scaytButton',
          onClick: function () {
            a.scayt.tabToOpen = 'options';
            a.lockSelection();
            a.openDialog(c.dialogName);
          }
        },
        scaytLangs: {
          label: a.lang.scayt.btn_langs,
          group: 'scaytButton',
          onClick: function () {
            a.scayt.tabToOpen = 'langs';
            a.lockSelection();
            a.openDialog(c.dialogName);
          }
        },
        scaytDict: {
          label: a.lang.scayt.btn_dictionaries,
          group: 'scaytButton',
          onClick: function () {
            a.scayt.tabToOpen = 'dictionaries';
            a.lockSelection();
            a.openDialog(c.dialogName);
          }
        }
      };
      a.plugins.wsc && (b.WSC = {
        label: a.lang.wsc.toolbar,
        group: 'scaytButton',
        onClick: function () {
          var d = CKEDITOR.plugins.scayt, b = a.scayt, c = a.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? a.container.getText() : a.document.getBody().getText();
          (c = c.replace(/\s/g, '')) ? (b && (d.state[a.name] && b.setMarkupPaused) && b.setMarkupPaused(!0), a.lockSelection(), a.execCommand('checkspell')) : alert('Nothing to check!');
        }
      });
      a.addMenuItems(b);
    },
    bindEvents: function (a) {
      function c() {
        var d = a.scayt;
        d && (d.removeMarkupInSelectionNode(), d.fire('startSpellCheck'));
      }
      var d = CKEDITOR.plugins.scayt, b = a.elementMode == CKEDITOR.ELEMENT_MODE_INLINE;
      CKEDITOR.on('dialogDefinition', function (a) {
        if ('scaytDialog' === a.data.name)
          a.data.definition.dialog.on('cancel', function () {
            return !1;
          }, this, null, -1);
      });
      var e = function () {
          a.scayt && d.destroy(a);
        }, g = function () {
          d.state[a.name] && !a.readOnly && d.createScayt(a);
        }, f = function () {
          var d = a.editable();
          d.attachListener(d, 'focus', function () {
            var d = CKEDITOR.plugins.scayt && CKEDITOR.plugins.scayt.state[a.name] && a.scayt, c, e;
            if ((b || d) && a._.savedSelection)
              for (var d = a._.savedSelection.getSelectedElement(), d = !d && a._.savedSelection.getRanges(), i = 0; i < d.length; i++)
                e = d[i], c = e.startContainer.getText().length, (c < e.startOffset || c < e.endOffset) && a.unlockSelection(!1);
          }, this, null, -10);
        }, h = function () {
          b ? (a.on('blur', e), a.on('focus', g), a.focusManager.hasFocus && g()) : g();
          f();
        };
      a.on('contentDom', h);
      a.on('beforeCommandExec', function (b) {
        var c;
        if (b.data.name in d.options.disablingCommandExec && 'wysiwyg' == a.mode) {
          if (c = a.scayt)
            d.destroy(a), a.fire('scaytButtonState', CKEDITOR.TRISTATE_DISABLED);
        } else if ('bold' === b.data.name || 'italic' === b.data.name || 'underline' === b.data.name || 'strike' === b.data.name || 'subscript' === b.data.name || 'superscript' === b.data.name)
          if (c = a.scayt)
            c.removeMarkupInSelectionNode(), setTimeout(function () {
              c.fire('startSpellCheck');
            }, 0);
      });
      a.on('beforeSetMode', function (b) {
        if ('source' == b.data) {
          if (b = a.scayt)
            d.destroy(a), a.fire('scaytButtonState', CKEDITOR.TRISTATE_DISABLED);
          a.document && (a.document.getBody().removeAttribute('_jquid'), a.document.getBody().removeAttribute('dir'));
        }
      });
      a.on('afterCommandExec', function (d) {
        var b;
        if ('wysiwyg' == a.mode && ('undo' == d.data.name || 'redo' == d.data.name))
          (b = a.scayt) && setTimeout(function () {
            b.fire('startSpellCheck');
          }, 250);
      });
      a.on('readOnly', function (b) {
        var c;
        b && (c = a.scayt, !0 === b.editor.readOnly ? c && c.fire('removeMarkupInDocument', {}) : c ? c.fire('startSpellCheck') : 'wysiwyg' == b.editor.mode && !0 === d.state[b.editor.name] && (d.createScayt(a), b.editor.fire('scaytButtonState', CKEDITOR.TRISTATE_ON)));
      });
      a.on('beforeDestroy', e);
      a.on('setData', function () {
        e();
        a.elementMode == CKEDITOR.ELEMENT_MODE_INLINE && h();
      }, this, null, 50);
      a.on('insertElement', function () {
        CKEDITOR.env.ie ? setTimeout(function () {
          c();
        }, 50) : c();
      }, this, null, 50);
      a.on('insertHtml', function () {
        c();
      }, this, null, 50);
      a.on('insertText', function () {
        c();
      }, this, null, 50);
      a.on('scaytDialogShown', function (d) {
        d.data.selectPage(a.scayt.tabToOpen);
      });
    },
    parseConfig: function (a) {
      var c = CKEDITOR.plugins.scayt;
      c.replaceOldOptionsNames(a.config);
      'boolean' !== typeof a.config.scayt_autoStartup && (a.config.scayt_autoStartup = !1);
      c.state[a.name] = a.config.scayt_autoStartup;
      a.config.scayt_contextCommands || (a.config.scayt_contextCommands = 'ignore|ignoreall|add');
      a.config.scayt_contextMenuItemsOrder || (a.config.scayt_contextMenuItemsOrder = 'suggest|moresuggest|control');
      a.config.scayt_sLang || (a.config.scayt_sLang = 'en_US');
      if (void 0 === a.config.scayt_maxSuggestions || 'number' != typeof a.config.scayt_maxSuggestions || 0 > a.config.scayt_maxSuggestions)
        a.config.scayt_maxSuggestions = 5;
      if (void 0 === a.config.scayt_customDictionaryIds || 'string' !== typeof a.config.scayt_customDictionaryIds)
        a.config.scayt_customDictionaryIds = '';
      if (void 0 === a.config.scayt_userDictionaryName || 'string' !== typeof a.config.scayt_userDictionaryName)
        a.config.scayt_userDictionaryName = null;
      if ('string' === typeof a.config.scayt_uiTabs && 3 === a.config.scayt_uiTabs.split(',').length) {
        var d = [], b = [];
        a.config.scayt_uiTabs = a.config.scayt_uiTabs.split(',');
        CKEDITOR.tools.search(a.config.scayt_uiTabs, function (a) {
          if (Number(a) === 1 || Number(a) === 0) {
            b.push(true);
            d.push(Number(a));
          } else
            b.push(false);
        });
        a.config.scayt_uiTabs = null === CKEDITOR.tools.search(b, !1) ? d : [
          1,
          1,
          1
        ];
      } else
        a.config.scayt_uiTabs = [
          1,
          1,
          1
        ];
      'string' != typeof a.config.scayt_serviceProtocol && (a.config.scayt_serviceProtocol = null);
      'string' != typeof a.config.scayt_serviceHost && (a.config.scayt_serviceHost = null);
      'string' != typeof a.config.scayt_servicePort && (a.config.scayt_servicePort = null);
      'string' != typeof a.config.scayt_servicePath && (a.config.scayt_servicePath = null);
      a.config.scayt_moreSuggestions || (a.config.scayt_moreSuggestions = 'on');
      'string' !== typeof a.config.scayt_customerId && (a.config.scayt_customerId = '1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2');
      'string' !== typeof a.config.scayt_srcUrl && (c = document.location.protocol, c = -1 != c.search(/https?:/) ? c : 'http:', a.config.scayt_srcUrl = c + '//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js');
      'boolean' !== typeof CKEDITOR.config.scayt_handleCheckDirty && (CKEDITOR.config.scayt_handleCheckDirty = !0);
      'boolean' !== typeof CKEDITOR.config.scayt_handleUndoRedo && (CKEDITOR.config.scayt_handleUndoRedo = !0);
      if (a.config.scayt_disableOptionsStorage) {
        var c = CKEDITOR.tools.isArray(a.config.scayt_disableOptionsStorage) ? a.config.scayt_disableOptionsStorage : 'string' === typeof a.config.scayt_disableOptionsStorage ? [a.config.scayt_disableOptionsStorage] : void 0, e = 'all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers'.split(' '), g = [
            'lang',
            'ignore-all-caps-words',
            'ignore-domain-names',
            'ignore-words-with-mixed-cases',
            'ignore-words-with-numbers'
          ], f = CKEDITOR.tools.search, h = CKEDITOR.tools.indexOf;
        a.config.scayt_disableOptionsStorage = function (a) {
          for (var d = [], b = 0; b < a.length; b++) {
            var c = a[b], j = !!f(a, 'options');
            if (!f(e, c) || j && f(g, function (a) {
                if (a === 'lang')
                  return false;
              }))
              return;
            f(g, c) && g.splice(h(g, c), 1);
            if (c === 'all' || j && f(a, 'lang'))
              return [];
            c === 'options' && (g = ['lang']);
          }
          return d = d.concat(g);
        }(c);
      }
    },
    addRule: function (a) {
      var c = a.dataProcessor, d = c && c.htmlFilter, b = a._.elementsPath && a._.elementsPath.filters, c = c && c.dataFilter, e = a.addRemoveFormatFilter, g = function (d) {
          var b = CKEDITOR.plugins.scayt;
          if (a.scayt && d.hasAttribute(b.options.data_attribute_name))
            return !1;
        }, f = function (d) {
          var b = CKEDITOR.plugins.scayt, c = !0;
          a.scayt && d.hasAttribute(b.options.data_attribute_name) && (c = !1);
          return c;
        };
      b && b.push(g);
      c && c.addRules({
        elements: {
          span: function (d) {
            var b = CKEDITOR.plugins.scayt;
            b && (b.state[a.name] && d.classes && CKEDITOR.tools.search(d.classes, b.options.misspelled_word_class)) && (d.classes && d.parent.type === CKEDITOR.NODE_DOCUMENT_FRAGMENT ? (delete d.attributes.style, delete d.name) : delete d.classes[CKEDITOR.tools.indexOf(d.classes, b.options.misspelled_word_class)]);
            return d;
          }
        }
      });
      d && d.addRules({
        elements: {
          span: function (d) {
            var b = CKEDITOR.plugins.scayt;
            b && (b.state[a.name] && d.hasClass(b.options.misspelled_word_class) && d.attributes[b.options.data_attribute_name]) && (d.removeClass(b.options.misspelled_word_class), delete d.attributes[b.options.data_attribute_name], delete d.name);
            return d;
          }
        }
      });
      e && e.call(a, f);
    },
    scaytMenuDefinition: function (a) {
      var c = this, a = a.scayt;
      return {
        scayt_ignore: {
          label: a.getLocal('btn_ignore'),
          group: 'scayt_control',
          order: 1,
          exec: function (a) {
            a.scayt.ignoreWord();
          }
        },
        scayt_ignoreall: {
          label: a.getLocal('btn_ignoreAll'),
          group: 'scayt_control',
          order: 2,
          exec: function (a) {
            a.scayt.ignoreAllWords();
          }
        },
        scayt_add: {
          label: a.getLocal('btn_addWord'),
          group: 'scayt_control',
          order: 3,
          exec: function (a) {
            var b = a.scayt;
            setTimeout(function () {
              b.addWordToUserDictionary();
            }, 10);
          }
        },
        option: {
          label: a.getLocal('btn_options'),
          group: 'scayt_control',
          order: 4,
          exec: function (a) {
            a.scayt.tabToOpen = 'options';
            a.lockSelection();
            a.openDialog(c.dialogName);
          },
          verification: function (a) {
            return 1 == a.config.scayt_uiTabs[0] ? !0 : !1;
          }
        },
        language: {
          label: a.getLocal('btn_langs'),
          group: 'scayt_control',
          order: 5,
          exec: function (a) {
            a.scayt.tabToOpen = 'langs';
            a.lockSelection();
            a.openDialog(c.dialogName);
          },
          verification: function (a) {
            return 1 == a.config.scayt_uiTabs[1] ? !0 : !1;
          }
        },
        dictionary: {
          label: a.getLocal('btn_dictionaries'),
          group: 'scayt_control',
          order: 6,
          exec: function (a) {
            a.scayt.tabToOpen = 'dictionaries';
            a.lockSelection();
            a.openDialog(c.dialogName);
          },
          verification: function (a) {
            return 1 == a.config.scayt_uiTabs[2] ? !0 : !1;
          }
        },
        about: {
          label: a.getLocal('btn_about'),
          group: 'scayt_control',
          order: 7,
          exec: function (a) {
            a.scayt.tabToOpen = 'about';
            a.lockSelection();
            a.openDialog(c.dialogName);
          }
        }
      };
    },
    buildSuggestionMenuItems: function (a, c) {
      var d = {}, b = {}, e = a.scayt;
      if (0 < c.length && 'no_any_suggestions' !== c[0])
        for (var g = 0; g < c.length; g++) {
          var f = 'scayt_suggest_' + CKEDITOR.plugins.scayt.suggestions[g].replace(' ', '_');
          a.addCommand(f, this.createCommand(CKEDITOR.plugins.scayt.suggestions[g]));
          g < a.config.scayt_maxSuggestions ? (a.addMenuItem(f, {
            label: c[g],
            command: f,
            group: 'scayt_suggest',
            order: g + 1
          }), d[f] = CKEDITOR.TRISTATE_OFF) : (a.addMenuItem(f, {
            label: c[g],
            command: f,
            group: 'scayt_moresuggest',
            order: g + 1
          }), b[f] = CKEDITOR.TRISTATE_OFF, 'on' === a.config.scayt_moreSuggestions && (a.addMenuItem('scayt_moresuggest', {
            label: e.getLocal('btn_moreSuggestions'),
            group: 'scayt_moresuggest',
            order: 10,
            getItems: function () {
              return b;
            }
          }), d.scayt_moresuggest = CKEDITOR.TRISTATE_OFF));
        }
      else
        d.no_scayt_suggest = CKEDITOR.TRISTATE_DISABLED, a.addCommand('no_scayt_suggest', {
          exec: function () {
          }
        }), a.addMenuItem('no_scayt_suggest', {
          label: e.getLocal('btn_noSuggestions') || 'no_scayt_suggest',
          command: 'no_scayt_suggest',
          group: 'scayt_suggest',
          order: 0
        });
      return d;
    },
    menuGenerator: function (a, c) {
      var d = a.scayt, b = this.scaytMenuDefinition(a), e = {}, g = a.config.scayt_contextCommands.split('|');
      d.fire('getSuggestionsList', {
        lang: d.getLang(),
        word: c
      });
      e = this.buildSuggestionMenuItems(a, CKEDITOR.plugins.scayt.suggestions);
      if ('off' == a.config.scayt_contextCommands)
        return e;
      for (var f in b)
        -1 == CKEDITOR.tools.indexOf(g, f.replace('scayt_', '')) && 'all' != a.config.scayt_contextCommands || (e[f] = CKEDITOR.TRISTATE_OFF, 'function' === typeof b[f].verification && !b[f].verification(a) && delete e[f], a.addCommand(f, { exec: b[f].exec }), a.addMenuItem(f, {
          label: a.lang.scayt[b[f].label] || b[f].label,
          command: f,
          group: b[f].group,
          order: b[f].order
        }));
      return e;
    },
    createCommand: function (a) {
      return {
        exec: function (c) {
          c.scayt.replaceSelectionNode({ word: a });
        }
      };
    }
  });
  CKEDITOR.plugins.scayt = {
    state: {},
    suggestions: [],
    loadingHelper: { loadOrder: [] },
    isLoading: !1,
    options: {
      disablingCommandExec: {
        source: !0,
        newpage: !0,
        templates: !0
      },
      data_attribute_name: 'data-scayt-word',
      misspelled_word_class: 'scayt-misspell-word'
    },
    backCompatibilityMap: {
      scayt_service_protocol: 'scayt_serviceProtocol',
      scayt_service_host: 'scayt_serviceHost',
      scayt_service_port: 'scayt_servicePort',
      scayt_service_path: 'scayt_servicePath',
      scayt_customerid: 'scayt_customerId'
    },
    replaceOldOptionsNames: function (a) {
      for (var c in a)
        c in this.backCompatibilityMap && (a[this.backCompatibilityMap[c]] = a[c], delete a[c]);
    },
    createScayt: function (a) {
      var c = this;
      this.loadScaytLibrary(a, function (a) {
        var b = {
            lang: a.config.scayt_sLang,
            container: 'BODY' == a.editable().$.nodeName ? a.document.getWindow().$.frameElement : a.editable().$,
            customDictionary: a.config.scayt_customDictionaryIds,
            userDictionaryName: a.config.scayt_userDictionaryName,
            localization: a.langCode,
            customer_id: a.config.scayt_customerId,
            debug: a.config.scayt_debug,
            data_attribute_name: c.options.data_attribute_name,
            misspelled_word_class: c.options.misspelled_word_class,
            'options-to-restore': a.config.scayt_disableOptionsStorage,
            focused: a.editable().hasFocus,
            ignoreElementsRegex: a.config.scayt_elementsToIgnore
          };
        a.config.scayt_serviceProtocol && (b.service_protocol = a.config.scayt_serviceProtocol);
        a.config.scayt_serviceHost && (b.service_host = a.config.scayt_serviceHost);
        a.config.scayt_servicePort && (b.service_port = a.config.scayt_servicePort);
        a.config.scayt_servicePath && (b.service_path = a.config.scayt_servicePath);
        b = new SCAYT.CKSCAYT(b, function () {
        }, function () {
        });
        b.subscribe('suggestionListSend', function (a) {
          for (var b = {}, d = [], c = 0; c < a.suggestionList.length; c++)
            if (!b['word_' + a.suggestionList[c]]) {
              b['word_' + a.suggestionList[c]] = a.suggestionList[c];
              d.push(a.suggestionList[c]);
            }
          CKEDITOR.plugins.scayt.suggestions = d;
        });
        a.scayt = b;
        a.fire('scaytButtonState', a.readOnly ? CKEDITOR.TRISTATE_DISABLED : CKEDITOR.TRISTATE_ON);
      });
    },
    destroy: function (a) {
      a.scayt && a.scayt.destroy();
      delete a.scayt;
      a.fire('scaytButtonState', CKEDITOR.TRISTATE_OFF);
    },
    loadScaytLibrary: function (a, c) {
      var d = this;
      'undefined' === typeof window.SCAYT || 'function' !== typeof window.SCAYT.CKSCAYT ? (this.loadingHelper[a.name] = c, this.loadingHelper.loadOrder.push(a.name), CKEDITOR.scriptLoader.load(a.config.scayt_srcUrl, function () {
        var a;
        CKEDITOR.fireOnce('scaytReady');
        for (var c = 0; c < d.loadingHelper.loadOrder.length; c++) {
          a = d.loadingHelper.loadOrder[c];
          if ('function' === typeof d.loadingHelper[a])
            d.loadingHelper[a](CKEDITOR.instances[a]);
          delete d.loadingHelper[a];
        }
        d.loadingHelper.loadOrder = [];
      })) : window.SCAYT && 'function' === typeof window.SCAYT.CKSCAYT && (CKEDITOR.fireOnce('scaytReady'), a.scayt || 'function' === typeof c && c(a));
    }
  };
  CKEDITOR.on('scaytReady', function () {
    if (!0 === CKEDITOR.config.scayt_handleCheckDirty) {
      var a = CKEDITOR.editor.prototype;
      a.checkDirty = CKEDITOR.tools.override(a.checkDirty, function (a) {
        return function () {
          var b = null, c = this.scayt;
          if (!CKEDITOR.plugins.scayt || !CKEDITOR.plugins.scayt.state[this.name] || !this.scayt)
            b = a.call(this);
          else if (b = 'ready' == this.status)
            var g = c.removeMarkupFromString(this.getSnapshot()), c = c.removeMarkupFromString(this._.previousValue), b = b && c !== g;
          return b;
        };
      });
      a.resetDirty = CKEDITOR.tools.override(a.resetDirty, function (a) {
        return function () {
          var b = this.scayt;
          !CKEDITOR.plugins.scayt || !CKEDITOR.plugins.scayt.state[this.name] || !this.scayt ? a.call(this) : this._.previousValue = b.removeMarkupFromString(this.getSnapshot());
        };
      });
    }
    if (!0 === CKEDITOR.config.scayt_handleUndoRedo) {
      var a = CKEDITOR.plugins.undo.Image.prototype, c = 'function' == typeof a.equalsContent ? 'equalsContent' : 'equals';
      a[c] = CKEDITOR.tools.override(a[c], function (a) {
        return function (b) {
          var c = b.editor.scayt, g = this.contents, f = b.contents, h = null;
          CKEDITOR.plugins.scayt && (CKEDITOR.plugins.scayt.state[b.editor.name] && b.editor.scayt) && (this.contents = c.removeMarkupFromString(g) || '', b.contents = c.removeMarkupFromString(f) || '');
          h = a.apply(this, arguments);
          this.contents = g;
          b.contents = f;
          return h;
        };
      });
    }
  });
  (function () {
    CKEDITOR.plugins.add('stylescombo', {
      requires: 'richcombo',
      init: function (c) {
        var j = c.config, g = c.lang.stylescombo, f = {}, i = [], k = [];
        c.on('stylesSet', function (b) {
          if (b = b.data.styles) {
            for (var a, h, d, e = 0, l = b.length; e < l; e++)
              if (a = b[e], !(c.blockless && a.element in CKEDITOR.dtd.$block) && (h = a.name, a = new CKEDITOR.style(a), !c.filter.customConfig || c.filter.check(a)))
                a._name = h, a._.enterMode = j.enterMode, a._.type = d = a.assignedTo || a.type, a._.weight = e + 1000 * (d == CKEDITOR.STYLE_OBJECT ? 1 : d == CKEDITOR.STYLE_BLOCK ? 2 : 3), f[h] = a, i.push(a), k.push(a);
            i.sort(function (a, b) {
              return a._.weight - b._.weight;
            });
          }
        });
        c.ui.addRichCombo('Styles', {
          label: g.label,
          title: g.panelTitle,
          toolbar: 'styles,10',
          allowedContent: k,
          panel: {
            css: [CKEDITOR.skin.getPath('editor')].concat(j.contentsCss),
            multiSelect: !0,
            attributes: { 'aria-label': g.panelTitle }
          },
          init: function () {
            var b, a, c, d, e, f;
            e = 0;
            for (f = i.length; e < f; e++)
              b = i[e], a = b._name, d = b._.type, d != c && (this.startGroup(g['panelTitle' + d]), c = d), this.add(a, b.type == CKEDITOR.STYLE_OBJECT ? a : b.buildPreview(), a);
            this.commit();
          },
          onClick: function (b) {
            c.focus();
            c.fire('saveSnapshot');
            var b = f[b], a = c.elementPath();
            c[b.checkActive(a, c) ? 'removeStyle' : 'applyStyle'](b);
            c.fire('saveSnapshot');
          },
          onRender: function () {
            c.on('selectionChange', function (b) {
              for (var a = this.getValue(), b = b.data.path.elements, h = 0, d = b.length, e; h < d; h++) {
                e = b[h];
                for (var g in f)
                  if (f[g].checkElementRemovable(e, !0, c)) {
                    g != a && this.setValue(g);
                    return;
                  }
              }
              this.setValue('');
            }, this);
          },
          onOpen: function () {
            var b = c.getSelection().getSelectedElement(), b = c.elementPath(b), a = [
                0,
                0,
                0,
                0
              ];
            this.showAll();
            this.unmarkAll();
            for (var h in f) {
              var d = f[h], e = d._.type;
              d.checkApplicable(b, c, c.activeFilter) ? a[e]++ : this.hideItem(h);
              d.checkActive(b, c) && this.mark(h);
            }
            a[CKEDITOR.STYLE_BLOCK] || this.hideGroup(g['panelTitle' + CKEDITOR.STYLE_BLOCK]);
            a[CKEDITOR.STYLE_INLINE] || this.hideGroup(g['panelTitle' + CKEDITOR.STYLE_INLINE]);
            a[CKEDITOR.STYLE_OBJECT] || this.hideGroup(g['panelTitle' + CKEDITOR.STYLE_OBJECT]);
          },
          refresh: function () {
            var b = c.elementPath();
            if (b) {
              for (var a in f)
                if (f[a].checkApplicable(b, c, c.activeFilter))
                  return;
              this.setState(CKEDITOR.TRISTATE_DISABLED);
            }
          },
          reset: function () {
            f = {};
            i = [];
          }
        });
      }
    });
  }());
  (function () {
    function i(c) {
      return {
        editorFocus: !1,
        canUndo: !1,
        modes: { wysiwyg: 1 },
        exec: function (d) {
          if (d.editable().hasFocus) {
            var e = d.getSelection(), b;
            if (b = new CKEDITOR.dom.elementPath(e.getCommonAncestor(), e.root).contains({
                td: 1,
                th: 1
              }, 1)) {
              var e = d.createRange(), a = CKEDITOR.tools.tryThese(function () {
                  var a = b.getParent().$.cells[b.$.cellIndex + (c ? -1 : 1)];
                  a.parentNode.parentNode;
                  return a;
                }, function () {
                  var a = b.getParent(), a = a.getAscendant('table').$.rows[a.$.rowIndex + (c ? -1 : 1)];
                  return a.cells[c ? a.cells.length - 1 : 0];
                });
              if (!a && !c) {
                for (var f = b.getAscendant('table').$, a = b.getParent().$.cells, f = new CKEDITOR.dom.element(f.insertRow(-1), d.document), g = 0, h = a.length; g < h; g++)
                  f.append(new CKEDITOR.dom.element(a[g], d.document).clone(!1, !1)).appendBogus();
                e.moveToElementEditStart(f);
              } else if (a)
                a = new CKEDITOR.dom.element(a), e.moveToElementEditStart(a), (!e.checkStartOfBlock() || !e.checkEndOfBlock()) && e.selectNodeContents(a);
              else
                return !0;
              e.select(!0);
              return !0;
            }
          }
          return !1;
        }
      };
    }
    var h = {
        editorFocus: !1,
        modes: {
          wysiwyg: 1,
          source: 1
        }
      }, g = {
        exec: function (c) {
          c.container.focusNext(!0, c.tabIndex);
        }
      }, f = {
        exec: function (c) {
          c.container.focusPrevious(!0, c.tabIndex);
        }
      };
    CKEDITOR.plugins.add('tab', {
      init: function (c) {
        for (var d = !1 !== c.config.enableTabKeyTools, e = c.config.tabSpaces || 0, b = ''; e--;)
          b += '\xa0';
        if (b)
          c.on('key', function (a) {
            9 == a.data.keyCode && (c.insertHtml(b), a.cancel());
          });
        if (d)
          c.on('key', function (a) {
            (9 == a.data.keyCode && c.execCommand('selectNextCell') || a.data.keyCode == CKEDITOR.SHIFT + 9 && c.execCommand('selectPreviousCell')) && a.cancel();
          });
        c.addCommand('blur', CKEDITOR.tools.extend(g, h));
        c.addCommand('blurBack', CKEDITOR.tools.extend(f, h));
        c.addCommand('selectNextCell', i());
        c.addCommand('selectPreviousCell', i(!0));
      }
    });
  }());
  CKEDITOR.dom.element.prototype.focusNext = function (i, h) {
    var g = void 0 === h ? this.getTabIndex() : h, f, c, d, e, b, a;
    if (0 >= g)
      for (b = this.getNextSourceNode(i, CKEDITOR.NODE_ELEMENT); b;) {
        if (b.isVisible() && 0 === b.getTabIndex()) {
          d = b;
          break;
        }
        b = b.getNextSourceNode(!1, CKEDITOR.NODE_ELEMENT);
      }
    else
      for (b = this.getDocument().getBody().getFirst(); b = b.getNextSourceNode(!1, CKEDITOR.NODE_ELEMENT);) {
        if (!f)
          if (!c && b.equals(this)) {
            if (c = !0, i) {
              if (!(b = b.getNextSourceNode(!0, CKEDITOR.NODE_ELEMENT)))
                break;
              f = 1;
            }
          } else
            c && !this.contains(b) && (f = 1);
        if (b.isVisible() && !(0 > (a = b.getTabIndex()))) {
          if (f && a == g) {
            d = b;
            break;
          }
          a > g && (!d || !e || a < e) ? (d = b, e = a) : !d && 0 === a && (d = b, e = a);
        }
      }
    d && d.focus();
  };
  CKEDITOR.dom.element.prototype.focusPrevious = function (i, h) {
    for (var g = void 0 === h ? this.getTabIndex() : h, f, c, d, e = 0, b, a = this.getDocument().getBody().getLast(); a = a.getPreviousSourceNode(!1, CKEDITOR.NODE_ELEMENT);) {
      if (!f)
        if (!c && a.equals(this)) {
          if (c = !0, i) {
            if (!(a = a.getPreviousSourceNode(!0, CKEDITOR.NODE_ELEMENT)))
              break;
            f = 1;
          }
        } else
          c && !this.contains(a) && (f = 1);
      if (a.isVisible() && !(0 > (b = a.getTabIndex())))
        if (0 >= g) {
          if (f && 0 === b) {
            d = a;
            break;
          }
          b > e && (d = a, e = b);
        } else {
          if (f && b == g) {
            d = a;
            break;
          }
          if (b < g && (!d || b > e))
            d = a, e = b;
        }
    }
    d && d.focus();
  };
  CKEDITOR.plugins.add('table', {
    requires: 'dialog',
    init: function (a) {
      function e(a) {
        return CKEDITOR.tools.extend(a || {}, {
          contextSensitive: 1,
          refresh: function (a, f) {
            this.setState(f.contains('table', 1) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED);
          }
        });
      }
      if (!a.blockless) {
        var c = a.lang.table;
        a.addCommand('table', new CKEDITOR.dialogCommand('table', {
          context: 'table',
          allowedContent: 'table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];' + (a.plugins.dialogadvtab ? 'table' + a.plugins.dialogadvtab.allowedContent() : ''),
          requiredContent: 'table',
          contentTransformations: [[
              'table{width}: sizeToStyle',
              'table[width]: sizeToAttribute'
            ]]
        }));
        a.addCommand('tableProperties', new CKEDITOR.dialogCommand('tableProperties', e()));
        a.addCommand('tableDelete', e({
          exec: function (a) {
            var b = a.elementPath().contains('table', 1);
            if (b) {
              var d = b.getParent(), c = a.editable();
              1 == d.getChildCount() && (!d.is('td', 'th') && !d.equals(c)) && (b = d);
              a = a.createRange();
              a.moveToPosition(b, CKEDITOR.POSITION_BEFORE_START);
              b.remove();
              a.select();
            }
          }
        }));
        a.ui.addButton && a.ui.addButton('Table', {
          label: c.toolbar,
          command: 'table',
          toolbar: 'insert,30'
        });
        CKEDITOR.dialog.add('table', this.path + 'dialogs/table.js');
        CKEDITOR.dialog.add('tableProperties', this.path + 'dialogs/table.js');
        a.addMenuItems && a.addMenuItems({
          table: {
            label: c.menu,
            command: 'tableProperties',
            group: 'table',
            order: 5
          },
          tabledelete: {
            label: c.deleteTable,
            command: 'tableDelete',
            group: 'table',
            order: 1
          }
        });
        a.on('doubleclick', function (a) {
          a.data.element.is('table') && (a.data.dialog = 'tableProperties');
        });
        a.contextMenu && a.contextMenu.addListener(function () {
          return {
            tabledelete: CKEDITOR.TRISTATE_OFF,
            table: CKEDITOR.TRISTATE_OFF
          };
        });
      }
    }
  });
  (function () {
    function p(e) {
      function d(a) {
        !(0 < b.length) && (a.type == CKEDITOR.NODE_ELEMENT && y.test(a.getName()) && !a.getCustomData('selected_cell')) && (CKEDITOR.dom.element.setMarker(c, a, 'selected_cell', !0), b.push(a));
      }
      for (var e = e.getRanges(), b = [], c = {}, a = 0; a < e.length; a++) {
        var f = e[a];
        if (f.collapsed)
          f = f.getCommonAncestor(), (f = f.getAscendant('td', !0) || f.getAscendant('th', !0)) && b.push(f);
        else {
          var f = new CKEDITOR.dom.walker(f), g;
          for (f.guard = d; g = f.next();)
            if (g.type != CKEDITOR.NODE_ELEMENT || !g.is(CKEDITOR.dtd.table))
              if ((g = g.getAscendant('td', !0) || g.getAscendant('th', !0)) && !g.getCustomData('selected_cell'))
                CKEDITOR.dom.element.setMarker(c, g, 'selected_cell', !0), b.push(g);
        }
      }
      CKEDITOR.dom.element.clearAllMarkers(c);
      return b;
    }
    function o(e, d) {
      for (var b = p(e), c = b[0], a = c.getAscendant('table'), c = c.getDocument(), f = b[0].getParent(), g = f.$.rowIndex, b = b[b.length - 1], h = b.getParent().$.rowIndex + b.$.rowSpan - 1, b = new CKEDITOR.dom.element(a.$.rows[h]), g = d ? g : h, f = d ? f : b, b = CKEDITOR.tools.buildTableMap(a), a = b[g], g = d ? b[g - 1] : b[g + 1], b = b[0].length, c = c.createElement('tr'), h = 0; a[h] && h < b; h++) {
        var i;
        1 < a[h].rowSpan && g && a[h] == g[h] ? (i = a[h], i.rowSpan += 1) : (i = new CKEDITOR.dom.element(a[h]).clone(), i.removeAttribute('rowSpan'), i.appendBogus(), c.append(i), i = i.$);
        h += i.colSpan - 1;
      }
      d ? c.insertBefore(f) : c.insertAfter(f);
    }
    function q(e) {
      if (e instanceof CKEDITOR.dom.selection) {
        for (var d = p(e), b = d[0].getAscendant('table'), c = CKEDITOR.tools.buildTableMap(b), e = d[0].getParent().$.rowIndex, d = d[d.length - 1], a = d.getParent().$.rowIndex + d.$.rowSpan - 1, d = [], f = e; f <= a; f++) {
          for (var g = c[f], h = new CKEDITOR.dom.element(b.$.rows[f]), i = 0; i < g.length; i++) {
            var j = new CKEDITOR.dom.element(g[i]), l = j.getParent().$.rowIndex;
            1 == j.$.rowSpan ? j.remove() : (j.$.rowSpan -= 1, l == f && (l = c[f + 1], l[i - 1] ? j.insertAfter(new CKEDITOR.dom.element(l[i - 1])) : new CKEDITOR.dom.element(b.$.rows[f + 1]).append(j, 1)));
            i += j.$.colSpan - 1;
          }
          d.push(h);
        }
        c = b.$.rows;
        b = new CKEDITOR.dom.element(c[a + 1] || (0 < e ? c[e - 1] : null) || b.$.parentNode);
        for (f = d.length; 0 <= f; f--)
          q(d[f]);
        return b;
      }
      e instanceof CKEDITOR.dom.element && (b = e.getAscendant('table'), 1 == b.$.rows.length ? b.remove() : e.remove());
      return null;
    }
    function r(e, d) {
      for (var b = d ? Infinity : 0, c = 0; c < e.length; c++) {
        var a;
        a = e[c];
        for (var f = d, g = a.getParent().$.cells, h = 0, i = 0; i < g.length; i++) {
          var j = g[i], h = h + (f ? 1 : j.colSpan);
          if (j == a.$)
            break;
        }
        a = h - 1;
        if (d ? a < b : a > b)
          b = a;
      }
      return b;
    }
    function k(e, d) {
      for (var b = p(e), c = b[0].getAscendant('table'), a = r(b, 1), b = r(b), a = d ? a : b, f = CKEDITOR.tools.buildTableMap(c), c = [], b = [], g = f.length, h = 0; h < g; h++)
        c.push(f[h][a]), b.push(d ? f[h][a - 1] : f[h][a + 1]);
      for (h = 0; h < g; h++)
        c[h] && (1 < c[h].colSpan && b[h] == c[h] ? (a = c[h], a.colSpan += 1) : (a = new CKEDITOR.dom.element(c[h]).clone(), a.removeAttribute('colSpan'), a.appendBogus(), a[d ? 'insertBefore' : 'insertAfter'].call(a, new CKEDITOR.dom.element(c[h])), a = a.$), h += a.rowSpan - 1);
    }
    function u(e, d) {
      var b = e.getStartElement();
      if (b = b.getAscendant('td', 1) || b.getAscendant('th', 1)) {
        var c = b.clone();
        c.appendBogus();
        d ? c.insertBefore(b) : c.insertAfter(b);
      }
    }
    function t(e) {
      if (e instanceof CKEDITOR.dom.selection) {
        var e = p(e), d = e[0] && e[0].getAscendant('table'), b;
        a: {
          var c = 0;
          b = e.length - 1;
          for (var a = {}, f, g; f = e[c++];)
            CKEDITOR.dom.element.setMarker(a, f, 'delete_cell', !0);
          for (c = 0; f = e[c++];)
            if ((g = f.getPrevious()) && !g.getCustomData('delete_cell') || (g = f.getNext()) && !g.getCustomData('delete_cell')) {
              CKEDITOR.dom.element.clearAllMarkers(a);
              b = g;
              break a;
            }
          CKEDITOR.dom.element.clearAllMarkers(a);
          g = e[0].getParent();
          (g = g.getPrevious()) ? b = g.getLast() : (g = e[b].getParent(), b = (g = g.getNext()) ? g.getChild(0) : null);
        }
        for (g = e.length - 1; 0 <= g; g--)
          t(e[g]);
        b ? m(b, !0) : d && d.remove();
      } else
        e instanceof CKEDITOR.dom.element && (d = e.getParent(), 1 == d.getChildCount() ? d.remove() : e.remove());
    }
    function m(e, d) {
      var b = e.getDocument(), c = CKEDITOR.document;
      CKEDITOR.env.ie && 10 == CKEDITOR.env.version && (c.focus(), b.focus());
      b = new CKEDITOR.dom.range(b);
      if (!b['moveToElementEdit' + (d ? 'End' : 'Start')](e))
        b.selectNodeContents(e), b.collapse(d ? !1 : !0);
      b.select(!0);
    }
    function v(e, d, b) {
      e = e[d];
      if ('undefined' == typeof b)
        return e;
      for (d = 0; e && d < e.length; d++) {
        if (b.is && e[d] == b.$)
          return d;
        if (d == b)
          return new CKEDITOR.dom.element(e[d]);
      }
      return b.is ? -1 : null;
    }
    function s(e, d, b) {
      var c = p(e), a;
      if ((d ? 1 != c.length : 2 > c.length) || (a = e.getCommonAncestor()) && a.type == CKEDITOR.NODE_ELEMENT && a.is('table'))
        return !1;
      var f, e = c[0];
      a = e.getAscendant('table');
      var g = CKEDITOR.tools.buildTableMap(a), h = g.length, i = g[0].length, j = e.getParent().$.rowIndex, l = v(g, j, e);
      if (d) {
        var n;
        try {
          var m = parseInt(e.getAttribute('rowspan'), 10) || 1;
          f = parseInt(e.getAttribute('colspan'), 10) || 1;
          n = g['up' == d ? j - m : 'down' == d ? j + m : j]['left' == d ? l - f : 'right' == d ? l + f : l];
        } catch (z) {
          return !1;
        }
        if (!n || e.$ == n)
          return !1;
        c['up' == d || 'left' == d ? 'unshift' : 'push'](new CKEDITOR.dom.element(n));
      }
      for (var d = e.getDocument(), o = j, m = n = 0, q = !b && new CKEDITOR.dom.documentFragment(d), s = 0, d = 0; d < c.length; d++) {
        f = c[d];
        var k = f.getParent(), t = f.getFirst(), r = f.$.colSpan, u = f.$.rowSpan, k = k.$.rowIndex, w = v(g, k, f), s = s + r * u, m = Math.max(m, w - l + r);
        n = Math.max(n, k - j + u);
        if (!b) {
          r = f;
          (u = r.getBogus()) && u.remove();
          r.trim();
          if (f.getChildren().count()) {
            if (k != o && t && (!t.isBlockBoundary || !t.isBlockBoundary({ br: 1 })))
              (o = q.getLast(CKEDITOR.dom.walker.whitespaces(!0))) && (!o.is || !o.is('br')) && q.append('br');
            f.moveChildren(q);
          }
          d ? f.remove() : f.setHtml('');
        }
        o = k;
      }
      if (b)
        return n * m == s;
      q.moveChildren(e);
      e.appendBogus();
      m >= i ? e.removeAttribute('rowSpan') : e.$.rowSpan = n;
      n >= h ? e.removeAttribute('colSpan') : e.$.colSpan = m;
      b = new CKEDITOR.dom.nodeList(a.$.rows);
      c = b.count();
      for (d = c - 1; 0 <= d; d--)
        a = b.getItem(d), a.$.cells.length || (a.remove(), c++);
      return e;
    }
    function w(e, d) {
      var b = p(e);
      if (1 < b.length)
        return !1;
      if (d)
        return !0;
      var b = b[0], c = b.getParent(), a = c.getAscendant('table'), f = CKEDITOR.tools.buildTableMap(a), g = c.$.rowIndex, h = v(f, g, b), i = b.$.rowSpan, j;
      if (1 < i) {
        j = Math.ceil(i / 2);
        for (var i = Math.floor(i / 2), c = g + j, a = new CKEDITOR.dom.element(a.$.rows[c]), f = v(f, c), l, c = b.clone(), g = 0; g < f.length; g++)
          if (l = f[g], l.parentNode == a.$ && g > h) {
            c.insertBefore(new CKEDITOR.dom.element(l));
            break;
          } else
            l = null;
        l || a.append(c);
      } else {
        i = j = 1;
        a = c.clone();
        a.insertAfter(c);
        a.append(c = b.clone());
        l = v(f, g);
        for (h = 0; h < l.length; h++)
          l[h].rowSpan++;
      }
      c.appendBogus();
      b.$.rowSpan = j;
      c.$.rowSpan = i;
      1 == j && b.removeAttribute('rowSpan');
      1 == i && c.removeAttribute('rowSpan');
      return c;
    }
    function x(e, d) {
      var b = p(e);
      if (1 < b.length)
        return !1;
      if (d)
        return !0;
      var b = b[0], c = b.getParent(), a = c.getAscendant('table'), a = CKEDITOR.tools.buildTableMap(a), f = v(a, c.$.rowIndex, b), g = b.$.colSpan;
      if (1 < g)
        c = Math.ceil(g / 2), g = Math.floor(g / 2);
      else {
        for (var g = c = 1, h = [], i = 0; i < a.length; i++) {
          var j = a[i];
          h.push(j[f]);
          1 < j[f].rowSpan && (i += j[f].rowSpan - 1);
        }
        for (a = 0; a < h.length; a++)
          h[a].colSpan++;
      }
      a = b.clone();
      a.insertAfter(b);
      a.appendBogus();
      b.$.colSpan = c;
      a.$.colSpan = g;
      1 == c && b.removeAttribute('colSpan');
      1 == g && a.removeAttribute('colSpan');
      return a;
    }
    var y = /^(?:td|th)$/;
    CKEDITOR.plugins.tabletools = {
      requires: 'table,dialog,contextmenu',
      init: function (e) {
        function d(a) {
          return CKEDITOR.tools.extend(a || {}, {
            contextSensitive: 1,
            refresh: function (a, b) {
              this.setState(b.contains({
                td: 1,
                th: 1
              }, 1) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED);
            }
          });
        }
        function b(a, b) {
          var c = e.addCommand(a, b);
          e.addFeature(c);
        }
        var c = e.lang.table;
        b('cellProperties', new CKEDITOR.dialogCommand('cellProperties', d({
          allowedContent: 'td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]',
          requiredContent: 'table'
        })));
        CKEDITOR.dialog.add('cellProperties', this.path + 'dialogs/tableCell.js');
        b('rowDelete', d({
          requiredContent: 'table',
          exec: function (a) {
            a = a.getSelection();
            m(q(a));
          }
        }));
        b('rowInsertBefore', d({
          requiredContent: 'table',
          exec: function (a) {
            a = a.getSelection();
            o(a, !0);
          }
        }));
        b('rowInsertAfter', d({
          requiredContent: 'table',
          exec: function (a) {
            a = a.getSelection();
            o(a);
          }
        }));
        b('columnDelete', d({
          requiredContent: 'table',
          exec: function (a) {
            for (var a = a.getSelection(), a = p(a), b = a[0], c = a[a.length - 1], a = b.getAscendant('table'), d = CKEDITOR.tools.buildTableMap(a), e, j, l = [], n = 0, o = d.length; n < o; n++)
              for (var k = 0, q = d[n].length; k < q; k++)
                d[n][k] == b.$ && (e = k), d[n][k] == c.$ && (j = k);
            for (n = e; n <= j; n++)
              for (k = 0; k < d.length; k++)
                c = d[k], b = new CKEDITOR.dom.element(a.$.rows[k]), c = new CKEDITOR.dom.element(c[n]), c.$ && (1 == c.$.colSpan ? c.remove() : c.$.colSpan -= 1, k += c.$.rowSpan - 1, b.$.cells.length || l.push(b));
            j = a.$.rows[0] && a.$.rows[0].cells;
            e = new CKEDITOR.dom.element(j[e] || (e ? j[e - 1] : a.$.parentNode));
            l.length == o && a.remove();
            e && m(e, !0);
          }
        }));
        b('columnInsertBefore', d({
          requiredContent: 'table',
          exec: function (a) {
            a = a.getSelection();
            k(a, !0);
          }
        }));
        b('columnInsertAfter', d({
          requiredContent: 'table',
          exec: function (a) {
            a = a.getSelection();
            k(a);
          }
        }));
        b('cellDelete', d({
          requiredContent: 'table',
          exec: function (a) {
            a = a.getSelection();
            t(a);
          }
        }));
        b('cellMerge', d({
          allowedContent: 'td[colspan,rowspan]',
          requiredContent: 'td[colspan,rowspan]',
          exec: function (a) {
            m(s(a.getSelection()), !0);
          }
        }));
        b('cellMergeRight', d({
          allowedContent: 'td[colspan]',
          requiredContent: 'td[colspan]',
          exec: function (a) {
            m(s(a.getSelection(), 'right'), !0);
          }
        }));
        b('cellMergeDown', d({
          allowedContent: 'td[rowspan]',
          requiredContent: 'td[rowspan]',
          exec: function (a) {
            m(s(a.getSelection(), 'down'), !0);
          }
        }));
        b('cellVerticalSplit', d({
          allowedContent: 'td[rowspan]',
          requiredContent: 'td[rowspan]',
          exec: function (a) {
            m(w(a.getSelection()));
          }
        }));
        b('cellHorizontalSplit', d({
          allowedContent: 'td[colspan]',
          requiredContent: 'td[colspan]',
          exec: function (a) {
            m(x(a.getSelection()));
          }
        }));
        b('cellInsertBefore', d({
          requiredContent: 'table',
          exec: function (a) {
            a = a.getSelection();
            u(a, !0);
          }
        }));
        b('cellInsertAfter', d({
          requiredContent: 'table',
          exec: function (a) {
            a = a.getSelection();
            u(a);
          }
        }));
        e.addMenuItems && e.addMenuItems({
          tablecell: {
            label: c.cell.menu,
            group: 'tablecell',
            order: 1,
            getItems: function () {
              var a = e.getSelection(), b = p(a);
              return {
                tablecell_insertBefore: CKEDITOR.TRISTATE_OFF,
                tablecell_insertAfter: CKEDITOR.TRISTATE_OFF,
                tablecell_delete: CKEDITOR.TRISTATE_OFF,
                tablecell_merge: s(a, null, !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                tablecell_merge_right: s(a, 'right', !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                tablecell_merge_down: s(a, 'down', !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                tablecell_split_vertical: w(a, !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                tablecell_split_horizontal: x(a, !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                tablecell_properties: 0 < b.length ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED
              };
            }
          },
          tablecell_insertBefore: {
            label: c.cell.insertBefore,
            group: 'tablecell',
            command: 'cellInsertBefore',
            order: 5
          },
          tablecell_insertAfter: {
            label: c.cell.insertAfter,
            group: 'tablecell',
            command: 'cellInsertAfter',
            order: 10
          },
          tablecell_delete: {
            label: c.cell.deleteCell,
            group: 'tablecell',
            command: 'cellDelete',
            order: 15
          },
          tablecell_merge: {
            label: c.cell.merge,
            group: 'tablecell',
            command: 'cellMerge',
            order: 16
          },
          tablecell_merge_right: {
            label: c.cell.mergeRight,
            group: 'tablecell',
            command: 'cellMergeRight',
            order: 17
          },
          tablecell_merge_down: {
            label: c.cell.mergeDown,
            group: 'tablecell',
            command: 'cellMergeDown',
            order: 18
          },
          tablecell_split_horizontal: {
            label: c.cell.splitHorizontal,
            group: 'tablecell',
            command: 'cellHorizontalSplit',
            order: 19
          },
          tablecell_split_vertical: {
            label: c.cell.splitVertical,
            group: 'tablecell',
            command: 'cellVerticalSplit',
            order: 20
          },
          tablecell_properties: {
            label: c.cell.title,
            group: 'tablecellproperties',
            command: 'cellProperties',
            order: 21
          },
          tablerow: {
            label: c.row.menu,
            group: 'tablerow',
            order: 1,
            getItems: function () {
              return {
                tablerow_insertBefore: CKEDITOR.TRISTATE_OFF,
                tablerow_insertAfter: CKEDITOR.TRISTATE_OFF,
                tablerow_delete: CKEDITOR.TRISTATE_OFF
              };
            }
          },
          tablerow_insertBefore: {
            label: c.row.insertBefore,
            group: 'tablerow',
            command: 'rowInsertBefore',
            order: 5
          },
          tablerow_insertAfter: {
            label: c.row.insertAfter,
            group: 'tablerow',
            command: 'rowInsertAfter',
            order: 10
          },
          tablerow_delete: {
            label: c.row.deleteRow,
            group: 'tablerow',
            command: 'rowDelete',
            order: 15
          },
          tablecolumn: {
            label: c.column.menu,
            group: 'tablecolumn',
            order: 1,
            getItems: function () {
              return {
                tablecolumn_insertBefore: CKEDITOR.TRISTATE_OFF,
                tablecolumn_insertAfter: CKEDITOR.TRISTATE_OFF,
                tablecolumn_delete: CKEDITOR.TRISTATE_OFF
              };
            }
          },
          tablecolumn_insertBefore: {
            label: c.column.insertBefore,
            group: 'tablecolumn',
            command: 'columnInsertBefore',
            order: 5
          },
          tablecolumn_insertAfter: {
            label: c.column.insertAfter,
            group: 'tablecolumn',
            command: 'columnInsertAfter',
            order: 10
          },
          tablecolumn_delete: {
            label: c.column.deleteColumn,
            group: 'tablecolumn',
            command: 'columnDelete',
            order: 15
          }
        });
        e.contextMenu && e.contextMenu.addListener(function (a, b, c) {
          return (a = c.contains({
            td: 1,
            th: 1
          }, 1)) && !a.isReadOnly() ? {
            tablecell: CKEDITOR.TRISTATE_OFF,
            tablerow: CKEDITOR.TRISTATE_OFF,
            tablecolumn: CKEDITOR.TRISTATE_OFF
          } : null;
        });
      },
      getSelectedCells: p
    };
    CKEDITOR.plugins.add('tabletools', CKEDITOR.plugins.tabletools);
  }());
  CKEDITOR.tools.buildTableMap = function (p) {
    for (var p = p.$.rows, o = -1, q = [], r = 0; r < p.length; r++) {
      o++;
      !q[o] && (q[o] = []);
      for (var k = -1, u = 0; u < p[r].cells.length; u++) {
        var t = p[r].cells[u];
        for (k++; q[o][k];)
          k++;
        for (var m = isNaN(t.colSpan) ? 1 : t.colSpan, t = isNaN(t.rowSpan) ? 1 : t.rowSpan, v = 0; v < t; v++) {
          q[o + v] || (q[o + v] = []);
          for (var s = 0; s < m; s++)
            q[o + v][k + s] = p[r].cells[u];
        }
        k += m - 1;
      }
    }
    return q;
  };
  (function () {
    var g = [
        CKEDITOR.CTRL + 90,
        CKEDITOR.CTRL + 89,
        CKEDITOR.CTRL + CKEDITOR.SHIFT + 90
      ], l = {
        8: 1,
        46: 1
      };
    CKEDITOR.plugins.add('undo', {
      init: function (a) {
        function b(a) {
          d.enabled && !1 !== a.data.command.canUndo && d.save();
        }
        function c() {
          d.enabled = a.readOnly ? !1 : 'wysiwyg' == a.mode;
          d.onChange();
        }
        var d = a.undoManager = new e(a), j = d.editingHandler = new i(d), f = a.addCommand('undo', {
            exec: function () {
              d.undo() && (a.selectionChange(), this.fire('afterUndo'));
            },
            startDisabled: !0,
            canUndo: !1
          }), h = a.addCommand('redo', {
            exec: function () {
              d.redo() && (a.selectionChange(), this.fire('afterRedo'));
            },
            startDisabled: !0,
            canUndo: !1
          });
        a.setKeystroke([
          [
            g[0],
            'undo'
          ],
          [
            g[1],
            'redo'
          ],
          [
            g[2],
            'redo'
          ]
        ]);
        d.onChange = function () {
          f.setState(d.undoable() ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED);
          h.setState(d.redoable() ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED);
        };
        a.on('beforeCommandExec', b);
        a.on('afterCommandExec', b);
        a.on('saveSnapshot', function (a) {
          d.save(a.data && a.data.contentOnly);
        });
        a.on('contentDom', j.attachListeners, j);
        a.on('instanceReady', function () {
          a.fire('saveSnapshot');
        });
        a.on('beforeModeUnload', function () {
          'wysiwyg' == a.mode && d.save(!0);
        });
        a.on('mode', c);
        a.on('readOnly', c);
        a.ui.addButton && (a.ui.addButton('Undo', {
          label: a.lang.undo.undo,
          command: 'undo',
          toolbar: 'undo,10'
        }), a.ui.addButton('Redo', {
          label: a.lang.undo.redo,
          command: 'redo',
          toolbar: 'undo,20'
        }));
        a.resetUndo = function () {
          d.reset();
          a.fire('saveSnapshot');
        };
        a.on('updateSnapshot', function () {
          d.currentImage && d.update();
        });
        a.on('lockSnapshot', function (a) {
          a = a.data;
          d.lock(a && a.dontUpdate, a && a.forceUpdate);
        });
        a.on('unlockSnapshot', d.unlock, d);
      }
    });
    CKEDITOR.plugins.undo = {};
    var e = CKEDITOR.plugins.undo.UndoManager = function (a) {
        this.strokesRecorded = [
          0,
          0
        ];
        this.locked = null;
        this.previousKeyGroup = -1;
        this.limit = a.config.undoStackSize || 20;
        this.strokesLimit = 25;
        this.editor = a;
        this.reset();
      };
    e.prototype = {
      type: function (a, b) {
        var c = e.getKeyGroup(a), d = this.strokesRecorded[c] + 1, b = b || d >= this.strokesLimit;
        this.typing || (this.hasUndo = this.typing = !0, this.hasRedo = !1, this.onChange());
        b ? (d = 0, this.editor.fire('saveSnapshot')) : this.editor.fire('change');
        this.strokesRecorded[c] = d;
        this.previousKeyGroup = c;
      },
      keyGroupChanged: function (a) {
        return e.getKeyGroup(a) != this.previousKeyGroup;
      },
      reset: function () {
        this.snapshots = [];
        this.index = -1;
        this.currentImage = null;
        this.hasRedo = this.hasUndo = !1;
        this.locked = null;
        this.resetType();
      },
      resetType: function () {
        this.strokesRecorded = [
          0,
          0
        ];
        this.typing = !1;
        this.previousKeyGroup = -1;
      },
      refreshState: function () {
        this.hasUndo = !!this.getNextImage(!0);
        this.hasRedo = !!this.getNextImage(!1);
        this.resetType();
        this.onChange();
      },
      save: function (a, b, c) {
        var d = this.editor;
        if (this.locked || 'ready' != d.status || 'wysiwyg' != d.mode)
          return !1;
        var e = d.editable();
        if (!e || 'ready' != e.status)
          return !1;
        e = this.snapshots;
        b || (b = new f(d));
        if (!1 === b.contents)
          return !1;
        if (this.currentImage)
          if (b.equalsContent(this.currentImage)) {
            if (a || b.equalsSelection(this.currentImage))
              return !1;
          } else
            !1 !== c && d.fire('change');
        e.splice(this.index + 1, e.length - this.index - 1);
        e.length == this.limit && e.shift();
        this.index = e.push(b) - 1;
        this.currentImage = b;
        !1 !== c && this.refreshState();
        return !0;
      },
      restoreImage: function (a) {
        var b = this.editor, c;
        a.bookmarks && (b.focus(), c = b.getSelection());
        this.locked = { level: 999 };
        this.editor.loadSnapshot(a.contents);
        a.bookmarks ? c.selectBookmarks(a.bookmarks) : CKEDITOR.env.ie && (c = this.editor.document.getBody().$.createTextRange(), c.collapse(!0), c.select());
        this.locked = null;
        this.index = a.index;
        this.currentImage = this.snapshots[this.index];
        this.update();
        this.refreshState();
        b.fire('change');
      },
      getNextImage: function (a) {
        var b = this.snapshots, c = this.currentImage, d;
        if (c)
          if (a)
            for (d = this.index - 1; 0 <= d; d--) {
              if (a = b[d], !c.equalsContent(a))
                return a.index = d, a;
            }
          else
            for (d = this.index + 1; d < b.length; d++)
              if (a = b[d], !c.equalsContent(a))
                return a.index = d, a;
        return null;
      },
      redoable: function () {
        return this.enabled && this.hasRedo;
      },
      undoable: function () {
        return this.enabled && this.hasUndo;
      },
      undo: function () {
        if (this.undoable()) {
          this.save(!0);
          var a = this.getNextImage(!0);
          if (a)
            return this.restoreImage(a), !0;
        }
        return !1;
      },
      redo: function () {
        if (this.redoable() && (this.save(!0), this.redoable())) {
          var a = this.getNextImage(!1);
          if (a)
            return this.restoreImage(a), !0;
        }
        return !1;
      },
      update: function (a) {
        if (!this.locked) {
          a || (a = new f(this.editor));
          for (var b = this.index, c = this.snapshots; 0 < b && this.currentImage.equalsContent(c[b - 1]);)
            b -= 1;
          c.splice(b, this.index - b + 1, a);
          this.index = b;
          this.currentImage = a;
        }
      },
      updateSelection: function (a) {
        if (!this.snapshots.length)
          return !1;
        var b = this.snapshots, c = b[b.length - 1];
        return c.equalsContent(a) && !c.equalsSelection(a) ? (this.currentImage = b[b.length - 1] = a, !0) : !1;
      },
      lock: function (a, b) {
        if (this.locked)
          this.locked.level++;
        else if (a)
          this.locked = { level: 1 };
        else {
          var c = null;
          if (b)
            c = !0;
          else {
            var d = new f(this.editor, !0);
            this.currentImage && this.currentImage.equalsContent(d) && (c = d);
          }
          this.locked = {
            update: c,
            level: 1
          };
        }
      },
      unlock: function () {
        if (this.locked && !--this.locked.level) {
          var a = this.locked.update;
          this.locked = null;
          if (!0 === a)
            this.update();
          else if (a) {
            var b = new f(this.editor, !0);
            a.equalsContent(b) || this.update();
          }
        }
      }
    };
    e.navigationKeyCodes = {
      37: 1,
      38: 1,
      39: 1,
      40: 1,
      36: 1,
      35: 1,
      33: 1,
      34: 1
    };
    e.keyGroups = {
      PRINTABLE: 0,
      FUNCTIONAL: 1
    };
    e.isNavigationKey = function (a) {
      return !!e.navigationKeyCodes[a];
    };
    e.getKeyGroup = function (a) {
      var b = e.keyGroups;
      return l[a] ? b.FUNCTIONAL : b.PRINTABLE;
    };
    e.getOppositeKeyGroup = function (a) {
      var b = e.keyGroups;
      return a == b.FUNCTIONAL ? b.PRINTABLE : b.FUNCTIONAL;
    };
    e.ieFunctionalKeysBug = function (a) {
      return CKEDITOR.env.ie && e.getKeyGroup(a) == e.keyGroups.FUNCTIONAL;
    };
    var f = CKEDITOR.plugins.undo.Image = function (a, b) {
        this.editor = a;
        a.fire('beforeUndoImage');
        var c = a.getSnapshot();
        CKEDITOR.env.ie && c && (c = c.replace(/\s+data-cke-expando=".*?"/g, ''));
        this.contents = c;
        b || (this.bookmarks = (c = c && a.getSelection()) && c.createBookmarks2(!0));
        a.fire('afterUndoImage');
      }, h = /\b(?:href|src|name)="[^"]*?"/gi;
    f.prototype = {
      equalsContent: function (a) {
        var b = this.contents, a = a.contents;
        if (CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks))
          b = b.replace(h, ''), a = a.replace(h, '');
        return b != a ? !1 : !0;
      },
      equalsSelection: function (a) {
        var b = this.bookmarks, a = a.bookmarks;
        if (b || a) {
          if (!b || !a || b.length != a.length)
            return !1;
          for (var c = 0; c < b.length; c++) {
            var d = b[c], e = a[c];
            if (d.startOffset != e.startOffset || d.endOffset != e.endOffset || !CKEDITOR.tools.arrayCompare(d.start, e.start) || !CKEDITOR.tools.arrayCompare(d.end, e.end))
              return !1;
          }
        }
        return !0;
      }
    };
    var i = CKEDITOR.plugins.undo.NativeEditingHandler = function (a) {
        this.undoManager = a;
        this.ignoreInputEvent = !1;
        this.keyEventsStack = new k();
        this.lastKeydownImage = null;
      };
    i.prototype = {
      onKeydown: function (a) {
        if (-1 < CKEDITOR.tools.indexOf(g, a.data.getKeystroke()))
          a.data.preventDefault();
        else {
          this.keyEventsStack.cleanUp(a);
          var a = a.data.getKey(), b = this.undoManager;
          this.keyEventsStack.getLast(a) || this.keyEventsStack.push(a);
          this.lastKeydownImage = new f(b.editor);
          if (e.isNavigationKey(a) || this.undoManager.keyGroupChanged(a))
            if (b.strokesRecorded[0] || b.strokesRecorded[1])
              b.save(!1, this.lastKeydownImage, !1), b.resetType();
        }
      },
      onInput: function () {
        if (this.ignoreInputEvent)
          this.ignoreInputEvent = !1;
        else {
          var a = this.keyEventsStack.getLast();
          a || (a = this.keyEventsStack.push(0));
          this.keyEventsStack.increment(a.keyCode);
          this.keyEventsStack.getTotalInputs() >= this.undoManager.strokesLimit && (this.undoManager.type(a.keyCode, !0), this.keyEventsStack.resetInputs());
        }
      },
      onKeyup: function (a) {
        var b = this.undoManager, a = a.data.getKey(), c = this.keyEventsStack.getTotalInputs();
        this.keyEventsStack.remove(a);
        if (!e.ieFunctionalKeysBug(a) || !this.lastKeydownImage || !this.lastKeydownImage.equalsContent(new f(b.editor, !0)))
          if (0 < c)
            b.type(a);
          else if (e.isNavigationKey(a))
            this.onNavigationKey(!0);
      },
      onNavigationKey: function (a) {
        var b = this.undoManager;
        (a || !b.save(!0, null, !1)) && b.updateSelection(new f(b.editor));
        b.resetType();
      },
      ignoreInputEventListener: function () {
        this.ignoreInputEvent = !0;
      },
      attachListeners: function () {
        var a = this.undoManager.editor, b = a.editable(), c = this;
        b.attachListener(b, 'keydown', function (a) {
          c.onKeydown(a);
          if (e.ieFunctionalKeysBug(a.data.getKey()))
            c.onInput();
        }, null, null, 999);
        b.attachListener(b, CKEDITOR.env.ie ? 'keypress' : 'input', c.onInput, c, null, 999);
        b.attachListener(b, 'keyup', c.onKeyup, c, null, 999);
        b.attachListener(b, 'paste', c.ignoreInputEventListener, c, null, 999);
        b.attachListener(b, 'drop', c.ignoreInputEventListener, c, null, 999);
        b.attachListener(b.isInline() ? b : a.document.getDocumentElement(), 'click', function () {
          c.onNavigationKey();
        }, null, null, 999);
        b.attachListener(this.undoManager.editor, 'blur', function () {
          c.keyEventsStack.remove(9);
        }, null, null, 999);
      }
    };
    var k = CKEDITOR.plugins.undo.KeyEventsStack = function () {
        this.stack = [];
      };
    k.prototype = {
      push: function (a) {
        return this.stack[this.stack.push({
          keyCode: a,
          inputs: 0
        }) - 1];
      },
      getLastIndex: function (a) {
        if ('number' != typeof a)
          return this.stack.length - 1;
        for (var b = this.stack.length; b--;)
          if (this.stack[b].keyCode == a)
            return b;
        return -1;
      },
      getLast: function (a) {
        a = this.getLastIndex(a);
        return -1 != a ? this.stack[a] : null;
      },
      increment: function (a) {
        this.getLast(a).inputs++;
      },
      remove: function (a) {
        a = this.getLastIndex(a);
        -1 != a && this.stack.splice(a, 1);
      },
      resetInputs: function (a) {
        if ('number' == typeof a)
          this.getLast(a).inputs = 0;
        else
          for (a = this.stack.length; a--;)
            this.stack[a].inputs = 0;
      },
      getTotalInputs: function () {
        for (var a = this.stack.length, b = 0; a--;)
          b += this.stack[a].inputs;
        return b;
      },
      cleanUp: function (a) {
        a = a.data.$;
        !a.ctrlKey && !a.metaKey && this.remove(17);
        a.shiftKey || this.remove(16);
        a.altKey || this.remove(18);
      }
    };
  }());
  CKEDITOR.plugins.add('wsc', {
    requires: 'dialog',
    parseApi: function (a) {
      a.config.wsc_onFinish = 'function' === typeof a.config.wsc_onFinish ? a.config.wsc_onFinish : function () {
      };
      a.config.wsc_onClose = 'function' === typeof a.config.wsc_onClose ? a.config.wsc_onClose : function () {
      };
    },
    parseConfig: function (a) {
      a.config.wsc_customerId = a.config.wsc_customerId || CKEDITOR.config.wsc_customerId || '1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk';
      a.config.wsc_customDictionaryIds = a.config.wsc_customDictionaryIds || CKEDITOR.config.wsc_customDictionaryIds || '';
      a.config.wsc_userDictionaryName = a.config.wsc_userDictionaryName || CKEDITOR.config.wsc_userDictionaryName || '';
      a.config.wsc_customLoaderScript = a.config.wsc_customLoaderScript || CKEDITOR.config.wsc_customLoaderScript;
      CKEDITOR.config.wsc_cmd = a.config.wsc_cmd || CKEDITOR.config.wsc_cmd || 'spell';
      CKEDITOR.config.wsc_version = 'v4.3.0-26-g5bcf855';
      CKEDITOR.config.wsc_removeGlobalVariable = !0;
    },
    init: function (a) {
      var b = CKEDITOR.env;
      this.parseConfig(a);
      this.parseApi(a);
      a.addCommand('checkspell', new CKEDITOR.dialogCommand('checkspell')).modes = { wysiwyg: !CKEDITOR.env.opera && !CKEDITOR.env.air && document.domain == window.location.hostname && !(b.ie && (8 > b.version || b.quirks)) };
      'undefined' == typeof a.plugins.scayt && a.ui.addButton && a.ui.addButton('SpellChecker', {
        label: a.lang.wsc.toolbar,
        click: function (a) {
          var b = a.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? a.container.getText() : a.document.getBody().getText();
          (b = b.replace(/\s/g, '')) ? a.execCommand('checkspell') : alert('Nothing to check!');
        },
        toolbar: 'spellchecker,10'
      });
      CKEDITOR.dialog.add('checkspell', this.path + (CKEDITOR.env.ie && 7 >= CKEDITOR.env.version ? 'dialogs/wsc_ie.js' : window.postMessage ? 'dialogs/wsc.js' : 'dialogs/wsc_ie.js'));
    }
  });
  CKEDITOR.config.plugins = 'dialogui,dialog,about,a11yhelp,dialogadvtab,basicstyles,bidi,blockquote,clipboard,button,panelbutton,panel,floatpanel,colorbutton,colordialog,templates,menu,contextmenu,div,resize,toolbar,elementspath,enterkey,entities,popup,filebrowser,find,fakeobjects,flash,floatingspace,listblock,richcombo,font,forms,format,horizontalrule,htmlwriter,iframe,wysiwygarea,image,indent,indentblock,indentlist,smiley,justify,menubutton,language,link,list,liststyle,magicline,maximize,newpage,pagebreak,pastetext,pastefromword,preview,print,removeformat,save,selectall,showblocks,showborders,sourcearea,specialchar,scayt,stylescombo,tab,table,tabletools,undo,wsc';
  CKEDITOR.config.skin = 'moono';
  (function () {
    var setIcons = function (icons, strip) {
      var path = CKEDITOR.getUrl('plugins/' + strip);
      icons = icons.split(',');
      for (var i = 0; i < icons.length; i++)
        CKEDITOR.skin.icons[icons[i]] = {
          path: path,
          offset: -icons[++i],
          bgsize: icons[++i]
        };
    };
    if (CKEDITOR.env.hidpi)
      setIcons('about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,bgcolor,384,,textcolor,408,,templates-rtl,432,,templates,456,,creatediv,480,,find-rtl,504,,find,528,,replace,552,,flash,576,,button,600,,checkbox,624,,form,648,,hiddenfield,672,,imagebutton,696,,radio,720,,select-rtl,744,,select,768,,textarea-rtl,792,,textarea,816,,textfield-rtl,840,,textfield,864,,horizontalrule,888,,iframe,912,,image,936,,indent-rtl,960,,indent,984,,outdent-rtl,1008,,outdent,1032,,smiley,1056,,justifyblock,1080,,justifycenter,1104,,justifyleft,1128,,justifyright,1152,,language,1176,,anchor-rtl,1200,,anchor,1224,,link,1248,,unlink,1272,,bulletedlist-rtl,1296,,bulletedlist,1320,,numberedlist-rtl,1344,,numberedlist,1368,,maximize,1392,,newpage-rtl,1416,,newpage,1440,,pagebreak-rtl,1464,,pagebreak,1488,,pastetext-rtl,1512,,pastetext,1536,,pastefromword-rtl,1560,,pastefromword,1584,,preview-rtl,1608,,preview,1632,,print,1656,,removeformat,1680,,save,1704,,selectall,1728,,showblocks-rtl,1752,,showblocks,1776,,source-rtl,1800,,source,1824,,specialchar,1848,,scayt,1872,,table,1896,,redo-rtl,1920,,redo,1944,,undo-rtl,1968,,undo,1992,,spellchecker,2016,', 'icons_hidpi.png');
    else
      setIcons('about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,bgcolor,384,auto,textcolor,408,auto,templates-rtl,432,auto,templates,456,auto,creatediv,480,auto,find-rtl,504,auto,find,528,auto,replace,552,auto,flash,576,auto,button,600,auto,checkbox,624,auto,form,648,auto,hiddenfield,672,auto,imagebutton,696,auto,radio,720,auto,select-rtl,744,auto,select,768,auto,textarea-rtl,792,auto,textarea,816,auto,textfield-rtl,840,auto,textfield,864,auto,horizontalrule,888,auto,iframe,912,auto,image,936,auto,indent-rtl,960,auto,indent,984,auto,outdent-rtl,1008,auto,outdent,1032,auto,smiley,1056,auto,justifyblock,1080,auto,justifycenter,1104,auto,justifyleft,1128,auto,justifyright,1152,auto,language,1176,auto,anchor-rtl,1200,auto,anchor,1224,auto,link,1248,auto,unlink,1272,auto,bulletedlist-rtl,1296,auto,bulletedlist,1320,auto,numberedlist-rtl,1344,auto,numberedlist,1368,auto,maximize,1392,auto,newpage-rtl,1416,auto,newpage,1440,auto,pagebreak-rtl,1464,auto,pagebreak,1488,auto,pastetext-rtl,1512,auto,pastetext,1536,auto,pastefromword-rtl,1560,auto,pastefromword,1584,auto,preview-rtl,1608,auto,preview,1632,auto,print,1656,auto,removeformat,1680,auto,save,1704,auto,selectall,1728,auto,showblocks-rtl,1752,auto,showblocks,1776,auto,source-rtl,1800,auto,source,1824,auto,specialchar,1848,auto,scayt,1872,auto,table,1896,auto,redo-rtl,1920,auto,redo,1944,auto,undo-rtl,1968,auto,undo,1992,auto,spellchecker,2016,auto', 'icons.png');
  }());
  CKEDITOR.lang.languages = {
    'af': 1,
    'sq': 1,
    'ar': 1,
    'eu': 1,
    'bn': 1,
    'bs': 1,
    'bg': 1,
    'ca': 1,
    'zh-cn': 1,
    'zh': 1,
    'hr': 1,
    'cs': 1,
    'da': 1,
    'nl': 1,
    'en': 1,
    'en-au': 1,
    'en-ca': 1,
    'en-gb': 1,
    'eo': 1,
    'et': 1,
    'fo': 1,
    'fi': 1,
    'fr': 1,
    'fr-ca': 1,
    'gl': 1,
    'ka': 1,
    'de': 1,
    'el': 1,
    'gu': 1,
    'he': 1,
    'hi': 1,
    'hu': 1,
    'is': 1,
    'id': 1,
    'it': 1,
    'ja': 1,
    'km': 1,
    'ko': 1,
    'ku': 1,
    'lv': 1,
    'lt': 1,
    'mk': 1,
    'ms': 1,
    'mn': 1,
    'no': 1,
    'nb': 1,
    'fa': 1,
    'pl': 1,
    'pt-br': 1,
    'pt': 1,
    'ro': 1,
    'ru': 1,
    'sr': 1,
    'sr-latn': 1,
    'si': 1,
    'sk': 1,
    'sl': 1,
    'es': 1,
    'sv': 1,
    'tt': 1,
    'th': 1,
    'tr': 1,
    'ug': 1,
    'uk': 1,
    'vi': 1,
    'cy': 1
  };
}());
/*! ngCkeditor v0.2.1 by Vitalii Savchuk(esvit666@gmail.com) - https://github.com/esvit/ng-ckeditor - New BSD License */
!function (a, b) {
  return 'function' == typeof define && define.amd ? (define([
    'angular',
    'ckeditor'
  ], function (a) {
    return b(a);
  }), void 0) : b(a);
}(angular || null, function (a) {
  var b, c = a.module('ngCkeditor', []), d = !1;
  return c.run([
    '$q',
    '$timeout',
    function (c, e) {
      function f() {
        'loaded' == CKEDITOR.status ? (d = !0, b.resolve()) : f();
      }
      if (b = c.defer(), a.isUndefined(CKEDITOR))
        throw new Error('CKEDITOR not found');
      CKEDITOR.disableAutoInline = !0, CKEDITOR.on('loaded', f), e(f, 100);
    }
  ]), c.directive('ckeditor', [
    '$timeout',
    '$q',
    function (c, e) {
      'use strict';
      return {
        restrict: 'AC',
        require: [
          'ngModel',
          '^?form'
        ],
        scope: !1,
        link: function (f, g, h, i) {
          var j = i[0], k = i[1] || null, l = '<p></p>', m = 'textarea' == g[0].tagName.toLowerCase(), n = [], o = !1;
          m || g.attr('contenteditable', !0);
          var p = function () {
            var b = {
                toolbar: 'full',
                toolbar_full: [
                  {
                    name: 'basicstyles',
                    items: [
                      'Bold',
                      'Italic',
                      'Strike',
                      'Underline'
                    ]
                  },
                  {
                    name: 'paragraph',
                    items: [
                      'BulletedList',
                      'NumberedList',
                      'Blockquote'
                    ]
                  },
                  {
                    name: 'editing',
                    items: [
                      'JustifyLeft',
                      'JustifyCenter',
                      'JustifyRight',
                      'JustifyBlock'
                    ]
                  },
                  {
                    name: 'links',
                    items: [
                      'Link',
                      'Unlink',
                      'Anchor'
                    ]
                  },
                  {
                    name: 'tools',
                    items: [
                      'SpellChecker',
                      'Maximize'
                    ]
                  },
                  '/',
                  {
                    name: 'styles',
                    items: [
                      'Format',
                      'FontSize',
                      'TextColor',
                      'PasteText',
                      'PasteFromWord',
                      'RemoveFormat'
                    ]
                  },
                  {
                    name: 'insert',
                    items: [
                      'Image',
                      'Table',
                      'SpecialChar'
                    ]
                  },
                  {
                    name: 'forms',
                    items: [
                      'Outdent',
                      'Indent'
                    ]
                  },
                  {
                    name: 'clipboard',
                    items: [
                      'Undo',
                      'Redo'
                    ]
                  },
                  {
                    name: 'document',
                    items: [
                      'PageBreak',
                      'Source'
                    ]
                  }
                ],
                disableNativeSpellChecker: !1,
                uiColor: '#FAFAFA',
                height: '400px',
                width: '100%'
              };
            b = a.extend(b, f[h.ckeditor]);
            var d = m ? CKEDITOR.replace(g[0], b) : CKEDITOR.inline(g[0], b), i = e.defer();
            g.bind('$destroy', function () {
              d.destroy(!1);
            });
            var p = function (a) {
                var b = d.getData();
                '' == b && (b = null), c(function () {
                  (a !== !0 || b != j.$viewValue) && j.$setViewValue(b), a === !0 && k && k.$setPristine();
                }, 0);
              }, q = function (a) {
                if (n.length) {
                  var b = n.pop() || l;
                  o = !1, d.setData(b, function () {
                    p(a), o = !0;
                  });
                }
              };
            d.on('change', p), d.on('blur', p), d.on('instanceReady', function () {
              f.$broadcast('ckeditor.ready'), f.$apply(function () {
                q(!0);
              }), d.document.on('keyup', p);
            }), d.on('customConfigLoaded', function () {
              i.resolve();
            }), j.$render = function () {
              n.push(j.$viewValue), o && q();
            };
          };
          'loaded' == CKEDITOR.status && (d = !0), d ? p() : b.promise.then(p);
        }
      };
    }
  ]), c;
});
/*! 2.1.1 */
!function () {
  function a(a, b) {
    window.XMLHttpRequest.prototype[a] = b(window.XMLHttpRequest.prototype[a]);
  }
  function b(a, b, c, d, e, f, g) {
    function h(a, b, c, d, e, g) {
      for (var h = [], i = 0; i < a.length; i++)
        h.push(a.item(i));
      c && (e[b.ngModel] ? e[b.ngModel].value = h : e[b.ngModel] = h, c && c.$setViewValue(null != h && 0 == h.length ? '' : h)), d && f(function () {
        d(e, {
          $files: h,
          $event: g
        });
      });
    }
    c.ngMultiple && e(c.ngMultiple)(a) && (b.attr('multiple', 'true'), c.multiple = 'true');
    var i = c.ngAccept && e(c.ngAccept)(a);
    if (i && (b.attr('accept', i), c.accept = i), 'input' !== b[0].tagName.toLowerCase() || 'file' !== (b.attr('type') && b.attr('type').toLowerCase())) {
      var j = angular.element('<input type="file">');
      c.multiple && j.attr('multiple', c.multiple), c.accept && j.attr('accept', c.accept), j.css('width', '1px').css('height', '1px').css('opacity', 0).css('position', 'absolute').css('filter', 'alpha(opacity=0)').css('padding', 0).css('margin', 0).css('overflow', 'hidden').attr('tabindex', '-1').attr('ng-file-generated-elem', !0), b.append(j), b.__afu_fileClickDelegate__ = function () {
        j[0].click();
      }, b.bind('click', b.__afu_fileClickDelegate__), b.css('overflow', 'hidden');
      b = j;
    }
    var k = e(c.ngFileChange);
    if (0 != e(c.resetOnClick)(a))
      if (-1 !== navigator.appVersion.indexOf('MSIE 10')) {
        var l = function (c) {
          var d = b.clone();
          d.val(''), b.replaceWith(d), g(d)(a), j = d, b = d, b.bind('change', m), b.unbind('click'), b[0].click(), b.bind('click', l), c.preventDefault(), c.stopPropagation();
        };
        b.bind('click', l);
      } else
        b.bind('click', function () {
          b[0].value = null;
        });
    var m = function (b) {
      var e;
      e = b.__files_ || b.target.files, h(e, c, d, k, a, b);
    };
    b.bind('change', m), '' != c.ngFileSelect && (c.ngFileChange = c.ngFileSelect);
  }
  function c(a, b, c, g, h, i, j) {
    function k(a, b, c) {
      var d = !0;
      if (s) {
        var e = c.dataTransfer.items;
        if (null != e)
          for (var f = 0; f < e.length && d; f++)
            d = d && ('file' == e[f].kind || '' == e[f].kind) && (null != e[f].type.match(s) || null != e[f].name && null != e[f].name.match(s));
      }
      var g = h(b.dragOverClass)(a, { $event: c });
      return g && (g.delay && (q = g.delay), g.accept && (g = d ? g.accept : g.reject)), g || b.dragOverClass || 'dragover';
    }
    function l(a, b, c, d) {
      function f(a) {
        !s || a.type.match(s) || null != a.name && a.name.match(s) ? h.push(a) : k.push(a);
      }
      function g(a, b, c) {
        if (null != b)
          if (b.isDirectory) {
            var d = (c || '') + b.name;
            f({
              name: b.name,
              type: 'directory',
              path: d
            });
            var e = b.createReader(), h = [];
            m++;
            var i = function () {
              e.readEntries(function (d) {
                try {
                  if (d.length)
                    h = h.concat(Array.prototype.slice.call(d || [], 0)), i();
                  else {
                    for (var e = 0; e < h.length; e++)
                      g(a, h[e], (c ? c : '') + b.name + '/');
                    m--;
                  }
                } catch (f) {
                  m--, console.error(f);
                }
              }, function () {
                m--;
              });
            };
            i();
          } else
            m++, b.file(function (a) {
              try {
                m--, a.path = (c ? c : '') + a.name, f(a);
              } catch (b) {
                m--, console.error(b);
              }
            }, function () {
              m--;
            });
      }
      var h = [], k = [], l = a.dataTransfer.items, m = 0;
      if (l && l.length > 0 && 'file' != j.protocol())
        for (var n = 0; n < l.length; n++) {
          if (l[n].webkitGetAsEntry && l[n].webkitGetAsEntry() && l[n].webkitGetAsEntry().isDirectory) {
            var o = l[n].webkitGetAsEntry();
            if (o.isDirectory && !c)
              continue;
            null != o && (e(o.name) ? g(h, o) : l[n].webkitGetAsEntry().isDirectory || f(l[n].getAsFile()));
          } else {
            var p = l[n].getAsFile();
            null != p && f(p);
          }
          if (!d && h.length > 0)
            break;
        }
      else {
        var q = a.dataTransfer.files;
        if (null != q)
          for (var n = 0; n < q.length && (f(q.item(n)), d || !(h.length > 0)); n++);
      }
      var r = 0;
      !function t(a) {
        i(function () {
          if (m)
            10 * r++ < 20000 && t(10);
          else {
            if (!d && h.length > 1) {
              for (var a = 0; 'directory' == h[a].type;)
                a++;
              h = [h[a]];
            }
            b(h, k);
          }
        }, a || 0);
      }();
    }
    var m = d();
    if (c.dropAvailable && i(function () {
        a.dropAvailable ? a.dropAvailable.value = m : a.dropAvailable = m;
      }), !m)
      return 0 != h(c.hideOnDropNotAvailable)(a) && b.css('display', 'none'), void 0;
    var n, o = null, p = h(c.stopPropagation)(a), q = 1, r = h(c.ngAccept)(a) || c.accept, s = r ? new RegExp(f(r)) : null;
    b[0].addEventListener('dragover', function (d) {
      d.preventDefault(), p && d.stopPropagation(), i.cancel(o), a.actualDragOverClass || (n = k(a, c, d)), b.addClass(n);
    }, !1), b[0].addEventListener('dragenter', function (a) {
      a.preventDefault(), p && a.stopPropagation();
    }, !1), b[0].addEventListener('dragleave', function () {
      o = i(function () {
        b.removeClass(n), n = null;
      }, q || 1);
    }, !1), '' != c.ngFileDrop && (c.ngFileChange = a.ngFileDrop), b[0].addEventListener('drop', function (d) {
      d.preventDefault(), p && d.stopPropagation(), b.removeClass(n), n = null, l(d, function (b, e) {
        g && (a[c.ngModel] ? a[c.ngModel].value = b : a[c.ngModel] = b, g && g.$setViewValue(null != b && 0 == b.length ? '' : b)), c.ngFileRejectedModel && (a[c.ngFileRejectedModel] ? a[c.ngFileRejectedModel].value = e : a[c.ngFileRejectedModel] = e), i(function () {
          h(c.ngFileChange)(a, {
            $files: b,
            $rejectedFiles: e,
            $event: d
          });
        });
      }, 0 != h(c.allowDir)(a), c.multiple || h(c.ngMultiple)(a));
    }, !1);
  }
  function d() {
    var a = document.createElement('div');
    return 'draggable' in a && 'ondrop' in a;
  }
  function e(a) {
    return /^[\000-\177]*$/.test(a);
  }
  function f(a) {
    if (a.length > 2 && '/' === a[0] && '/' === a[a.length - 1])
      return a.substring(1, a.length - 1);
    var b = a.split(','), c = '';
    if (b.length > 1)
      for (var d = 0; d < b.length; d++)
        c += '(' + f(b[d]) + ')', d < b.length - 1 && (c += '|');
    else
      c = '^' + a.replace(new RegExp('[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]', 'g'), '\\$&') + '$', c = c.replace(/\\\*/g, '.*').replace(/\\\?/g, '.');
    return c;
  }
  window.XMLHttpRequest && !window.XMLHttpRequest.__isFileAPIShim && a('setRequestHeader', function (a) {
    return function (b, c) {
      if ('__setXHR_' === b) {
        var d = c(this);
        d instanceof Function && d(this);
      } else
        a.apply(this, arguments);
    };
  });
  var g = angular.module('angularFileUpload', []);
  g.version = '2.1.1', g.service('$upload', [
    '$http',
    '$q',
    '$timeout',
    function (a, b, c) {
      function d(d) {
        d.method = d.method || 'POST', d.headers = d.headers || {}, d.transformRequest = d.transformRequest || function (b, c) {
          return window.ArrayBuffer && b instanceof window.ArrayBuffer ? b : a.defaults.transformRequest[0](b, c);
        };
        var e = b.defer(), f = e.promise;
        return d.headers.__setXHR_ = function () {
          return function (a) {
            a && (d.__XHR = a, d.xhrFn && d.xhrFn(a), a.upload.addEventListener('progress', function (a) {
              a.config = d, e.notify ? e.notify(a) : f.progress_fn && c(function () {
                f.progress_fn(a);
              });
            }, !1), a.upload.addEventListener('load', function (a) {
              a.lengthComputable && (a.config = d, e.notify ? e.notify(a) : f.progress_fn && c(function () {
                f.progress_fn(a);
              }));
            }, !1));
          };
        }, a(d).then(function (a) {
          e.resolve(a);
        }, function (a) {
          e.reject(a);
        }, function (a) {
          e.notify(a);
        }), f.success = function (a) {
          return f.then(function (b) {
            a(b.data, b.status, b.headers, d);
          }), f;
        }, f.error = function (a) {
          return f.then(null, function (b) {
            a(b.data, b.status, b.headers, d);
          }), f;
        }, f.progress = function (a) {
          return f.progress_fn = a, f.then(null, null, function (b) {
            a(b);
          }), f;
        }, f.abort = function () {
          return d.__XHR && c(function () {
            d.__XHR.abort();
          }), f;
        }, f.xhr = function (a) {
          return d.xhrFn = function (b) {
            return function () {
              b && b.apply(f, arguments), a.apply(f, arguments);
            };
          }(d.xhrFn), f;
        }, f;
      }
      this.upload = function (b) {
        b.headers = b.headers || {}, b.headers['Content-Type'] = void 0, b.transformRequest = b.transformRequest || a.defaults.transformRequest;
        var c = new FormData(), e = b.transformRequest, f = b.data;
        return b.transformRequest = function (a, c) {
          if (f)
            if (b.formDataAppender)
              for (var d in f) {
                var g = f[d];
                b.formDataAppender(a, d, g);
              }
            else
              for (var d in f) {
                var g = f[d];
                if ('function' == typeof e)
                  g = e(g, c);
                else
                  for (var h = 0; h < e.length; h++) {
                    var i = e[h];
                    'function' == typeof i && (g = i(g, c));
                  }
                void 0 != g && a.append(d, g);
              }
          if (null != b.file) {
            var j = b.fileFormDataName || 'file';
            if ('[object Array]' === Object.prototype.toString.call(b.file))
              for (var k = '[object String]' === Object.prototype.toString.call(j), h = 0; h < b.file.length; h++)
                a.append(k ? j : j[h], b.file[h], b.fileName && b.fileName[h] || b.file[h].name);
            else
              a.append(j, b.file, b.fileName || b.file.name);
          }
          return a;
        }, b.data = c, d(b);
      }, this.http = function (a) {
        return d(a);
      };
    }
  ]), g.directive('ngFileSelect', [
    '$parse',
    '$timeout',
    '$compile',
    function (a, c, d) {
      return {
        restrict: 'AEC',
        require: '?ngModel',
        link: function (e, f, g, h) {
          b(e, f, g, h, a, c, d);
        }
      };
    }
  ]), g.directive('ngFileDrop', [
    '$parse',
    '$timeout',
    '$location',
    function (a, b, d) {
      return {
        restrict: 'AEC',
        require: '?ngModel',
        link: function (e, f, g, h) {
          c(e, f, g, h, a, b, d);
        }
      };
    }
  ]), g.directive('ngNoFileDrop', function () {
    return function (a, b) {
      d() && b.css('display', 'none');
    };
  }), g.directive('ngFileDropAvailable', [
    '$parse',
    '$timeout',
    function (a, b) {
      return function (c, e, f) {
        if (d()) {
          var g = a(f.ngFileDropAvailable);
          b(function () {
            g(c);
          });
        }
      };
    }
  ]);
}();
// create the module including ngRoute for all the routing needs
var agorasturiasApp = angular.module('agorasturiasApp', [
    'ui.router',
    'ui.bootstrap',
    'ngResource',
    'ngCkeditor',
    'ngSanitize',
    'pascalprecht.translate',
    'angularFileUpload',
    'ngCookies',
    'socialLinks'
  ]);
agorasturiasApp.constant('USER_ROLES', {
  'GUEST': 'guest',
  'USER': 'user',
  'ADMIN': 'admin'
});
agorasturiasApp.constant('ACCESS_GROUPS', {
  'ALL': 'all',
  'LOGGED': 'logged',
  'ADMIN': 'admin'
});
// configure the routes
agorasturiasApp.config([
  '$stateProvider',
  '$urlRouterProvider',
  '$translateProvider',
  'ACCESS_GROUPS',
  function ($stateProvider, $urlRouterProvider, $translateProvider, ACCESS_GROUPS) {
    $urlRouterProvider.otherwise('/home');
    $stateProvider.state('home', {
      url: '/home',
      templateUrl: 'public/views/home.html',
      access: ACCESS_GROUPS.ALL
    }).state('post', {
      url: '/post/:postId',
      templateUrl: 'public/views/post.html',
      access: ACCESS_GROUPS.ALL
    }).state('aegee-oviedo', {
      url: '/aegee-oviedo',
      templateUrl: 'public/views/aegee-oviedo.html',
      access: ACCESS_GROUPS.ALL
    }).state('aegee-europe', {
      url: '/aegee-europe',
      templateUrl: 'public/views/aegee-europe.html',
      access: ACCESS_GROUPS.ALL
    }).state('core-team', {
      url: '/core-team',
      templateUrl: 'public/views/core-team.html',
      access: ACCESS_GROUPS.ALL
    }).state('agora', {
      url: '/agora',
      templateUrl: 'public/views/agora.html',
      access: ACCESS_GROUPS.ALL
    }).state('info', {
      url: '/info',
      templateUrl: 'public/views/info.html',
      access: ACCESS_GROUPS.ALL
    }).state('event-timetable', {
      url: '/event-timetable',
      templateUrl: 'public/views/event-timetable.html',
      access: ACCESS_GROUPS.ALL
    }).state('pre-events', {
      url: '/pre-events',
      templateUrl: 'public/views/pre-events.html',
      access: ACCESS_GROUPS.ALL
    }).state('partners', {
      url: '/partners',
      templateUrl: 'public/views/partners.html',
      access: ACCESS_GROUPS.ALL
    }).state('contact', {
      url: '/contact',
      templateUrl: 'public/views/contact.html',
      access: ACCESS_GROUPS.ALL
    }).state('account', {
      url: '/account',
      templateUrl: 'public/views/account.html',
      access: ACCESS_GROUPS.LOGGED
    }).state('new-post', {
      url: '/new-post',
      templateUrl: 'public/views/new-post.html',
      access: ACCESS_GROUPS.ADMIN
    }).state('edit-post', {
      url: '/edit-post',
      templateUrl: 'public/views/edit-post.html',
      access: ACCESS_GROUPS.ADMIN
    }).state('file-uploader', {
      url: '/file-uploader',
      templateUrl: 'public/views/file-uploader.html',
      access: ACCESS_GROUPS.ADMIN
    });
    $translateProvider.useStaticFilesLoader({
      prefix: 'public/translations/',
      suffix: '.json'
    });
    $translateProvider.preferredLanguage('en');
    $translateProvider.useCookieStorage();
  }
]);
agorasturiasApp.run([
  '$state',
  '$rootScope',
  'LoginService',
  'ACCESS_GROUPS',
  'USER_ROLES',
  function ($state, $rootScope, Login, ACCESS_GROUPS, USER_ROLES) {
    $rootScope.$on('$stateChangeStart', function (e, toState, toParams, fromState, fromParams) {
      if (toState.access === ACCESS_GROUPS.LOGGED && Login.role === USER_ROLES.GUEST) {
        e.preventDefault();
        $state.go('home');
      }
      if (toState.access === ACCESS_GROUPS.ADMIN && Login.role !== USER_ROLES.ADMIN) {
        e.preventDefault();
        $state.go('home');
      }
      $rootScope.isHomePage = toState.url === '/home';
    });
  }
]);
agorasturiasApp.controller('CarouselCtrl', [
  '$scope',
  function ($scope) {
    $scope.interval = 5000;
    var slides = $scope.slides = [];
    $scope.addSlide = function () {
      var newWidth = 600 + slides.length;
      slides.push({
        title: [
          'AEGEE',
          'Asturias',
          'Gij\xf3n'
        ][slides.length % 3],
        image: [
          'carousel-aegee.png',
          'carousel-asturias.png',
          'carousel-gijon.png'
        ][slides.length % 3],
        text: [
          'European Students Forum',
          'The Natural Paradise',
          'The capital of the Green Coast'
        ][slides.length % 3]
      });
    };
    for (var i = 0; i < 3; ++i) {
      $scope.addSlide();
    }
  }
]);
agorasturiasApp.controller('PostsCtrl', [
  '$rootScope',
  '$scope',
  '$location',
  '$anchorScroll',
  'Data',
  '$translate',
  '$cookieStore',
  function ($rootScope, $scope, $location, $anchorScroll, Data, $translate, $cookieStore) {
    var currentPageInCookie = $cookieStore.get('currentPage');
    if (currentPageInCookie !== undefined) {
      $scope.currentPage = currentPageInCookie;
    } else {
      $scope.currentPage = 1;
    }
    $scope.itemsPerPage = 5;
    $scope.setPage = function (pageNumber) {
      $scope.currentPage = pageNumber;
      $cookieStore.put('currentPage', pageNumber);
    };
    $scope.pageChanged = function () {
      $scope.lastPageLoaded = angular.copy($scope.currentPage);
      Data.get('posts/' + $translate.use() + '/desc/' + $scope.currentPage + '/' + $scope.itemsPerPage).then(function (response) {
        if (response.status === 'success') {
          $scope.posts = response.posts;
          $scope.totalItems = response.total_posts;
          $scope.pagedPosts = $scope.posts;
        }
      });
      $cookieStore.put('currentPage', $scope.lastPageLoaded);
    }();
    $scope.gotoTop = function () {
      $location.hash('menu-wrapper');
      $anchorScroll();
    };
    $scope.editPost = function (post) {
      $rootScope.currentPost = angular.copy(post);
      $location.path('/edit-post');
    };
    $scope.openPost = function (post) {
      $cookieStore.put('post', post.id);
      $rootScope.currentPost = angular.copy(post);
      $location.path('/post/' + post.id);
    };
  }
]);
agorasturiasApp.controller('PostViewerCtrl', [
  '$rootScope',
  '$scope',
  '$location',
  '$anchorScroll',
  'Data',
  '$translate',
  '$cookieStore',
  '$stateParams',
  function ($rootScope, $scope, $location, $anchorScroll, Data, $translate, $cookieStore, $stateParams) {
    var paramPostId = $stateParams.postId, postInCookie = $cookieStore.get('post');
    if (postInCookie === undefined || postInCookie !== paramPostId) {
      $cookieStore.put('post', $rootScope.currentPost.id);
    }
    $rootScope.currentPost = getPostById(paramPostId);
    $scope.currentUrl = document.location.href;
    function getPostById(postId) {
      Data.get('posts/' + postId + '/' + $translate.use()).then(function (response) {
        if (response.status === 'success') {
          $rootScope.currentPost = {
            id: postId,
            title: response.title,
            text: response.text
          };
        }
      });
    }
    $scope.gotoTop = function () {
      $location.hash('menu-wrapper');
      $anchorScroll();
    };
  }
]);
agorasturiasApp.controller('NewPostCtrl', [
  '$location',
  '$scope',
  'Data',
  function ($location, $scope, Data) {
    $scope.editorOptions = {
      language: 'es',
      uiColor: '#ffffff'
    };
    $scope.doNewPost = function (newPost) {
      newPost.username = $scope.username;
      newPost.modifier_username = $scope.username;
      newPost.user_id = $scope.uid;
      newPost.modifier_id = $scope.uid;
      newPost.image = '';
      newPost.header_image = '';
      Data.post('posts', { post: JSON.stringify(newPost) }).then(function (response) {
        if (response.status === 'success') {
          alert(response.message);
          $location.path('/home');
        } else
          alert(response.message);
      });
    };
  }
]);
agorasturiasApp.controller('EditPostCtrl', [
  '$location',
  '$scope',
  'Data',
  function ($location, $scope, Data) {
    $scope.editorOptions = {
      language: 'es',
      uiColor: '#ffffff'
    };
    $scope.doEditPost = function (post) {
      post.modifier_username = $scope.username;
      post.modifier_id = $scope.uid;
      Data.put('posts/' + post.id, { post: JSON.stringify(post) }).then(function (response) {
        if (response.status === 'success') {
          alert('Post successfully updated');
          $location.path('/home');
        } else
          alert(response.message);
      });
    };
    $scope.doDeletePost = function (postId) {
      Data.delete('posts/' + postId).then(function (response) {
        if (response.status === 'success') {
          alert(response.message);
          $location.path('/home');
        } else
          alert(response.message);
      });
    };
  }
]);
agorasturiasApp.controller('FileUploaderCtrl', [
  '$scope',
  '$upload',
  'Data',
  'partitionService',
  function ($scope, $upload, Data, partitionService) {
    $scope.$watch('files', function (files) {
      if (files !== undefined && files !== null) {
        for (var i = 0; i < files.length; i++) {
          var file = files[i];
          $scope.upload = $upload.upload({
            url: '/agorasturias/api/v1/upload',
            method: 'POST',
            data: { myObj: $scope.myModelObj },
            file: file
          });
        }
        getFiles();
      }
    });
    function getFiles() {
      Data.get('/images/gallery').then(function (response) {
        $scope.rows = [];
        if (response.status === 'Success') {
          var json = response.files, files = [];
          for (var i = 0; i < response.total_files; ++i) {
            files.push(response.files[i]);
          }
          $scope.rows = partitionService.partition(files, 6);
        }
      });
    }
    getFiles();
  }
]);
agorasturiasApp.controller('BookCtrl', [
  '$scope',
  '$translate',
  function ($scope, $translate) {
    $scope.index = 0;
    $scope.images = [
      'public/img/agora/' + $translate.use() + '/agora-for-dummies-page-1.jpg',
      'public/img/agora/' + $translate.use() + '/agora-for-dummies-page-2.jpg',
      'public/img/agora/' + $translate.use() + '/agora-for-dummies-page-3.jpg',
      'public/img/agora/' + $translate.use() + '/agora-for-dummies-page-4.jpg',
      'public/img/agora/' + $translate.use() + '/agora-for-dummies-page-5.jpg',
      'public/img/agora/' + $translate.use() + '/agora-for-dummies-page-6.jpg',
      'public/img/agora/' + $translate.use() + '/agora-for-dummies-page-7.jpg',
      'public/img/agora/' + $translate.use() + '/agora-for-dummies-page-8.jpg',
      'public/img/agora/' + $translate.use() + '/agora-for-dummies-page-9.jpg',
      'public/img/agora/' + $translate.use() + '/agora-for-dummies-page-10.jpg',
      'public/img/agora/' + $translate.use() + '/agora-for-dummies-page-11.jpg'
    ];
    $scope.filelocation = '../files/' + $translate.use() + '/Agora-for-dummies.pdf';
  }
]).directive('wallopSlider', function () {
  return {
    template: '<div class="wallop-slider {{animationClass}}"><ul class="wallop-slider__list"><li class="wallop-slider__item {{itemClasses[$index]}}" ng-repeat="i in images"><img ng-src="{{i}}"></li></ul><button ng-show="images.length>1" class="st-button wallop-slider__btn wallop-slider__btn--previous btn btn-success btn--previous" ng-disabled="prevDisabled" ng-click="onPrevButtonClicked()">Previous</button><button ng-show="images.length>1" class="st-button wallop-slider__btn wallop-slider__btn--next btn btn-success btn--next" ng-disabled="nextDisabled" ng-click="onNextButtonClicked()">Next</button></div>',
    restrict: 'EA',
    transclude: true,
    replace: false,
    scope: {
      images: '=',
      animation: '@',
      currentItemIndex: '=',
      onNext: '&',
      onPrevious: '&'
    },
    controller: function ($scope, $timeout) {
      $scope.itemClasses = [];
      $scope.$watch('images', function (images) {
        if (images.length) {
          _goTo(0);
        }
      });
      // set animation class corresponding to animation defined in CSS. e.g. rotate, slide
      if ($scope.animation) {
        $scope.animationClass = 'wallop-slider--' + $scope.animation;
      }
      var _displayOptions = {
          btnPreviousClass: 'wallop-slider__btn--previous',
          btnNextClass: 'wallop-slider__btn--next',
          itemClass: 'wallop-slider__item',
          currentItemClass: 'wallop-slider__item--current',
          showPreviousClass: 'wallop-slider__item--show-previous',
          showNextClass: 'wallop-slider__item--show-next',
          hidePreviousClass: 'wallop-slider__item--hide-previous',
          hideNextClass: 'wallop-slider__item--hide-next'
        };
      function updateClasses() {
        if ($scope.itemClasses.length !== $scope.images.length) {
          $scope.itemClasses = [];
          for (var i = 0; i < $scope.images.length; i++) {
            $scope.itemClasses.push('');
          }
        }
      }
      function _nextDisabled() {
        return $scope.currentItemIndex + 1 === $scope.images.length;
      }
      function _prevDisabled() {
        return !$scope.currentItemIndex;
      }
      function _updatePagination() {
        $scope.nextDisabled = _nextDisabled();
        $scope.prevDisabled = _prevDisabled();
      }
      function _clearClasses() {
        for (var i = 0; i < $scope.images.length; i++) {
          $scope.itemClasses[i] = '';
        }
      }
      // go to slide
      function _goTo(index) {
        if (index >= $scope.images.length || index < 0 || index === $scope.currentItemIndex) {
          if (!index) {
            $scope.itemClasses[0] = _displayOptions.currentItemClass;
          }
          return;
        }
        _clearClasses();
        $scope.itemClasses[$scope.currentItemIndex] = index > $scope.currentItemIndex ? _displayOptions.hidePreviousClass : _displayOptions.hideNextClass;
        var currentClass = index > $scope.currentItemIndex ? _displayOptions.showNextClass : _displayOptions.showPreviousClass;
        $scope.itemClasses[index] = _displayOptions.currentItemClass + ' ' + currentClass;
        $scope.currentItemIndex = index;
        _updatePagination();
      }
      // button event handlers
      $scope.onPrevButtonClicked = function () {
        _goTo($scope.currentItemIndex - 1);
      };
      $scope.onNextButtonClicked = function () {
        _goTo($scope.currentItemIndex + 1);
      };
      $scope.$watch('currentItemIndex', function (newVal, oldVal) {
        if (oldVal > newVal) {
          if (typeof $scope.onPrevious === 'function') {
            $scope.onPrevious();
          }
        } else {
          if (typeof $scope.onNext === 'function') {
            $scope.onNext();
          }
        }
      });
    }
  };
});
agorasturiasApp.controller('FormCtrl', [
  '$scope',
  function ($scope) {
    $scope.submitForm = function (isValid) {
      $scope.submitted = true;
      if (isValid) {
      }
    };
  }
]);
agorasturiasApp.controller('ThumbnailsCtrl', [
  '$scope',
  'partitionService',
  function ($scope, partitionService) {
    var members = $scope.members = [];
    $scope.fillMembers = function () {
      members.push({
        name: 'Alberto',
        position: 'MAIN_ORGANIZER',
        image: 'public/img/team/alberto.png',
        hover: 'http://goo.gl/y2tsTX'
      });
      members.push({
        name: 'Juanola',
        position: 'INCOMING',
        image: 'public/img/team/juanola.png',
        hover: ''
      });
      members.push({
        name: 'Laura',
        position: 'TREASURER',
        image: 'public/img/team/laura.png',
        hover: ''
      });
      members.push({
        name: 'Dami',
        position: 'IT',
        image: 'public/img/team/dami.png',
        hover: ''
      });
      members.push({
        name: 'Gerar',
        position: 'PR',
        image: 'public/img/team/gerar.png',
        hover: ''
      });
      members.push({
        name: 'Elena',
        position: 'PR',
        image: 'public/img/team/elena.png',
        hover: ''
      });
      members.push({
        name: 'Sora',
        position: 'FR',
        image: 'public/img/team/sora.png',
        hover: ''
      });
      members.push({
        name: 'V\xedctor',
        position: 'FR',
        image: 'public/img/team/victor.png',
        hover: ''
      });
      members.push({
        name: 'Alba',
        position: 'MEALS',
        image: 'public/img/team/alba.png',
        hover: ''
      });
      members.push({
        name: 'Santi',
        position: 'SOCIAL_PROGRAMME',
        image: 'public/img/team/santi.png',
        hover: ''
      });
      members.push({
        name: 'Alberto',
        position: 'HR',
        image: 'public/img/team/albertoHR.png',
        hover: ''
      });
      members.push({
        name: 'Olga',
        position: 'HR',
        image: 'public/img/team/olga.png',
        hover: ''
      });
      members.push({
        name: 'Marcos',
        position: 'ANNIVERSARY_RESPONSIBLE',
        image: 'public/img/team/marcos.png',
        hover: ''
      });
      members.push({
        name: 'Jorge',
        position: 'LOGISTICS',
        image: 'public/img/team/jorge.png',
        hover: ''
      });
    };
    if ($scope.members.length === 0) {
      $scope.fillMembers();
    }
    $scope.rows = partitionService.partition(members, 4);
  }
]);
agorasturiasApp.controller('MainCtrl', [
  '$scope',
  '$rootScope',
  '$translate',
  '$cookieStore',
  '$location',
  '$http',
  'Data',
  'LoginService',
  'USER_ROLES',
  function ($scope, $rootScope, $translate, $cookieStore, $location, $http, Data, Login, USER_ROLES) {
    var langInCookie = $cookieStore.get('lang');
    if (langInCookie !== undefined) {
      $translate.use(langInCookie);
    }
    $scope.changeLanguage = function () {
      if ($translate.use() === 'en') {
        $translate.use('es');
      } else {
        $translate.use('en');
      }
      $cookieStore.put('lang', $translate.use());
    };
    //initially set those objects to null to avoid undefined error
    $rootScope.login = {};
    $rootScope.currentPost = null;
    $scope.login = function (user) {
      Data.post('login', {
        username: user.username,
        password: user.password
      }).then(function (response) {
        if (response.status === 'success') {
          $scope.authenticated = true;
          $scope.username = response.username;
          Login.authenticated = true;
          Login.username = response.username;
          Login.email = response.email;
          Login.name = response.name;
          Login.role = response.role;
          $location.path('/home');
        } else {
          alert(response.message);
          $scope.authenticated = false;
          Login.username = '';
          Login.email = '';
          Login.name = '';
          Login.role = USER_ROLES.GUEST;
        }
      });
    };
    $scope.logout = function () {
      $scope.authenticated = false;
      Login.username = '';
      Login.email = '';
      Login.name = '';
      Login.role = USER_ROLES.GUEST;
      $location.path('/home');
    };
  }
]);
agorasturiasApp.factory('LoginService', [
  'USER_ROLES',
  function (USER_ROLES) {
    var user = {
        username: '',
        role: USER_ROLES.GUEST,
        email: '',
        name: ''
      };
    return user;
  }
]);
agorasturiasApp.factory('Data', [
  '$http',
  function ($http) {
    // This service connects to our REST API
    var serviceBase = 'api/v1/';
    var obj = {};
    obj.get = function (q, object) {
      return $http.get(serviceBase + q, object).then(function (results) {
        return results.data;
      });
    };
    obj.post = function (q, object) {
      return $http.post(serviceBase + q, object).then(function (results) {
        return results.data;
      });
    };
    obj.put = function (q, object) {
      return $http.put(serviceBase + q, object).then(function (results) {
        return results.data;
      });
    };
    obj.delete = function (q) {
      return $http.delete(serviceBase + q).then(function (results) {
        return results.data;
      });
    };
    return obj;
  }
]);
agorasturiasApp.controller('NavigationCtrl', [
  '$scope',
  '$location',
  '$state',
  '$stateParams',
  function ($scope, $location, $state, $stateParams) {
    $scope.reloadContent = function () {
      var destinationPath = '/home';
      if ($location.path() === destinationPath) {
        $state.transitionTo($state.current, $stateParams, {
          reload: true,
          inherit: true,
          notify: true
        });
      } else {
        $location.path(destinationPath);
      }
    };
  }
]);
agorasturiasApp.service('partitionService', function () {
  this.partition = function (dataArray, chunkSize) {
    var result = [];
    for (var i = 0; i < dataArray.length; i += chunkSize) {
      result.push(dataArray.slice(i, i + chunkSize));
    }
    return result;
  };
});
agorasturiasApp.filter('htmlSafe', [
  '$sce',
  function ($sce) {
    return $sce.trustAsHtml;
  }
]);
agorasturiasApp.controller('PartnersCtrl', [
  '$scope',
  'partitionService',
  function ($scope, partitionService) {
    var partners = $scope.partners = [];
    $scope.fillPartners = function () {
      partners.push({
        logo: 'public/img/partners/uniovi.png',
        link: 'http://www.uniovi.es/'
      });
      partners.push({
        logo: 'public/img/partners/ayto-gijon.png',
        link: 'http://www.gijon.es/'
      });
      partners.push({
        logo: 'public/img/partners/epi.png',
        link: 'http://www.epigijon.uniovi.es/'
      });
      partners.push({
        logo: 'public/img/partners/laboral.png',
        link: 'http://www.laboralciudaddelacultura.com/'
      });
      partners.push({
        logo: 'public/img/partners/oficongresos.png',
        link: 'http://congresos.gijon.es/'
      });
      partners.push({
        logo: 'public/img/partners/conseyu.png',
        link: 'http://www.cmpa.es/'
      });
      partners.push({
        logo: 'public/img/partners/alsa.png',
        link: 'http://www.alsa.es/'
      });
      partners.push({
        logo: 'public/img/partners/renfe.png',
        link: 'http://www.renfe.es/'
      });
    };
    if ($scope.partners.length === 0) {
      $scope.fillPartners();
    }
    $scope.rows = partitionService.partition(partners, 4);
  }
]);
jQuery(document).ready(function ($) {
  // browser window scroll (in pixels) after which the "back to top" link is shown
  var offset = 300,
    //duration of the top scrolling animation (in ms)
    scroll_top_duration = 700,
    //grab the "back to top" link
    $back_to_top = $('.to-top-button');
  //hide or show the "back to top" link
  $(window).scroll(function () {
    if ($(this).scrollTop() > offset) {
      $back_to_top.addClass('visible');
    } else {
      $back_to_top.removeClass('visible');
    }
  });
  //smooth scroll to top
  $back_to_top.on('click', function (event) {
    event.preventDefault();
    $('body,html').animate({ scrollTop: 0 }, scroll_top_duration);
  });
  $(document).click(function (event) {
    var _clickover = $(event.target), _opened = $('.navbar-collapse').hasClass('navbar-collapse collapse in');
    if (_opened === true && _clickover.hasClass('navbar-toggle') === false) {
      $('button.navbar-toggle').click();
    }
  });
});
/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.12.0 - 2014-11-16
 * License: MIT
 */
angular.module('ui.bootstrap', [
  'ui.bootstrap.tpls',
  'ui.bootstrap.transition',
  'ui.bootstrap.collapse',
  'ui.bootstrap.accordion',
  'ui.bootstrap.alert',
  'ui.bootstrap.bindHtml',
  'ui.bootstrap.buttons',
  'ui.bootstrap.carousel',
  'ui.bootstrap.dateparser',
  'ui.bootstrap.position',
  'ui.bootstrap.datepicker',
  'ui.bootstrap.dropdown',
  'ui.bootstrap.modal',
  'ui.bootstrap.pagination',
  'ui.bootstrap.tooltip',
  'ui.bootstrap.popover',
  'ui.bootstrap.progressbar',
  'ui.bootstrap.rating',
  'ui.bootstrap.tabs',
  'ui.bootstrap.timepicker',
  'ui.bootstrap.typeahead'
]), angular.module('ui.bootstrap.tpls', [
  'template/accordion/accordion-group.html',
  'template/accordion/accordion.html',
  'template/alert/alert.html',
  'template/carousel/carousel.html',
  'template/carousel/slide.html',
  'template/datepicker/datepicker.html',
  'template/datepicker/day.html',
  'template/datepicker/month.html',
  'template/datepicker/popup.html',
  'template/datepicker/year.html',
  'template/modal/backdrop.html',
  'template/modal/window.html',
  'template/pagination/pager.html',
  'template/pagination/pagination.html',
  'template/tooltip/tooltip-html-unsafe-popup.html',
  'template/tooltip/tooltip-popup.html',
  'template/popover/popover.html',
  'template/progressbar/bar.html',
  'template/progressbar/progress.html',
  'template/progressbar/progressbar.html',
  'template/rating/rating.html',
  'template/tabs/tab.html',
  'template/tabs/tabset.html',
  'template/timepicker/timepicker.html',
  'template/typeahead/typeahead-match.html',
  'template/typeahead/typeahead-popup.html'
]), angular.module('ui.bootstrap.transition', []).factory('$transition', [
  '$q',
  '$timeout',
  '$rootScope',
  function (a, b, c) {
    function d(a) {
      for (var b in a)
        if (void 0 !== f.style[b])
          return a[b];
    }
    var e = function (d, f, g) {
        g = g || {};
        var h = a.defer(), i = e[g.animation ? 'animationEndEventName' : 'transitionEndEventName'], j = function () {
            c.$apply(function () {
              d.unbind(i, j), h.resolve(d);
            });
          };
        return i && d.bind(i, j), b(function () {
          angular.isString(f) ? d.addClass(f) : angular.isFunction(f) ? f(d) : angular.isObject(f) && d.css(f), i || h.resolve(d);
        }), h.promise.cancel = function () {
          i && d.unbind(i, j), h.reject('Transition cancelled');
        }, h.promise;
      }, f = document.createElement('trans'), g = {
        WebkitTransition: 'webkitTransitionEnd',
        MozTransition: 'transitionend',
        OTransition: 'oTransitionEnd',
        transition: 'transitionend'
      }, h = {
        WebkitTransition: 'webkitAnimationEnd',
        MozTransition: 'animationend',
        OTransition: 'oAnimationEnd',
        transition: 'animationend'
      };
    return e.transitionEndEventName = d(g), e.animationEndEventName = d(h), e;
  }
]), angular.module('ui.bootstrap.collapse', ['ui.bootstrap.transition']).directive('collapse', [
  '$transition',
  function (a) {
    return {
      link: function (b, c, d) {
        function e(b) {
          function d() {
            j === e && (j = void 0);
          }
          var e = a(c, b);
          return j && j.cancel(), j = e, e.then(d, d), e;
        }
        function f() {
          k ? (k = !1, g()) : (c.removeClass('collapse').addClass('collapsing'), e({ height: c[0].scrollHeight + 'px' }).then(g));
        }
        function g() {
          c.removeClass('collapsing'), c.addClass('collapse in'), c.css({ height: 'auto' });
        }
        function h() {
          if (k)
            k = !1, i(), c.css({ height: 0 });
          else {
            c.css({ height: c[0].scrollHeight + 'px' });
            {
              c[0].offsetWidth;
            }
            c.removeClass('collapse in').addClass('collapsing'), e({ height: 0 }).then(i);
          }
        }
        function i() {
          c.removeClass('collapsing'), c.addClass('collapse');
        }
        var j, k = !0;
        b.$watch(d.collapse, function (a) {
          a ? h() : f();
        });
      }
    };
  }
]), angular.module('ui.bootstrap.accordion', ['ui.bootstrap.collapse']).constant('accordionConfig', { closeOthers: !0 }).controller('AccordionController', [
  '$scope',
  '$attrs',
  'accordionConfig',
  function (a, b, c) {
    this.groups = [], this.closeOthers = function (d) {
      var e = angular.isDefined(b.closeOthers) ? a.$eval(b.closeOthers) : c.closeOthers;
      e && angular.forEach(this.groups, function (a) {
        a !== d && (a.isOpen = !1);
      });
    }, this.addGroup = function (a) {
      var b = this;
      this.groups.push(a), a.$on('$destroy', function () {
        b.removeGroup(a);
      });
    }, this.removeGroup = function (a) {
      var b = this.groups.indexOf(a);
      -1 !== b && this.groups.splice(b, 1);
    };
  }
]).directive('accordion', function () {
  return {
    restrict: 'EA',
    controller: 'AccordionController',
    transclude: !0,
    replace: !1,
    templateUrl: 'template/accordion/accordion.html'
  };
}).directive('accordionGroup', function () {
  return {
    require: '^accordion',
    restrict: 'EA',
    transclude: !0,
    replace: !0,
    templateUrl: 'template/accordion/accordion-group.html',
    scope: {
      heading: '@',
      isOpen: '=?',
      isDisabled: '=?'
    },
    controller: function () {
      this.setHeading = function (a) {
        this.heading = a;
      };
    },
    link: function (a, b, c, d) {
      d.addGroup(a), a.$watch('isOpen', function (b) {
        b && d.closeOthers(a);
      }), a.toggleOpen = function () {
        a.isDisabled || (a.isOpen = !a.isOpen);
      };
    }
  };
}).directive('accordionHeading', function () {
  return {
    restrict: 'EA',
    transclude: !0,
    template: '',
    replace: !0,
    require: '^accordionGroup',
    link: function (a, b, c, d, e) {
      d.setHeading(e(a, function () {
      }));
    }
  };
}).directive('accordionTransclude', function () {
  return {
    require: '^accordionGroup',
    link: function (a, b, c, d) {
      a.$watch(function () {
        return d[c.accordionTransclude];
      }, function (a) {
        a && (b.html(''), b.append(a));
      });
    }
  };
}), angular.module('ui.bootstrap.alert', []).controller('AlertController', [
  '$scope',
  '$attrs',
  function (a, b) {
    a.closeable = 'close' in b, this.close = a.close;
  }
]).directive('alert', function () {
  return {
    restrict: 'EA',
    controller: 'AlertController',
    templateUrl: 'template/alert/alert.html',
    transclude: !0,
    replace: !0,
    scope: {
      type: '@',
      close: '&'
    }
  };
}).directive('dismissOnTimeout', [
  '$timeout',
  function (a) {
    return {
      require: 'alert',
      link: function (b, c, d, e) {
        a(function () {
          e.close();
        }, parseInt(d.dismissOnTimeout, 10));
      }
    };
  }
]), angular.module('ui.bootstrap.bindHtml', []).directive('bindHtmlUnsafe', function () {
  return function (a, b, c) {
    b.addClass('ng-binding').data('$binding', c.bindHtmlUnsafe), a.$watch(c.bindHtmlUnsafe, function (a) {
      b.html(a || '');
    });
  };
}), angular.module('ui.bootstrap.buttons', []).constant('buttonConfig', {
  activeClass: 'active',
  toggleEvent: 'click'
}).controller('ButtonsController', [
  'buttonConfig',
  function (a) {
    this.activeClass = a.activeClass || 'active', this.toggleEvent = a.toggleEvent || 'click';
  }
]).directive('btnRadio', function () {
  return {
    require: [
      'btnRadio',
      'ngModel'
    ],
    controller: 'ButtonsController',
    link: function (a, b, c, d) {
      var e = d[0], f = d[1];
      f.$render = function () {
        b.toggleClass(e.activeClass, angular.equals(f.$modelValue, a.$eval(c.btnRadio)));
      }, b.bind(e.toggleEvent, function () {
        var d = b.hasClass(e.activeClass);
        (!d || angular.isDefined(c.uncheckable)) && a.$apply(function () {
          f.$setViewValue(d ? null : a.$eval(c.btnRadio)), f.$render();
        });
      });
    }
  };
}).directive('btnCheckbox', function () {
  return {
    require: [
      'btnCheckbox',
      'ngModel'
    ],
    controller: 'ButtonsController',
    link: function (a, b, c, d) {
      function e() {
        return g(c.btnCheckboxTrue, !0);
      }
      function f() {
        return g(c.btnCheckboxFalse, !1);
      }
      function g(b, c) {
        var d = a.$eval(b);
        return angular.isDefined(d) ? d : c;
      }
      var h = d[0], i = d[1];
      i.$render = function () {
        b.toggleClass(h.activeClass, angular.equals(i.$modelValue, e()));
      }, b.bind(h.toggleEvent, function () {
        a.$apply(function () {
          i.$setViewValue(b.hasClass(h.activeClass) ? f() : e()), i.$render();
        });
      });
    }
  };
}), angular.module('ui.bootstrap.carousel', ['ui.bootstrap.transition']).controller('CarouselController', [
  '$scope',
  '$timeout',
  '$interval',
  '$transition',
  function (a, b, c, d) {
    function e() {
      f();
      var b = +a.interval;
      !isNaN(b) && b > 0 && (h = c(g, b));
    }
    function f() {
      h && (c.cancel(h), h = null);
    }
    function g() {
      var b = +a.interval;
      i && !isNaN(b) && b > 0 ? a.next() : a.pause();
    }
    var h, i, j = this, k = j.slides = a.slides = [], l = -1;
    j.currentSlide = null;
    var m = !1;
    j.select = a.select = function (c, f) {
      function g() {
        if (!m) {
          if (j.currentSlide && angular.isString(f) && !a.noTransition && c.$element) {
            c.$element.addClass(f);
            {
              c.$element[0].offsetWidth;
            }
            angular.forEach(k, function (a) {
              angular.extend(a, {
                direction: '',
                entering: !1,
                leaving: !1,
                active: !1
              });
            }), angular.extend(c, {
              direction: f,
              active: !0,
              entering: !0
            }), angular.extend(j.currentSlide || {}, {
              direction: f,
              leaving: !0
            }), a.$currentTransition = d(c.$element, {}), function (b, c) {
              a.$currentTransition.then(function () {
                h(b, c);
              }, function () {
                h(b, c);
              });
            }(c, j.currentSlide);
          } else
            h(c, j.currentSlide);
          j.currentSlide = c, l = i, e();
        }
      }
      function h(b, c) {
        angular.extend(b, {
          direction: '',
          active: !0,
          leaving: !1,
          entering: !1
        }), angular.extend(c || {}, {
          direction: '',
          active: !1,
          leaving: !1,
          entering: !1
        }), a.$currentTransition = null;
      }
      var i = k.indexOf(c);
      void 0 === f && (f = i > l ? 'next' : 'prev'), c && c !== j.currentSlide && (a.$currentTransition ? (a.$currentTransition.cancel(), b(g)) : g());
    }, a.$on('$destroy', function () {
      m = !0;
    }), j.indexOfSlide = function (a) {
      return k.indexOf(a);
    }, a.next = function () {
      var b = (l + 1) % k.length;
      return a.$currentTransition ? void 0 : j.select(k[b], 'next');
    }, a.prev = function () {
      var b = 0 > l - 1 ? k.length - 1 : l - 1;
      return a.$currentTransition ? void 0 : j.select(k[b], 'prev');
    }, a.isActive = function (a) {
      return j.currentSlide === a;
    }, a.$watch('interval', e), a.$on('$destroy', f), a.play = function () {
      i || (i = !0, e());
    }, a.pause = function () {
      a.noPause || (i = !1, f());
    }, j.addSlide = function (b, c) {
      b.$element = c, k.push(b), 1 === k.length || b.active ? (j.select(k[k.length - 1]), 1 == k.length && a.play()) : b.active = !1;
    }, j.removeSlide = function (a) {
      var b = k.indexOf(a);
      k.splice(b, 1), k.length > 0 && a.active ? j.select(b >= k.length ? k[b - 1] : k[b]) : l > b && l--;
    };
  }
]).directive('carousel', [function () {
    return {
      restrict: 'EA',
      transclude: !0,
      replace: !0,
      controller: 'CarouselController',
      require: 'carousel',
      templateUrl: 'template/carousel/carousel.html',
      scope: {
        interval: '=',
        noTransition: '=',
        noPause: '='
      }
    };
  }]).directive('slide', function () {
  return {
    require: '^carousel',
    restrict: 'EA',
    transclude: !0,
    replace: !0,
    templateUrl: 'template/carousel/slide.html',
    scope: { active: '=?' },
    link: function (a, b, c, d) {
      d.addSlide(a, b), a.$on('$destroy', function () {
        d.removeSlide(a);
      }), a.$watch('active', function (b) {
        b && d.select(a);
      });
    }
  };
}), angular.module('ui.bootstrap.dateparser', []).service('dateParser', [
  '$locale',
  'orderByFilter',
  function (a, b) {
    function c(a) {
      var c = [], d = a.split('');
      return angular.forEach(e, function (b, e) {
        var f = a.indexOf(e);
        if (f > -1) {
          a = a.split(''), d[f] = '(' + b.regex + ')', a[f] = '$';
          for (var g = f + 1, h = f + e.length; h > g; g++)
            d[g] = '', a[g] = '$';
          a = a.join(''), c.push({
            index: f,
            apply: b.apply
          });
        }
      }), {
        regex: new RegExp('^' + d.join('') + '$'),
        map: b(c, 'index')
      };
    }
    function d(a, b, c) {
      return 1 === b && c > 28 ? 29 === c && (a % 4 === 0 && a % 100 !== 0 || a % 400 === 0) : 3 === b || 5 === b || 8 === b || 10 === b ? 31 > c : !0;
    }
    this.parsers = {};
    var e = {
        yyyy: {
          regex: '\\d{4}',
          apply: function (a) {
            this.year = +a;
          }
        },
        yy: {
          regex: '\\d{2}',
          apply: function (a) {
            this.year = +a + 2000;
          }
        },
        y: {
          regex: '\\d{1,4}',
          apply: function (a) {
            this.year = +a;
          }
        },
        MMMM: {
          regex: a.DATETIME_FORMATS.MONTH.join('|'),
          apply: function (b) {
            this.month = a.DATETIME_FORMATS.MONTH.indexOf(b);
          }
        },
        MMM: {
          regex: a.DATETIME_FORMATS.SHORTMONTH.join('|'),
          apply: function (b) {
            this.month = a.DATETIME_FORMATS.SHORTMONTH.indexOf(b);
          }
        },
        MM: {
          regex: '0[1-9]|1[0-2]',
          apply: function (a) {
            this.month = a - 1;
          }
        },
        M: {
          regex: '[1-9]|1[0-2]',
          apply: function (a) {
            this.month = a - 1;
          }
        },
        dd: {
          regex: '[0-2][0-9]{1}|3[0-1]{1}',
          apply: function (a) {
            this.date = +a;
          }
        },
        d: {
          regex: '[1-2]?[0-9]{1}|3[0-1]{1}',
          apply: function (a) {
            this.date = +a;
          }
        },
        EEEE: { regex: a.DATETIME_FORMATS.DAY.join('|') },
        EEE: { regex: a.DATETIME_FORMATS.SHORTDAY.join('|') }
      };
    this.parse = function (b, e) {
      if (!angular.isString(b) || !e)
        return b;
      e = a.DATETIME_FORMATS[e] || e, this.parsers[e] || (this.parsers[e] = c(e));
      var f = this.parsers[e], g = f.regex, h = f.map, i = b.match(g);
      if (i && i.length) {
        for (var j, k = {
              year: 1900,
              month: 0,
              date: 1,
              hours: 0
            }, l = 1, m = i.length; m > l; l++) {
          var n = h[l - 1];
          n.apply && n.apply.call(k, i[l]);
        }
        return d(k.year, k.month, k.date) && (j = new Date(k.year, k.month, k.date, k.hours)), j;
      }
    };
  }
]), angular.module('ui.bootstrap.position', []).factory('$position', [
  '$document',
  '$window',
  function (a, b) {
    function c(a, c) {
      return a.currentStyle ? a.currentStyle[c] : b.getComputedStyle ? b.getComputedStyle(a)[c] : a.style[c];
    }
    function d(a) {
      return 'static' === (c(a, 'position') || 'static');
    }
    var e = function (b) {
      for (var c = a[0], e = b.offsetParent || c; e && e !== c && d(e);)
        e = e.offsetParent;
      return e || c;
    };
    return {
      position: function (b) {
        var c = this.offset(b), d = {
            top: 0,
            left: 0
          }, f = e(b[0]);
        f != a[0] && (d = this.offset(angular.element(f)), d.top += f.clientTop - f.scrollTop, d.left += f.clientLeft - f.scrollLeft);
        var g = b[0].getBoundingClientRect();
        return {
          width: g.width || b.prop('offsetWidth'),
          height: g.height || b.prop('offsetHeight'),
          top: c.top - d.top,
          left: c.left - d.left
        };
      },
      offset: function (c) {
        var d = c[0].getBoundingClientRect();
        return {
          width: d.width || c.prop('offsetWidth'),
          height: d.height || c.prop('offsetHeight'),
          top: d.top + (b.pageYOffset || a[0].documentElement.scrollTop),
          left: d.left + (b.pageXOffset || a[0].documentElement.scrollLeft)
        };
      },
      positionElements: function (a, b, c, d) {
        var e, f, g, h, i = c.split('-'), j = i[0], k = i[1] || 'center';
        e = d ? this.offset(a) : this.position(a), f = b.prop('offsetWidth'), g = b.prop('offsetHeight');
        var l = {
            center: function () {
              return e.left + e.width / 2 - f / 2;
            },
            left: function () {
              return e.left;
            },
            right: function () {
              return e.left + e.width;
            }
          }, m = {
            center: function () {
              return e.top + e.height / 2 - g / 2;
            },
            top: function () {
              return e.top;
            },
            bottom: function () {
              return e.top + e.height;
            }
          };
        switch (j) {
        case 'right':
          h = {
            top: m[k](),
            left: l[j]()
          };
          break;
        case 'left':
          h = {
            top: m[k](),
            left: e.left - f
          };
          break;
        case 'bottom':
          h = {
            top: m[j](),
            left: l[k]()
          };
          break;
        default:
          h = {
            top: e.top - g,
            left: l[k]()
          };
        }
        return h;
      }
    };
  }
]), angular.module('ui.bootstrap.datepicker', [
  'ui.bootstrap.dateparser',
  'ui.bootstrap.position'
]).constant('datepickerConfig', {
  formatDay: 'dd',
  formatMonth: 'MMMM',
  formatYear: 'yyyy',
  formatDayHeader: 'EEE',
  formatDayTitle: 'MMMM yyyy',
  formatMonthTitle: 'yyyy',
  datepickerMode: 'day',
  minMode: 'day',
  maxMode: 'year',
  showWeeks: !0,
  startingDay: 0,
  yearRange: 20,
  minDate: null,
  maxDate: null
}).controller('DatepickerController', [
  '$scope',
  '$attrs',
  '$parse',
  '$interpolate',
  '$timeout',
  '$log',
  'dateFilter',
  'datepickerConfig',
  function (a, b, c, d, e, f, g, h) {
    var i = this, j = { $setViewValue: angular.noop };
    this.modes = [
      'day',
      'month',
      'year'
    ], angular.forEach([
      'formatDay',
      'formatMonth',
      'formatYear',
      'formatDayHeader',
      'formatDayTitle',
      'formatMonthTitle',
      'minMode',
      'maxMode',
      'showWeeks',
      'startingDay',
      'yearRange'
    ], function (c, e) {
      i[c] = angular.isDefined(b[c]) ? 8 > e ? d(b[c])(a.$parent) : a.$parent.$eval(b[c]) : h[c];
    }), angular.forEach([
      'minDate',
      'maxDate'
    ], function (d) {
      b[d] ? a.$parent.$watch(c(b[d]), function (a) {
        i[d] = a ? new Date(a) : null, i.refreshView();
      }) : i[d] = h[d] ? new Date(h[d]) : null;
    }), a.datepickerMode = a.datepickerMode || h.datepickerMode, a.uniqueId = 'datepicker-' + a.$id + '-' + Math.floor(10000 * Math.random()), this.activeDate = angular.isDefined(b.initDate) ? a.$parent.$eval(b.initDate) : new Date(), a.isActive = function (b) {
      return 0 === i.compare(b.date, i.activeDate) ? (a.activeDateId = b.uid, !0) : !1;
    }, this.init = function (a) {
      j = a, j.$render = function () {
        i.render();
      };
    }, this.render = function () {
      if (j.$modelValue) {
        var a = new Date(j.$modelValue), b = !isNaN(a);
        b ? this.activeDate = a : f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'), j.$setValidity('date', b);
      }
      this.refreshView();
    }, this.refreshView = function () {
      if (this.element) {
        this._refreshView();
        var a = j.$modelValue ? new Date(j.$modelValue) : null;
        j.$setValidity('date-disabled', !a || this.element && !this.isDisabled(a));
      }
    }, this.createDateObject = function (a, b) {
      var c = j.$modelValue ? new Date(j.$modelValue) : null;
      return {
        date: a,
        label: g(a, b),
        selected: c && 0 === this.compare(a, c),
        disabled: this.isDisabled(a),
        current: 0 === this.compare(a, new Date())
      };
    }, this.isDisabled = function (c) {
      return this.minDate && this.compare(c, this.minDate) < 0 || this.maxDate && this.compare(c, this.maxDate) > 0 || b.dateDisabled && a.dateDisabled({
        date: c,
        mode: a.datepickerMode
      });
    }, this.split = function (a, b) {
      for (var c = []; a.length > 0;)
        c.push(a.splice(0, b));
      return c;
    }, a.select = function (b) {
      if (a.datepickerMode === i.minMode) {
        var c = j.$modelValue ? new Date(j.$modelValue) : new Date(0, 0, 0, 0, 0, 0, 0);
        c.setFullYear(b.getFullYear(), b.getMonth(), b.getDate()), j.$setViewValue(c), j.$render();
      } else
        i.activeDate = b, a.datepickerMode = i.modes[i.modes.indexOf(a.datepickerMode) - 1];
    }, a.move = function (a) {
      var b = i.activeDate.getFullYear() + a * (i.step.years || 0), c = i.activeDate.getMonth() + a * (i.step.months || 0);
      i.activeDate.setFullYear(b, c, 1), i.refreshView();
    }, a.toggleMode = function (b) {
      b = b || 1, a.datepickerMode === i.maxMode && 1 === b || a.datepickerMode === i.minMode && -1 === b || (a.datepickerMode = i.modes[i.modes.indexOf(a.datepickerMode) + b]);
    }, a.keys = {
      13: 'enter',
      32: 'space',
      33: 'pageup',
      34: 'pagedown',
      35: 'end',
      36: 'home',
      37: 'left',
      38: 'up',
      39: 'right',
      40: 'down'
    };
    var k = function () {
      e(function () {
        i.element[0].focus();
      }, 0, !1);
    };
    a.$on('datepicker.focus', k), a.keydown = function (b) {
      var c = a.keys[b.which];
      if (c && !b.shiftKey && !b.altKey)
        if (b.preventDefault(), b.stopPropagation(), 'enter' === c || 'space' === c) {
          if (i.isDisabled(i.activeDate))
            return;
          a.select(i.activeDate), k();
        } else
          !b.ctrlKey || 'up' !== c && 'down' !== c ? (i.handleKeyDown(c, b), i.refreshView()) : (a.toggleMode('up' === c ? 1 : -1), k());
    };
  }
]).directive('datepicker', function () {
  return {
    restrict: 'EA',
    replace: !0,
    templateUrl: 'template/datepicker/datepicker.html',
    scope: {
      datepickerMode: '=?',
      dateDisabled: '&'
    },
    require: [
      'datepicker',
      '?^ngModel'
    ],
    controller: 'DatepickerController',
    link: function (a, b, c, d) {
      var e = d[0], f = d[1];
      f && e.init(f);
    }
  };
}).directive('daypicker', [
  'dateFilter',
  function (a) {
    return {
      restrict: 'EA',
      replace: !0,
      templateUrl: 'template/datepicker/day.html',
      require: '^datepicker',
      link: function (b, c, d, e) {
        function f(a, b) {
          return 1 !== b || a % 4 !== 0 || a % 100 === 0 && a % 400 !== 0 ? i[b] : 29;
        }
        function g(a, b) {
          var c = new Array(b), d = new Date(a), e = 0;
          for (d.setHours(12); b > e;)
            c[e++] = new Date(d), d.setDate(d.getDate() + 1);
          return c;
        }
        function h(a) {
          var b = new Date(a);
          b.setDate(b.getDate() + 4 - (b.getDay() || 7));
          var c = b.getTime();
          return b.setMonth(0), b.setDate(1), Math.floor(Math.round((c - b) / 86400000) / 7) + 1;
        }
        b.showWeeks = e.showWeeks, e.step = { months: 1 }, e.element = c;
        var i = [
            31,
            28,
            31,
            30,
            31,
            30,
            31,
            31,
            30,
            31,
            30,
            31
          ];
        e._refreshView = function () {
          var c = e.activeDate.getFullYear(), d = e.activeDate.getMonth(), f = new Date(c, d, 1), i = e.startingDay - f.getDay(), j = i > 0 ? 7 - i : -i, k = new Date(f);
          j > 0 && k.setDate(-j + 1);
          for (var l = g(k, 42), m = 0; 42 > m; m++)
            l[m] = angular.extend(e.createDateObject(l[m], e.formatDay), {
              secondary: l[m].getMonth() !== d,
              uid: b.uniqueId + '-' + m
            });
          b.labels = new Array(7);
          for (var n = 0; 7 > n; n++)
            b.labels[n] = {
              abbr: a(l[n].date, e.formatDayHeader),
              full: a(l[n].date, 'EEEE')
            };
          if (b.title = a(e.activeDate, e.formatDayTitle), b.rows = e.split(l, 7), b.showWeeks) {
            b.weekNumbers = [];
            for (var o = h(b.rows[0][0].date), p = b.rows.length; b.weekNumbers.push(o++) < p;);
          }
        }, e.compare = function (a, b) {
          return new Date(a.getFullYear(), a.getMonth(), a.getDate()) - new Date(b.getFullYear(), b.getMonth(), b.getDate());
        }, e.handleKeyDown = function (a) {
          var b = e.activeDate.getDate();
          if ('left' === a)
            b -= 1;
          else if ('up' === a)
            b -= 7;
          else if ('right' === a)
            b += 1;
          else if ('down' === a)
            b += 7;
          else if ('pageup' === a || 'pagedown' === a) {
            var c = e.activeDate.getMonth() + ('pageup' === a ? -1 : 1);
            e.activeDate.setMonth(c, 1), b = Math.min(f(e.activeDate.getFullYear(), e.activeDate.getMonth()), b);
          } else
            'home' === a ? b = 1 : 'end' === a && (b = f(e.activeDate.getFullYear(), e.activeDate.getMonth()));
          e.activeDate.setDate(b);
        }, e.refreshView();
      }
    };
  }
]).directive('monthpicker', [
  'dateFilter',
  function (a) {
    return {
      restrict: 'EA',
      replace: !0,
      templateUrl: 'template/datepicker/month.html',
      require: '^datepicker',
      link: function (b, c, d, e) {
        e.step = { years: 1 }, e.element = c, e._refreshView = function () {
          for (var c = new Array(12), d = e.activeDate.getFullYear(), f = 0; 12 > f; f++)
            c[f] = angular.extend(e.createDateObject(new Date(d, f, 1), e.formatMonth), { uid: b.uniqueId + '-' + f });
          b.title = a(e.activeDate, e.formatMonthTitle), b.rows = e.split(c, 3);
        }, e.compare = function (a, b) {
          return new Date(a.getFullYear(), a.getMonth()) - new Date(b.getFullYear(), b.getMonth());
        }, e.handleKeyDown = function (a) {
          var b = e.activeDate.getMonth();
          if ('left' === a)
            b -= 1;
          else if ('up' === a)
            b -= 3;
          else if ('right' === a)
            b += 1;
          else if ('down' === a)
            b += 3;
          else if ('pageup' === a || 'pagedown' === a) {
            var c = e.activeDate.getFullYear() + ('pageup' === a ? -1 : 1);
            e.activeDate.setFullYear(c);
          } else
            'home' === a ? b = 0 : 'end' === a && (b = 11);
          e.activeDate.setMonth(b);
        }, e.refreshView();
      }
    };
  }
]).directive('yearpicker', [
  'dateFilter',
  function () {
    return {
      restrict: 'EA',
      replace: !0,
      templateUrl: 'template/datepicker/year.html',
      require: '^datepicker',
      link: function (a, b, c, d) {
        function e(a) {
          return parseInt((a - 1) / f, 10) * f + 1;
        }
        var f = d.yearRange;
        d.step = { years: f }, d.element = b, d._refreshView = function () {
          for (var b = new Array(f), c = 0, g = e(d.activeDate.getFullYear()); f > c; c++)
            b[c] = angular.extend(d.createDateObject(new Date(g + c, 0, 1), d.formatYear), { uid: a.uniqueId + '-' + c });
          a.title = [
            b[0].label,
            b[f - 1].label
          ].join(' - '), a.rows = d.split(b, 5);
        }, d.compare = function (a, b) {
          return a.getFullYear() - b.getFullYear();
        }, d.handleKeyDown = function (a) {
          var b = d.activeDate.getFullYear();
          'left' === a ? b -= 1 : 'up' === a ? b -= 5 : 'right' === a ? b += 1 : 'down' === a ? b += 5 : 'pageup' === a || 'pagedown' === a ? b += ('pageup' === a ? -1 : 1) * d.step.years : 'home' === a ? b = e(d.activeDate.getFullYear()) : 'end' === a && (b = e(d.activeDate.getFullYear()) + f - 1), d.activeDate.setFullYear(b);
        }, d.refreshView();
      }
    };
  }
]).constant('datepickerPopupConfig', {
  datepickerPopup: 'yyyy-MM-dd',
  currentText: 'Today',
  clearText: 'Clear',
  closeText: 'Done',
  closeOnDateSelection: !0,
  appendToBody: !1,
  showButtonBar: !0
}).directive('datepickerPopup', [
  '$compile',
  '$parse',
  '$document',
  '$position',
  'dateFilter',
  'dateParser',
  'datepickerPopupConfig',
  function (a, b, c, d, e, f, g) {
    return {
      restrict: 'EA',
      require: 'ngModel',
      scope: {
        isOpen: '=?',
        currentText: '@',
        clearText: '@',
        closeText: '@',
        dateDisabled: '&'
      },
      link: function (h, i, j, k) {
        function l(a) {
          return a.replace(/([A-Z])/g, function (a) {
            return '-' + a.toLowerCase();
          });
        }
        function m(a) {
          if (a) {
            if (angular.isDate(a) && !isNaN(a))
              return k.$setValidity('date', !0), a;
            if (angular.isString(a)) {
              var b = f.parse(a, n) || new Date(a);
              return isNaN(b) ? void k.$setValidity('date', !1) : (k.$setValidity('date', !0), b);
            }
            return void k.$setValidity('date', !1);
          }
          return k.$setValidity('date', !0), null;
        }
        var n, o = angular.isDefined(j.closeOnDateSelection) ? h.$parent.$eval(j.closeOnDateSelection) : g.closeOnDateSelection, p = angular.isDefined(j.datepickerAppendToBody) ? h.$parent.$eval(j.datepickerAppendToBody) : g.appendToBody;
        h.showButtonBar = angular.isDefined(j.showButtonBar) ? h.$parent.$eval(j.showButtonBar) : g.showButtonBar, h.getText = function (a) {
          return h[a + 'Text'] || g[a + 'Text'];
        }, j.$observe('datepickerPopup', function (a) {
          n = a || g.datepickerPopup, k.$render();
        });
        var q = angular.element('<div datepicker-popup-wrap><div datepicker></div></div>');
        q.attr({
          'ng-model': 'date',
          'ng-change': 'dateSelection()'
        });
        var r = angular.element(q.children()[0]);
        j.datepickerOptions && angular.forEach(h.$parent.$eval(j.datepickerOptions), function (a, b) {
          r.attr(l(b), a);
        }), h.watchData = {}, angular.forEach([
          'minDate',
          'maxDate',
          'datepickerMode'
        ], function (a) {
          if (j[a]) {
            var c = b(j[a]);
            if (h.$parent.$watch(c, function (b) {
                h.watchData[a] = b;
              }), r.attr(l(a), 'watchData.' + a), 'datepickerMode' === a) {
              var d = c.assign;
              h.$watch('watchData.' + a, function (a, b) {
                a !== b && d(h.$parent, a);
              });
            }
          }
        }), j.dateDisabled && r.attr('date-disabled', 'dateDisabled({ date: date, mode: mode })'), k.$parsers.unshift(m), h.dateSelection = function (a) {
          angular.isDefined(a) && (h.date = a), k.$setViewValue(h.date), k.$render(), o && (h.isOpen = !1, i[0].focus());
        }, i.bind('input change keyup', function () {
          h.$apply(function () {
            h.date = k.$modelValue;
          });
        }), k.$render = function () {
          var a = k.$viewValue ? e(k.$viewValue, n) : '';
          i.val(a), h.date = m(k.$modelValue);
        };
        var s = function (a) {
            h.isOpen && a.target !== i[0] && h.$apply(function () {
              h.isOpen = !1;
            });
          }, t = function (a) {
            h.keydown(a);
          };
        i.bind('keydown', t), h.keydown = function (a) {
          27 === a.which ? (a.preventDefault(), a.stopPropagation(), h.close()) : 40 !== a.which || h.isOpen || (h.isOpen = !0);
        }, h.$watch('isOpen', function (a) {
          a ? (h.$broadcast('datepicker.focus'), h.position = p ? d.offset(i) : d.position(i), h.position.top = h.position.top + i.prop('offsetHeight'), c.bind('click', s)) : c.unbind('click', s);
        }), h.select = function (a) {
          if ('today' === a) {
            var b = new Date();
            angular.isDate(k.$modelValue) ? (a = new Date(k.$modelValue), a.setFullYear(b.getFullYear(), b.getMonth(), b.getDate())) : a = new Date(b.setHours(0, 0, 0, 0));
          }
          h.dateSelection(a);
        }, h.close = function () {
          h.isOpen = !1, i[0].focus();
        };
        var u = a(q)(h);
        q.remove(), p ? c.find('body').append(u) : i.after(u), h.$on('$destroy', function () {
          u.remove(), i.unbind('keydown', t), c.unbind('click', s);
        });
      }
    };
  }
]).directive('datepickerPopupWrap', function () {
  return {
    restrict: 'EA',
    replace: !0,
    transclude: !0,
    templateUrl: 'template/datepicker/popup.html',
    link: function (a, b) {
      b.bind('click', function (a) {
        a.preventDefault(), a.stopPropagation();
      });
    }
  };
}), angular.module('ui.bootstrap.dropdown', []).constant('dropdownConfig', { openClass: 'open' }).service('dropdownService', [
  '$document',
  function (a) {
    var b = null;
    this.open = function (e) {
      b || (a.bind('click', c), a.bind('keydown', d)), b && b !== e && (b.isOpen = !1), b = e;
    }, this.close = function (e) {
      b === e && (b = null, a.unbind('click', c), a.unbind('keydown', d));
    };
    var c = function (a) {
        if (b) {
          var c = b.getToggleElement();
          a && c && c[0].contains(a.target) || b.$apply(function () {
            b.isOpen = !1;
          });
        }
      }, d = function (a) {
        27 === a.which && (b.focusToggleElement(), c());
      };
  }
]).controller('DropdownController', [
  '$scope',
  '$attrs',
  '$parse',
  'dropdownConfig',
  'dropdownService',
  '$animate',
  function (a, b, c, d, e, f) {
    var g, h = this, i = a.$new(), j = d.openClass, k = angular.noop, l = b.onToggle ? c(b.onToggle) : angular.noop;
    this.init = function (d) {
      h.$element = d, b.isOpen && (g = c(b.isOpen), k = g.assign, a.$watch(g, function (a) {
        i.isOpen = !!a;
      }));
    }, this.toggle = function (a) {
      return i.isOpen = arguments.length ? !!a : !i.isOpen;
    }, this.isOpen = function () {
      return i.isOpen;
    }, i.getToggleElement = function () {
      return h.toggleElement;
    }, i.focusToggleElement = function () {
      h.toggleElement && h.toggleElement[0].focus();
    }, i.$watch('isOpen', function (b, c) {
      f[b ? 'addClass' : 'removeClass'](h.$element, j), b ? (i.focusToggleElement(), e.open(i)) : e.close(i), k(a, b), angular.isDefined(b) && b !== c && l(a, { open: !!b });
    }), a.$on('$locationChangeSuccess', function () {
      i.isOpen = !1;
    }), a.$on('$destroy', function () {
      i.$destroy();
    });
  }
]).directive('dropdown', function () {
  return {
    controller: 'DropdownController',
    link: function (a, b, c, d) {
      d.init(b);
    }
  };
}).directive('dropdownToggle', function () {
  return {
    require: '?^dropdown',
    link: function (a, b, c, d) {
      if (d) {
        d.toggleElement = b;
        var e = function (e) {
          e.preventDefault(), b.hasClass('disabled') || c.disabled || a.$apply(function () {
            d.toggle();
          });
        };
        b.bind('click', e), b.attr({
          'aria-haspopup': !0,
          'aria-expanded': !1
        }), a.$watch(d.isOpen, function (a) {
          b.attr('aria-expanded', !!a);
        }), a.$on('$destroy', function () {
          b.unbind('click', e);
        });
      }
    }
  };
}), angular.module('ui.bootstrap.modal', ['ui.bootstrap.transition']).factory('$$stackedMap', function () {
  return {
    createNew: function () {
      var a = [];
      return {
        add: function (b, c) {
          a.push({
            key: b,
            value: c
          });
        },
        get: function (b) {
          for (var c = 0; c < a.length; c++)
            if (b == a[c].key)
              return a[c];
        },
        keys: function () {
          for (var b = [], c = 0; c < a.length; c++)
            b.push(a[c].key);
          return b;
        },
        top: function () {
          return a[a.length - 1];
        },
        remove: function (b) {
          for (var c = -1, d = 0; d < a.length; d++)
            if (b == a[d].key) {
              c = d;
              break;
            }
          return a.splice(c, 1)[0];
        },
        removeTop: function () {
          return a.splice(a.length - 1, 1)[0];
        },
        length: function () {
          return a.length;
        }
      };
    }
  };
}).directive('modalBackdrop', [
  '$timeout',
  function (a) {
    return {
      restrict: 'EA',
      replace: !0,
      templateUrl: 'template/modal/backdrop.html',
      link: function (b, c, d) {
        b.backdropClass = d.backdropClass || '', b.animate = !1, a(function () {
          b.animate = !0;
        });
      }
    };
  }
]).directive('modalWindow', [
  '$modalStack',
  '$timeout',
  function (a, b) {
    return {
      restrict: 'EA',
      scope: {
        index: '@',
        animate: '='
      },
      replace: !0,
      transclude: !0,
      templateUrl: function (a, b) {
        return b.templateUrl || 'template/modal/window.html';
      },
      link: function (c, d, e) {
        d.addClass(e.windowClass || ''), c.size = e.size, b(function () {
          c.animate = !0, d[0].querySelectorAll('[autofocus]').length || d[0].focus();
        }), c.close = function (b) {
          var c = a.getTop();
          c && c.value.backdrop && 'static' != c.value.backdrop && b.target === b.currentTarget && (b.preventDefault(), b.stopPropagation(), a.dismiss(c.key, 'backdrop click'));
        };
      }
    };
  }
]).directive('modalTransclude', function () {
  return {
    link: function (a, b, c, d, e) {
      e(a.$parent, function (a) {
        b.empty(), b.append(a);
      });
    }
  };
}).factory('$modalStack', [
  '$transition',
  '$timeout',
  '$document',
  '$compile',
  '$rootScope',
  '$$stackedMap',
  function (a, b, c, d, e, f) {
    function g() {
      for (var a = -1, b = n.keys(), c = 0; c < b.length; c++)
        n.get(b[c]).value.backdrop && (a = c);
      return a;
    }
    function h(a) {
      var b = c.find('body').eq(0), d = n.get(a).value;
      n.remove(a), j(d.modalDomEl, d.modalScope, 300, function () {
        d.modalScope.$destroy(), b.toggleClass(m, n.length() > 0), i();
      });
    }
    function i() {
      if (k && -1 == g()) {
        var a = l;
        j(k, l, 150, function () {
          a.$destroy(), a = null;
        }), k = void 0, l = void 0;
      }
    }
    function j(c, d, e, f) {
      function g() {
        g.done || (g.done = !0, c.remove(), f && f());
      }
      d.animate = !1;
      var h = a.transitionEndEventName;
      if (h) {
        var i = b(g, e);
        c.bind(h, function () {
          b.cancel(i), g(), d.$apply();
        });
      } else
        b(g);
    }
    var k, l, m = 'modal-open', n = f.createNew(), o = {};
    return e.$watch(g, function (a) {
      l && (l.index = a);
    }), c.bind('keydown', function (a) {
      var b;
      27 === a.which && (b = n.top(), b && b.value.keyboard && (a.preventDefault(), e.$apply(function () {
        o.dismiss(b.key, 'escape key press');
      })));
    }), o.open = function (a, b) {
      n.add(a, {
        deferred: b.deferred,
        modalScope: b.scope,
        backdrop: b.backdrop,
        keyboard: b.keyboard
      });
      var f = c.find('body').eq(0), h = g();
      if (h >= 0 && !k) {
        l = e.$new(!0), l.index = h;
        var i = angular.element('<div modal-backdrop></div>');
        i.attr('backdrop-class', b.backdropClass), k = d(i)(l), f.append(k);
      }
      var j = angular.element('<div modal-window></div>');
      j.attr({
        'template-url': b.windowTemplateUrl,
        'window-class': b.windowClass,
        size: b.size,
        index: n.length() - 1,
        animate: 'animate'
      }).html(b.content);
      var o = d(j)(b.scope);
      n.top().value.modalDomEl = o, f.append(o), f.addClass(m);
    }, o.close = function (a, b) {
      var c = n.get(a);
      c && (c.value.deferred.resolve(b), h(a));
    }, o.dismiss = function (a, b) {
      var c = n.get(a);
      c && (c.value.deferred.reject(b), h(a));
    }, o.dismissAll = function (a) {
      for (var b = this.getTop(); b;)
        this.dismiss(b.key, a), b = this.getTop();
    }, o.getTop = function () {
      return n.top();
    }, o;
  }
]).provider('$modal', function () {
  var a = {
      options: {
        backdrop: !0,
        keyboard: !0
      },
      $get: [
        '$injector',
        '$rootScope',
        '$q',
        '$http',
        '$templateCache',
        '$controller',
        '$modalStack',
        function (b, c, d, e, f, g, h) {
          function i(a) {
            return a.template ? d.when(a.template) : e.get(angular.isFunction(a.templateUrl) ? a.templateUrl() : a.templateUrl, { cache: f }).then(function (a) {
              return a.data;
            });
          }
          function j(a) {
            var c = [];
            return angular.forEach(a, function (a) {
              (angular.isFunction(a) || angular.isArray(a)) && c.push(d.when(b.invoke(a)));
            }), c;
          }
          var k = {};
          return k.open = function (b) {
            var e = d.defer(), f = d.defer(), k = {
                result: e.promise,
                opened: f.promise,
                close: function (a) {
                  h.close(k, a);
                },
                dismiss: function (a) {
                  h.dismiss(k, a);
                }
              };
            if (b = angular.extend({}, a.options, b), b.resolve = b.resolve || {}, !b.template && !b.templateUrl)
              throw new Error('One of template or templateUrl options is required.');
            var l = d.all([i(b)].concat(j(b.resolve)));
            return l.then(function (a) {
              var d = (b.scope || c).$new();
              d.$close = k.close, d.$dismiss = k.dismiss;
              var f, i = {}, j = 1;
              b.controller && (i.$scope = d, i.$modalInstance = k, angular.forEach(b.resolve, function (b, c) {
                i[c] = a[j++];
              }), f = g(b.controller, i), b.controllerAs && (d[b.controllerAs] = f)), h.open(k, {
                scope: d,
                deferred: e,
                content: a[0],
                backdrop: b.backdrop,
                keyboard: b.keyboard,
                backdropClass: b.backdropClass,
                windowClass: b.windowClass,
                windowTemplateUrl: b.windowTemplateUrl,
                size: b.size
              });
            }, function (a) {
              e.reject(a);
            }), l.then(function () {
              f.resolve(!0);
            }, function () {
              f.reject(!1);
            }), k;
          }, k;
        }
      ]
    };
  return a;
}), angular.module('ui.bootstrap.pagination', []).controller('PaginationController', [
  '$scope',
  '$attrs',
  '$parse',
  function (a, b, c) {
    var d = this, e = { $setViewValue: angular.noop }, f = b.numPages ? c(b.numPages).assign : angular.noop;
    this.init = function (f, g) {
      e = f, this.config = g, e.$render = function () {
        d.render();
      }, b.itemsPerPage ? a.$parent.$watch(c(b.itemsPerPage), function (b) {
        d.itemsPerPage = parseInt(b, 10), a.totalPages = d.calculateTotalPages();
      }) : this.itemsPerPage = g.itemsPerPage;
    }, this.calculateTotalPages = function () {
      var b = this.itemsPerPage < 1 ? 1 : Math.ceil(a.totalItems / this.itemsPerPage);
      return Math.max(b || 0, 1);
    }, this.render = function () {
      a.page = parseInt(e.$viewValue, 10) || 1;
    }, a.selectPage = function (b) {
      a.page !== b && b > 0 && b <= a.totalPages && (e.$setViewValue(b), e.$render());
    }, a.getText = function (b) {
      return a[b + 'Text'] || d.config[b + 'Text'];
    }, a.noPrevious = function () {
      return 1 === a.page;
    }, a.noNext = function () {
      return a.page === a.totalPages;
    }, a.$watch('totalItems', function () {
      a.totalPages = d.calculateTotalPages();
    }), a.$watch('totalPages', function (b) {
      f(a.$parent, b), a.page > b ? a.selectPage(b) : e.$render();
    });
  }
]).constant('paginationConfig', {
  itemsPerPage: 10,
  boundaryLinks: !1,
  directionLinks: !0,
  firstText: 'First',
  previousText: 'Previous',
  nextText: 'Next',
  lastText: 'Last',
  rotate: !0
}).directive('pagination', [
  '$parse',
  'paginationConfig',
  function (a, b) {
    return {
      restrict: 'EA',
      scope: {
        totalItems: '=',
        firstText: '@',
        previousText: '@',
        nextText: '@',
        lastText: '@'
      },
      require: [
        'pagination',
        '?ngModel'
      ],
      controller: 'PaginationController',
      templateUrl: 'template/pagination/pagination.html',
      replace: !0,
      link: function (c, d, e, f) {
        function g(a, b, c) {
          return {
            number: a,
            text: b,
            active: c
          };
        }
        function h(a, b) {
          var c = [], d = 1, e = b, f = angular.isDefined(k) && b > k;
          f && (l ? (d = Math.max(a - Math.floor(k / 2), 1), e = d + k - 1, e > b && (e = b, d = e - k + 1)) : (d = (Math.ceil(a / k) - 1) * k + 1, e = Math.min(d + k - 1, b)));
          for (var h = d; e >= h; h++) {
            var i = g(h, h, h === a);
            c.push(i);
          }
          if (f && !l) {
            if (d > 1) {
              var j = g(d - 1, '...', !1);
              c.unshift(j);
            }
            if (b > e) {
              var m = g(e + 1, '...', !1);
              c.push(m);
            }
          }
          return c;
        }
        var i = f[0], j = f[1];
        if (j) {
          var k = angular.isDefined(e.maxSize) ? c.$parent.$eval(e.maxSize) : b.maxSize, l = angular.isDefined(e.rotate) ? c.$parent.$eval(e.rotate) : b.rotate;
          c.boundaryLinks = angular.isDefined(e.boundaryLinks) ? c.$parent.$eval(e.boundaryLinks) : b.boundaryLinks, c.directionLinks = angular.isDefined(e.directionLinks) ? c.$parent.$eval(e.directionLinks) : b.directionLinks, i.init(j, b), e.maxSize && c.$parent.$watch(a(e.maxSize), function (a) {
            k = parseInt(a, 10), i.render();
          });
          var m = i.render;
          i.render = function () {
            m(), c.page > 0 && c.page <= c.totalPages && (c.pages = h(c.page, c.totalPages));
          };
        }
      }
    };
  }
]).constant('pagerConfig', {
  itemsPerPage: 10,
  previousText: '\xab Previous',
  nextText: 'Next \xbb',
  align: !0
}).directive('pager', [
  'pagerConfig',
  function (a) {
    return {
      restrict: 'EA',
      scope: {
        totalItems: '=',
        previousText: '@',
        nextText: '@'
      },
      require: [
        'pager',
        '?ngModel'
      ],
      controller: 'PaginationController',
      templateUrl: 'template/pagination/pager.html',
      replace: !0,
      link: function (b, c, d, e) {
        var f = e[0], g = e[1];
        g && (b.align = angular.isDefined(d.align) ? b.$parent.$eval(d.align) : a.align, f.init(g, a));
      }
    };
  }
]), angular.module('ui.bootstrap.tooltip', [
  'ui.bootstrap.position',
  'ui.bootstrap.bindHtml'
]).provider('$tooltip', function () {
  function a(a) {
    var b = /[A-Z]/g, c = '-';
    return a.replace(b, function (a, b) {
      return (b ? c : '') + a.toLowerCase();
    });
  }
  var b = {
      placement: 'top',
      animation: !0,
      popupDelay: 0
    }, c = {
      mouseenter: 'mouseleave',
      click: 'click',
      focus: 'blur'
    }, d = {};
  this.options = function (a) {
    angular.extend(d, a);
  }, this.setTriggers = function (a) {
    angular.extend(c, a);
  }, this.$get = [
    '$window',
    '$compile',
    '$timeout',
    '$document',
    '$position',
    '$interpolate',
    function (e, f, g, h, i, j) {
      return function (e, k, l) {
        function m(a) {
          var b = a || n.trigger || l, d = c[b] || b;
          return {
            show: b,
            hide: d
          };
        }
        var n = angular.extend({}, b, d), o = a(e), p = j.startSymbol(), q = j.endSymbol(), r = '<div ' + o + '-popup title="' + p + 'title' + q + '" content="' + p + 'content' + q + '" placement="' + p + 'placement' + q + '" animation="animation" is-open="isOpen"></div>';
        return {
          restrict: 'EA',
          compile: function () {
            var a = f(r);
            return function (b, c, d) {
              function f() {
                D.isOpen ? l() : j();
              }
              function j() {
                (!C || b.$eval(d[k + 'Enable'])) && (s(), D.popupDelay ? z || (z = g(o, D.popupDelay, !1), z.then(function (a) {
                  a();
                })) : o()());
              }
              function l() {
                b.$apply(function () {
                  p();
                });
              }
              function o() {
                return z = null, y && (g.cancel(y), y = null), D.content ? (q(), w.css({
                  top: 0,
                  left: 0,
                  display: 'block'
                }), A ? h.find('body').append(w) : c.after(w), E(), D.isOpen = !0, D.$digest(), E) : angular.noop;
              }
              function p() {
                D.isOpen = !1, g.cancel(z), z = null, D.animation ? y || (y = g(r, 500)) : r();
              }
              function q() {
                w && r(), x = D.$new(), w = a(x, angular.noop);
              }
              function r() {
                y = null, w && (w.remove(), w = null), x && (x.$destroy(), x = null);
              }
              function s() {
                t(), u();
              }
              function t() {
                var a = d[k + 'Placement'];
                D.placement = angular.isDefined(a) ? a : n.placement;
              }
              function u() {
                var a = d[k + 'PopupDelay'], b = parseInt(a, 10);
                D.popupDelay = isNaN(b) ? n.popupDelay : b;
              }
              function v() {
                var a = d[k + 'Trigger'];
                F(), B = m(a), B.show === B.hide ? c.bind(B.show, f) : (c.bind(B.show, j), c.bind(B.hide, l));
              }
              var w, x, y, z, A = angular.isDefined(n.appendToBody) ? n.appendToBody : !1, B = m(void 0), C = angular.isDefined(d[k + 'Enable']), D = b.$new(!0), E = function () {
                  var a = i.positionElements(c, w, D.placement, A);
                  a.top += 'px', a.left += 'px', w.css(a);
                };
              D.isOpen = !1, d.$observe(e, function (a) {
                D.content = a, !a && D.isOpen && p();
              }), d.$observe(k + 'Title', function (a) {
                D.title = a;
              });
              var F = function () {
                c.unbind(B.show, j), c.unbind(B.hide, l);
              };
              v();
              var G = b.$eval(d[k + 'Animation']);
              D.animation = angular.isDefined(G) ? !!G : n.animation;
              var H = b.$eval(d[k + 'AppendToBody']);
              A = angular.isDefined(H) ? H : A, A && b.$on('$locationChangeSuccess', function () {
                D.isOpen && p();
              }), b.$on('$destroy', function () {
                g.cancel(y), g.cancel(z), F(), r(), D = null;
              });
            };
          }
        };
      };
    }
  ];
}).directive('tooltipPopup', function () {
  return {
    restrict: 'EA',
    replace: !0,
    scope: {
      content: '@',
      placement: '@',
      animation: '&',
      isOpen: '&'
    },
    templateUrl: 'template/tooltip/tooltip-popup.html'
  };
}).directive('tooltip', [
  '$tooltip',
  function (a) {
    return a('tooltip', 'tooltip', 'mouseenter');
  }
]).directive('tooltipHtmlUnsafePopup', function () {
  return {
    restrict: 'EA',
    replace: !0,
    scope: {
      content: '@',
      placement: '@',
      animation: '&',
      isOpen: '&'
    },
    templateUrl: 'template/tooltip/tooltip-html-unsafe-popup.html'
  };
}).directive('tooltipHtmlUnsafe', [
  '$tooltip',
  function (a) {
    return a('tooltipHtmlUnsafe', 'tooltip', 'mouseenter');
  }
]), angular.module('ui.bootstrap.popover', ['ui.bootstrap.tooltip']).directive('popoverPopup', function () {
  return {
    restrict: 'EA',
    replace: !0,
    scope: {
      title: '@',
      content: '@',
      placement: '@',
      animation: '&',
      isOpen: '&'
    },
    templateUrl: 'template/popover/popover.html'
  };
}).directive('popover', [
  '$tooltip',
  function (a) {
    return a('popover', 'popover', 'click');
  }
]), angular.module('ui.bootstrap.progressbar', []).constant('progressConfig', {
  animate: !0,
  max: 100
}).controller('ProgressController', [
  '$scope',
  '$attrs',
  'progressConfig',
  function (a, b, c) {
    var d = this, e = angular.isDefined(b.animate) ? a.$parent.$eval(b.animate) : c.animate;
    this.bars = [], a.max = angular.isDefined(b.max) ? a.$parent.$eval(b.max) : c.max, this.addBar = function (b, c) {
      e || c.css({ transition: 'none' }), this.bars.push(b), b.$watch('value', function (c) {
        b.percent = +(100 * c / a.max).toFixed(2);
      }), b.$on('$destroy', function () {
        c = null, d.removeBar(b);
      });
    }, this.removeBar = function (a) {
      this.bars.splice(this.bars.indexOf(a), 1);
    };
  }
]).directive('progress', function () {
  return {
    restrict: 'EA',
    replace: !0,
    transclude: !0,
    controller: 'ProgressController',
    require: 'progress',
    scope: {},
    templateUrl: 'template/progressbar/progress.html'
  };
}).directive('bar', function () {
  return {
    restrict: 'EA',
    replace: !0,
    transclude: !0,
    require: '^progress',
    scope: {
      value: '=',
      type: '@'
    },
    templateUrl: 'template/progressbar/bar.html',
    link: function (a, b, c, d) {
      d.addBar(a, b);
    }
  };
}).directive('progressbar', function () {
  return {
    restrict: 'EA',
    replace: !0,
    transclude: !0,
    controller: 'ProgressController',
    scope: {
      value: '=',
      type: '@'
    },
    templateUrl: 'template/progressbar/progressbar.html',
    link: function (a, b, c, d) {
      d.addBar(a, angular.element(b.children()[0]));
    }
  };
}), angular.module('ui.bootstrap.rating', []).constant('ratingConfig', {
  max: 5,
  stateOn: null,
  stateOff: null
}).controller('RatingController', [
  '$scope',
  '$attrs',
  'ratingConfig',
  function (a, b, c) {
    var d = { $setViewValue: angular.noop };
    this.init = function (e) {
      d = e, d.$render = this.render, this.stateOn = angular.isDefined(b.stateOn) ? a.$parent.$eval(b.stateOn) : c.stateOn, this.stateOff = angular.isDefined(b.stateOff) ? a.$parent.$eval(b.stateOff) : c.stateOff;
      var f = angular.isDefined(b.ratingStates) ? a.$parent.$eval(b.ratingStates) : new Array(angular.isDefined(b.max) ? a.$parent.$eval(b.max) : c.max);
      a.range = this.buildTemplateObjects(f);
    }, this.buildTemplateObjects = function (a) {
      for (var b = 0, c = a.length; c > b; b++)
        a[b] = angular.extend({ index: b }, {
          stateOn: this.stateOn,
          stateOff: this.stateOff
        }, a[b]);
      return a;
    }, a.rate = function (b) {
      !a.readonly && b >= 0 && b <= a.range.length && (d.$setViewValue(b), d.$render());
    }, a.enter = function (b) {
      a.readonly || (a.value = b), a.onHover({ value: b });
    }, a.reset = function () {
      a.value = d.$viewValue, a.onLeave();
    }, a.onKeydown = function (b) {
      /(37|38|39|40)/.test(b.which) && (b.preventDefault(), b.stopPropagation(), a.rate(a.value + (38 === b.which || 39 === b.which ? 1 : -1)));
    }, this.render = function () {
      a.value = d.$viewValue;
    };
  }
]).directive('rating', function () {
  return {
    restrict: 'EA',
    require: [
      'rating',
      'ngModel'
    ],
    scope: {
      readonly: '=?',
      onHover: '&',
      onLeave: '&'
    },
    controller: 'RatingController',
    templateUrl: 'template/rating/rating.html',
    replace: !0,
    link: function (a, b, c, d) {
      var e = d[0], f = d[1];
      f && e.init(f);
    }
  };
}), angular.module('ui.bootstrap.tabs', []).controller('TabsetController', [
  '$scope',
  function (a) {
    var b = this, c = b.tabs = a.tabs = [];
    b.select = function (a) {
      angular.forEach(c, function (b) {
        b.active && b !== a && (b.active = !1, b.onDeselect());
      }), a.active = !0, a.onSelect();
    }, b.addTab = function (a) {
      c.push(a), 1 === c.length ? a.active = !0 : a.active && b.select(a);
    }, b.removeTab = function (a) {
      var e = c.indexOf(a);
      if (a.active && c.length > 1 && !d) {
        var f = e == c.length - 1 ? e - 1 : e + 1;
        b.select(c[f]);
      }
      c.splice(e, 1);
    };
    var d;
    a.$on('$destroy', function () {
      d = !0;
    });
  }
]).directive('tabset', function () {
  return {
    restrict: 'EA',
    transclude: !0,
    replace: !0,
    scope: { type: '@' },
    controller: 'TabsetController',
    templateUrl: 'template/tabs/tabset.html',
    link: function (a, b, c) {
      a.vertical = angular.isDefined(c.vertical) ? a.$parent.$eval(c.vertical) : !1, a.justified = angular.isDefined(c.justified) ? a.$parent.$eval(c.justified) : !1;
    }
  };
}).directive('tab', [
  '$parse',
  function (a) {
    return {
      require: '^tabset',
      restrict: 'EA',
      replace: !0,
      templateUrl: 'template/tabs/tab.html',
      transclude: !0,
      scope: {
        active: '=?',
        heading: '@',
        onSelect: '&select',
        onDeselect: '&deselect'
      },
      controller: function () {
      },
      compile: function (b, c, d) {
        return function (b, c, e, f) {
          b.$watch('active', function (a) {
            a && f.select(b);
          }), b.disabled = !1, e.disabled && b.$parent.$watch(a(e.disabled), function (a) {
            b.disabled = !!a;
          }), b.select = function () {
            b.disabled || (b.active = !0);
          }, f.addTab(b), b.$on('$destroy', function () {
            f.removeTab(b);
          }), b.$transcludeFn = d;
        };
      }
    };
  }
]).directive('tabHeadingTransclude', [function () {
    return {
      restrict: 'A',
      require: '^tab',
      link: function (a, b) {
        a.$watch('headingElement', function (a) {
          a && (b.html(''), b.append(a));
        });
      }
    };
  }]).directive('tabContentTransclude', function () {
  function a(a) {
    return a.tagName && (a.hasAttribute('tab-heading') || a.hasAttribute('data-tab-heading') || 'tab-heading' === a.tagName.toLowerCase() || 'data-tab-heading' === a.tagName.toLowerCase());
  }
  return {
    restrict: 'A',
    require: '^tabset',
    link: function (b, c, d) {
      var e = b.$eval(d.tabContentTransclude);
      e.$transcludeFn(e.$parent, function (b) {
        angular.forEach(b, function (b) {
          a(b) ? e.headingElement = b : c.append(b);
        });
      });
    }
  };
}), angular.module('ui.bootstrap.timepicker', []).constant('timepickerConfig', {
  hourStep: 1,
  minuteStep: 1,
  showMeridian: !0,
  meridians: null,
  readonlyInput: !1,
  mousewheel: !0
}).controller('TimepickerController', [
  '$scope',
  '$attrs',
  '$parse',
  '$log',
  '$locale',
  'timepickerConfig',
  function (a, b, c, d, e, f) {
    function g() {
      var b = parseInt(a.hours, 10), c = a.showMeridian ? b > 0 && 13 > b : b >= 0 && 24 > b;
      return c ? (a.showMeridian && (12 === b && (b = 0), a.meridian === p[1] && (b += 12)), b) : void 0;
    }
    function h() {
      var b = parseInt(a.minutes, 10);
      return b >= 0 && 60 > b ? b : void 0;
    }
    function i(a) {
      return angular.isDefined(a) && a.toString().length < 2 ? '0' + a : a;
    }
    function j(a) {
      k(), o.$setViewValue(new Date(n)), l(a);
    }
    function k() {
      o.$setValidity('time', !0), a.invalidHours = !1, a.invalidMinutes = !1;
    }
    function l(b) {
      var c = n.getHours(), d = n.getMinutes();
      a.showMeridian && (c = 0 === c || 12 === c ? 12 : c % 12), a.hours = 'h' === b ? c : i(c), a.minutes = 'm' === b ? d : i(d), a.meridian = n.getHours() < 12 ? p[0] : p[1];
    }
    function m(a) {
      var b = new Date(n.getTime() + 60000 * a);
      n.setHours(b.getHours(), b.getMinutes()), j();
    }
    var n = new Date(), o = { $setViewValue: angular.noop }, p = angular.isDefined(b.meridians) ? a.$parent.$eval(b.meridians) : f.meridians || e.DATETIME_FORMATS.AMPMS;
    this.init = function (c, d) {
      o = c, o.$render = this.render;
      var e = d.eq(0), g = d.eq(1), h = angular.isDefined(b.mousewheel) ? a.$parent.$eval(b.mousewheel) : f.mousewheel;
      h && this.setupMousewheelEvents(e, g), a.readonlyInput = angular.isDefined(b.readonlyInput) ? a.$parent.$eval(b.readonlyInput) : f.readonlyInput, this.setupInputEvents(e, g);
    };
    var q = f.hourStep;
    b.hourStep && a.$parent.$watch(c(b.hourStep), function (a) {
      q = parseInt(a, 10);
    });
    var r = f.minuteStep;
    b.minuteStep && a.$parent.$watch(c(b.minuteStep), function (a) {
      r = parseInt(a, 10);
    }), a.showMeridian = f.showMeridian, b.showMeridian && a.$parent.$watch(c(b.showMeridian), function (b) {
      if (a.showMeridian = !!b, o.$error.time) {
        var c = g(), d = h();
        angular.isDefined(c) && angular.isDefined(d) && (n.setHours(c), j());
      } else
        l();
    }), this.setupMousewheelEvents = function (b, c) {
      var d = function (a) {
        a.originalEvent && (a = a.originalEvent);
        var b = a.wheelDelta ? a.wheelDelta : -a.deltaY;
        return a.detail || b > 0;
      };
      b.bind('mousewheel wheel', function (b) {
        a.$apply(d(b) ? a.incrementHours() : a.decrementHours()), b.preventDefault();
      }), c.bind('mousewheel wheel', function (b) {
        a.$apply(d(b) ? a.incrementMinutes() : a.decrementMinutes()), b.preventDefault();
      });
    }, this.setupInputEvents = function (b, c) {
      if (a.readonlyInput)
        return a.updateHours = angular.noop, void (a.updateMinutes = angular.noop);
      var d = function (b, c) {
        o.$setViewValue(null), o.$setValidity('time', !1), angular.isDefined(b) && (a.invalidHours = b), angular.isDefined(c) && (a.invalidMinutes = c);
      };
      a.updateHours = function () {
        var a = g();
        angular.isDefined(a) ? (n.setHours(a), j('h')) : d(!0);
      }, b.bind('blur', function () {
        !a.invalidHours && a.hours < 10 && a.$apply(function () {
          a.hours = i(a.hours);
        });
      }), a.updateMinutes = function () {
        var a = h();
        angular.isDefined(a) ? (n.setMinutes(a), j('m')) : d(void 0, !0);
      }, c.bind('blur', function () {
        !a.invalidMinutes && a.minutes < 10 && a.$apply(function () {
          a.minutes = i(a.minutes);
        });
      });
    }, this.render = function () {
      var a = o.$modelValue ? new Date(o.$modelValue) : null;
      isNaN(a) ? (o.$setValidity('time', !1), d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')) : (a && (n = a), k(), l());
    }, a.incrementHours = function () {
      m(60 * q);
    }, a.decrementHours = function () {
      m(60 * -q);
    }, a.incrementMinutes = function () {
      m(r);
    }, a.decrementMinutes = function () {
      m(-r);
    }, a.toggleMeridian = function () {
      m(720 * (n.getHours() < 12 ? 1 : -1));
    };
  }
]).directive('timepicker', function () {
  return {
    restrict: 'EA',
    require: [
      'timepicker',
      '?^ngModel'
    ],
    controller: 'TimepickerController',
    replace: !0,
    scope: {},
    templateUrl: 'template/timepicker/timepicker.html',
    link: function (a, b, c, d) {
      var e = d[0], f = d[1];
      f && e.init(f, b.find('input'));
    }
  };
}), angular.module('ui.bootstrap.typeahead', [
  'ui.bootstrap.position',
  'ui.bootstrap.bindHtml'
]).factory('typeaheadParser', [
  '$parse',
  function (a) {
    var b = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;
    return {
      parse: function (c) {
        var d = c.match(b);
        if (!d)
          throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "' + c + '".');
        return {
          itemName: d[3],
          source: a(d[4]),
          viewMapper: a(d[2] || d[1]),
          modelMapper: a(d[1])
        };
      }
    };
  }
]).directive('typeahead', [
  '$compile',
  '$parse',
  '$q',
  '$timeout',
  '$document',
  '$position',
  'typeaheadParser',
  function (a, b, c, d, e, f, g) {
    var h = [
        9,
        13,
        27,
        38,
        40
      ];
    return {
      require: 'ngModel',
      link: function (i, j, k, l) {
        var m, n = i.$eval(k.typeaheadMinLength) || 1, o = i.$eval(k.typeaheadWaitMs) || 0, p = i.$eval(k.typeaheadEditable) !== !1, q = b(k.typeaheadLoading).assign || angular.noop, r = b(k.typeaheadOnSelect), s = k.typeaheadInputFormatter ? b(k.typeaheadInputFormatter) : void 0, t = k.typeaheadAppendToBody ? i.$eval(k.typeaheadAppendToBody) : !1, u = i.$eval(k.typeaheadFocusFirst) !== !1, v = b(k.ngModel).assign, w = g.parse(k.typeahead), x = i.$new();
        i.$on('$destroy', function () {
          x.$destroy();
        });
        var y = 'typeahead-' + x.$id + '-' + Math.floor(10000 * Math.random());
        j.attr({
          'aria-autocomplete': 'list',
          'aria-expanded': !1,
          'aria-owns': y
        });
        var z = angular.element('<div typeahead-popup></div>');
        z.attr({
          id: y,
          matches: 'matches',
          active: 'activeIdx',
          select: 'select(activeIdx)',
          query: 'query',
          position: 'position'
        }), angular.isDefined(k.typeaheadTemplateUrl) && z.attr('template-url', k.typeaheadTemplateUrl);
        var A = function () {
            x.matches = [], x.activeIdx = -1, j.attr('aria-expanded', !1);
          }, B = function (a) {
            return y + '-option-' + a;
          };
        x.$watch('activeIdx', function (a) {
          0 > a ? j.removeAttr('aria-activedescendant') : j.attr('aria-activedescendant', B(a));
        });
        var C = function (a) {
          var b = { $viewValue: a };
          q(i, !0), c.when(w.source(i, b)).then(function (c) {
            var d = a === l.$viewValue;
            if (d && m)
              if (c.length > 0) {
                x.activeIdx = u ? 0 : -1, x.matches.length = 0;
                for (var e = 0; e < c.length; e++)
                  b[w.itemName] = c[e], x.matches.push({
                    id: B(e),
                    label: w.viewMapper(x, b),
                    model: c[e]
                  });
                x.query = a, x.position = t ? f.offset(j) : f.position(j), x.position.top = x.position.top + j.prop('offsetHeight'), j.attr('aria-expanded', !0);
              } else
                A();
            d && q(i, !1);
          }, function () {
            A(), q(i, !1);
          });
        };
        A(), x.query = void 0;
        var D, E = function (a) {
            D = d(function () {
              C(a);
            }, o);
          }, F = function () {
            D && d.cancel(D);
          };
        l.$parsers.unshift(function (a) {
          return m = !0, a && a.length >= n ? o > 0 ? (F(), E(a)) : C(a) : (q(i, !1), F(), A()), p ? a : a ? void l.$setValidity('editable', !1) : (l.$setValidity('editable', !0), a);
        }), l.$formatters.push(function (a) {
          var b, c, d = {};
          return s ? (d.$model = a, s(i, d)) : (d[w.itemName] = a, b = w.viewMapper(i, d), d[w.itemName] = void 0, c = w.viewMapper(i, d), b !== c ? b : a);
        }), x.select = function (a) {
          var b, c, e = {};
          e[w.itemName] = c = x.matches[a].model, b = w.modelMapper(i, e), v(i, b), l.$setValidity('editable', !0), r(i, {
            $item: c,
            $model: b,
            $label: w.viewMapper(i, e)
          }), A(), d(function () {
            j[0].focus();
          }, 0, !1);
        }, j.bind('keydown', function (a) {
          0 !== x.matches.length && -1 !== h.indexOf(a.which) && (-1 != x.activeIdx || 13 !== a.which && 9 !== a.which) && (a.preventDefault(), 40 === a.which ? (x.activeIdx = (x.activeIdx + 1) % x.matches.length, x.$digest()) : 38 === a.which ? (x.activeIdx = (x.activeIdx > 0 ? x.activeIdx : x.matches.length) - 1, x.$digest()) : 13 === a.which || 9 === a.which ? x.$apply(function () {
            x.select(x.activeIdx);
          }) : 27 === a.which && (a.stopPropagation(), A(), x.$digest()));
        }), j.bind('blur', function () {
          m = !1;
        });
        var G = function (a) {
          j[0] !== a.target && (A(), x.$digest());
        };
        e.bind('click', G), i.$on('$destroy', function () {
          e.unbind('click', G), t && H.remove();
        });
        var H = a(z)(x);
        t ? e.find('body').append(H) : j.after(H);
      }
    };
  }
]).directive('typeaheadPopup', function () {
  return {
    restrict: 'EA',
    scope: {
      matches: '=',
      query: '=',
      active: '=',
      position: '=',
      select: '&'
    },
    replace: !0,
    templateUrl: 'template/typeahead/typeahead-popup.html',
    link: function (a, b, c) {
      a.templateUrl = c.templateUrl, a.isOpen = function () {
        return a.matches.length > 0;
      }, a.isActive = function (b) {
        return a.active == b;
      }, a.selectActive = function (b) {
        a.active = b;
      }, a.selectMatch = function (b) {
        a.select({ activeIdx: b });
      };
    }
  };
}).directive('typeaheadMatch', [
  '$http',
  '$templateCache',
  '$compile',
  '$parse',
  function (a, b, c, d) {
    return {
      restrict: 'EA',
      scope: {
        index: '=',
        match: '=',
        query: '='
      },
      link: function (e, f, g) {
        var h = d(g.templateUrl)(e.$parent) || 'template/typeahead/typeahead-match.html';
        a.get(h, { cache: b }).success(function (a) {
          f.replaceWith(c(a.trim())(e));
        });
      }
    };
  }
]).filter('typeaheadHighlight', function () {
  function a(a) {
    return a.replace(/([.?*+^$[\]\\(){}|-])/g, '\\$1');
  }
  return function (b, c) {
    return c ? ('' + b).replace(new RegExp(a(c), 'gi'), '<strong>$&</strong>') : b;
  };
}), angular.module('template/accordion/accordion-group.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/accordion/accordion-group.html', '<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n');
  }
]), angular.module('template/accordion/accordion.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/accordion/accordion.html', '<div class="panel-group" ng-transclude></div>');
  }
]), angular.module('template/alert/alert.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/alert/alert.html', '<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n');
  }
]), angular.module('template/carousel/carousel.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/carousel/carousel.html', '<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n');
  }
]), angular.module('template/carousel/slide.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/carousel/slide.html', '<div ng-class="{\n    \'active\': leaving || (active && !entering),\n    \'prev\': (next || active) && direction==\'prev\',\n    \'next\': (next || active) && direction==\'next\',\n    \'right\': direction==\'prev\',\n    \'left\': direction==\'next\'\n  }" class="item text-center" ng-transclude></div>\n');
  }
]), angular.module('template/datepicker/datepicker.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/datepicker/datepicker.html', '<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>');
  }
]), angular.module('template/datepicker/day.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/datepicker/day.html', '<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n');
  }
]), angular.module('template/datepicker/month.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/datepicker/month.html', '<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n');
  }
]), angular.module('template/datepicker/popup.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/datepicker/popup.html', '<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n');
  }
]), angular.module('template/datepicker/year.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/datepicker/year.html', '<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n');
  }
]), angular.module('template/modal/backdrop.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/modal/backdrop.html', '<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n');
  }
]), angular.module('template/modal/window.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/modal/window.html', '<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>');
  }
]), angular.module('template/pagination/pager.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/pagination/pager.html', '<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>');
  }
]), angular.module('template/pagination/pagination.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/pagination/pagination.html', '<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>');
  }
]), angular.module('template/tooltip/tooltip-html-unsafe-popup.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/tooltip/tooltip-html-unsafe-popup.html', '<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n');
  }
]), angular.module('template/tooltip/tooltip-popup.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/tooltip/tooltip-popup.html', '<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n');
  }
]), angular.module('template/popover/popover.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/popover/popover.html', '<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n');
  }
]), angular.module('template/progressbar/bar.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/progressbar/bar.html', '<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>');
  }
]), angular.module('template/progressbar/progress.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/progressbar/progress.html', '<div class="progress" ng-transclude></div>');
  }
]), angular.module('template/progressbar/progressbar.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/progressbar/progressbar.html', '<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>');
  }
]), angular.module('template/rating/rating.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/rating/rating.html', '<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>');
  }
]), angular.module('template/tabs/tab.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/tabs/tab.html', '<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n');
  }
]), angular.module('template/tabs/tabset.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/tabs/tabset.html', '<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n');
  }
]), angular.module('template/timepicker/timepicker.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/timepicker/timepicker.html', '<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td>:</td>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n\t\t</tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t</tbody>\n</table>\n');
  }
]), angular.module('template/typeahead/typeahead-match.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/typeahead/typeahead-match.html', '<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>');
  }
]), angular.module('template/typeahead/typeahead-popup.html', []).run([
  '$templateCache',
  function (a) {
    a.put('template/typeahead/typeahead-popup.html', '<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n');
  }
]);